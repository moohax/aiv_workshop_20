PsGet.psm1,65316daf4ff44e69bf12f14c0d4816c4,Scan result is 1. IsMalware: 0,PCMKLlNZTk9QU0lTCiAgICBQb3dlclNoZWxsIG1vZHVsZSBpbnN0YWxsYXRpb24gc3R1ZmYuCiAgICBVUkw6IGh0dHBzOi8vZ2l0aHViLmNvbS9wc2dldC9wc2dldAogICAgQmFzZWQgb24gaHR0cDovL3Bvc2hjb2RlLm9yZy8xODc1IEluc3RhbGwtTW9kdWxlIGJ5IEpvZWwgQmVubmV0dAojPgojcmVxdWlyZXMgLVZlcnNpb24gMi4wCgojcmVnaW9uIFNldHVwCgpXcml0ZS1EZWJ1ZyAnU2V0IHVwIHRoZSBnbG9iYWwgc2NvcGUgY29uZmlnIHZhcmlhYmxlcy4nCmlmIChbRW52aXJvbm1lbnRdOjpHZXRGb2xkZXJQYXRoKCdNeURvY3VtZW50cycpKSB7CiAgICAkZ2xvYmFsOlVzZXJNb2R1bGVCYXNlUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAoW0Vudmlyb25tZW50XTo6R2V0Rm9sZGVyUGF0aCgnTXlEb2N1bWVudHMnKSkgLUNoaWxkUGF0aCAnV2luZG93c1Bvd2VyU2hlbGxcTW9kdWxlcycKfQplbHNlIHsKICAgICMgU3VwcG9ydCBzY2VuYXJpb3Mgd2hlcmUgUFNHZXQgaXMgcnVubmluZyB3aXRob3V0IGEgTXlEb2N1bWVudHMgc3BlY2lhbCBmb2xkZXIgKGUuZy4gZXhlY3V0aW5nIHdpdGhpbiBhIERTQyByZXNvdXJjZSkKICAgICRnbG9iYWw6VXNlck1vZHVsZUJhc2VQYXRoID0gSm9pbi1QYXRoIC1QYXRoICRlbnY6UHJvZ3JhbUZpbGVzIC1DaGlsZFBhdGggJ1dpbmRvd3NQb3dlclNoZWxsXE1vZHVsZXMnCn0KCiMgTk9URTogUGF0aCBjaGFuZ2VkIHRvIGFsaWduIHdpdGggY3VycmVudCBNUyBjb252ZW50aW9ucwokZ2xvYmFsOkNvbW1vbkdsb2JhbE1vZHVsZUJhc2VQYXRoID0gSm9pbi1QYXRoIC1QYXRoICRlbnY6UHJvZ3JhbUZpbGVzIC1DaGlsZFBhdGggJ1dpbmRvd3NQb3dlclNoZWxsXE1vZHVsZXMnCgppZiAoLW5vdCAoVGVzdC1QYXRoIC1QYXRoOnZhcmlhYmxlOmdsb2JhbDpQc0dldERpcmVjdG9yeVVybCkpIHsKICAgICRnbG9iYWw6UHNHZXREaXJlY3RvcnlVcmwgPSAnaHR0cHM6Ly9naXRodWIuY29tL3BzZ2V0L3BzZ2V0L3Jhdy9tYXN0ZXIvRGlyZWN0b3J5LnhtbCcKfQojIE5PVEU6ICRnbG9iYWw6UHNHZXREZXN0aW5hdGlvbk1vZHVsZVBhdGggaXMgdXNlZCBieSBJbnN0YWxsLU1vZHVsZSBhcyBjb25maWd1cmF0aW9uIGlmIHNldCBieSB1c2VyLgoKV3JpdGUtRGVidWcgJ1NldCB1cCBuZWVkZWQgY29uc3RhbnRzLicKU2V0LVZhcmlhYmxlIC1OYW1lIFBTR0VUX1pJUCAtVmFsdWUgJ1pJUCcgLU9wdGlvbiBDb25zdGFudCAtU2NvcGUgU2NyaXB0ClNldC1WYXJpYWJsZSAtTmFtZSBQU0dFVF9QU00xIC1WYWx1ZSAnUFNNMScgLU9wdGlvbiBDb25zdGFudCAtU2NvcGUgU2NyaXB0ClNldC1WYXJpYWJsZSAtTmFtZSBQU0dFVF9QU0QxIC1WYWx1ZSAnUFNEMScgLU9wdGlvbiBDb25zdGFudCAtU2NvcGUgU2NyaXB0CgojZW5kcmVnaW9uCgojcmVnaW9uIEV4cG9ydGVkIENtZGxldHMKCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBJbnN0YWxscyBQb3dlclNoZWxsIG1vZHVsZXMgZnJvbSBhIHZhcmlldHkgb2Ygc291cmNlcyBpbmNsdWRpbmc6IE51Z2V0LCBQc0dldCBtb2R1bGUgZGlyZWN0b3J5LCBsb2NhbCBkaXJlY3RvcnksIHppcHBlZCBmb2xkZXIgYW5kIHdlYiBVUkwuCgogICAgLkRFU0NSSVBUSU9OCiAgICAgICAgU3VwcG9ydHMgaW5zdGFsbGluZyBtb2R1bGVzIGZvciB0aGUgY3VycmVudCB1c2VyIG9yIGFsbCB1c2VycyAoaWYgZWxldmF0ZWQpLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlCiAgICAgICAgTmFtZSBvZiB0aGUgbW9kdWxlIHRvIGluc3RhbGwuCgogICAgLlBBUkFNRVRFUiBNb2R1bGVVcmwKICAgICAgICBVUkwgdG8gdGhlIG1vZHVsZSB0byBpbnN0YWxsOyBDYW4gYmUgZGlyZWN0IGxpbmsgdG8gUFNNMSBmaWxlIG9yIFpJUCBmaWxlLiBDYW4gYmUgYSBzaG9ydGVuZWQgbGluay4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZVBhdGgKICAgICAgICBMb2NhbCBwYXRoIHRvIHRoZSBtb2R1bGUgdG8gaW5zdGFsbC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZU5hbWUKICAgICAgIEluIGNvbnRleHQgd2l0aCAtTW9kdWxlVXJsIG9yIC1Nb2R1bGVQYXRoIGl0IGlzIG5vdCBhbHdheXMgcG9zc2libGUgdG8gaW50ZXJmZXJlIHRoZSByaWdodCBNb2R1bGVOYW1lLCBlZy4gdGhlIGZpbGVuYW1lIGlzIHVua25vd24gb3IgdGhlIHppcCBhcmNoaXZlIGNvbnRhaW5zIG11bHRpcGxlIG1vZHVsZXMuCgogICAgLlBBUkFNRVRFUiBUeXBlCiAgICAgICAgV2hlbiBNb2R1bGVVcmwgb3IgTW9kdWxlUGF0aCBzcGVjaWZpZWQsIGFsbG93cyBzcGVjaWZ5aW5nIHR5cGUgb2YgdGhlIHBhY2thZ2UuIENhbiBiZSBaSVAgb3IgUFNNMS4KCiAgICAuUEFSQU1FVEVSIE51R2V0UGFja2FnZUlkCiAgICAgICAgTnVHZXQgcGFja2FnZSBuYW1lIGNvbnRhaW5pbmcgdGhlIG1vZHVsZSB0byBpbnN0YWxsLgoKICAgIC5QQVJBTUVURVIgUGFja2FnZVZlcnNpb24KICAgICAgICBBbGxvd3MgYSBzcGVjaWZpYyB2ZXJzaW9uIG9mIHRoZSBzcGVjaWZpZWQgTnVHZXQgcGFja2FnZSB0byB1c2VkLCBpZiBub3Qgc3BlY2lmaWVkIHRoZW4gdGhlIGxhdGVzdCBzdGFibGUgdmVyc2lvbiB3aWxsIGJlIHVzZWQuCgogICAgLlBBUkFNRVRFUiBOdWdldFNvdXJjZQogICAgICAgIFVSTCB0byB0aGUgTnVHZXQgZmVlZCBjb250YWluaW5nIHRoZSBwYWNrYWdlLgoKICAgIC5QQVJBTUVURVIgUHJlUmVsZWFzZQogICAgICAgIElmIFBhY2thZ2VWZXJzaW9uIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gdGhpcyBzd2l0Y2ggYWxsb3dzIHRoZSBsYXRlc3QgcHJlcmVsZWFzZSBwYWNrYWdlIHRvIGJlIHVzZWQuCgogICAgLlBBUkFNRVRFUiBQcmVSZWxlYXNlVGFnCiAgICAgICAgSWYgUGFja2FnZVZlcnNpb24gaXMgbm90IHNwZWNpZmllZCwgdGhlbiB0aGlzIHBhcmFtZXRlciBhbGxvd3MgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIGEgcGFydGljdWxhciBwcmVyZWxlYXNlIHRhZyB0byBiZSB1c2VkCgogICAgLlBBUkFNRVRFUiBEZXN0aW5hdGlvbgogICAgICAgIFdoZW4gc3BlY2lmaWVkIHRoZSBtb2R1bGUgd2lsbCBiZSBpbnN0YWxsZWQgYmVsb3cgdGhpcyBwYXRoLiBEZWZhdWx0cyB0byAnJGdsb2JhbDpQc0dldERlc3RpbmF0aW9uTW9kdWxlUGF0aCcgaWYgZGVmaW5lZC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZUhhc2gKICAgICAgICBXaGVuIE1vZHVsZUhhc2ggaXMgc3BlY2lmaWVkIHRoZSBjaG9zZW4gbW9kdWxlIHdpbGwgb25seSBiZSBpbnN0YWxsZWQgaWYgaXRzIGNvbnRlbnRzIG1hdGNoIHRoZSBwcm92aWRlZCBoYXNoLgoKICAgIC5QQVJBTUVURVIgR2xvYmFsCiAgICAgICAgSWYgc2V0LCBhdHRlbXB0cyB0byBpbnN0YWxsIHRoZSBtb2R1bGUgdG8gdGhlIGFsbCB1c2VycyBsb2NhdGlvbiBpbiBDOlxQcm9ncmFtIEZpbGVzXENvbW1vbiBGaWxlc1xNb2R1bGVzLi4uCgogICAgICAgIE5PVEU6IElmIHRoZSAtRGVzdGluYXRpb24gZGlyZWN0b3J5IGlzIHNwZWNpZmllZCwgdGhlbiAtR2xvYmFsIHdpbGwgb25seSBoYXZlIGFuIGVmZmVjdCBpbiBjb21iaW5hdGlvbiB3aXRoICctUGVyc2lzdEVudmlyb25tZW50Jy4gVGhpcyBpcyBhbHNvIHRoZSBjYXNlIGlmICckZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoJyBpcyBkZWZpbmVkLgoKICAgIC5QQVJBTUVURVIgRG9Ob3RJbXBvcnQKICAgICAgICBJbmRpY2F0ZXMgdGhhdCBjb21tYW5kIHNob3VsZCBub3QgaW1wb3J0IG1vZHVsZSBhZnRlciBpbnN0YWxsYXRpb24KCiAgICAuUEFSQU1FVEVSIEFkZFRvUHJvZmlsZQogICAgICAgIEFkZHMgSW1wb3J0LU1vZHVsZSBzdGF0ZW1lbnQgZm9yIGluc3RhbGxlZCBtb2R1bGUgdG8gdGhlIHByb2ZpbGUucHMxCgogICAgLlBBUkFNRVRFUiBVcGRhdGUKICAgICAgICBGb3JjZXMgbW9kdWxlIHRvIGJlIHVwZGF0ZWQKCiAgICAuUEFSQU1FVEVSIERpcmVjdG9yeVVybAogICAgICAgIFVSTCB0byBjZW50cmFsIGRpcmVjdG9yeS4gQnkgZGVmYXVsdCBpdCB1c2VzIHRoZSB2YWx1ZSBpbiB0aGUgJGdsb2JhbDpQc0dldERpcmVjdG9yeVVybCB2YXJpYWJsZQoKICAgIC5QQVJBTUVURVIgUGVyc2lzdEVudmlyb25tZW50CiAgICAgICAgSWYgdGhpcyBzd2l0Y2ggaXMgc3BlY2lmaWVkLCB0aGUgaW5zdGFsbGF0aW9uIGRlc3RpbmF0aW9uIHBhdGggd2lsbCBiZSBhZGRlZCB0byBlaXRoZXIgdGhlIFVzZXIncyBQU01vZHVsZVBhdGggZW52aXJvbm1lbnQgdmFyaWFibGUgb3IgTWFjaGluZSdzIFBTTW9kdWxlUGF0aCBlbnZpcm9ubWVudCB2YXJpYWJsZSAoaWYgLUdsb2JhbCBzcGVjaWZpZWQpCgogICAgLlBBUkFNRVRFUiBJbnN0YWxsV2l0aE1vZHVsZU5hbWUKICAgICAgICBBbGxvd3MgdG8gc3BlY2lmeSB0aGUgbmFtZSBvZiB0aGUgbW9kdWxlIGFuZCBvdmVycmlkZSB0aGUgTW9kdWxlTmFtZSBub3JtYWxseSB1c2VkLgogICAgICAgIE5PVEU6IFRoaXMgcGFyYW1ldGVyIGFsbG93cyB0byBpbnN0YWxsIGEgbW9kdWxlIGZyb20gdGhlIFBzR2V0LURpcmVjdG9yeSBtb3JlIHRoYW4gb25jZSBhbmQgUHNHZXQgZG9lcyBub3QgcmVtZW1iZXIgdGhhdCB0aGlzIG1vZHVsZSBpcyBpbnN0YWxsZWQgd2l0aCBhIGRpZmZlcmVudCBuYW1lLgoKICAgIC5QQVJBTUVURVIgRG9Ob3RQb3N0SW5zdGFsbAogICAgICAgIElmIGRlZmluZWQsIHRoZSBQb3N0SW5zdGFsbEhvb2sgaXMgbm90IGV4ZWN1dGVkLgoKICAgIC5QQVJBTUVURVIgUG9zdEluc3RhbGxIb29rCiAgICAgICAgRGVmaW5lcyB0aGUgbmFtZSBvZiBhIHNjcmlwdCBpbnNpZGUgdGhlIGluc3RhbGxlZCBtb2R1bGUgZm9sZGVyIHdoaWNoIHNob3VsZCBiZSBleGVjdXRlZCBhZnRlciBpbnN0YWxsYXRpb24uCiAgICAgICAgRGVmYXVsdDogZGVmaW5pdGlvbiBpbiBkaXJlY3RvcnkgZmlsZSBvciAnSW5zdGFsbC5wczEnCgogICAgLlBBUkFNRVRFUiBGb3JjZQogICAgICAgIE9CU09MRVRFCiAgICAgICAgQWx0ZXJuYXRpdmUgbmFtZSBmb3IgJ1VwZGF0ZScuCgogICAgLlBBUkFNRVRFUiBTdGFydHVwCiAgICAgICAgT0JTT0xFVEUKICAgICAgICBBbHRlcm5hdGl2ZSBuYW1lIGZvciAnQWRkVG9Qcm9maWxlJy4KCiAgICAuTElOSwogICAgICAgIGh0dHA6Ly9wc2dldC5uZXQKCiAgICAuRVhBTVBMRQogICAgICAgICMgSW5zdGFsbC1Nb2R1bGUgUHNDb25maWcgLURvTm90SW1wb3J0CgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBJbnN0YWxscyB0aGUgbW9kdWxlIHdpdG91dCBpbXBvcnRpbmcgaXQgdG8gdGhlIGN1cnJlbnQgc2Vzc2lvbgoKICAgIC5FWEFNUExFCiAgICAgICAgIyBJbnN0YWxsLU1vZHVsZSBQb3NoSGcgLUFkZFRvUHJvZmlsZQoKICAgICAgICBEZXNjcmlwdGlvbgogICAgICAgIC0tLS0tLS0tLS0tCiAgICAgICAgSW5zdGFsbHMgdGhlIG1vZHVsZSBhbmQgdGhlbiBhZGRzIGltcG9lciBvZiB0aGUgZ2l2ZW4gbW9kdWxlIHRvIHlvdXIgcHJvZmlsZS5wczEgZmlsZQoKICAgIC5FWEFNUExFCiAgICAgICAgIyBJbnN0YWxsLU1vZHVsZSBQc1VybAoKICAgICAgICBEZXNjcmlwdGlvbgogICAgICAgIC0tLS0tLS0tLS0tCiAgICAgICAgVGhpcyBjb21tYW5kIHdpbGwgcXVlcnkgbW9kdWxlIGluZm9ybWF0aW9uIGZyb20gY2VudHJhbCByZWdpc3RyeSBhbmQgaW5zdGFsbCByZXF1aXJlZCBzdHVmZi4KCiAgICAuRVhBTVBMRQogICAgICAgICMgSW5zdGFsbC1Nb2R1bGUgLU1vZHVsZVBhdGggLlxBdXRoZW50aWNvZGUucHNtMSAtR2xvYmFsCgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBJbnN0YWxscyB0aGUgQXV0aGVudGljb2RlIG1vZHVsZSB0byB0aGUgU3lzdGVtMzJcV2luZG93c1Bvd2VyU2hlbGxcdjEuMFxNb2R1bGVzIGZvciBhbGwgdXNlcnMgdG8gdXNlLgoKICAgIC5FWEFNUExFCiAgICAgICAgIyBJbnN0YWxsLU1vZHVsZSAtTW9kdWxlVXJsIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGFsaXkvcHN1cmwvcmF3L21hc3Rlci9Qc1VybC9Qc1VybC5wc20xCgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBJbnN0YWxscyB0aGUgUHNVcmwgbW9kdWxlIHRvIHRoZSB1c2VycyBtb2R1bGVzIGZvbGRlcgoKICAgIC5FWEFNUExFCiAgICAgICAgIyBJbnN0YWxsLU1vZHVsZSAtTW9kdWxlVXJsIGh0dHA6Ly9iaXQubHkvZTFYNEJPIC1Nb2R1bGVOYW1lICJQc1VybCIKCiAgICAgICAgRGVzY3JpcHRpb24KICAgICAgICAtLS0tLS0tLS0tLQogICAgICAgIEluc3RhbGxzIHRoZSBQc1VybCBtb2R1bGUgd2l0aCBuYW1lIHNwZWNpZmllZCwgYmVjYXVzZSBjb21tYW5kIHdpbGwgbm90IGJlIGFibGUgdG8gZ3Vlc3MgaXQKCiAgICAuRVhBTVBMRQogICAgICAgICMgSW5zdGFsbC1Nb2R1bGUgLU1vZHVsZVVybCBodHRwczovL2dpdGh1Yi5jb20vcHNnZXQvcHNnZXQvcmF3L21hc3Rlci9UZXN0TW9kdWxlcy9IZWxsb1dvcmxkLnppcAoKICAgICAgICBEZXNjcmlwdGlvbgogICAgICAgIC0tLS0tLS0tLS0tCiAgICAgICAgRG93bmxvYWRzIEhlbGxvV29ybGQgbW9kdWxlIChtb2R1bGUgY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBmaWxlKSBhbmQgaW5zdGFsbHMgaXQKCiAgICAuRVhBTVBMRQogICAgICAgICMgSW5zdGFsbC1Nb2R1bGUgLU51Z2V0UGFja2FnZUlkIFNvbWVQYWNrYWdlCgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBEb3dubG9hZHMgdGhlIGxhdGVzdCBzdGFibGUgdmVyc2lvbiBvZiB0aGUgJ1NvbWVQYWNrYWdlJyBtb2R1bGUgZnJvbSB0aGUgTnVHZXQgR2FsbGVyeQoKICAgIC5FWEFNUExFCiAgICAgICAgIyBJbnN0YWxsLU1vZHVsZSAtTnVnZXRQYWNrYWdlSWQgU29tZVBhY2thZ2UgLVBhY2thZ2VWZXJzaW9uIDEuMC4yLWJldGEKCiAgICAgICAgRGVzY3JpcHRpb24KICAgICAgICAtLS0tLS0tLS0tLQogICAgICAgIERvd25sb2FkcyB0aGUgc3BlY2lmaWVkIHZlcnNpb24gb2YgdGhlICdTb21lUGFja2FnZScgbW9kdWxlIGZyb20gdGhlIE51R2V0IEdhbGxlcnkKCiAgICAuRVhBTVBMRQogICAgICAgICMgSW5zdGFsbC1Nb2R1bGUgLU51Z2V0UGFja2FnZUlkIFNvbWVQYWNrYWdlIC1QcmVSZWxlYXNlCgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBEb3dubG9hZHMgdGhlIGxhdGVzdCBwcmUtcmVsZWFzZSB2ZXJzaW9uIG9mIHRoZSAnU29tZVBhY2thZ2UnIG1vZHVsZSBmcm9tIHRoZSBOdUdldCBHYWxsZXJ5CgogICAgLkVYQU1QTEUKICAgICAgICAjIEluc3RhbGwtTW9kdWxlIC1OdWdldFBhY2thZ2VJZCBTb21lUGFja2FnZSAtUHJlUmVsZWFzZVRhZyBiZXRhIC1OdWdldFNvdXJjZSBodHRwOi8vbXlnZXQub3JnL0YvbXlmZWVkCgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBEb3dubG9hZHMgdGhlIGxhdGVzdCAnYmV0YScgcHJlLXJlbGVhc2UgdmVyc2lvbiBvZiB0aGUgJ1NvbWVQYWNrYWdlJyBtb2R1bGUgZnJvbSBhIGN1c3RvbSBOdUdldCBmZWVkCiM+CmZ1bmN0aW9uIEluc3RhbGwtTW9kdWxlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBWYWx1ZUZyb21QaXBlbGluZT0kdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSdDZW50cmFsRGlyZWN0b3J5JyldCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlLCBNYW5kYXRvcnk9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9J1dlYicpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVVcmwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSdMb2NhbCcpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9J1dlYicpXQogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0nTG9jYWwnKV0KICAgICAgICBbU3RyaW5nXSAkTW9kdWxlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSdXZWInKV0KICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9J0xvY2FsJyldCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdaSVAnLCAnUFNNMScsICdQU0QxJywgJycpXSAjICRzY3JpcHQ6UFNHRVRfWklQLCAkc2NyaXB0OlBTR0VUX1BTTTEgb3IgJHNjcmlwdDpQU0dFVF9QU0QxCiAgICAgICAgW1N0cmluZ10gJFR5cGUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgTWFuZGF0b3J5PSR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lPSdOdUdldCcpXQogICAgICAgIFtWYWxpZGF0ZVBhdHRlcm4oJ15cdysoW18uLV1cdyspKiQnKV0gIyByZWdleCBmcm9tIE51R2V0LlBhY2thZ2VJZFZhbGlkYXRvci5faWRSZWdleAogICAgICAgIFtWYWxpZGF0ZUxlbmd0aCgxLDEwMCldICMgbWF4aW11bSBsZW5ndGggZnJvbSBOdUdldC5QYWNrYWdlSWRWYWxpZGF0b3IuTWF4UGFja2FnZUlkTGVuZ3RoCiAgICAgICAgW1N0cmluZ10gJE51R2V0UGFja2FnZUlkLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9J051R2V0JyldCiAgICAgICAgW1N0cmluZ10gJFBhY2thZ2VWZXJzaW9uLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9J051R2V0JyldCiAgICAgICAgW1N0cmluZ10gJE51Z2V0U291cmNlID0gJ2h0dHBzOi8vbnVnZXQub3JnL2FwaS92Mi8nLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIFBhcmFtZXRlclNldE5hbWU9J051R2V0JyldCiAgICAgICAgW1N3aXRjaF0gJFByZVJlbGVhc2UsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0nTnVHZXQnKV0KICAgICAgICBbU3RyaW5nXSAkUHJlUmVsZWFzZVRhZywKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRGVzdGluYXRpb24gPSAkZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVIYXNoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRHbG9iYWwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJERvTm90SW1wb3J0LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRBZGRUb1Byb2ZpbGUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJFVwZGF0ZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRGlyZWN0b3J5VXJsID0gJGdsb2JhbDpQc0dldERpcmVjdG9yeVVybCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkUGVyc2lzdEVudmlyb25tZW50LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJERvTm90UG9zdEluc3RhbGwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFBvc3RJbnN0YWxsSG9vaywKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkRm9yY2UsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJFN0YXJ0dXAKICAgICkKICAgIHByb2Nlc3MgewoKICAgICAgICBpZiAoJEZvcmNlKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0ZvcmNlIHBhcmFtZXRlciBpcyBjb25zaWRlcmVkIG9ic29sZXRlLiBQbGVhc2UgdXNlIFVwZGF0ZSBpbnN0ZWFkLicKICAgICAgICAgICAgJFVwZGF0ZSA9ICR0cnVlCiAgICAgICAgfQoKICAgICAgICBpZiAoJFN0YXJ0dXApIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnU3RhcnR1cCBwYXJhbWV0ZXIgaXMgY29uc2lkZXJlZCBvYnNvbGV0ZS4gUGxlYXNlIHVzZSBBZGRUb1Byb2ZpbGUgaW5zdGVhZC4nCiAgICAgICAgICAgICRBZGRUb1Byb2ZpbGUgPSAkdHJ1ZQogICAgICAgIH0KCiAgICAgICAgaWYgKC1ub3QgJERlc3RpbmF0aW9uKSB7CiAgICAgICAgICAgICREZXN0aW5hdGlvbiA9IGlmICgkR2xvYmFsKSB7ICRnbG9iYWw6Q29tbW9uR2xvYmFsTW9kdWxlQmFzZVBhdGggfSBlbHNlIHsgJGdsb2JhbDpVc2VyTW9kdWxlQmFzZVBhdGggfQoKICAgICAgICAgICAgI0JlY2F1c2Ugd2UgYXJlIHVzaW5nIHRoZSBkZWZhdWx0IGxvY2F0aW9uLCBhbHdheXMgZW5zdXJlIGl0IGlzIHBlcnNpc3RlZAogICAgICAgICAgICAkUGVyc2lzdEVudmlyb25tZW50ID0gJHRydWUKICAgICAgICB9CgogICAgICAgIGlmICgtbm90ICREZXN0aW5hdGlvbikgewogICAgICAgICAgICB0aHJvdyAnVGhlIGRlc3RpbmF0aW9uIHBhdGggd2FzIG5vdCBhZGRlZCB0byB0aGUgUFNNb2R1bGVQYXRoIGVudmlyb25tZW50IHZhcmlhYmxlLCBlbnN1cmUgeW91IGhhdmUgdGhlIHJpZ2h0cyB0byBtb2RpZnkgZW52aXJvbm1lbnQgdmFyaWFibGVzJwogICAgICAgIH0KCiAgICAgICAgJERlc3RpbmF0aW9uID0gQ29udmVydFRvLUNhbm9uaWNhbFBhdGggLVBhdGggJERlc3RpbmF0aW9uCgogICAgICAgIFdyaXRlLURlYnVnICJFeGVjdXRlIGluc3RhbGxhdGlvbiBmb3IgJyQoJFBTQ21kbGV0LlBhcmFtZXRlclNldE5hbWUpJyB0eXBlLiIKCiAgICAgICAgc3dpdGNoKCRQU0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lKSB7CiAgICAgICAgICAgIENlbnRyYWxEaXJlY3RvcnkgewogICAgICAgICAgICAgICAgSW5zdGFsbC1Nb2R1bGVGcm9tRGlyZWN0b3J5IC1Nb2R1bGU6JE1vZHVsZSAtRGVzdGluYXRpb246JERlc3RpbmF0aW9uIC1Nb2R1bGVIYXNoOiRNb2R1bGVIYXNoIC1HbG9iYWw6JEdsb2JhbCAtUGVyc2lzdEVudmlyb25tZW50OiRQZXJzaXN0RW52aXJvbm1lbnQgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtQWRkVG9Qcm9maWxlOiRBZGRUb1Byb2ZpbGUgLVVwZGF0ZTokVXBkYXRlIC1EaXJlY3RvcnlVcmw6JERpcmVjdG9yeVVybCAtSW5zdGFsbFdpdGhNb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURvTm90UG9zdEluc3RhbGw6JERvTm90UG9zdEluc3RhbGwgLVBvc3RJbnN0YWxsSG9vazokUG9zdEluc3RhbGxIb29rCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV2ViIHsKICAgICAgICAgICAgICAgIEluc3RhbGwtTW9kdWxlRnJvbVdlYiAtTW9kdWxlVXJsOiRNb2R1bGVVcmwgLU1vZHVsZU5hbWU6JE1vZHVsZU5hbWUgLVR5cGU6JFR5cGUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCAtR2xvYmFsOiRHbG9iYWwgLVBlcnNpc3RFbnZpcm9ubWVudDokUGVyc2lzdEVudmlyb25tZW50IC1Eb05vdEltcG9ydDokRG9Ob3RJbXBvcnQgLUFkZFRvUHJvZmlsZTokQWRkVG9Qcm9maWxlIC1VcGRhdGU6JFVwZGF0ZSAtSW5zdGFsbFdpdGhNb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURvTm90UG9zdEluc3RhbGw6JERvTm90UG9zdEluc3RhbGwgLVBvc3RJbnN0YWxsSG9vazokUG9zdEluc3RhbGxIb29rCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTG9jYWwgewogICAgICAgICAgICAgICAgSW5zdGFsbC1Nb2R1bGVGcm9tTG9jYWwgLU1vZHVsZVBhdGg6JE1vZHVsZVBhdGggLU1vZHVsZU5hbWU6JE1vZHVsZU5hbWUgLVR5cGU6JFR5cGUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCAtR2xvYmFsOiRHbG9iYWwgLVBlcnNpc3RFbnZpcm9ubWVudDokUGVyc2lzdEVudmlyb25tZW50IC1Eb05vdEltcG9ydDokRG9Ob3RJbXBvcnQgLUFkZFRvUHJvZmlsZTokQWRkVG9Qcm9maWxlIC1VcGRhdGU6JFVwZGF0ZSAtSW5zdGFsbFdpdGhNb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURvTm90UG9zdEluc3RhbGw6JERvTm90UG9zdEluc3RhbGwgLVBvc3RJbnN0YWxsSG9vazokUG9zdEluc3RhbGxIb29rCiAgICAgICAgICAgIH0KICAgICAgICAgICAgTnVHZXQgewogICAgICAgICAgICAgICAgSW5zdGFsbC1Nb2R1bGVGcm9tTnVHZXQgLU51R2V0UGFja2FnZUlkOiROdUdldFBhY2thZ2VJZCAtUGFja2FnZVZlcnNpb246JFBhY2thZ2VWZXJzaW9uIC1OdWdldFNvdXJjZTokTnVnZXRTb3VyY2UgLVByZVJlbGVhc2U6JFByZVJlbGVhc2UgLVByZVJlbGVhc2VUYWc6JFByZVJlbGVhc2VUYWcgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCAtR2xvYmFsOiRHbG9iYWwgLVBlcnNpc3RFbnZpcm9ubWVudDokUGVyc2lzdEVudmlyb25tZW50IC1Eb05vdEltcG9ydDokRG9Ob3RJbXBvcnQgLUFkZFRvUHJvZmlsZTokQWRkVG9Qcm9maWxlIC1VcGRhdGU6JFVwZGF0ZSAtSW5zdGFsbFdpdGhNb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURvTm90UG9zdEluc3RhbGw6JERvTm90UG9zdEluc3RhbGwgLVBvc3RJbnN0YWxsSG9vazokUG9zdEluc3RhbGxIb29rCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZGVmYXVsdCB7CiAgICAgICAgICAgICAgICB0aHJvdyAiVW5rbm93biBQYXJhbWV0ZXJTZXROYW1lICckKCRQU0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lKSciCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBVcGRhdGVzIGEgbW9kdWxlLgoKICAgIC5ERVNDUklQVElPTgogICAgICAgIFN1cHBvcnRzIHVwZGF0aW5nIG1vZHVsZXMgZm9yIHRoZSBjdXJyZW50IHVzZXIgb3IgYWxsIHVzZXJzIChpZiBlbGV2YXRlZCkuCgogICAgLlBBUkFNRVRFUiBNb2R1bGUKICAgICAgICBOYW1lIG9mIHRoZSBtb2R1bGUgdG8gdXBkYXRlLgoKICAgIC5QQVJBTUVURVIgQWxsCiAgICAgICAgSWYgLUFsbCBpcyBkZWZpbmVkLiBhbGwgdG8gUHNHZXQga25vd24gbW9kdWxlcyB3aWxsIGJlIHVwZGF0ZWQuCgogICAgLlBBUkFNRVRFUiBEZXN0aW5hdGlvbgogICAgICAgIFdoZW4gc3BlY2lmaWVkIHRoZSBtb2R1bGUgd2lsbCBiZSB1cGRhdGVkIGJlbG93IHRoaXMgcGF0aC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZUhhc2gKICAgICAgICBXaGVuIE1vZHVsZUhhc2ggaXMgc3BlY2lmaWVkIHRoZSBjaG9zZW4gbW9kdWxlIHdpbGwgb25seSBiZSBpbnN0YWxsZWQgaWYgaXRzIGNvbnRlbnRzIG1hdGNoIHRoZSBwcm92aWRlZCBoYXNoLgoKICAgIC5QQVJBTUVURVIgR2xvYmFsCiAgICAgICAgSWYgc2V0LCBhdHRlbXB0cyB0byBpbnN0YWxsIHRoZSBtb2R1bGUgdG8gdGhlIGFsbCB1c2VycyBsb2NhdGlvbiBpbiBXaW5kb3dzXFN5c3RlbTMyLi4uCgogICAgLlBBUkFNRVRFUiBEb05vdEltcG9ydAogICAgICAgIEluZGljYXRlcyB0aGF0IGNvbW1hbmQgc2hvdWxkIG5vdCBpbXBvcnQgbW9kdWxlIGFmdGVyIGluc3RhbGxhdGlvbi4KCiAgICAuUEFSQU1FVEVSIEFkZFRvUHJvZmlsZQogICAgICAgIEFkZHMgaW5zdGFsbGVkIG1vZHVsZSB0byB0aGUgcHJvZmlsZS5wczEuCgogICAgLlBBUkFNRVRFUiBVcGRhdGUKICAgICAgICBGb3JjZXMgbW9kdWxlIHRvIGJlIHVwZGF0ZWQuCgogICAgLlBBUkFNRVRFUiBEaXJlY3RvcnlVcmwKICAgICAgICBVUkwgdG8gY2VudHJhbCBkaXJlY3RvcnkuIEJ5IGRlZmF1bHQgaXQgdXNlcyB0aGUgdmFsdWUgaW4gdGhlICRQc0dldERpcmVjdG9yeVVybCBnbG9iYWwgdmFyaWFibGUuCgogICAgLlBBUkFNRVRFUiBEb05vdFBvc3RJbnN0YWxsCiAgICAgICAgSWYgZGVmaW5lZCwgdGhlIFBvc3RJbnN0YWxsSG9vayBpcyBub3QgZXhlY3V0ZWQuCgogICAgLlBBUkFNRVRFUiBQb3N0SW5zdGFsbEhvb2sKICAgICAgICBEZWZpbmVzIHRoZSBuYW1lIG9mIGEgc2NyaXB0IGluc2lkZSB0aGUgaW5zdGFsbGVkIG1vZHVsZSBmb2xkZXIgd2hpY2ggc2hvdWxkIGJlIGV4ZWN1dGVkIGFmdGVyIGluc3RhbGxhdGlvbi4KICAgICAgICBXaWxsIG5vdCBiZSBjaGVjayBpbiBjb21iaW5hdGlvbiB3aXRoIC1BbGwgc3dpdGNoLgogICAgICAgIERlZmF1bHQ6ICdJbnN0YWxsLnBzMScKCiAgICAuTElOSwogICAgICAgIGh0dHA6Ly9wc2dldC5uZXQKCiAgICAuTElOSwogICAgICAgIEluc3RhbGwtTW9kdWxlCgogICAgLkVYQU1QTEUKICAgICAgICAjIFVwZGF0ZS1Nb2R1bGUgUHNVcmwKCiAgICAgICAgRGVzY3JpcHRpb24KICAgICAgICAtLS0tLS0tLS0tLQogICAgICAgIFVwZGF0ZXMgdGhlIG1vZHVsZQojPgpmdW5jdGlvbiBVcGRhdGUtTW9kdWxlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBWYWx1ZUZyb21QaXBlbGluZT0kdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkTW9kdWxlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRBbGwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJERlc3RpbmF0aW9uID0gJGdsb2JhbDpQc0dldERlc3RpbmF0aW9uTW9kdWxlUGF0aCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkTW9kdWxlSGFzaCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkR2xvYmFsLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICREb05vdEltcG9ydCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkQWRkVG9Qcm9maWxlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICREaXJlY3RvcnlVcmwgPSAkZ2xvYmFsOlBzR2V0RGlyZWN0b3J5VXJsLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICREb05vdFBvc3RJbnN0YWxsLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRQb3N0SW5zdGFsbEhvb2sKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIGlmICgkQWxsKSB7CiAgICAgICAgICAgIEluc3RhbGwtTW9kdWxlIC1Nb2R1bGUgUFNHZXQgLUZvcmNlIC1Eb05vdEltcG9ydAoKICAgICAgICAgICAgR2V0LVBzR2V0TW9kdWxlSW5mbyAtTW9kdWxlTmFtZSAnKicgfCBXaGVyZS1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmICgkXy5JZCAtbmUgJ1BTR2V0JykgewogICAgICAgICAgICAgICAgICAgICAgICBHZXQtTW9kdWxlIC1OYW1lOigkXy5Nb2R1bGVOYW1lKSAtTGlzdEF2YWlsYWJsZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gfCBJbnN0YWxsLU1vZHVsZSAtVXBkYXRlCgogICAgICAgICAgICBJbXBvcnQtTW9kdWxlIC1OYW1lIFBTR2V0IC1Gb3JjZSAtRG9Ob3RQb3N0SW5zdGFsbDokRG9Ob3RQb3N0SW5zdGFsbAoKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIEluc3RhbGwtTW9kdWxlIC1Nb2R1bGU6JE1vZHVsZSAtRGVzdGluYXRpb246JERlc3RpbmF0aW9uIC1Nb2R1bGVIYXNoOiRNb2R1bGVIYXNoIC1HbG9iYWw6JEdsb2JhbCAtRG9Ob3RJbXBvcnQ6JERvTm90SW1wb3J0IC1BZGRUb1Byb2ZpbGU6JEFkZFRvUHJvZmlsZSAtRGlyZWN0b3J5VXJsOiREaXJlY3RvcnlVcmwgLVVwZGF0ZSAtRG9Ob3RQb3N0SW5zdGFsbDokRG9Ob3RQb3N0SW5zdGFsbCAtUG9zdEluc3RhbGxIb29rOiRQb3N0SW5zdGFsbEhvb2sKICAgICAgICB9CiAgICB9Cn0KCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBSZXRyaWV2ZSBpbmZvcm1hdGlvbiBhYm91dCBtb2R1bGUgZnJvbSBjZW50cmFsIGRpcmVjdG9yeQoKICAgIC5ERVNDUklQVElPTgogICAgICAgIENvbW1hbmQgd2lsbCBxdWVyeSBjZW50cmFsIGRpcmVjdG9yeSB0byBnZXQgaW5mb3JtYXRpb24gYWJvdXQgbW9kdWxlIHNwZWNpZmllZC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZU5hbWUKICAgICAgICBOYW1lIG9mIG1vZHVsZSB0byBsb29rIGZvciBpbiBkaXJlY3RvcnkuIFN1cHBvcnRzIHdpbGRjYXJkcy4KCiAgICAuUEFSQU1FVEVSIERpcmVjdG9yeVVybAogICAgICAgIFVSTCB0byBjZW50cmFsIGRpcmVjdG9yeS4gQnkgZGVmYXVsdCBpdCB1c2VzIHRoZSB2YWx1ZSBpbiB0aGUgJFBzR2V0RGlyZWN0b3J5VXJsIGdsb2JhbCB2YXJpYWJsZS4KCiAgICAuTElOSwogICAgICAgIGh0dHA6Ly9wc2dldC5uZXQKCiAgICAuRVhBTVBMRQogICAgICAgIEdldC1Qc0dldE1vZHVsZUluZm8gUG9zaENvKgoKICAgICAgICBEZXNjcmlwdGlvbgogICAgICAgIC0tLS0tLS0tLS0tCiAgICAgICAgUmV0cmlldmVzIGluZm9ybWF0aW9uIGFib3V0IGFsbCByZWdpc3RlcmQgbW9kdWxlcyB0aGF0IHN0YXJ0cyB3aXRoIFBvc2hDby4KIz4KZnVuY3Rpb24gR2V0LVBzR2V0TW9kdWxlSW5mbyB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCwgVmFsdWVGcm9tUGlwZWxpbmU9JHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZU5hbWUsCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRGlyZWN0b3J5VXJsID0gJGdsb2JhbDpQc0dldERpcmVjdG9yeVVybAogICAgKQogICAgYmVnaW4gewogICAgICAgICRjbGllbnQgPSAobmV3LW9iamVjdCBOZXQuV2ViQ2xpZW50KQogICAgICAgICRjbGllbnQuUHJveHkuQ3JlZGVudGlhbHMgPSBbU3lzdGVtLk5ldC5DcmVkZW50aWFsQ2FjaGVdOjpEZWZhdWx0TmV0d29ya0NyZWRlbnRpYWxzCgogICAgICAgICRQc0dldERhdGFQYXRoID0gSm9pbi1QYXRoIC1QYXRoICRFbnY6QVBQREFUQSAtQ2hpbGRQYXRoIHBzZ2V0CiAgICAgICAgJERpcmVjdG9yeUNhY2hlUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAkUHNHZXREYXRhUGF0aCAtQ2hpbGRQYXRoIGRpcmVjdG9yeWNhY2hlLmNsaXhtbAogICAgICAgICREaXJlY3RvcnlDYWNoZSA9IEAoKQogICAgICAgICRDYWNoZUVudHJ5ID0gJG51bGwKICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICREaXJlY3RvcnlDYWNoZVBhdGgpIHsKICAgICAgICAgICAgJERpcmVjdG9yeUNhY2hlID0gSW1wb3J0LUNsaXhtbCAtUGF0aCAkRGlyZWN0b3J5Q2FjaGVQYXRoCiAgICAgICAgICAgICRDYWNoZUVudHJ5ID0gJERpcmVjdG9yeUNhY2hlIHwgV2hlcmUtT2JqZWN0IHsgJF8uVXJsIC1lcSAkRGlyZWN0b3J5VXJsIH0gfCBTZWxlY3QtT2JqZWN0IC1GaXJzdCAxCiAgICAgICAgfQogICAgICAgIGlmICgtbm90ICRDYWNoZUVudHJ5KSB7CiAgICAgICAgICAgICRDYWNoZUVudHJ5ID0gQHsKICAgICAgICAgICAgICAgIFVybCA9ICREaXJlY3RvcnlVcmwKICAgICAgICAgICAgICAgIEZpbGUgPSAnezB9LnhtbCcgLWYgW0d1aWRdOjpOZXdHdWlkKCkuVG9zdHJpbmcoKQogICAgICAgICAgICAgICAgRVRhZyA9ICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJERpcmVjdG9yeUNhY2hlICs9IEAoJENhY2hlRW50cnkpCiAgICAgICAgfQogICAgICAgICRDYWNoZUVudHJ5RmlsZVBhdGggPSBKb2luLVBhdGggLVBhdGggJFBzR2V0RGF0YVBhdGggLUNoaWxkUGF0aCAkQ2FjaGVFbnRyeS5GaWxlCiAgICAgICAgaWYgKCRDYWNoZUVudHJ5IC1hbmQgJENhY2hlRW50cnkuRVRhZyAtYW5kIChUZXN0LVBhdGggLVBhdGggJENhY2hlRW50cnlGaWxlUGF0aCkpIHsKICAgICAgICAgICAgaWYgKChHZXQtSXRlbSAtUGF0aCAkQ2FjaGVFbnRyeUZpbGVQYXRoKS5MYXN0V3JpdGVUaW1lLkFkZERheXMoMSkgLWd0IChHZXQtRGF0ZSkpIHsKICAgICAgICAgICAgICAgICMgdXNlIGNhY2hlZCBkaXJlY3RvcnkgaWYgaXQgaXMgbGVzcyB0aGFuIDI0IGhvdXJzIG9sZAogICAgICAgICAgICAgICAgJGNsaWVudC5IZWFkZXJzLkFkZCgnSWYtTm9uZS1NYXRjaCcsICRDYWNoZUVudHJ5LkVUYWcpCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkRvd25sb2FkaW5nIG1vZHVsZXMgcmVwb3NpdG9yeSBmcm9tICREaXJlY3RvcnlVcmwiCiAgICAgICAgICAgICRyZXBvUmF3ID0gJGNsaWVudC5Eb3dubG9hZFN0cmluZygkRGlyZWN0b3J5VXJsKQogICAgICAgICAgICAkU3RhdHVzQ29kZSA9IDIwMAogICAgICAgIH0KICAgICAgICBjYXRjaCBbU3lzdGVtLk5ldC5XZWJFeGNlcHRpb25dIHsKICAgICAgICAgICAgJFJlc3BvbnNlID0gJF8uRXhjZXB0aW9uLlJlc3BvbnNlCiAgICAgICAgICAgIGlmICgkUmVzcG9uc2UpIHsgJFN0YXR1c0NvZGUgPSBbaW50XSRSZXNwb25zZS5TdGF0dXNDb2RlIH0KICAgICAgICB9CgogICAgICAgIGlmICgkU3RhdHVzQ29kZSAtZXEgMjAwKSB7CiAgICAgICAgICAgICRyZXBvWG1sID0gW3htbF0kcmVwb1JhdwoKICAgICAgICAgICAgJENhY2hlRW50cnkuRVRhZyA9ICRjbGllbnQuUmVzcG9uc2VIZWFkZXJzWydFVGFnJ10KICAgICAgICAgICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAtUGF0aCAkUHNHZXREYXRhUGF0aCkpIHsKICAgICAgICAgICAgICAgIE5ldy1JdGVtIC1QYXRoICRQc0dldERhdGFQYXRoIC1JdGVtVHlwZSBDb250YWluZXIgfCBPdXQtTnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgICRyZXBvWG1sLlNhdmUoJENhY2hlRW50cnlGaWxlUGF0aCkKICAgICAgICAgICAgRXhwb3J0LUNsaXhtbCAtSW5wdXRPYmplY3QgJERpcmVjdG9yeUNhY2hlIC1QYXRoICREaXJlY3RvcnlDYWNoZVBhdGgKICAgICAgICB9CiAgICAgICAgZWxzZWlmIChUZXN0LVBhdGggLVBhdGggJENhY2hlRW50cnlGaWxlUGF0aCkgewogICAgICAgICAgICBpZiAoJFN0YXR1c0NvZGUgLW5lIDMwNCkgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiQ291bGQgbm90IHJldHJpZXZlIG1vZHVsZXMgcmVwb3NpdG9yeSBmcm9tICckRGlyZWN0b3J5VXJsJy4gU3RhdHVzIGNvZGU6ICRTdGF0dXNDb2RlIgogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1VzaW5nIGNhY2hlZCBjb3B5IG9mIG1vZHVsZXMgcmVwb3NpdG9yeScKICAgICAgICAgICAgJHJlcG9YbWwgPSBbeG1sXShHZXQtQ29udGVudCAtUGF0aCAkQ2FjaGVFbnRyeUZpbGVQYXRoKQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCByZXRyaWV2ZSBtb2R1bGVzIHJlcG9zaXRvcnkgZnJvbSAnJERpcmVjdG9yeVVybCcuIFN0YXR1cyBjb2RlOiAkU3RhdHVzQ29kZSIKICAgICAgICB9CgogICAgICAgICRuc3MgPSBAeyBhID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDUvQXRvbSc7CiAgICAgICAgICAgICAgICAgIHBnID0gJ3Vybjpwc2dldDp2MS4wJyB9CgogICAgICAgICRmZWVkID0gJHJlcG9YbWwuZmVlZAogICAgICAgICR0aXRsZSA9ICRmZWVkLnRpdGxlLmlubmVydGV4dAogICAgICAgIFdyaXRlLVZlcmJvc2UgIlByb2Nlc3NpbmcgJHRpdGxlIGZlZWQuLi4iCiAgICB9CiAgICBwcm9jZXNzIHsKICAgICAgICAjIFZlcnkgbmFpdmUsIGlnbm9yaW5nIG5hbWVzcGFjZXMgYW5kIHNvIG9uLgogICAgICAgICRmZWVkLmVudHJ5IHwgV2hlcmUtT2JqZWN0IHsgJF8uaWQgLWxpa2UgJE1vZHVsZU5hbWUgfSB8CiAgICAgICAgICAgIEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRUeXBlID0gJycKICAgICAgICAgICAgICAgIHN3aXRjaCAtcmVnZXggKCRfLmNvbnRlbnQudHlwZSkgewogICAgICAgICAgICAgICAgICAgICdhcHBsaWNhdGlvbi96aXAnIHsgJFR5cGUgPSAkUFNHRVRfWklQICB9CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCB7ICRUeXBlID0gJFBTR0VUX1BTTTEgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkVmVyYiA9IGlmICgkXy5wcm9wZXJ0aWVzLlZlcmIgLWltYXRjaCAnUE9TVCcpIHsgJ1BPU1QnIH0gZWxzZSB7ICdHRVQnIH0KCiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewogICAgICAgICAgICAgICAgICAgIFRpdGxlID0gJF8udGl0bGUuaW5uZXJ0ZXh0CiAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24gPSAkXy5zdW1tYXJ5LicjdGV4dCcKICAgICAgICAgICAgICAgICAgICBVcGRhdGVkID0gW0RhdGVUaW1lXSRfLnVwZGF0ZWQKICAgICAgICAgICAgICAgICAgICBBdXRob3I9ICRfLmF1dGhvci5uYW1lCiAgICAgICAgICAgICAgICAgICAgSWQgPSAkXy5pZAogICAgICAgICAgICAgICAgICAgIE1vZHVsZU5hbWUgPSBpZiAoJF8ucHJvcGVydGllcy5Nb2R1bGVOYW1lKSB7ICRfLnByb3BlcnRpZXMuTW9kdWxlTmFtZSB9IGVsc2UgeyAkXy5pZCB9CiAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICRUeXBlCiAgICAgICAgICAgICAgICAgICAgRG93bmxvYWRVcmwgPSAkXy5jb250ZW50LnNyYwogICAgICAgICAgICAgICAgICAgIFZlcmIgPSAkVmVyYgogICAgICAgICAgICAgICAgICAgICNUaGlzIHdhcyBjaGFuZ2VkIGZyb20gdXNpbmcgdGhlICAkXy5wcm9wZXJ0aWVzLlByb2plY3RVcmwgYmVjYXVzZSB0aGUgdmFsdWUgZm9yIE1vZHVsZVVybCBuZWVkcyB0byBiZSB0aGUgZnVsbCBwYXRoIHRvIHRoZSBtb2R1bGUgZmlsZQogICAgICAgICAgICAgICAgICAgICNUaGlzIGNoYW5nZSB3YXMgcmVxdWlyZWQgdG8gZ2V0IHRoZSB0ZXN0cyB0byBwYXNzCiAgICAgICAgICAgICAgICAgICAgTW9kdWxlVXJsID0gJF8uY29udGVudC5zcmMKICAgICAgICAgICAgICAgICAgICBOb1Bvc3RJbnN0YWxsSG9vayA9IGlmICgkXy5wcm9wZXJ0aWVzLk5vUG9zdEluc3RhbGxIb29rIC1lcSAndHJ1ZScpIHsgJHRydWUgfSBlbHNlIHsgJGZhbHNlIH0KICAgICAgICAgICAgICAgICAgICBQb3N0SW5zdGFsbEhvb2sgPSAkXy5wcm9wZXJ0aWVzLlBvc3RJbnN0YWxsSG9vawogICAgICAgICAgICAgICAgICAgIFBvc3RVcGRhdGVIb29rID0gJF8ucHJvcGVydGllcy5Qb3N0VXBkYXRlSG9vawogICAgICAgICAgICAgICAgfSB8CiAgICAgICAgICAgICAgICAgICAgU2VsZWN0LU9iamVjdCBUaXRsZSwgTW9kdWxlTmFtZSwgSWQsIERlc2NyaXB0aW9uLCBVcGRhdGVkLCBUeXBlLCBWZXJiLCBNb2R1bGVVcmwsIERvd25sb2FkVXJsLCBOb1Bvc3RJbnN0YWxsSG9vaywgUG9zdEluc3RhbGxIb29rLCBQb3N0VXBkYXRlSG9vawogICAgICAgICAgICB9CiAgICB9Cn0KCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBDYWxjdWxhdGUgdGhlIGhhc2ggdmFsdWUgb2YgYSBtb2R1bGUuCgogICAgLkRFU0NSSVBUSU9OCiAgICAgICAgQ2FsY3VsYXRlIHRoZSBoYXNoIHZhbHVlIG9mIHRoZSBzcGVjaWZpZWQgbW9kdWxlIGRpcmVjdG9yeSBmb3IgdXNhZ2Ugd2l0aCB0aGUgJ01vZHVsZUhhc2gnIHBhcmFtZXRlciBmb3IgdmFsaWRhdGlvbi4KCiAgICAuUEFSQU1FVEVSIFBhdGgKICAgICAgICBQYXRoIHRvIHRoZSBtb2R1bGUgZGlyZWN0b3J5CgogICAgLkVYQU1QTEUKICAgICAgICBHZXQtUHNHZXRNb2R1bGVIYXNoICRnbG9iYWw6VXNlck1vZHVsZUJhc2VQYXRoXFBzR2V0CgogICAgICAgIERlc2NyaXB0aW9uCiAgICAgICAgLS0tLS0tLS0tLS0KICAgICAgICBSZXR1cm5zIHRoZSBoYXNoIHZhbHVlIHVzYWJsZSB3aXRoIHRoZSAnTW9kdWxlSGFzaCcgcGFyYW1ldGVyIG9mICdJbnN0YWxsLU1vZHVsZScKCiAgICAuTElOSwogICAgICAgIEluc3RhbGwtTW9kdWxlCgogICAgLkxJTksKICAgICAgICBodHRwOi8vcHNnZXQubmV0CiM+CmZ1bmN0aW9uIEdldC1Qc0dldE1vZHVsZUhhc2ggewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW0FsaWFzKCdNb2R1bGVCYXNlJyldCiAgICAgICAgW1N0cmluZ10gJFBhdGgKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIEdldC1Gb2xkZXJIYXNoIC1QYXRoIChSZXNvbHZlLVBhdGggLVBhdGggJFBhdGgpLlBhdGgKICAgIH0KfQoKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBTdWItQ21kbGV0cwoKPCMKICAgIC5TWU5PUFNJUwogICAgICAgIEluc3RhbGwgYSBtb2R1bGUgZnJvbSB0aGUgZGVmaW5lZCBQc0dldCBkaXJlY3RvcnkuCgogICAgLlBBUkFNRVRFUiBNb2R1bGUKICAgICAgICBOYW1lIG9mIHRoZSBtb2R1bGUgdG8gaW5zdGFsbCBmcm9tIFBzR2V0IGRpcmVjdG9yeS4KCiAgICAuUEFSQU1FVEVSIERlc3RpbmF0aW9uCiAgICAgICAgV2hlbiBzcGVjaWZpZWQgdGhlIG1vZHVsZSB3aWxsIGJlIGluc3RhbGxlZCBiZWxvdyB0aGlzIHBhdGguIERlZmF1bHRzIHRvICckZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoJyBpZiBkZWZpbmVkLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlSGFzaAogICAgICAgIFdoZW4gTW9kdWxlSGFzaCBpcyBzcGVjaWZpZWQgdGhlIGNob3NlbiBtb2R1bGUgd2lsbCBvbmx5IGJlIGluc3RhbGxlZCBpZiBpdHMgY29udGVudHMgbWF0Y2ggdGhlIHByb3ZpZGVkIGhhc2guCgogICAgLlBBUkFNRVRFUiBHbG9iYWwKICAgICAgICBJZiBzZXQsIGF0dGVtcHRzIHRvIGluc3RhbGwgdGhlIG1vZHVsZSB0byB0aGUgYWxsIHVzZXJzIGxvY2F0aW9uIGluIEM6XFByb2dyYW0gRmlsZXNcQ29tbW9uIEZpbGVzXE1vZHVsZXMuLi4KCiAgICAgICAgTk9URTogSWYgdGhlIC1EZXN0aW5hdGlvbiBkaXJlY3RvcnkgaXMgc3BlY2lmaWVkLCB0aGVuIC1HbG9iYWwgd2lsbCBvbmx5IGhhdmUgYW4gZWZmZWN0IGluIGNvbWJpbmF0aW9uIHdpdGggJy1QZXJzaXN0RW52aXJvbm1lbnQnLiBUaGlzIGlzIGFsc28gdGhlIGNhc2UgaWYgJyRnbG9iYWw6UHNHZXREZXN0aW5hdGlvbk1vZHVsZVBhdGgnIGlzIGRlZmluZWQuCgogICAgLlBBUkFNRVRFUiBEb05vdEltcG9ydAogICAgICAgIEluZGljYXRlcyB0aGF0IGNvbW1hbmQgc2hvdWxkIG5vdCBpbXBvcnQgbW9kdWxlIGFmdGVyIGluc3RhbGxhdGlvbgoKICAgIC5QQVJBTUVURVIgQWRkVG9Qcm9maWxlCiAgICAgICAgQWRkcyBJbXBvcnQtTW9kdWxlIHN0YXRlbWVudCBmb3IgaW5zdGFsbGVkIG1vZHVsZSB0byB0aGUgcHJvZmlsZS5wczEKCiAgICAuUEFSQU1FVEVSIFVwZGF0ZQogICAgICAgIEZvcmNlcyBtb2R1bGUgdG8gYmUgdXBkYXRlZAoKICAgIC5QQVJBTUVURVIgRGlyZWN0b3J5VXJsCiAgICAgICAgVVJMIHRvIGNlbnRyYWwgZGlyZWN0b3J5LiBCeSBkZWZhdWx0IGl0IHVzZXMgdGhlIHZhbHVlIGluIHRoZSAkZ2xvYmFsOlBzR2V0RGlyZWN0b3J5VXJsIHZhcmlhYmxlCgogICAgLlBBUkFNRVRFUiBQZXJzaXN0RW52aXJvbm1lbnQKICAgICAgICBJZiB0aGlzIHN3aXRjaCBpcyBzcGVjaWZpZWQsIHRoZSBpbnN0YWxsYXRpb24gZGVzdGluYXRpb24gcGF0aCB3aWxsIGJlIGFkZGVkIHRvIGVpdGhlciB0aGUgVXNlcidzIFBTTW9kdWxlUGF0aCBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBNYWNoaW5lJ3MgUFNNb2R1bGVQYXRoIGVudmlyb25tZW50IHZhcmlhYmxlIChpZiAtR2xvYmFsIHNwZWNpZmllZCkKCiAgICAuUEFSQU1FVEVSIEluc3RhbGxXaXRoTW9kdWxlTmFtZQogICAgICAgIEFsbG93cyB0byBzcGVjaWZ5IHRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgYW5kIG92ZXJyaWRlIHRoZSBNb2R1bGVOYW1lIG5vcm1hbGx5IHVzZWQuCiAgICAgICAgTk9URTogVGhpcyBwYXJhbWV0ZXIgYWxsb3dzIHRvIGluc3RhbGwgYSBtb2R1bGUgZnJvbSB0aGUgUHNHZXQtRGlyZWN0b3J5IG1vcmUgdGhhbiBvbmNlIGFuZCBQc0dldCBkb2VzIG5vdCByZW1lbWJlciB0aGF0IHRoaXMgbW9kdWxlIGlzIGluc3RhbGxlZCB3aXRoIGEgZGlmZmVyZW50IG5hbWUuCgogICAgLlBBUkFNRVRFUiBEb05vdFBvc3RJbnN0YWxsCiAgICAgICAgSWYgZGVmaW5lZCwgdGhlIFBvc3RJbnN0YWxsSG9vayBpcyBub3QgZXhlY3V0ZWQuCgogICAgLlBBUkFNRVRFUiBQb3N0SW5zdGFsbEhvb2sKICAgICAgICBEZWZpbmVzIHRoZSBuYW1lIG9mIGEgc2NyaXB0IGluc2lkZSB0aGUgaW5zdGFsbGVkIG1vZHVsZSBmb2xkZXIgd2hpY2ggc2hvdWxkIGJlIGV4ZWN1dGVkIGFmdGVyIGluc3RhbGxhdGlvbi4KICAgICAgICBEZWZhdWx0OiBkZWZpbml0aW9uIGluIGRpcmVjdG9yeSBmaWxlIG9yICdJbnN0YWxsLnBzMScKIz4KZnVuY3Rpb24gSW5zdGFsbC1Nb2R1bGVGcm9tRGlyZWN0b3J5IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBWYWx1ZUZyb21QaXBlbGluZT0kdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSwgTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkTW9kdWxlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICREZXN0aW5hdGlvbiA9ICRnbG9iYWw6UHNHZXREZXN0aW5hdGlvbk1vZHVsZVBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZUhhc2gsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJEdsb2JhbCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkRG9Ob3RJbXBvcnQsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJEFkZFRvUHJvZmlsZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkVXBkYXRlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICREaXJlY3RvcnlVcmwgPSAkZ2xvYmFsOlBzR2V0RGlyZWN0b3J5VXJsLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRQZXJzaXN0RW52aXJvbm1lbnQsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJEluc3RhbGxXaXRoTW9kdWxlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkRG9Ob3RQb3N0SW5zdGFsbCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkUG9zdEluc3RhbGxIb29rCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICAkdGVzdE1vZHVsZU5hbWUgPSBpZiAoJEluc3RhbGxXaXRoTW9kdWxlTmFtZSkgeyAkSW5zdGFsbFdpdGhNb2R1bGVOYW1lIH0gZWxzZSB7ICRNb2R1bGUgfQogICAgICAgIGlmIChUZXN0LU1vZHVsZUluc3RhbGxlZEFuZEltcG9ydCAtTW9kdWxlTmFtZTokdGVzdE1vZHVsZU5hbWUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtVXBkYXRlOiRVcGRhdGUgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCkgewogICAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIFdyaXRlLVZlcmJvc2UgIk1vZHVsZSAkTW9kdWxlIHdpbGwgYmUgaW5zdGFsbGVkIGZyb20gY2VudHJhbCByZXBvc2l0b3J5IgogICAgICAgICRtb2R1bGVEYXRhID0gR2V0LVBzR2V0TW9kdWxlSW5mbyAtTW9kdWxlTmFtZTokTW9kdWxlIC1EaXJlY3RvcnlVcmw6JERpcmVjdG9yeVVybCB8IHNlbGVjdCAtRmlyc3QgMQogICAgICAgIGlmICgtbm90ICRtb2R1bGVEYXRhKSB7CiAgICAgICAgICAgIHRocm93ICJNb2R1bGUgJE1vZHVsZSB3YXMgbm90IGZvdW5kIGluIGNlbnRyYWwgcmVwb3NpdG9yeSIKICAgICAgICB9CgogICAgICAgICMgJE1vZHVsZSBhbmQgJG1vZHVsZURhdGEuSWQgYXJlIG5vdCBlcXVhbGx5IGJ5IGdhcmFudGVlLCBzbyB3ZSBoYXZlIHRvIHRlc3QgYWdhaW4uCiAgICAgICAgaWYgKFRlc3QtTW9kdWxlSW5zdGFsbGVkQW5kSW1wb3J0IC1Nb2R1bGVOYW1lOiRtb2R1bGVEYXRhLk1vZHVsZU5hbWUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtVXBkYXRlOiRVcGRhdGUgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCkgewogICAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIGlmICgtbm90ICREb05vdFBvc3RJbnN0YWxsKSB7CiAgICAgICAgICAgICREb05vdFBvc3RJbnN0YWxsID0gJG1vZHVsZWRhdGEuTm9Qb3N0SW5zdGFsbEhvb2sKICAgICAgICB9CgogICAgICAgIGlmICgtbm90ICRQb3N0SW5zdGFsbEhvb2spIHsKICAgICAgICAgICAgaWYgKCRVcGRhdGUpIHsKICAgICAgICAgICAgICAgICRQb3N0SW5zdGFsbEhvb2sgPSAkbW9kdWxlRGF0YS5Qb3N0VXBkYXRlSG9vawogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFBvc3RJbnN0YWxsSG9vayA9ICRtb2R1bGVEYXRhLlBvc3RJbnN0YWxsSG9vawogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoLW5vdCAkUG9zdEluc3RhbGxIb29rKSB7CiAgICAgICAgICAgICAgICAkUG9zdEluc3RhbGxIb29rID0gJ0luc3RhbGwucHMxJwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkcmVzdWx0ID0gSW52b2tlLURvd25sb2FkTW9kdWxlRnJvbVdlYiAtRG93bmxvYWRVcmw6JG1vZHVsZURhdGEuRG93bmxvYWRVcmwgLU1vZHVsZU5hbWU6JG1vZHVsZURhdGEuTW9kdWxlTmFtZSAtVHlwZTokbW9kdWxlRGF0YS5UeXBlIC1WZXJiOiRtb2R1bGVEYXRhLlZlcmIKICAgICAgICBJbnN0YWxsLU1vZHVsZVRvRGVzdGluYXRpb24gLU1vZHVsZU5hbWU6JHJlc3VsdC5Nb2R1bGVOYW1lIC1JbnN0YWxsV2l0aE1vZHVsZU5hbWU6JEluc3RhbGxXaXRoTW9kdWxlTmFtZSAtTW9kdWxlRm9sZGVyUGF0aDokcmVzdWx0Lk1vZHVsZUZvbGRlclBhdGggLVRlbXBGb2xkZXJQYXRoOiRyZXN1bHQuVGVtcEZvbGRlclBhdGggLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCAtR2xvYmFsOiRHbG9iYWwgLVBlcnNpc3RFbnZpcm9ubWVudDokUGVyc2lzdEVudmlyb25tZW50IC1Eb05vdEltcG9ydDokRG9Ob3RJbXBvcnQgLUFkZFRvUHJvZmlsZTokQWRkVG9Qcm9maWxlIC1VcGRhdGU6JFVwZGF0ZSAtRG9Ob3RQb3N0SW5zdGFsbDokRG9Ob3RQb3N0SW5zdGFsbCAtUG9zdEluc3RhbGxIb29rOiRQb3N0SW5zdGFsbEhvb2sKICAgIH0KfQoKPCMKICAgIC5TWU5PUFNJUwogICAgICAgIEluc3RhbGwgYSBtb2R1bGUgZnJvbSBhIHByb3ZpZGVkIGRvd25sb2FkIGxvY2F0aW9uLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlVXJsCiAgICAgICAgVVJMIHRvIHRoZSBtb2R1bGUgdG8gaW5zdGFsbDsgQ2FuIGJlIGRpcmVjdCBsaW5rIHRvIFBTTTEgZmlsZSBvciBaSVAgZmlsZS4gQ2FuIGJlIGEgc2hvcnRlbmVkIGxpbmsuCgogICAgLlBBUkFNRVRFUiBNb2R1bGVOYW1lCiAgICAgICAgSXQgaXMgbm90IGFsd2F5cyBwb3NzaWJsZSB0byBpbnRlcmZlcmUgdGhlIHJpZ2h0IE1vZHVsZU5hbWUsIGVnLiB0aGUgZmlsZW5hbWUgaXMgdW5rbm93biBvciB0aGUgemlwIGFyY2hpdmUgY29udGFpbnMgbXVsdGlwbGUgbW9kdWxlcy4KCiAgICAuUEFSQU1FVEVSIFR5cGUKICAgICAgICBXaGVuIE1vZHVsZVVybCBvciBNb2R1bGVQYXRoIHNwZWNpZmllZCwgYWxsb3dzIHNwZWNpZnlpbmcgdHlwZSBvZiB0aGUgcGFja2FnZS4gQ2FuIGJlIFpJUCBvciBQU00xLgoKICAgIC5QQVJBTUVURVIgRGVzdGluYXRpb24KICAgICAgICBXaGVuIHNwZWNpZmllZCB0aGUgbW9kdWxlIHdpbGwgYmUgaW5zdGFsbGVkIGJlbG93IHRoaXMgcGF0aC4gRGVmYXVsdHMgdG8gJyRnbG9iYWw6UHNHZXREZXN0aW5hdGlvbk1vZHVsZVBhdGgnIGlmIGRlZmluZWQuCgogICAgLlBBUkFNRVRFUiBNb2R1bGVIYXNoCiAgICAgICAgV2hlbiBNb2R1bGVIYXNoIGlzIHNwZWNpZmllZCB0aGUgY2hvc2VuIG1vZHVsZSB3aWxsIG9ubHkgYmUgaW5zdGFsbGVkIGlmIGl0cyBjb250ZW50cyBtYXRjaCB0aGUgcHJvdmlkZWQgaGFzaC4KCiAgICAuUEFSQU1FVEVSIEdsb2JhbAogICAgICAgIElmIHNldCwgYXR0ZW1wdHMgdG8gaW5zdGFsbCB0aGUgbW9kdWxlIHRvIHRoZSBhbGwgdXNlcnMgbG9jYXRpb24gaW4gQzpcUHJvZ3JhbSBGaWxlc1xDb21tb24gRmlsZXNcTW9kdWxlcy4uLgoKICAgICAgICBOT1RFOiBJZiB0aGUgLURlc3RpbmF0aW9uIGRpcmVjdG9yeSBpcyBzcGVjaWZpZWQsIHRoZW4gLUdsb2JhbCB3aWxsIG9ubHkgaGF2ZSBhbiBlZmZlY3QgaW4gY29tYmluYXRpb24gd2l0aCAnLVBlcnNpc3RFbnZpcm9ubWVudCcuIFRoaXMgaXMgYWxzbyB0aGUgY2FzZSBpZiAnJGdsb2JhbDpQc0dldERlc3RpbmF0aW9uTW9kdWxlUGF0aCcgaXMgZGVmaW5lZC4KCiAgICAuUEFSQU1FVEVSIERvTm90SW1wb3J0CiAgICAgICAgSW5kaWNhdGVzIHRoYXQgY29tbWFuZCBzaG91bGQgbm90IGltcG9ydCBtb2R1bGUgYWZ0ZXIgaW5zdGFsbGF0aW9uCgogICAgLlBBUkFNRVRFUiBBZGRUb1Byb2ZpbGUKICAgICAgICBBZGRzIEltcG9ydC1Nb2R1bGUgc3RhdGVtZW50IGZvciBpbnN0YWxsZWQgbW9kdWxlIHRvIHRoZSBwcm9maWxlLnBzMQoKICAgIC5QQVJBTUVURVIgVXBkYXRlCiAgICAgICAgRm9yY2VzIG1vZHVsZSB0byBiZSB1cGRhdGVkCgogICAgLlBBUkFNRVRFUiBQZXJzaXN0RW52aXJvbm1lbnQKICAgICAgICBJZiB0aGlzIHN3aXRjaCBpcyBzcGVjaWZpZWQsIHRoZSBpbnN0YWxsYXRpb24gZGVzdGluYXRpb24gcGF0aCB3aWxsIGJlIGFkZGVkIHRvIGVpdGhlciB0aGUgVXNlcidzIFBTTW9kdWxlUGF0aCBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBNYWNoaW5lJ3MgUFNNb2R1bGVQYXRoIGVudmlyb25tZW50IHZhcmlhYmxlIChpZiAtR2xvYmFsIHNwZWNpZmllZCkKCiAgICAuUEFSQU1FVEVSIEluc3RhbGxXaXRoTW9kdWxlTmFtZQogICAgICAgIEFsbG93cyB0byBzcGVjaWZ5IHRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgYW5kIG92ZXJyaWRlIHRoZSBNb2R1bGVOYW1lIG5vcm1hbGx5IHVzZWQuCiAgICAgICAgTk9URTogVGhpcyBwYXJhbWV0ZXIgYWxsb3dzIHRvIGluc3RhbGwgYSBtb2R1bGUgZnJvbSB0aGUgUHNHZXQtRGlyZWN0b3J5IG1vcmUgdGhhbiBvbmNlIGFuZCBQc0dldCBkb2VzIG5vdCByZW1lbWJlciB0aGF0IHRoaXMgbW9kdWxlIGlzIGluc3RhbGxlZCB3aXRoIGEgZGlmZmVyZW50IG5hbWUuCgogICAgLlBBUkFNRVRFUiBEb05vdFBvc3RJbnN0YWxsCiAgICAgICAgSWYgZGVmaW5lZCwgdGhlIFBvc3RJbnN0YWxsSG9vayBpcyBub3QgZXhlY3V0ZWQuCgogICAgLlBBUkFNRVRFUiBQb3N0SW5zdGFsbEhvb2sKICAgICAgICBEZWZpbmVzIHRoZSBuYW1lIG9mIGEgc2NyaXB0IGluc2lkZSB0aGUgaW5zdGFsbGVkIG1vZHVsZSBmb2xkZXIgd2hpY2ggc2hvdWxkIGJlIGV4ZWN1dGVkIGFmdGVyIGluc3RhbGxhdGlvbi4KICAgICAgICBEZWZhdWx0OiAnSW5zdGFsbC5wczEnCiM+CmZ1bmN0aW9uIEluc3RhbGwtTW9kdWxlRnJvbVdlYiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCwgVmFsdWVGcm9tUGlwZWxpbmU9JHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZVVybCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkTW9kdWxlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbVmFsaWRhdGVTZXQoJ1pJUCcsICdQU00xJywgJ1BTRDEnLCAnJyldICMgJHNjcmlwdDpQU0dFVF9aSVAsICRzY3JpcHQ6UFNHRVRfUFNNMSBvciAkc2NyaXB0OlBTR0VUX1BTRDEKICAgICAgICBbU3RyaW5nXSAkVHlwZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRGVzdGluYXRpb24gPSAkZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVIYXNoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRHbG9iYWwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJERvTm90SW1wb3J0LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRBZGRUb1Byb2ZpbGUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJFVwZGF0ZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkUGVyc2lzdEVudmlyb25tZW50LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJERvTm90UG9zdEluc3RhbGwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFBvc3RJbnN0YWxsSG9vawogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiTW9kdWxlIHdpbGwgYmUgaW5zdGFsbGVkIGZyb20gJE1vZHVsZVVybCIKCiAgICAgICAgaWYgKCRJbnN0YWxsV2l0aE1vZHVsZU5hbWUpIHsKICAgICAgICAgICAgaWYgKFRlc3QtTW9kdWxlSW5zdGFsbGVkQW5kSW1wb3J0IC1Nb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtVXBkYXRlOiRVcGRhdGUgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCkgewogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRyZXN1bHQgPSBJbnZva2UtRG93bmxvYWRNb2R1bGVGcm9tV2ViIC1Eb3dubG9hZFVybDokTW9kdWxlVXJsIC1Nb2R1bGVOYW1lOiRNb2R1bGVOYW1lIC1UeXBlOiRUeXBlIC1WZXJiOidHRVQnCgogICAgICAgIGlmICgtbm90ICRQb3N0SW5zdGFsbEhvb2spIHsKICAgICAgICAgICAgJFBvc3RJbnN0YWxsSG9vayA9ICdJbnN0YWxsLnBzMScKICAgICAgICB9CgogICAgICAgIEluc3RhbGwtTW9kdWxlVG9EZXN0aW5hdGlvbiAtTW9kdWxlTmFtZTokcmVzdWx0Lk1vZHVsZU5hbWUgLUluc3RhbGxXaXRoTW9kdWxlTmFtZTokSW5zdGFsbFdpdGhNb2R1bGVOYW1lIC1Nb2R1bGVGb2xkZXJQYXRoOiRyZXN1bHQuTW9kdWxlRm9sZGVyUGF0aCAtVGVtcEZvbGRlclBhdGg6JHJlc3VsdC5UZW1wRm9sZGVyUGF0aCAtRGVzdGluYXRpb246JERlc3RpbmF0aW9uIC1Nb2R1bGVIYXNoOiRNb2R1bGVIYXNoIC1HbG9iYWw6JEdsb2JhbCAtUGVyc2lzdEVudmlyb25tZW50OiRQZXJzaXN0RW52aXJvbm1lbnQgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtQWRkVG9Qcm9maWxlOiRBZGRUb1Byb2ZpbGUgLVVwZGF0ZTokVXBkYXRlIC1Eb05vdFBvc3RJbnN0YWxsOiREb05vdFBvc3RJbnN0YWxsIC1Qb3N0SW5zdGFsbEhvb2s6JFBvc3RJbnN0YWxsSG9vawogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgSW5zdGFsbCBhIG1vZHVsZSBmcm9tIGEgcHJvdmlkZWQgbG9jYWwgcGF0aC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZVBhdGgKICAgICAgICBMb2NhbCBwYXRoIHRvIHRoZSBtb2R1bGUgdG8gaW5zdGFsbC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZU5hbWUKICAgICAgICBJdCBpcyBub3QgYWx3YXlzIHBvc3NpYmxlIHRvIGludGVyZmVyZSB0aGUgcmlnaHQgTW9kdWxlTmFtZSwgZWcuIHRoZSBmaWxlbmFtZSBpcyB1bmtub3duIG9yIHRoZSB6aXAgYXJjaGl2ZSBjb250YWlucyBtdWx0aXBsZSBtb2R1bGVzLgoKICAgIC5QQVJBTUVURVIgVHlwZQogICAgICAgIFdoZW4gTW9kdWxlVXJsIG9yIE1vZHVsZVBhdGggc3BlY2lmaWVkLCBhbGxvd3Mgc3BlY2lmeWluZyB0eXBlIG9mIHRoZSBwYWNrYWdlLiBDYW4gYmUgWklQIG9yIFBTTTEuCgogICAgLlBBUkFNRVRFUiBEZXN0aW5hdGlvbgogICAgICAgIFdoZW4gc3BlY2lmaWVkIHRoZSBtb2R1bGUgd2lsbCBiZSBpbnN0YWxsZWQgYmVsb3cgdGhpcyBwYXRoLiBEZWZhdWx0cyB0byAnJGdsb2JhbDpQc0dldERlc3RpbmF0aW9uTW9kdWxlUGF0aCcgaWYgZGVmaW5lZC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZUhhc2gKICAgICAgICBXaGVuIE1vZHVsZUhhc2ggaXMgc3BlY2lmaWVkIHRoZSBjaG9zZW4gbW9kdWxlIHdpbGwgb25seSBiZSBpbnN0YWxsZWQgaWYgaXRzIGNvbnRlbnRzIG1hdGNoIHRoZSBwcm92aWRlZCBoYXNoLgoKICAgIC5QQVJBTUVURVIgR2xvYmFsCiAgICAgICAgSWYgc2V0LCBhdHRlbXB0cyB0byBpbnN0YWxsIHRoZSBtb2R1bGUgdG8gdGhlIGFsbCB1c2VycyBsb2NhdGlvbiBpbiBDOlxQcm9ncmFtIEZpbGVzXENvbW1vbiBGaWxlc1xNb2R1bGVzLi4uCgogICAgICAgIE5PVEU6IElmIHRoZSAtRGVzdGluYXRpb24gZGlyZWN0b3J5IGlzIHNwZWNpZmllZCwgdGhlbiAtR2xvYmFsIHdpbGwgb25seSBoYXZlIGFuIGVmZmVjdCBpbiBjb21iaW5hdGlvbiB3aXRoICctUGVyc2lzdEVudmlyb25tZW50Jy4gVGhpcyBpcyBhbHNvIHRoZSBjYXNlIGlmICckZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoJyBpcyBkZWZpbmVkLgoKICAgIC5QQVJBTUVURVIgRG9Ob3RJbXBvcnQKICAgICAgICBJbmRpY2F0ZXMgdGhhdCBjb21tYW5kIHNob3VsZCBub3QgaW1wb3J0IG1vZHVsZSBhZnRlciBpbnN0YWxsYXRpb24KCiAgICAuUEFSQU1FVEVSIEFkZFRvUHJvZmlsZQogICAgICAgIEFkZHMgSW1wb3J0LU1vZHVsZSBzdGF0ZW1lbnQgZm9yIGluc3RhbGxlZCBtb2R1bGUgdG8gdGhlIHByb2ZpbGUucHMxCgogICAgLlBBUkFNRVRFUiBVcGRhdGUKICAgICAgICBGb3JjZXMgbW9kdWxlIHRvIGJlIHVwZGF0ZWQKCiAgICAuUEFSQU1FVEVSIFBlcnNpc3RFbnZpcm9ubWVudAogICAgICAgIElmIHRoaXMgc3dpdGNoIGlzIHNwZWNpZmllZCwgdGhlIGluc3RhbGxhdGlvbiBkZXN0aW5hdGlvbiBwYXRoIHdpbGwgYmUgYWRkZWQgdG8gZWl0aGVyIHRoZSBVc2VyJ3MgUFNNb2R1bGVQYXRoIGVudmlyb25tZW50IHZhcmlhYmxlIG9yIE1hY2hpbmUncyBQU01vZHVsZVBhdGggZW52aXJvbm1lbnQgdmFyaWFibGUgKGlmIC1HbG9iYWwgc3BlY2lmaWVkKQoKICAgIC5QQVJBTUVURVIgSW5zdGFsbFdpdGhNb2R1bGVOYW1lCiAgICAgICAgQWxsb3dzIHRvIHNwZWNpZnkgdGhlIG5hbWUgb2YgdGhlIG1vZHVsZSBhbmQgb3ZlcnJpZGUgdGhlIE1vZHVsZU5hbWUgbm9ybWFsbHkgdXNlZC4KICAgICAgICBOT1RFOiBUaGlzIHBhcmFtZXRlciBhbGxvd3MgdG8gaW5zdGFsbCBhIG1vZHVsZSBmcm9tIHRoZSBQc0dldC1EaXJlY3RvcnkgbW9yZSB0aGFuIG9uY2UgYW5kIFBzR2V0IGRvZXMgbm90IHJlbWVtYmVyIHRoYXQgdGhpcyBtb2R1bGUgaXMgaW5zdGFsbGVkIHdpdGggYSBkaWZmZXJlbnQgbmFtZS4KCiAgICAuUEFSQU1FVEVSIERvTm90UG9zdEluc3RhbGwKICAgICAgICBJZiBkZWZpbmVkLCB0aGUgUG9zdEluc3RhbGxIb29rIGlzIG5vdCBleGVjdXRlZC4KCiAgICAuUEFSQU1FVEVSIFBvc3RJbnN0YWxsSG9vawogICAgICAgIERlZmluZXMgdGhlIG5hbWUgb2YgYSBzY3JpcHQgaW5zaWRlIHRoZSBpbnN0YWxsZWQgbW9kdWxlIGZvbGRlciB3aGljaCBzaG91bGQgYmUgZXhlY3V0ZWQgYWZ0ZXIgaW5zdGFsbGF0aW9uLgogICAgICAgIERlZmF1bHQ6ICdJbnN0YWxsLnBzMScKIz4KZnVuY3Rpb24gSW5zdGFsbC1Nb2R1bGVGcm9tTG9jYWwgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIFZhbHVlRnJvbVBpcGVsaW5lPSR0cnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVOYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnWklQJywgJ1BTTTEnLCAnUFNEMScsICcnKV0gIyAkc2NyaXB0OlBTR0VUX1pJUCwgJHNjcmlwdDpQU0dFVF9QU00xIG9yICRzY3JpcHQ6UFNHRVRfUFNEMQogICAgICAgIFtTdHJpbmddICRUeXBlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICREZXN0aW5hdGlvbiA9ICRnbG9iYWw6UHNHZXREZXN0aW5hdGlvbk1vZHVsZVBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZUhhc2gsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJEdsb2JhbCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkRG9Ob3RJbXBvcnQsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJEFkZFRvUHJvZmlsZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkVXBkYXRlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRQZXJzaXN0RW52aXJvbm1lbnQsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJEluc3RhbGxXaXRoTW9kdWxlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkRG9Ob3RQb3N0SW5zdGFsbCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkUG9zdEluc3RhbGxIb29rCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBXcml0ZS1WZXJib3NlICdNb2R1bGUgd2lsbCBiZSBpbnN0YWxsZWQgZnJvbSBsb2NhbCBwYXRoJwoKICAgICAgICAkSW5zdGFsbFdpdGhNb2R1bGVOYW1lID0gaWYgKCRJbnN0YWxsV2l0aE1vZHVsZU5hbWUpIHsgJEluc3RhbGxXaXRoTW9kdWxlTmFtZSB9IGVsc2UgeyAkTW9kdWxlTmFtZSB9CiAgICAgICAgaWYgKCRJbnN0YWxsV2l0aE1vZHVsZU5hbWUpIHsKICAgICAgICAgICAgaWYgKFRlc3QtTW9kdWxlSW5zdGFsbGVkQW5kSW1wb3J0IC1Nb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtVXBkYXRlOiRVcGRhdGUgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCkgewogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICR0ZW1wRm9sZGVyUGF0aCA9IEpvaW4tUGF0aCAoW0lPLlBhdGhdOjpHZXRUZW1wUGF0aCgpKSAoW0d1aWRdOjpOZXdHdWlkKCkuVG9TdHJpbmcoKSkKICAgICAgICBOZXctSXRlbSAkdGVtcEZvbGRlclBhdGggLUl0ZW1UeXBlIERpcmVjdG9yeSB8IE91dC1OdWxsCiAgICAgICAgV3JpdGUtRGVidWcgIlRlbXBvcmFyeSB3b3JrIGRpcmVjdG9yeSBjcmVhdGVkOiAkdGVtcEZvbGRlclBhdGgiCgogICAgICAgIHRyYXAgeyBSZW1vdmUtSXRlbSAtUGF0aCAkdGVtcEZvbGRlclBhdGggLVJlY3Vyc2UgLUZvcmNlIDsgYnJlYWsgfQoKICAgICAgICAkbmV3TW9kdWxlUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAkdGVtcEZvbGRlclBhdGggLUNoaWxkUGF0aCAnbW9kdWxlJwogICAgICAgIE5ldy1JdGVtICRuZXdNb2R1bGVQYXRoIC1JdGVtVHlwZSBEaXJlY3RvcnkgfCBPdXQtTnVsbAoKICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRNb2R1bGVQYXRoIC1QYXRoVHlwZSBMZWFmKSB7CiAgICAgICAgICAgICRleHRlbnNpb24gPSAoR2V0LUl0ZW0gJE1vZHVsZVBhdGgpLkV4dGVuc2lvbgogICAgICAgICAgICBpZiAoJGV4dGVuc2lvbiAtZXEgJy5wc20xJykgewogICAgICAgICAgICAgICAgJFR5cGUgPSBpZiAoJFR5cGUpIHsgJFR5cGUgfSBlbHNlIHsgJFBTR0VUX1BTTTEgfQogICAgICAgICAgICB9IGVsc2VpZiAoJGV4dGVuc2lvbiAtZXEgJy56aXAnKSB7CiAgICAgICAgICAgICAgICAkVHlwZSA9IGlmICgkVHlwZSkgeyAkVHlwZSB9IGVsc2UgeyAkUFNHRVRfWklQIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRUeXBlIC1lcSAkUFNHRVRfWklQKSB7CiAgICAgICAgICAgICAgICBFeHBhbmQtWmlwTW9kdWxlICRNb2R1bGVQYXRoICRuZXdNb2R1bGVQYXRoCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBDb3B5LUl0ZW0gLVBhdGggJE1vZHVsZVBhdGggLURlc3RpbmF0aW9uICRuZXdNb2R1bGVQYXRoCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmIChUZXN0LVBhdGggLVBhdGggJE1vZHVsZVBhdGggLVBhdGhUeXBlIENvbnRhaW5lcikgewogICAgICAgICAgICBDb3B5LUl0ZW0gLVBhdGggJE1vZHVsZVBhdGggLURlc3RpbmF0aW9uICRuZXdNb2R1bGVQYXRoIC1Gb3JjZSAtUmVjdXJzZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgIk1vZHVsZVBhdGggJyRNb2R1bGVQYXRoJyBkb2VzIG5vdCBwb2ludCB0byBhbiBtb2R1bGUuIgogICAgICAgIH0KCiAgICAgICAgJGZvdW5kUmVzdWx0ID0gRmluZC1Nb2R1bGVOYW1lQW5kRm9sZGVyIC1QYXRoICRuZXdNb2R1bGVQYXRoIC1Nb2R1bGVOYW1lICRNb2R1bGVOYW1lCgogICAgICAgIGlmICgtbm90ICRQb3N0SW5zdGFsbEhvb2spIHsKICAgICAgICAgICAgJFBvc3RJbnN0YWxsSG9vayA9ICdJbnN0YWxsLnBzMScKICAgICAgICB9CgogICAgICAgIEluc3RhbGwtTW9kdWxlVG9EZXN0aW5hdGlvbiAtTW9kdWxlTmFtZTokZm91bmRSZXN1bHQuTW9kdWxlTmFtZSAtSW5zdGFsbFdpdGhNb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLU1vZHVsZUZvbGRlclBhdGg6JGZvdW5kUmVzdWx0Lk1vZHVsZUZvbGRlclBhdGggLVRlbXBGb2xkZXJQYXRoOiR0ZW1wRm9sZGVyUGF0aCAtRGVzdGluYXRpb246JERlc3RpbmF0aW9uIC1Nb2R1bGVIYXNoOiRNb2R1bGVIYXNoIC1HbG9iYWw6JEdsb2JhbCAtUGVyc2lzdEVudmlyb25tZW50OiRQZXJzaXN0RW52aXJvbm1lbnQgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtQWRkVG9Qcm9maWxlOiRBZGRUb1Byb2ZpbGUgLVVwZGF0ZTokVXBkYXRlIC1Eb05vdFBvc3RJbnN0YWxsOiREb05vdFBvc3RJbnN0YWxsIC1Qb3N0SW5zdGFsbEhvb2s6JFBvc3RJbnN0YWxsSG9vawogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgSW5zdGFsbCBhIG1vZHVsZSBmcm9tIGEgTnVHZXQgc291cmNlLgoKICAgIC5QQVJBTUVURVIgTnVHZXRQYWNrYWdlSWQKICAgICAgICBOdUdldCBwYWNrYWdlIG5hbWUgY29udGFpbmluZyB0aGUgbW9kdWxlIHRvIGluc3RhbGwuCgogICAgLlBBUkFNRVRFUiBQYWNrYWdlVmVyc2lvbgogICAgICAgIEFsbG93cyBhIHNwZWNpZmljIHZlcnNpb24gb2YgdGhlIHNwZWNpZmllZCBOdUdldCBwYWNrYWdlIHRvIHVzZWQsIGlmIG5vdCBzcGVjaWZpZWQgdGhlbiB0aGUgbGF0ZXN0IHN0YWJsZSB2ZXJzaW9uIHdpbGwgYmUgdXNlZC4KCiAgICAuUEFSQU1FVEVSIE51Z2V0U291cmNlCiAgICAgICAgVVJMIHRvIHRoZSBOdUdldCBmZWVkIGNvbnRhaW5pbmcgdGhlIHBhY2thZ2UuCgogICAgLlBBUkFNRVRFUiBQcmVSZWxlYXNlCiAgICAgICAgSWYgUGFja2FnZVZlcnNpb24gaXMgbm90IHNwZWNpZmllZCwgdGhlbiB0aGlzIHN3aXRjaCBhbGxvd3MgdGhlIGxhdGVzdCBwcmVyZWxlYXNlIHBhY2thZ2UgdG8gYmUgdXNlZC4KCiAgICAuUEFSQU1FVEVSIFByZVJlbGVhc2VUYWcKICAgICAgICBJZiBQYWNrYWdlVmVyc2lvbiBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIHRoaXMgcGFyYW1ldGVyIGFsbG93cyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgYSBwYXJ0aWN1bGFyIHByZXJlbGVhc2UgdGFnIHRvIGJlIHVzZWQKCiAgICAuUEFSQU1FVEVSIERlc3RpbmF0aW9uCiAgICAgICAgV2hlbiBzcGVjaWZpZWQgdGhlIG1vZHVsZSB3aWxsIGJlIGluc3RhbGxlZCBiZWxvdyB0aGlzIHBhdGguIERlZmF1bHRzIHRvICckZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoJyBpZiBkZWZpbmVkLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlSGFzaAogICAgICAgIFdoZW4gTW9kdWxlSGFzaCBpcyBzcGVjaWZpZWQgdGhlIGNob3NlbiBtb2R1bGUgd2lsbCBvbmx5IGJlIGluc3RhbGxlZCBpZiBpdHMgY29udGVudHMgbWF0Y2ggdGhlIHByb3ZpZGVkIGhhc2guCgogICAgLlBBUkFNRVRFUiBHbG9iYWwKICAgICAgICBJZiBzZXQsIGF0dGVtcHRzIHRvIGluc3RhbGwgdGhlIG1vZHVsZSB0byB0aGUgYWxsIHVzZXJzIGxvY2F0aW9uIGluIEM6XFByb2dyYW0gRmlsZXNcQ29tbW9uIEZpbGVzXE1vZHVsZXMuLi4KCiAgICAgICAgTk9URTogSWYgdGhlIC1EZXN0aW5hdGlvbiBkaXJlY3RvcnkgaXMgc3BlY2lmaWVkLCB0aGVuIC1HbG9iYWwgd2lsbCBvbmx5IGhhdmUgYW4gZWZmZWN0IGluIGNvbWJpbmF0aW9uIHdpdGggJy1QZXJzaXN0RW52aXJvbm1lbnQnLiBUaGlzIGlzIGFsc28gdGhlIGNhc2UgaWYgJyRnbG9iYWw6UHNHZXREZXN0aW5hdGlvbk1vZHVsZVBhdGgnIGlzIGRlZmluZWQuCgogICAgLlBBUkFNRVRFUiBEb05vdEltcG9ydAogICAgICAgIEluZGljYXRlcyB0aGF0IGNvbW1hbmQgc2hvdWxkIG5vdCBpbXBvcnQgbW9kdWxlIGFmdGVyIGluc3RhbGxhdGlvbgoKICAgIC5QQVJBTUVURVIgQWRkVG9Qcm9maWxlCiAgICAgICAgQWRkcyBJbXBvcnQtTW9kdWxlIHN0YXRlbWVudCBmb3IgaW5zdGFsbGVkIG1vZHVsZSB0byB0aGUgcHJvZmlsZS5wczEKCiAgICAuUEFSQU1FVEVSIFVwZGF0ZQogICAgICAgIEZvcmNlcyBtb2R1bGUgdG8gYmUgdXBkYXRlZAoKICAgIC5QQVJBTUVURVIgUGVyc2lzdEVudmlyb25tZW50CiAgICAgICAgSWYgdGhpcyBzd2l0Y2ggaXMgc3BlY2lmaWVkLCB0aGUgaW5zdGFsbGF0aW9uIGRlc3RpbmF0aW9uIHBhdGggd2lsbCBiZSBhZGRlZCB0byBlaXRoZXIgdGhlIFVzZXIncyBQU01vZHVsZVBhdGggZW52aXJvbm1lbnQgdmFyaWFibGUgb3IgTWFjaGluZSdzIFBTTW9kdWxlUGF0aCBlbnZpcm9ubWVudCB2YXJpYWJsZSAoaWYgLUdsb2JhbCBzcGVjaWZpZWQpCgogICAgLlBBUkFNRVRFUiBJbnN0YWxsV2l0aE1vZHVsZU5hbWUKICAgICAgICBBbGxvd3MgdG8gc3BlY2lmeSB0aGUgbmFtZSBvZiB0aGUgbW9kdWxlIGFuZCBvdmVycmlkZSB0aGUgTW9kdWxlTmFtZSBub3JtYWxseSB1c2VkLgogICAgICAgIE5PVEU6IFRoaXMgcGFyYW1ldGVyIGFsbG93cyB0byBpbnN0YWxsIGEgbW9kdWxlIGZyb20gdGhlIFBzR2V0LURpcmVjdG9yeSBtb3JlIHRoYW4gb25jZSBhbmQgUHNHZXQgZG9lcyBub3QgcmVtZW1iZXIgdGhhdCB0aGlzIG1vZHVsZSBpcyBpbnN0YWxsZWQgd2l0aCBhIGRpZmZlcmVudCBuYW1lLgoKICAgIC5QQVJBTUVURVIgRG9Ob3RQb3N0SW5zdGFsbAogICAgICAgIElmIGRlZmluZWQsIHRoZSBQb3N0SW5zdGFsbEhvb2sgaXMgbm90IGV4ZWN1dGVkLgoKICAgIC5QQVJBTUVURVIgUG9zdEluc3RhbGxIb29rCiAgICAgICAgRGVmaW5lcyB0aGUgbmFtZSBvZiBhIHNjcmlwdCBpbnNpZGUgdGhlIGluc3RhbGxlZCBtb2R1bGUgZm9sZGVyIHdoaWNoIHNob3VsZCBiZSBleGVjdXRlZCBhZnRlciBpbnN0YWxsYXRpb24uCiAgICAgICAgRGVmYXVsdDogJ0luc3RhbGwucHMxJwojPgpmdW5jdGlvbiBJbnN0YWxsLU1vZHVsZUZyb21OdUdldCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCwgVmFsdWVGcm9tUGlwZWxpbmU9JHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignXlx3KyhbXy4tXVx3KykqJCcpXSAjIHJlZ2V4IGZyb20gTnVHZXQuUGFja2FnZUlkVmFsaWRhdG9yLl9pZFJlZ2V4CiAgICAgICAgW1ZhbGlkYXRlTGVuZ3RoKDEsMTAwKV0gIyBtYXhpbXVtIGxlbmd0aCBmcm9tIE51R2V0LlBhY2thZ2VJZFZhbGlkYXRvci5NYXhQYWNrYWdlSWRMZW5ndGgKICAgICAgICBbU3RyaW5nXSAkTnVHZXRQYWNrYWdlSWQsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFBhY2thZ2VWZXJzaW9uLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICROdWdldFNvdXJjZSA9ICdodHRwczovL251Z2V0Lm9yZy9hcGkvdjIvJywKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkUHJlUmVsZWFzZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkUHJlUmVsZWFzZVRhZywKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRGVzdGluYXRpb24gPSAkZ2xvYmFsOlBzR2V0RGVzdGluYXRpb25Nb2R1bGVQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVIYXNoLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRHbG9iYWwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJERvTm90SW1wb3J0LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTd2l0Y2hdICRBZGRUb1Byb2ZpbGUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJFVwZGF0ZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSR0cnVlKV0KICAgICAgICBbU3dpdGNoXSAkUGVyc2lzdEVudmlyb25tZW50LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N3aXRjaF0gJERvTm90UG9zdEluc3RhbGwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFBvc3RJbnN0YWxsSG9vawogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAnTW9kdWxlIHdpbGwgYmUgaW5zdGFsbGVkIGZyb20gTnVHZXQnCiAgICAgICAgJEluc3RhbGxXaXRoTW9kdWxlTmFtZSA9IGlmICgkSW5zdGFsbFdpdGhNb2R1bGVOYW1lKSB7ICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgfSBlbHNlIHsgJE51R2V0UGFja2FnZUlkIH0KCiAgICAgICAgaWYgKFRlc3QtTW9kdWxlSW5zdGFsbGVkQW5kSW1wb3J0IC1Nb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtVXBkYXRlOiRVcGRhdGUgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCkgewogICAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgIGlmICgtbm90ICRQb3N0SW5zdGFsbEhvb2spIHsKICAgICAgICAgICAgJFBvc3RJbnN0YWxsSG9vayA9ICdJbnN0YWxsLnBzMScKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRyZXN1bHQgPSBJbnZva2UtRG93bmxvYWROdWdldFBhY2thZ2UgLU51R2V0UGFja2FnZUlkICROdUdldFBhY2thZ2VJZCAtUGFja2FnZVZlcnNpb24gJFBhY2thZ2VWZXJzaW9uIC1Tb3VyY2UgJE51Z2V0U291cmNlIC1QcmVSZWxlYXNlOiRQcmVSZWxlYXNlIC1QcmVSZWxlYXNlVGFnICRQcmVSZWxlYXNlVGFnCiAgICAgICAgICAgIEluc3RhbGwtTW9kdWxlVG9EZXN0aW5hdGlvbiAtTW9kdWxlTmFtZTokcmVzdWx0Lk1vZHVsZU5hbWUgLUluc3RhbGxXaXRoTW9kdWxlTmFtZTokSW5zdGFsbFdpdGhNb2R1bGVOYW1lIC1Nb2R1bGVGb2xkZXJQYXRoOiRyZXN1bHQuTW9kdWxlRm9sZGVyUGF0aCAtVGVtcEZvbGRlclBhdGg6JHJlc3VsdC5UZW1wRm9sZGVyUGF0aCAtRGVzdGluYXRpb246JERlc3RpbmF0aW9uIC1Nb2R1bGVIYXNoOiRNb2R1bGVIYXNoIC1HbG9iYWw6JEdsb2JhbCAtUGVyc2lzdEVudmlyb25tZW50OiRQZXJzaXN0RW52aXJvbm1lbnQgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtQWRkVG9Qcm9maWxlOiRBZGRUb1Byb2ZpbGUgLVVwZGF0ZTokVXBkYXRlIC1Eb05vdFBvc3RJbnN0YWxsOiREb05vdFBvc3RJbnN0YWxsIC1Qb3N0SW5zdGFsbEhvb2s6JFBvc3RJbnN0YWxsSG9vawogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLUVycm9yICRfLkV4Y2VwdGlvbi5NZXNzYWdlCiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgIH0KfQoKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBJbnRlcm5hbCBDbWRsZXRzCiNyZWdpb24gTW9kdWxlIEluc3RhbGxhdGlvbgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgQWRkcyB2YWx1ZSB0byBhICJQYXRoIiB0eXBlIG9mIGVudmlyb25tZW50IHZhcmlhYmxlIChQQVRIIG9yIFBTTW9kdWxlUGF0aCkuICBQYXRoIHR5cGUgb2YgdmFyaWFibGVzIG11bmdlIHRoZSBVc2VyIGFuZCBNYWNoaW5lIHZhbHVlcyBpbnRvIHRoZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgc2Vzc2lvbi4KCiAgICAuUEFSQU1FVEVSIEdsb2JhbAogICAgICAgIFRoZSBTeXN0ZW0uRW52aXJvbm1lbnRWYXJpYWJsZVRhcmdldCBvZiB3aGF0IHR5cGUgb2YgZW52aXJvbm1lbnQgdmFyaWFibGUgdG8gbW9kaWZ5ICgiTWFjaGluZSIsIlVzZXIiIG9yICJTZXNzaW9uIikKCiAgICAuUEFSQU1FVEVSIFBhdGhUb0FkZAogICAgICAgIFRoZSBhY3R1YWwgcGF0aCB0byBhZGQgdG8gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlCgogICAgLlBBUkFNRVRFUiBQZXJzaXN0RW52aXJvbm1lbnQKICAgICAgICBJZiBzcGVjaWZpZWQsIHdpbGwgcGVybWFuZW50bHkgc3RvcmUgdGhlIHZhcmlhYmxlIGluIHJlZ2lzdHJ5CgogICAgLkVYQU1QTEUKICAgICAgICBBZGRQYXRoVG9QU01vZHVsZVBhdGggLVNjb3BlICJNYWNoaW5lIiAtUGF0aFRvQWRkICIkZW52OkNvbW1vblByb2dyYW1GaWxlc1xNb2R1bGVzIgoKICAgICAgICBEZXNjcmlwdGlvbgogICAgICAgIC0tLS0tLS0tLS0tCiAgICAgICAgVGhpcyBjb21tYW5kIGFkZCB0aGUgcGF0aCAiJGVudjpDb21tb25Qcm9ncmFtRmlsZXNcTW9kdWxlcyIgdG8gdGhlIE1hY2hpbmUgUFNNb2R1bGVQYXRoIGVudmlyb25tZW50IHZhcmlhYmxlCiM+CmZ1bmN0aW9uIEFkZC1QYXRoVG9QU01vZHVsZVBhdGggewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtICgKCgkgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQoJICAgIFtzdHJpbmddICRQYXRoVG9BZGQsCgogICAgICAgIFtzd2l0Y2hdICRQZXJzaXN0RW52aXJvbm1lbnQsCgogICAgICAgIFtzd2l0Y2hdICRHbG9iYWwKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgICRQYXRoVG9BZGQgPSBDb252ZXJ0VG8tQ2Fub25pY2FsUGF0aCAtUGF0aCAkUGF0aFRvQWRkCgogICAgICAgIGlmKC1ub3QgJFBlcnNpc3RFbnZpcm9ubWVudCkgewogICAgICAgICAgICBpZiAoLW5vdCAoJGVudjpQU01vZHVsZVBhdGguQ29udGFpbnMoJFBhdGhUb0FkZCkpKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJNb2R1bGUgaW5zdGFsbCBkZXN0aW5hdGlvbiBgIiRQYXRoVG9BZGRgIiBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIFBTTW9kdWxlUGF0aCBlbnZpcm9ubWVudCB2YXJpYWJsZS4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAkc2NvcGUgPSAnVXNlcicKICAgICAgICBpZiAoJEdsb2JhbCkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdUaGUgTWFjaGluZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBQU01vZHVsZVBhdGggd2lsbCBiZSBtb2RpZmllZC4nCiAgICAgICAgICAgICRzY29wZSA9ICdNYWNoaW5lJwogICAgICAgIH0KCiAgICAgICAgJHBhdGhWYWx1ZSA9ICcnICsgW0Vudmlyb25tZW50XTo6R2V0RW52aXJvbm1lbnRWYXJpYWJsZSgnUFNNb2R1bGVQYXRoJywgJHNjb3BlKQoKICAgICAgICBpZiAoLW5vdCAoJHBhdGhWYWx1ZS5Db250YWlucygkUGF0aFRvQWRkKSkpIHsKICAgICAgICAgICAgaWYgKCRwYXRoVmFsdWUgLWVxICcnKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiUFNNb2R1bGVQYXRoIGZvciBzY29wZSAnJHNjb3BlJyB3YXMgcmVhZCBlbXB0eS4gU2V0dGluZyBQb3dlclNoZWxsIGRlZmF1bHQgaW5zdGVhZC4iCiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlIC1lcSAnVXNlcicpIHsKICAgICAgICAgICAgICAgICAgICAkcGF0aFZhbHVlID0gSm9pbi1QYXRoIC1QYXRoIChbRW52aXJvbm1lbnRdOjpHZXRGb2xkZXJQYXRoKCdNeURvY3VtZW50cycpKSAtQ2hpbGRQYXRoICdXaW5kb3dzUG93ZXJTaGVsbFxNb2R1bGVzJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJHBhdGhWYWx1ZSA9IEpvaW4tUGF0aCAtUGF0aCAkUFNIT01FIC1DaGlsZFBhdGggJ01vZHVsZXMnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgtbm90ICgkcGF0aFZhbHVlLkNvbnRhaW5zKCRQYXRoVG9BZGQpKSkgewogICAgICAgICAgICAgICAgJHBhdGhWYWx1ZSA9ICIkcGF0aFZhbHVlOyRQYXRoVG9BZGQiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFtFbnZpcm9ubWVudF06OlNldEVudmlyb25tZW50VmFyaWFibGUoJ1BTTW9kdWxlUGF0aCcsICRwYXRoVmFsdWUsICRzY29wZSkKCiAgICAgICAgICAgIFVwZGF0ZS1QU01vZHVsZVBhdGgKCiAgICAgICAgICAgIFdyaXRlLUhvc3QgIiIiJFBhdGhUb0FkZCIiIGlzIGFkZGVkIHRvIHRoZSBQU01vZHVsZVBhdGggZW52aXJvbm1lbnQgdmFyaWFibGUiCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICIiIiRQYXRoVG9BZGQiIiBhbHJlYWR5IGV4aXN0cyBpbiBQU01vZHVsZVBhdGggZW52aXJvbm1lbnQgdmFyaWFibGUiCiAgICAgICAgfQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgU3RhbmRhcmRpemUgdGhlIHByb3ZpZGVkIHBhdGguCgogICAgLkRFU0NSSVBUSU9OCiAgICAgICAgQSBzaW1wbGUgcm91dGluZSB0byBzdGFuZGFyZGl6ZSBwYXRoIGZvcm1hdHMuCgogICAgLlBBUkFNRVRFUiBQYXRoCiM+CmZ1bmN0aW9uIENvbnZlcnRUby1DYW5vbmljYWxQYXRoIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFBhdGgKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgIHJldHVybiBbSU8uUGF0aF06OkdldEZ1bGxQYXRoKCgkUGF0aC5UcmltKCkpKQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgRmluZCB0aGUgbW9kdWxlIGZpbGUgaW4gdGhlIGdpdmVuIHBhdGguCgogICAgLlBBUkFNRVRFUiBQYXRoCiAgICAgICAgUGF0aCBvZiBtb2R1bGUKCiAgICAuUEFSQU1FVEVSIE1vZHVsZU5hbWUKICAgICAgICBOYW1lIG9mIHRoZSBNb2R1bGUKIz4KZnVuY3Rpb24gR2V0LU1vZHVsZUZpbGUgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkUGF0aCwKCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZU5hbWUgPSAnKicKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgICRJbmNsdWRlcyA9IEdldC1Qb3NzaWJsZU1vZHVsZUZpbGVOYW1lcyAtTW9kdWxlTmFtZSAkTW9kdWxlTmFtZQoKICAgICAgICAjIFNvcnQgYnkgZm9sZGVyIGxlbmd0aCBlbnN1cmVzIHRoYXQgd2UgdXNlIG9uZSBmcm9tIHJvb3QgZm9sZGVyKElzc3VlICMxMikKICAgICAgICAkRGlyZWN0b3J5TmFtZUxlbmd0aFByb3BlcnR5ID0gQHsKICAgICAgICAgICAgRSA9IHsgJF8uRGlyZWN0b3J5TmFtZS5MZW5ndGggfQogICAgICAgIH0KCiAgICAgICAgIyBzb3J0IGJ5IEluY2x1ZGVzIHRvIGdpdmUgUFNEMSBwcmVmZXJlbmNlIG92ZXIgUFNNMSwgZXRjCiAgICAgICAgJEluY2x1ZGVzUHJlZmVyZW5jZVByb3BlcnR5ID0gQHsKICAgICAgICAgICAgRSA9IHsKICAgICAgICAgICAgICAgIGZvciAoJEluZGV4ID0gMDsgJEluZGV4IC1sdCAkSW5jbHVkZXMuTGVuZ3RoOyAkSW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgIGlmICgkXy5OYW1lIC1saWtlICRJbmNsdWRlc1skSW5kZXhdKSB7IGJyZWFrIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRJbmRleAogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBHZXQtQ2hpbGRJdGVtIC1QYXRoICRQYXRoIC1JbmNsdWRlICRJbmNsdWRlcyAtUmVjdXJzZSB8CiAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7IC1ub3QgJF8uUFNJc0NvbnRhaW5lciB9IHwKICAgICAgICAgICAgU29ydC1PYmplY3QgLVByb3BlcnR5ICREaXJlY3RvcnlOYW1lTGVuZ3RoUHJvcGVydHksICRJbmNsdWRlc1ByZWZlcmVuY2VQcm9wZXJ0eSB8CiAgICAgICAgICAgIFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IEZ1bGxOYW1lIC1GaXJzdCAxCiAgICB9Cn0KCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBHZXQgbGlzdCBvZiBwb3NzaWJsZSBuYW1lcyBmb3IgdGhlIG1vZHVsZSBmaWxlLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlTmFtZQogICAgICAgIE5hbWUgb2YgdGhlIG1vZHVsZQojPgpmdW5jdGlvbiBHZXQtUG9zc2libGVNb2R1bGVGaWxlTmFtZXMgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkTW9kdWxlTmFtZQogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgJ3BzZDEnLCdwc20xJywncHMxJywnZGxsJywnY2R4bWwnLCd4YW1sJyB8IEZvckVhY2gtT2JqZWN0IHsgIiRNb2R1bGVOYW1lYC4kXyIgfQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgU2VhcmNoIGluIHRoZSBwcm92aWRlZCBmb2xkZXIgZm9yIGEgbW9kdWxlLCBpZiBwb3NzaWJsZSB3aXRoIHRoZSBwcm92aWRlZCBuYW1lLgoKICAgIC5QQVJBTUVURVIgUGF0aAogICAgICAgIFBhdGggdG8gc2VhcmNoIGluIGZvciB0aGUgbW9kdWxlLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlTmFtZQogICAgICAgIE1vZHVsZU5hbWUgd2hpY2ggaXMgZXhwZWN0ZWQuCiM+CmZ1bmN0aW9uIEZpbmQtTW9kdWxlTmFtZUFuZEZvbGRlciB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRQYXRoLAoKICAgICAgICBbU3RyaW5nXSAkTW9kdWxlTmFtZQogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKCRNb2R1bGVOYW1lKSB7CiAgICAgICAgICAgICRtb2R1bGVGaWxlID0gR2V0LU1vZHVsZUZpbGUgLVBhdGggJFBhdGggLU1vZHVsZU5hbWUgJE1vZHVsZU5hbWUKICAgICAgICAgICAgaWYgKC1ub3QgJG1vZHVsZUZpbGUpIHsKICAgICAgICAgICAgICAgIHRocm93ICJDb3VsZCBub3QgZmluZCBhIG1vZHVsZSB3aXRoIG5hbWUgJyRNb2R1bGVOYW1lJyBpbiB0aGUgcHJvdmlkZWQgZmlsZS4iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRtb2R1bGVGaWxlID0gR2V0LU1vZHVsZUZpbGUgLVBhdGggJFBhdGgKICAgICAgICAgICAgaWYgKC1ub3QgJG1vZHVsZUZpbGUpIHsKICAgICAgICAgICAgICAgIHRocm93ICdDb3VsZCBub3QgZmluZCBhbnkgbW9kdWxlIGluIHRoZSBwcm92aWRlZCBmaWxlLicKICAgICAgICAgICAgfQogICAgICAgICAgICAkTW9kdWxlTmFtZSA9IFtJTy5QYXRoXTo6R2V0RmlsZU5hbWVXaXRob3V0RXh0ZW5zaW9uKCRtb2R1bGVGaWxlKQogICAgICAgIH0KCiAgICAgICAgJG1vZHVsZUZvbGRlclBhdGggPSBTcGxpdC1QYXRoIC1QYXRoICRtb2R1bGVGaWxlCgogICAgICAgIHJldHVybiBAewogICAgICAgICAgICBNb2R1bGVOYW1lID0gJE1vZHVsZU5hbWUKICAgICAgICAgICAgTW9kdWxlRm9sZGVyUGF0aCA9ICRtb2R1bGVGb2xkZXJQYXRoCiAgICAgICAgfQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgSW1wb3J0IGdpdmVuIG1vZGVsZQoKICAgIC5ERVNDUklQVElPTgogICAgICAgIEltcG9ydCBnaXZlbiBtb2R1bGUgd2l0aCBzd2l0Y2ggLUdsb2JhbCAoZnVuY3Rpb25zIGF2YWlsYWJsZSB0byBvdGhlciBtb2R1bGVzKSBhbmQgYXZvaWQKICAgICAgICBhIFBvd2Vyc2hlbGwgYnVnIHJlbGF0ZWQgdG8gYmluYXJ5IG1vZHVsZXMuCgogICAgLiQKIz4KZnVuY3Rpb24gSW1wb3J0LU1vZHVsZUdsb2JhbGx5IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZU5hbWUsCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZUJhc2UsCiAgICAgICAgW1N3aXRjaF0gJEZvcmNlCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBXcml0ZS1WZXJib3NlICJJbXBvcnRpbmcgaW5zdGFsbGVkIG1vZHVsZSAnJE1vZHVsZU5hbWUnIGZyb20gJyQoJGluc3RhbGxlZE1vZHVsZS5Nb2R1bGVCYXNlKSciCiAgICAgICAgSW1wb3J0LU1vZHVsZSAtTmFtZSAkTW9kdWxlQmFzZSAtR2xvYmFsIC1Gb3JjZTokRm9yY2UKCiAgICAgICAgIyBGb3IgcHNnZXQgbm8gZnVydGhlciBjaGVja3MgYXJlIG5lZWRlZCBhbmQgdGhlaXIgZXhlY3V0aW9uIGNhdXNlCiAgICAgICAgIyBhbiBlcnJvciBmb3IgdGhlIHVwZGF0ZSBwcm9jZXNzIG9mICdwc2dldCcKICAgICAgICAjIGh0dHBzOi8vZ2l0aHViLmNvbS9wc2dldC9wc2dldC9pc3N1ZXMvMTg2CiAgICAgICAgaWYgKCRNb2R1bGVOYW1lIC1lcSAnUHNHZXQnKSB7CiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgJElkZW50aXR5RXh0ZW5zaW9uID0gW1N5c3RlbS5JTy5QYXRoXTo6R2V0RXh0ZW5zaW9uKChHZXQtTW9kdWxlRmlsZSAtUGF0aCAkTW9kdWxlQmFzZSAtTW9kdWxlTmFtZSAkTW9kdWxlTmFtZSkpCiAgICAgICAgaWYgKCRJZGVudGl0eUV4dGVuc2lvbiAtZXEgJy5kbGwnKSB7CiAgICAgICAgICAgICMgaW1wb3J0IG1vZHVsZSB0d2ljZSBmb3IgYmluYXJ5IG1vZHVsZXMgdG8gd29ya2Fyb3VuZCBQb3dlclNoZWxsIGJ1ZzoKICAgICAgICAgICAgIyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9Qb3dlclNoZWxsL2ZlZWRiYWNrL2RldGFpbHMvNzMzODY5L2ltcG9ydC1tb2R1bGUtZ2xvYmFsLWRvZXMtbm90LXdvcmstZm9yLWEtYmluYXJ5LW1vZHVsZQogICAgICAgICAgICBJbXBvcnQtTW9kdWxlIC1OYW1lICRNb2R1bGVCYXNlIC1HbG9iYWwgLUZvcmNlOiRGb3JjZQogICAgICAgIH0KICAgIH0KfQoKPCMKICAgIC5TWU5PUFNJUwogICAgICAgIERvd25sb2FkIG1vZHVsZSBmcm9tIFVSTAoKICAgIC5ERVNDUklQVElPTgogICAgICAgIERvd25sb2FkIG1vZHVsZSBmcm9tIFVSTCBhbmQgdHJ5IHRvIGludGVyZmVyZSB1bmtub3duIHBhcmFtZXRlci4KICAgICAgICBJZiBkb3dubG9hZCB0YXJnZXQgaXMgYSB6aXAtYXJjaGl2ZSBpdCB3aWxsIGJlIGV4dHJhY3RlZC4KCiAgICAgICAgUmV0dXJucyBhIG1hcCBjb250YWluaW5nIHRoZSBUZW1wRm9sZGVyUGF0aCwgTW9kdWxlRm9sZGVyUGF0aCBhbmQgTW9kdWxlTmFtZS4KICAgICAgICBUaGUgVGVtcEZvbGRlclBhdGggc2hvdWxkIGJlIHJlbW92ZWQgYWZ0ZXIgcHJvY2Vzc2luZyB0aGUgcmVzdWx0LgoKICAgIC5QQVJBTUVURVIgRG93bmxvYWRVcmwKICAgICAgICBVUkwgdG8gdGhlIG1vZHVsZSBkZWxpdmVyeSBmaWxlLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlTmFtZQogICAgICAgIE5hbWUgb2YgdGhlIG1vZHVsZS4KCiAgICAuUEFSQU1FVEVSIFR5cGUKICAgICAgICBUeXBlIG9mIHRoZSBtb2R1bGUgZGVsaXZlcnkgZmlsZS4KCiAgICAuUEFSQU1FVEVSIFZlcmIKICAgICAgICBIdHRwIG1ldGhvZCB1c2VkIGZvciBkb3dubG9hZC4KIz4KZnVuY3Rpb24gSW52b2tlLURvd25sb2FkTW9kdWxlRnJvbVdlYiB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRG93bmxvYWRVcmwsCgogICAgICAgIFtTdHJpbmddICRNb2R1bGVOYW1lLAoKICAgICAgICBbU3RyaW5nXSAkVHlwZSwKCiAgICAgICAgW1N0cmluZ10gJFZlcmIKICAgICkKCiAgICAkdGVtcEZvbGRlclBhdGggPSBKb2luLVBhdGggLVBhdGggKFtJTy5QYXRoXTo6R2V0VGVtcFBhdGgoKSkgLUNoaWxkUGF0aCAoW0d1aWRdOjpOZXdHdWlkKCkuVG9TdHJpbmcoKSkKICAgIE5ldy1JdGVtIC1QYXRoICR0ZW1wRm9sZGVyUGF0aCAtSXRlbVR5cGUgRGlyZWN0b3J5IHwgT3V0LU51bGwKICAgIFdyaXRlLURlYnVnICJUZW1wb3Jhcnkgd29yayBkaXJlY3RvcnkgY3JlYXRlZDogJHRlbXBGb2xkZXJQYXRoIgoKICAgICMgbWFrZSBjZXJ0YWluIHRoYXQgdGhlIHRlbXBGb2xkZXIgd2lsbCBiZSBkZWxldGVkIGlmIHRoZXJlIGlzIGFuIGVycm9yCiAgICB0cmFwIHsgUmVtb3ZlLUl0ZW0gLVBhdGggJHRlbXBGb2xkZXJQYXRoIC1SZWN1cnNlIC1Gb3JjZTsgYnJlYWsgfQoKICAgIFdyaXRlLVZlcmJvc2UgIkRvd25sb2FkaW5nIG1vZHVsZSBmcm9tICREb3dubG9hZFVybCIKICAgICRjbGllbnQgPSAobmV3LW9iamVjdCBOZXQuV2ViQ2xpZW50KQogICAgJGNsaWVudC5Qcm94eS5DcmVkZW50aWFscyA9IFtTeXN0ZW0uTmV0LkNyZWRlbnRpYWxDYWNoZV06OkRlZmF1bHROZXR3b3JrQ3JlZGVudGlhbHMKICAgICRkb3dubG9hZEZpbGVQYXRoID0gSm9pbi1QYXRoIC1QYXRoICR0ZW1wZm9sZGVyUGF0aCAtQ2hpbGRQYXRoICdkb3dubG9hZCcKICAgIGlmICgkVmVyYiAtZXEgJ1BPU1QnKSB7CiAgICAgICAgJGNsaWVudC5IZWFkZXJzWydDb250ZW50LXR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICAgICAgW0lPLkZpbGVdOjpXcml0ZUFsbEJ5dGVzKCRkb3dubG9hZEZpbGVQYXRoLCAkY2xpZW50LlVwbG9hZERhdGEoJERvd25sb2FkVXJsLCAnJykpCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkY2xpZW50LkRvd25sb2FkRmlsZSgkRG93bmxvYWRVcmwsICRkb3dubG9hZEZpbGVQYXRoKQogICAgfQoKICAgICRjYW5kaWRhdGVOYW1lID0gJ3t1bmRlZmluZWR9JwogICAgJGNvbnRlbnREaXNwb3NpdGlvbiA9ICRjbGllbnQuUmVzcG9uc2VIZWFkZXJzWydDb250ZW50LURpc3Bvc2l0aW9uJ10KICAgIFdyaXRlLURlYnVnICJUcnkgdG8gZ2V0IG1vZHVsZSBmaWxlIG5hbWUgZnJvbSBjb250ZW50IGRpc3Bvc2l0aW9uIGhlYWRlcjogQ29udGVudC1EaXNwb3NpdGlvbiA9ICckY29udGVudERpc3Bvc2l0aW9uJyIKCiAgICBpZiAoJGNvbnRlbnREaXNwb3NpdGlvbiAtbWF0Y2ggJ1xiZmlsZW5hbWU9Ij8oPzxuYW1lPlteL10rKVwuKD88ZXh0PnBzbTF8emlwKSI/JykgewogICAgICAgICRjYW5kaWRhdGVOYW1lID0gJE1hdGNoZXMubmFtZQogICAgICAgICRUeXBlID0gaWYgKCRUeXBlKSB7ICRUeXBlIH0gZWxzZWlmICgkTWF0Y2hlcy5leHQgLWVxICdwc20xJykgeyAkUFNHRVRfUFNNMSB9IGVsc2VpZiAoJE1hdGNoZXMuZXh0IC1lcSAnemlwJykgeyAkUFNHRVRfWklQIH0KICAgIH0KICAgIGVsc2UgewogICAgICAgIFdyaXRlLURlYnVnICJUcnkgdG8gZ2V0IG1vZHVsZSBmaWxlIG5hbWUgZnJvbSB1cmw6ICckRG93bmxvYWRVcmwnIgogICAgICAgIGlmICgkRG93bmxvYWRVcmwgLW1hdGNoICdcYig/PG5hbWU+W14vXSspXC4oPzxleHQ+cHNtMXx6aXApW1wjXD9dKicpIHsKICAgICAgICAgICAgJGNhbmRpZGF0ZU5hbWUgPSAkTWF0Y2hlcy5uYW1lCiAgICAgICAgICAgICRUeXBlID0gaWYgKCRUeXBlKSB7ICRUeXBlIH0gZWxzZWlmICgkTWF0Y2hlcy5leHQgLWVxICdwc20xJykgeyAkUFNHRVRfUFNNMSB9IGVsc2VpZiAoJE1hdGNoZXMuZXh0IC1lcSAnemlwJykgeyAkUFNHRVRfWklQIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRsb2NhdGlvbkhlYWRlciA9ICRjbGllbnQuUmVzcG9uc2VIZWFkZXJzWydMb2NhdGlvbiddCiAgICAgICAgICAgIFdyaXRlLURlYnVnICJDaGVjayBsb2NhdGlvbiBoZWFkZXIgaW4gY2FzZSBvZiByZWRpcmVjdDogJyRsb2NhdGlvbkhlYWRlciciCiAgICAgICAgICAgIGlmICgkbG9jYXRpb25IZWFkZXIgLW1hdGNoICdcYig/PG5hbWU+W14vXSspXC4oPzxleHQ+cHNtMXx6aXApW1wjXD9dKicpIHsKICAgICAgICAgICAgICAgICRjYW5kaWRhdGVOYW1lID0gJE1hdGNoZXMubmFtZQogICAgICAgICAgICAgICAgJFR5cGUgPSBpZiAoJFR5cGUpIHsgJFR5cGUgfSBlbHNlaWYgKCRNYXRjaGVzLmV4dCAtZXEgJ3BzbTEnKSB7ICRQU0dFVF9QU00xIH0gZWxzZWlmICgkTWF0Y2hlcy5leHQgLWVxICd6aXAnKSB7ICRQU0dFVF9aSVAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFdyaXRlLURlYnVnICJJbnZva2UtRG93bmxvYWRNb2R1bGVGcm9tV2ViOiBDYW5kaWRhdGVOYW1lID0gJyRjYW5kaWRhdGVOYW1lJyIKCiAgICBpZiAoLW5vdCAkVHlwZSkgewogICAgICAgICRjb250ZW50VHlwZSA9ICRjbGllbnQuUmVzcG9uc2VIZWFkZXJzWydDb250ZW50LVR5cGUnXQogICAgICAgIFdyaXRlLURlYnVnICJEb3dubG9hZCBoZWFkZXIgQ29udGVudC1UeXBlOiAnJGNvbnRlbnRUeXBlJyIKICAgICAgICBpZiAoJGNvbnRlbnRUeXBlIC1lcSAnYXBwbGljYXRpb24vemlwJykgewogICAgICAgICAgICAkdHlwZSA9ICRQU0dFVF9aSVAKICAgICAgICB9CiAgICAgICAgIyBjaGVjayBkb3dubG9hZGVkIGZpbGUgZm9yIHRoZSBQS1ppcCBoZWFkZXIKICAgICAgICBlbHNlaWYgKChHZXQtSXRlbSAtUGF0aCAkZG93bmxvYWRGaWxlUGF0aCkuTGVuZ3RoIC1ndCA0KSB7CiAgICAgICAgICAgIFdyaXRlLURlYnVnICdTZWFyY2ggZm9yIFBLWmlwSGVhZGVyJwogICAgICAgICAgICAka25vd25QS1ppcEhlYWRlciA9IDB4NTAsIDB4NGIsIDB4MDMsIDB4MDQKICAgICAgICAgICAgJGZpbGVIZWFkZXIgPSBHZXQtQ29udGVudCAtUGF0aCAkZG93bmxvYWRGaWxlUGF0aCAtRW5jb2RpbmcgQnl0ZSAtVG90YWxDb3VudCA0CiAgICAgICAgICAgIGlmIChbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRrbm93blBLWmlwSGVhZGVyKSAtZXEgW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkZmlsZUhlYWRlcikpIHsKICAgICAgICAgICAgICAgIFdyaXRlLURlYnVnICdGb3VuZCBQS1ppcEhlYWRlciA9PiBUeXBlID0gWklQJwogICAgICAgICAgICAgICAgJHR5cGUgPSAkUFNHRVRfWklQCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAnTm8gUEtaaXBIZWFkZXIgZm91bmQgPT4gVHlwZSAtbmUgWklQJwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoLW5vdCAkVHlwZSkgewogICAgICAgICAgICBXcml0ZS1EZWJ1ZyAnSWYgaXRzIG1vc3QgbGlrZWx5IG5vIHppcCBpdCBoYXMgdG8gYmUgYW4gUFNNMSBmaWxlLicKICAgICAgICAgICAgJFR5cGUgPSAkUFNHRVRfUFNNMQogICAgICAgIH0KICAgIH0KCiAgICAkbW9kdWxlRm9sZGVyUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAkdGVtcEZvbGRlclBhdGggLUNoaWxkUGF0aCAnbW9kdWxlJwogICAgTmV3LUl0ZW0gLVBhdGggJG1vZHVsZUZvbGRlclBhdGggLUl0ZW1UeXBlIERpcmVjdG9yeSB8IE91dC1OdWxsCgogICAgc3dpdGNoICgkVHlwZSkgewogICAgICAgICRQU0dFVF9aSVAgewogICAgICAgICAgICAkemlwRmlsZVBhdGggPSAkZG93bmxvYWRGaWxlUGF0aCArICcuemlwJwogICAgICAgICAgICBNb3ZlLUl0ZW0gLVBhdGggJGRvd25sb2FkRmlsZVBhdGggLURlc3RpbmF0aW9uICR6aXBGaWxlUGF0aAogICAgICAgICAgICBFeHBhbmQtWmlwTW9kdWxlIC1QYXRoICR6aXBGaWxlUGF0aCAtRGVzdGluYXRpb24gJG1vZHVsZUZvbGRlclBhdGgKICAgICAgICB9CiAgICAgICAgJFBTR0VUX1BTTTEgewogICAgICAgICAgICBpZiAoLW5vdCAkTW9kdWxlTmFtZSkgewogICAgICAgICAgICAgICAgaWYgKCRjYW5kaWRhdGVOYW1lIC1lcSAne3VuZGVmaW5lZH0nKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBndWVzcyBtb2R1bGUgbmFtZS4gVHJ5IHNwZWNpZnlpbmcgTW9kdWxlTmFtZSBhcmd1bWVudCEnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkTW9kdWxlTmFtZSA9ICRjYW5kaWRhdGVOYW1lCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRwc21GaWxlUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAkbW9kdWxlRm9sZGVyUGF0aCAtQ2hpbGRQYXRoICIkTW9kdWxlTmFtZS5wc20xIgogICAgICAgICAgICBNb3ZlLUl0ZW0gLVBhdGggJGRvd25sb2FkRmlsZVBhdGggLURlc3RpbmF0aW9uICRwc21GaWxlUGF0aAogICAgICAgIH0KICAgICAgICBkZWZhdWx0IHsKICAgICAgICAgICAgdGhyb3cgIlR5cGUgJFR5cGUgaXMgbm90IHN1cHBvcnRlZCB5ZXQiCiAgICAgICAgfQogICAgfQoKICAgICRmb3VuZFJlc3VsdCA9IEZpbmQtTW9kdWxlTmFtZUFuZEZvbGRlciAtUGF0aCAkbW9kdWxlRm9sZGVyUGF0aCAtTW9kdWxlTmFtZSAkTW9kdWxlTmFtZQoKICAgIFdyaXRlLURlYnVnICJJbnZva2UtRG93bmxvYWRNb2R1bGVGcm9tV2ViOiBNb2R1bGVOYW1lID0gJyRNb2R1bGVOYW1lJyIKCiAgICByZXR1cm4gQHsKICAgICAgICBUZW1wRm9sZGVyUGF0aCA9ICR0ZW1wRm9sZGVyUGF0aAogICAgICAgIE1vZHVsZUZvbGRlclBhdGggPSAkZm91bmRSZXN1bHQuTW9kdWxlRm9sZGVyUGF0aAogICAgICAgIE1vZHVsZU5hbWUgPSAkZm91bmRSZXN1bHQuTW9kdWxlTmFtZQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgSW5zdGFsbCB0aGUgcHJvdmlkZWQgbW9kdWxlIGludG8gdGhlIGRlZmluZWQgZGVzdGluYXRpb24uCgogICAgLkRFU0NSSVBUSU9OCiAgICAgICAgSW5zdGFsbCB0aGUgbW9kdWxlIGluc2lkZSBvZiB0aGUgcHJvdmlkZWQgZGlyZWN0b3J5IGludG8gdGhlIGRlZmluZWQgZGVzdGluYXRpb24KICAgICAgICBhbmQgcGVyZm9ybSB0aGUgZm9sbG93aW5nIHN0ZXBzOgoKICAgICAgICAqIFJlbmFtZSBtb2R1bGUgaWYgcmVxdWVzdGVzIGJ5IHByb3ZpZGVkIEluc3RhbGxXaXRoTW9kdWxlTmFtZQogICAgICAgICogSWYgYSBNb2R1bGVIYXNoIGlzIHByb3ZpZGVkLCBjaGVjayBpZiBpdCBtYXRjaGVzLgogICAgICAgICogQWRkIHRoZSBkZXN0aW5hdGlvbiBwYXRoIHRvIHRoZSBQU01vZHVsZVBhdGggaWYgbmVjZXNzYXJ5IChkZXBlbmRzIG9uIHByb3ZpZGVkIHBhcmFtZXRlcnMpCiAgICAgICAgKiBQbGFjZSB0aGUgY29udmVudGlvbnMtbWF0Y2hpbmcgbW9kdWxlIGZvbGRlciBpbiB0aGUgZGVzdGluYXRpb24gZm9sZGVyCiAgICAgICAgKiBJbXBvcnQgdGhlIG1vZHVsZSBpZiBuZWNlc3NhcnkKICAgICAgICAqIEFkZCB0aGUgcHJvZmlsZSBpbXBvcnQgdG8gcHJvZmlsZSBpZiBuZWNlc3NhcnkKCiAgICAuUEFSQU1FVEVSIE1vZHVsZU5hbWUKICAgICAgICBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlLgoKICAgIC5QQVJBTUVURVIgSW5zdGFsbFdpdGhNb2R1bGVOYW1lCiAgICAgICAgVGhlIG5hbWUgdGhlIG1vZHVsZSBzaG91bGQgZ2V0LgoKICAgIC5QQVJBTUVURVIgTW9kdWxlRm9sZGVyUGF0aAogICAgICAgIFRoZSBwYXRoIHRvIHRoZSBtb2R1bGUgZGF0YSwgd2hpY2ggY29udGFpbnMgdGhlIG1vZHVsZSBtYWluIGZpbGUsIG5hbWVkIGFjY29yZGluZyB0byBNb2R1bGVOYW1lCgogICAgLlBBUkFNRVRFUiBUZW1wRm9sZGVyUGF0aAogICAgICAgIFRlbXBQYXRoIHVzZWQgYnkgUHNHZXQgZm9yIGRvaW5nIHRoZSB3b3JrLiBDb250YWlucyB0aGUgTW9kdWxlRm9sZGVyUGF0aCBhbmQgd2lsbCBiZSBkZWxldGVkIGFmdGVyIHByb2Nlc3NpbmcsCgogICAgLlBBUkFNRVRFUiBEZXN0aW5hdGlvbgogICAgICAgIFBhdGggdG8gd2hpY2ggdGhlIG1vZHVsZSB3aWxsIGJlIGluc3RhbGxlZC4KCiAgICAuUEFSQU1FVEVSIE1vZHVsZUhhc2gKICAgICAgICBXaGVuIE1vZHVsZUhhc2ggaXMgc3BlY2lmaWVkIHRoZSBjaG9zZW4gbW9kdWxlIHdpbGwgb25seSBiZSBpbnN0YWxsZWQgaWYgaXRzIGNvbnRlbnRzIG1hdGNoIHRoZSBwcm92aWRlZCBoYXNoLgoKICAgIC5QQVJBTUVURVIgR2xvYmFsCiAgICAgICAgSW5mbHVlbmNlIHRoZSBQU01vZHVsZVBhdGggY2hhbmdlcyBhbmQgcHJvZmlsZSBjaGFuZ2VzLgoKICAgIC5QQVJBTUVURVIgUGVyc2lzdEVudmlyb25tZW50CiAgICAgICAgRGVmaW5lcyBpZiB0aGUgUFNNb2R1bGVQYXRoIGNoYW5nZXMgc2hvdWxkIGJlIHBlcnNpc3RlbnQuCgogICAgLlBBUkFNRVRFUiBEb05vdEltcG9ydAogICAgICAgIERlZmluZXMgaWYgdGhlIGluc3RhbGxlZCBtb2R1bGUgc2hvdWxkIGJlIGltcG9ydGVkLgoKICAgIC5QQVJBTUVURVIgQWRkVG9Qcm9maWxlCiAgICAgICAgRGVmaW5lcyBpZiBhbiAnSW1wb3J0LU1vZHVsZScgc3RhdGVtZW50IHNob3VsZCBiZSBhZGRlZCB0byB0aGUgcHJvZmlsZS4KCiAgICAuUEFSQU1FVEVSIFVwZGF0ZQogICAgICAgIERlZmluZXMgaWYgYW4gYWxyZWFkeSBleGlzdGluZyBmb2xkZXIgaW4gdGhlIHRhcmdldCBtYXkgYmUgZGVsZXRlZCBmb3IgaW5zdGFsbGF0aW9uIG9mIHRoZSBtb2R1bGUuCgogICAgLlBBUkFNRVRFUiBEb05vdFBvc3RJbnN0YWxsCiAgICAgICAgSWYgZGVmaW5lZCwgdGhlIFBvc3RJbnN0YWxsSG9vayBpcyBub3QgZXhlY3V0ZWQuCgogICAgLlBBUkFNRVRFUiBQb3N0SW5zdGFsbEhvb2sKICAgICAgICBEZWZpbmVzIHRoZSBuYW1lIG9mIGEgc2NyaXB0IGluc2lkZSB0aGUgaW5zdGFsbGVkIG1vZHVsZSBmb2xkZXIgd2hpY2ggc2hvdWxkIGJlIGV4ZWN1dGVkIGFmdGVyIGluc3RhbGxhdGlvbi4KIz4KZnVuY3Rpb24gSW5zdGFsbC1Nb2R1bGVUb0Rlc3RpbmF0aW9uIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVOYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJE1vZHVsZUZvbGRlclBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkVGVtcEZvbGRlclBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkRGVzdGluYXRpb24sCgogICAgICAgIFtTdHJpbmddICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUsCgogICAgICAgIFtTdHJpbmddICRNb2R1bGVIYXNoLAoKICAgICAgICBbU3dpdGNoXSAkR2xvYmFsLAoKICAgICAgICBbU3dpdGNoXSAkUGVyc2lzdEVudmlyb25tZW50LAoKICAgICAgICBbU3dpdGNoXSAkRG9Ob3RJbXBvcnQsCgogICAgICAgIFtTd2l0Y2hdICRBZGRUb1Byb2ZpbGUsCgogICAgICAgIFtTd2l0Y2hdICRVcGRhdGUsCgogICAgICAgIFtTd2l0Y2hdICREb05vdFBvc3RJbnN0YWxsLAoKICAgICAgICBbU3RyaW5nXSAkUG9zdEluc3RhbGxIb29rCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICAjIE1ha2UgY2VydGFpbiB0aGUgdGVtcCBmb2xkZXIgaXMgZGVsZXRlZAogICAgICAgIHRyYXAgeyBSZW1vdmUtSXRlbSAtUGF0aCAkVGVtcEZvbGRlclBhdGggLVJlY3Vyc2UgLUZvcmNlOyBicmVhayB9CgogICAgICAgICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgPSBpZiAoJEluc3RhbGxXaXRoTW9kdWxlTmFtZSkgeyAkSW5zdGFsbFdpdGhNb2R1bGVOYW1lIH0gZWxzZSB7ICRNb2R1bGVOYW1lIH0KICAgICAgICAjIENhc2U6IG5vICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgYW5kIG1vZHVsZSBuYW1lIGludGVyZmVyZWQgZnJvbSBpbnN0YWxsIGZpbGVzCiAgICAgICAgaWYgKFRlc3QtTW9kdWxlSW5zdGFsbGVkQW5kSW1wb3J0IC1Nb2R1bGVOYW1lOiRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLURlc3RpbmF0aW9uOiREZXN0aW5hdGlvbiAtVXBkYXRlOiRVcGRhdGUgLURvTm90SW1wb3J0OiREb05vdEltcG9ydCAtTW9kdWxlSGFzaDokTW9kdWxlSGFzaCkgewogICAgICAgICAgICBSZW1vdmUtSXRlbSAtUGF0aCAkVGVtcEZvbGRlclBhdGggLVJlY3Vyc2UgLUZvcmNlCiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgJG1vZHVsZUZpbGVQYXRoID0gR2V0LU1vZHVsZUZpbGUgLVBhdGggJE1vZHVsZUZvbGRlclBhdGggLU1vZHVsZU5hbWUgJE1vZHVsZU5hbWUKICAgICAgICAjIHNhbml0eSBjaGVja3MKICAgICAgICBpZiAoLW5vdCAkbW9kdWxlRmlsZVBhdGgpIHsKICAgICAgICAgICAgdGhyb3cgJ0JVRyEgTW9kdWxlIGluc3RhbGxhdGlvbiBmYWlsZWQgaW4gc3RlcCBJbnN0YWxsLU1vZHVsZVRvRGVzdGluYXRpb24uIFBsZWFzZSByZXBvcnQgdGhpcyBpc3N1ZSBpbmNsdWRpbmcgeW91ciBjb21tYW5kIGxpbmUuJwogICAgICAgIH0KICAgICAgICBpZiAoJE1vZHVsZUZvbGRlclBhdGggLW5lIChTcGxpdC1QYXRoIC1QYXRoICRtb2R1bGVGaWxlUGF0aCkpIHsKICAgICAgICAgICAgdGhyb3cgJ0JVRyEgTW9kdWxlIGluc3RhbGxhdGlvbiBmYWlsZWQgaW4gc3RlcCBJbnN0YWxsLU1vZHVsZVRvRGVzdGluYXRpb24uIFBsZWFzZSByZXBvcnQgdGhpcyBpc3N1ZSBpbmNsdWRpbmcgeW91ciBjb21tYW5kIGxpbmUuJwogICAgICAgIH0KCiAgICAgICAgaWYgKCRJbnN0YWxsV2l0aE1vZHVsZU5hbWUgLW5lICRNb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIFJlbmFtZS1JdGVtIC1QYXRoICRtb2R1bGVGaWxlUGF0aCAtTmV3TmFtZSAoJEluc3RhbGxXaXRoTW9kdWxlTmFtZSArIChHZXQtSXRlbSAkbW9kdWxlRmlsZVBhdGgpLkV4dGVuc2lvbikKICAgICAgICB9CgogICAgICAgICR0YXJnZXRGb2xkZXJQYXRoID0gSm9pbi1QYXRoIC1QYXRoICREZXN0aW5hdGlvbiAtQ2hpbGRQYXRoICRJbnN0YWxsV2l0aE1vZHVsZU5hbWUKCiAgICAgICAgaWYgKCRNb2R1bGVIYXNoKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0Vuc3VyZSB0aGF0IHRoZSBoYXNoIG9mIHRoZSBtb2R1bGUgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGhhc2gnCgogICAgICAgICAgICAkbmV3TW9kdWxlSGFzaCA9IEdldC1Qc0dldE1vZHVsZUhhc2ggLVBhdGggJE1vZHVsZUZvbGRlclBhdGgKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiSGFzaCBvZiBtb2R1bGUgaW4gJyRNb2R1bGVGb2xkZXJQYXRoJyBpczogJG5ld01vZHVsZUhhc2giCiAgICAgICAgICAgIGlmICgkTW9kdWxlSGFzaCAtbmUgJG5ld01vZHVsZUhhc2gpIHsKICAgICAgICAgICAgICAgIHRocm93ICdNb2R1bGUgY29udGVudHMgZG8gbm90IG1hdGNoIHNwZWNpZmllZCBtb2R1bGUgaGFzaC4gRW5zdXJlIHRoZSBleHBlY3RlZCBoYXNoIGlzIGNvcnJlY3QgYW5kIHRoZSBtb2R1bGUgc291cmNlIGlzIHRydXN0ZWQuJwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIFRlc3QtUGF0aCAkdGFyZ2V0Rm9sZGVyUGF0aCApIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ01vZHVsZSBhbHJlYWR5IGV4aXN0cyBpbiBkZXN0aW5hdGlvbiBwYXRoLiBDaGVjayBpZiBoYXNoIGluIGRlc3RpbmF0aW9uIGlzIGNvcnJlY3QuIElmIG5vdCByZXBsYWNlIHdpdGggdG8gYmUgaW5zdGFsbGVkIG1vZHVsZS4nCiAgICAgICAgICAgICAgICAkZGVzdGluYXRpb25Nb2R1bGVIYXNoID0gR2V0LVBzR2V0TW9kdWxlSGFzaCAtUGF0aCAkdGFyZ2V0Rm9sZGVyUGF0aAogICAgICAgICAgICAgICAgaWYgKCRkZXN0aW5hdGlvbk1vZHVsZUhhc2ggLW5lICRNb2R1bGVIYXNoICkgewogICAgICAgICAgICAgICAgICAgICRVcGRhdGUgPSAkdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjQWRkIHRoZSBEZXN0aW5hdGlvbiBwYXRoIHRvIHRoZSBVc2VyIG9yIE1hY2hpbmUgZW52aXJvbm1lbnQKICAgICAgICBBZGQtUGF0aFRvUFNNb2R1bGVQYXRoIC1QYXRoVG9BZGQ6JERlc3RpbmF0aW9uIC1QZXJzaXN0RW52aXJvbm1lbnQ6JFBlcnNpc3RFbnZpcm9ubWVudCAtR2xvYmFsOiRHbG9iYWwKCiAgICAgICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAkdGFyZ2V0Rm9sZGVyUGF0aCkpIHsKICAgICAgICAgICAgTmV3LUl0ZW0gJHRhcmdldEZvbGRlclBhdGggLUl0ZW1UeXBlIERpcmVjdG9yeSAtRXJyb3JBY3Rpb24gQ29udGludWUgLUVycm9yVmFyaWFibGUgRmFpbE1rRGlyIHwgT3V0LU51bGwKICAgICAgICAgICAgIyMgSGFuZGxlIHRoZSBlcnJvciBpZiB0aGV5IGFza2VkIGZvciAtR2xvYmFsIGFuZCBkb24ndCBoYXZlIHBlcm1pc3Npb25zCiAgICAgICAgICAgIGlmICgkRmFpbE1rRGlyIC1hbmQgQCgkRmFpbE1rRGlyKVswXS5DYXRlZ29yeUluZm8uQ2F0ZWdvcnkgLWVxICdQZXJtaXNzaW9uRGVuaWVkJykgewogICAgICAgICAgICAgICAgdGhyb3cgIllvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGluc3RhbGwgYSBtb2R1bGUgdG8gJyREZXN0aW5hdGlvbicuIFlvdSBtYXkgbmVlZCB0byBiZSBlbGV2YXRlZC4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ3JlYXRlIG1vZHVsZSBmb2xkZXIgYXQgJHRhcmdldEZvbGRlclBhdGgiCiAgICAgICAgfQoKICAgICAgICBXcml0ZS1EZWJ1ZyAnRW1wdHkgZXhpc3RpbmcgbW9kdWxlIGZvbGRlciBiZWZvcmUgY29weWluZyBuZXcgZmlsZXMuJwogICAgICAgIEdldC1DaGlsZEl0ZW0gLVBhdGggJHRhcmdldEZvbGRlclBhdGggLUZvcmNlIHwgUmVtb3ZlLUl0ZW0gLUZvcmNlIC1SZWN1cnNlIC1FcnJvckFjdGlvbiBTdG9wCgogICAgICAgIFdyaXRlLURlYnVnICdDb3B5IG1vZHVsZSBmaWxlcyB0byBkZXN0aW5hdGlvbiBmb2xkZXInCiAgICAgICAgR2V0LUNoaWxkSXRlbSAtUGF0aCAkTW9kdWxlRm9sZGVyUGF0aCB8IENvcHktSXRlbSAtRGVzdGluYXRpb24gJHRhcmdldEZvbGRlclBhdGggLUZvcmNlIC1SZWN1cnNlCgogICAgICAgIGlmICgtbm90ICREb05vdFBvc3RJbnN0YWxsKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlBvc3RJbnN0YWxsSG9vayAkUG9zdEluc3RhbGxIb29rIgogICAgICAgICAgICBpZiAoJFBvc3RJbnN0YWxsSG9vayAtbGlrZSAnKi5wczEnKSB7CiAgICAgICAgICAgICAgICAkcG9zdEluc3RhbGxTY3JpcHQgPSBKb2luLVBhdGggLVBhdGggJHRhcmdldEZvbGRlclBhdGggLUNoaWxkUGF0aCAkUG9zdEluc3RhbGxIb29rCiAgICAgICAgICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRwb3N0SW5zdGFsbFNjcmlwdCAtUGF0aFR5cGUgTGVhZikgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIickUG9zdEluc3RhbGxIb29rJyBmb3VuZCBpbiBtb2R1bGUuIExldCdzIGV4ZWN1dGUgaXQuIgogICAgICAgICAgICAgICAgICAgICYgJHBvc3RJbnN0YWxsU2NyaXB0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJQb3N0SW5zdGFsbEhvb2sgJyRQb3N0SW5zdGFsbEhvb2snIG5vdCBmb3VuZC4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRpc0Rlc3RpbmF0aW9uSW5QU01vZHVsZVBhdGggPSAkZW52OlBTTW9kdWxlUGF0aC5Db250YWlucygkRGVzdGluYXRpb24pCiAgICAgICAgaWYgKCRpc0Rlc3RpbmF0aW9uSW5QU01vZHVsZVBhdGgpIHsKICAgICAgICAgICAgaWYgKC1ub3QgKEdldC1Nb2R1bGUgJE1vZHVsZU5hbWUgLUxpc3RBdmFpbGFibGUpKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAnRm9yIHNvbWUgdW5leHBlY3RlZCByZWFzb25zIG1vZHVsZSB3YXMgbm90IGluc3RhbGxlZC4nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmICgtbm90IChHZXQtTW9kdWxlRmlsZSAtUGF0aCAkdGFyZ2V0Rm9sZGVyUGF0aCkpIHsKICAgICAgICAgICAgICAgIHRocm93ICdGb3Igc29tZSB1bmV4cGVjdGVkIHJlYXNvbnMgbW9kdWxlIHdhcyBub3QgaW5zdGFsbGVkLicKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCRVcGRhdGUpIHsKICAgICAgICAgICAgV3JpdGUtSG9zdCAiTW9kdWxlICRNb2R1bGVOYW1lIHdhcyBzdWNjZXNzZnVsbHkgdXBkYXRlZC4iIC1Gb3JlZ3JvdW5kIEdyZWVuCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1Ib3N0ICJNb2R1bGUgJE1vZHVsZU5hbWUgd2FzIHN1Y2Nlc3NmdWxseSBpbnN0YWxsZWQuIiAtRm9yZWdyb3VuZCBHcmVlbgogICAgICAgIH0KCiAgICAgICAgaWYgKC1ub3QgJERvTm90SW1wb3J0KSB7CiAgICAgICAgICAgIEltcG9ydC1Nb2R1bGVHbG9iYWxseSAtTW9kdWxlTmFtZTokTW9kdWxlTmFtZSAtTW9kdWxlQmFzZTokdGFyZ2V0Rm9sZGVyUGF0aCAtRm9yY2U6JFVwZGF0ZQogICAgICAgIH0KCiAgICAgICAgaWYgKCRpc0Rlc3RpbmF0aW9uSW5QU01vZHVsZVBhdGggLWFuZCAkQWRkVG9Qcm9maWxlKSB7CiAgICAgICAgICAgICMgV0FSTklORyAkUHJvZmlsZSBpcyBlbXB0eSBvbiBXaW4yMDA4UjIgdW5kZXIgQWRtaW5pc3RyYXRvcgogICAgICAgICAgICBpZiAoJFBST0ZJTEUpIHsKICAgICAgICAgICAgICAgIGlmICgtbm90IChUZXN0LVBhdGggJFBST0ZJTEUpKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ3JlYXRpbmcgUG93ZXJTaGVsbCBwcm9maWxlLi4uYG4kUFJPRklMRSIKICAgICAgICAgICAgICAgICAgICBOZXctSXRlbSAkUFJPRklMRSAtVHlwZSBGaWxlIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChTZWxlY3QtU3RyaW5nICRQUk9GSUxFIC1QYXR0ZXJuICJJbXBvcnQtTW9kdWxlICRNb2R1bGVOYW1lIikgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkltcG9ydC1Nb2R1bGUgJE1vZHVsZU5hbWUgY29tbWFuZCBhbHJlYWR5IGluIHlvdXIgcHJvZmlsZSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRzaWduYXR1cmUgPSBHZXQtQXV0aGVudGljb2RlU2lnbmF0dXJlIC1GaWxlUGF0aCAkUFJPRklMRQoKICAgICAgICAgICAgICAgICAgICBpZiAoJHNpZ25hdHVyZS5TdGF0dXMgLWVxICdWYWxpZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgIlBzR2V0IGNhbm5vdCBtb2RpZnkgY29kZS1zaWduZWQgcHJvZmlsZSAnJFBST0ZJTEUnLiIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkFkZCBJbXBvcnQtTW9kdWxlICRNb2R1bGVOYW1lIGNvbW1hbmQgdG8gdGhlIHByb2ZpbGUiCiAgICAgICAgICAgICAgICAgICAgICAgICJgbkltcG9ydC1Nb2R1bGUgJE1vZHVsZU5hbWUiIHwgQWRkLUNvbnRlbnQgJFBST0ZJTEUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBXcml0ZS1EZWJ1ZyAiQ2xlYW51cCB0ZW1wb3Jhcnkgd29yayBmb2xkZXIgJyRUZW1wRm9sZGVyUGF0aCciCiAgICAgICAgUmVtb3ZlLUl0ZW0gLVBhdGggJFRlbXBGb2xkZXJQYXRoIC1SZWN1cnNlIC1Gb3JjZQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgVGVzdCBpZiBtb2R1bGUgaXMgaW5zdGFsbGVkIGFuZCBpbXBvcnQgaXQgdGhlbi4KCiAgICAuREVTQ1JJUFRJT04KICAgICAgICBUZXN0IGlmIG1vZHVsZSB3aXRoIHByb3ZpZGVkIG5hbWUgaXMgaW5zdGFsbGVkIGluIHRoZSB0YXJnZXQgZGVzdGluYXRpb24uCiAgICAgICAgSWYgaXQgaXMgaW5zdGFsbGVkLCBpdCB3aWxsIGJlIGltcG9ydGVkLiBSZXR1cm5zICckdHJ1ZScgaWYgaW5zdGFsbGVkLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlTmFtZQogICAgICAgIE5hbWUgb2YgdGhlIG1vZHVsZQoKICAgIC5QQVJBTUVURVIgRGVzdGluYXRpb24KICAgICAgICBJbnN0YWxsYXRpb24gZGVzdGluYXRpb24KCiAgICAuUEFSQU1FVEVSIFVwZGF0ZQogICAgICAgIElmICdVcGRhdGUnLXN3aXRjaCBpcyBzZXQsIHRoaXMgcmV0dXJucyBhbHdheXMgJyR0cnVlJy4KCiAgICAuUEFSQU1FVEVSIERvTm90SW1wb3J0CiAgICAgICAgU3dpdGNoIHN1cHByZXNzIHRoZSBpbXBvcnQgb2YgbW9kdWxlLgoKICAgIC5QQVJBTUVURVIgTW9kdWxlSGFzaAogICAgICAgIElmIGEgaGFzaCBpcyBwcm92aWRlZCBhbiBpbnN0YWxsZWQgbW9kdWxlIHdpbGwgb25seSBiZSBhY2NlcHRlZCBhcyBpbnN0YWxsZWQgaWYgdGhlIGhhc2ggbWF0Y2guCiM+CmZ1bmN0aW9uIFRlc3QtTW9kdWxlSW5zdGFsbGVkQW5kSW1wb3J0IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRNb2R1bGVOYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJERlc3RpbmF0aW9uLAoKICAgICAgICBbU3dpdGNoXSAkVXBkYXRlLAoKICAgICAgICBbU3dpdGNoXSAkRG9Ob3RJbXBvcnQsCgogICAgICAgIFtTdHJpbmddICRNb2R1bGVIYXNoCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBpZiAoJFVwZGF0ZSkgewogICAgICAgICAgICAjVE9ETzogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBtb3JlIGxpa2UgdGhlIG9sZCAtRm9yY2UgZmxhZywgYmVjYXVzZSB0aGlzIHdpbGwgZm9yY2UgYW4gaW5zdGFsbGF0aW9uIGFsc28gaWYgbm8gaW5zdGFsbGF0aW9uIGluIGRlc3RpbmF0aW9uIGV4aXN0cy4KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiSWdub3JpbmcgaWYgbW9kdWxlIHdpdGggbmFtZSAnJE1vZHVsZU5hbWUnIGlzIGFscmVhZHkgaW5zdGFsbGVkIGJlY2F1c2Ugb2YgdXBkYXRlIG1vZGUuIgogICAgICAgICAgICByZXR1cm4gJGZhbHNlCiAgICAgICAgfQoKICAgICAgICAkaW5zdGFsbGVkTW9kdWxlID0gR2V0LU1vZHVsZSAtTmFtZSAkTW9kdWxlTmFtZSAtTGlzdEF2YWlsYWJsZQoKICAgICAgICBpZiAoJGluc3RhbGxlZE1vZHVsZSkgewogICAgICAgICAgICBpZiAoJGluc3RhbGxlZE1vZHVsZS5Db3VudCAtZ3QgMSkgewogICAgICAgICAgICAgICAgJHRhcmdldE1vZHVsZSA9ICRpbnN0YWxsZWRNb2R1bGUgfCBXaGVyZS1PYmplY3QgeyAoQ29udmVydFRvLUNhbm9uaWNhbFBhdGggLVBhdGggKFNwbGl0LVBhdGggJF8uTW9kdWxlQmFzZSkpIC1lcSAkRGVzdGluYXRpb24gfSB8IFNlbGVjdC1PYmplY3QgLUZpcnN0IDEKCiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkdGFyZ2V0TW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiTW9kdWxlIHdpdGggbmFtZSAnJE1vZHVsZU5hbWUnIHdhcyBub3QgZm91bmQgaW4gJyREZXN0aW5hdGlvbicuIEJ1dCBpdCB3YXMgZm91bmQgaW46YG4gJCgkaW5zdGFsbGVkTW9kdWxlLk1vZHVsZUJhc2UgfCBGb3JtYXQtTGlzdCB8IE91dC1TdHJpbmcpIgogICAgICAgICAgICAgICAgICAgIHJldHVybiAkZmFsc2UKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJUaGUgbW9kdWxlICckTW9kdWxlTmFtZScgd2FzIGluc3RhbGxlZCBhdCBtb3JlIHRoZW4gb25lIGxvY2F0aW9uLiBJbnN0YWxsZWQgcGF0aHM6YG5gdCQoJGluc3RhbGxlZE1vZHVsZS5Nb2R1bGVCYXNlIHwgRm9ybWF0LUxpc3QgfCBPdXQtU3RyaW5nKWBuJyQoJGZpcnN0SW5zdGFsbGVkTW9kdWxlLk1vZHVsZUJhc2UpJyBpcyB0aGUgc2VhcmNoZWQgZGVzdGluYXRpb24uIgogICAgICAgICAgICAgICAgJGluc3RhbGxlZE1vZHVsZSA9ICR0YXJnZXRNb2R1bGUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKChTcGxpdC1QYXRoICRpbnN0YWxsZWRNb2R1bGUuTW9kdWxlQmFzZSkgLW5lICREZXN0aW5hdGlvbikgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiTW9kdWxlIHdpdGggbmFtZSAnJE1vZHVsZU5hbWUnIHdhcyBmb3VuZCBpbiAnJCgkaW5zdGFsbGVkTW9kdWxlLk1vZHVsZUJhc2UpJyBidXQgbm90IGluICckRGVzdGluYXRpb24nLiIKICAgICAgICAgICAgICAgIHJldHVybiAkZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJGNhbmRpZGF0ZU1vZHVsZVBhdGggPSBKb2luLVBhdGggLVBhdGggJERlc3RpbmF0aW9uIC1DaGlsZFBhdGggJE1vZHVsZU5hbWUKICAgICAgICAgICAgJHBvc3NpYmxlTW9kdWxlRmlsZU5hbWVzID0gR2V0LVBvc3NpYmxlTW9kdWxlRmlsZU5hbWVzIC1Nb2R1bGVOYW1lICRNb2R1bGVOYW1lCgogICAgICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRjYW5kaWRhdGVNb2R1bGVQYXRoXCogLUluY2x1ZGUgJHBvc3NpYmxlTW9kdWxlRmlsZU5hbWVzIC1QYXRoVHlwZSBMZWFmKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJNb2R1bGUgd2l0aCBuYW1lICckTW9kdWxlTmFtZScgZm91bmQgaW4gJyREZXN0aW5hdGlvbicgKG5vdGU6IGRlc3RpbmF0aW9uIGlzIG5vdCBpbiBQU01vZHVsZVBhdGgpIgogICAgICAgICAgICAgICAgJGluc3RhbGxlZE1vZHVsZSA9IEB7IE1vZHVsZUJhc2UgPSAkQ2FuZGlkYXRlTW9kdWxlUGF0aCB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJNb2R1bGUgd2l0aCBuYW1lICckTW9kdWxlTmFtZScgaXMgbm90IGluc3RhbGxlZC4iCiAgICAgICAgICAgICAgICByZXR1cm4gJGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgkTW9kdWxlSGFzaCkgewogICAgICAgICAgICAkaW5zdGFsbGVkTW9kdWxlSGFzaCA9IEdldC1Qc0dldE1vZHVsZUhhc2ggLVBhdGggJGluc3RhbGxlZE1vZHVsZS5Nb2R1bGVCYXNlCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkhhc2ggb2YgbW9kdWxlIGluICckKCRpbnN0YWxsZWRNb2R1bGUuTW9kdWxlQmFzZSknIGlzOiAkSW5zdGFsbGVkTW9kdWxlSGFzaCIKICAgICAgICAgICAgaWYgKCRNb2R1bGVIYXNoIC1uZSAkaW5zdGFsbGVkTW9kdWxlSGFzaCkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRXhwZWN0ZWQgJyRNb2R1bGVIYXNoJyBidXQgY2FsY3VsYXRlZCAnJGluc3RhbGxlZE1vZHVsZUhhc2gnLiIKICAgICAgICAgICAgICAgIHJldHVybiAkZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiJyRNb2R1bGVOYW1lJyBhbHJlYWR5IGluc3RhbGxlZC4gVXNlIC1VcGRhdGUgaWYgeW91IG5lZWQgdXBkYXRlIgoKICAgICAgICBpZiAoJERvTm90SW1wb3J0IC1lcSAkZmFsc2UpIHsKICAgICAgICAgICAgSW1wb3J0LU1vZHVsZUdsb2JhbGx5IC1Nb2R1bGVOYW1lICRNb2R1bGVOYW1lIC1Nb2R1bGVCYXNlICRpbnN0YWxsZWRNb2R1bGUuTW9kdWxlQmFzZSAtRm9yY2U6JFVwZGF0ZQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0cnVlCiAgICB9Cn0KCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBFeHRyYWN0IHRoZSBjb250ZW50IG9mIHRoZSByZWZlcmVuY2VkIHppcCBmaWxlIHRvIHRoZSBkZWZpbmQgZGVzdGluYXRpb24KCiAgICAuUEFSQU1BVEVSIFBhdGgKICAgICAgICBQYXRoIHRvIGEgemlwIGZpbGUgd2l0aCB0aGUgZmlsZSBleHRlbnNpb24gJy56aXAnCgogICAgLlBhcmFtZXRlciBEZXN0aW5hdGlvbgogICAgICAgIFBhdGggdG8gd2hpY2ggdGhlIHppcCBjb250ZW50IGlzIGV4dHJhY3RlZAojPgpmdW5jdGlvbiBFeHBhbmQtWmlwTW9kdWxlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICRQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTEsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJERlc3RpbmF0aW9uCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICBXcml0ZS1EZWJ1ZyAiVW56aXBwaW5nICRQYXRoIHRvICREZXN0aW5hdGlvbi4uLiIKCiAgICAgICAgIyBDaGVjayBpZiBwb3dlcnNoZWxsIHYzKyBhbmQgLm5ldCB2NC41IGlzIGF2YWlsYWJsZQogICAgICAgICRuZXRGYWlsZWQgPSAkdHJ1ZQogICAgICAgIGlmICggJFBTVmVyc2lvblRhYmxlLlBTVmVyc2lvbi5NYWpvciAtZ2UgMyAtYW5kIChHZXQtQ2hpbGRJdGVtIC1QYXRoICdIS0xNOlxTT0ZUV0FSRVxNaWNyb3NvZnRcTkVUIEZyYW1ld29yayBTZXR1cFxORFBcdjQnIC1SZWN1cnNlIHwgR2V0LUl0ZW1Qcm9wZXJ0eSAtTmFtZSBWZXJzaW9uIHwgV2hlcmUtT2JqZWN0IHsgJF8uVmVyc2lvbiAtbGlrZSAnNC41KicgfSkgKSB7CiAgICAgICAgICAgIFdyaXRlLURlYnVnICdBdHRlbXB0aW5nIHVuemlwIHVzaW5nIHRoZSAuTkVUIEZyYW1ld29yay4uLicKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBbU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHldOjpMb2FkV2l0aFBhcnRpYWxOYW1lKCJTeXN0ZW0uSU8uQ29tcHJlc3Npb24uRmlsZVN5c3RlbSIpCiAgICAgICAgICAgICAgICBbU3lzdGVtLklPLkNvbXByZXNzaW9uLlppcEZpbGVdOjpFeHRyYWN0VG9EaXJlY3RvcnkoJFBhdGgsICREZXN0aW5hdGlvbikKICAgICAgICAgICAgICAgICRuZXRGYWlsZWQgPSAkZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgkbmV0RmFpbGVkKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBXcml0ZS1EZWJ1ZyAnQXR0ZW1wdGluZyB1bnppcCB1c2luZyB0aGUgV2luZG93cyBTaGVsbC4uLicKICAgICAgICAgICAgICAgICRzaGVsbEFwcCA9IE5ldy1PYmplY3QgLUNvbSBTaGVsbC5BcHBsaWNhdGlvbgogICAgICAgICAgICAgICAgJHNoZWxsWmlwID0gJHNoZWxsQXBwLk5hbWVTcGFjZShbU3RyaW5nXSRQYXRoKQogICAgICAgICAgICAgICAgJHNoZWxsRGVzdCA9ICRzaGVsbEFwcC5OYW1lU3BhY2UoJERlc3RpbmF0aW9uKQogICAgICAgICAgICAgICAgJHNoZWxsRGVzdC5Db3B5SGVyZSgkc2hlbGxaaXAuaXRlbXMoKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAkc2hlbGxGYWlsZWQgPSAkdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjIGlmIGZhaWx1cmUgYWxyZWFkeSByZWdpc3RlcmVkIG9yIG5vIHJlc3VsdAogICAgICAgIGlmICgoJG5ldEZhaWxlZCAtYW5kICRzaGVsbEZhaWxlZCkgLW9yICgoR2V0LUNoaWxkSXRlbSAkRGVzdGluYXRpb24gfCBNZWFzdXJlLU9iamVjdCB8IFdoZXJlLU9iamVjdCB7ICRfLkNvdW50IC1lcSAwfSkpKSB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgJ1dlIHdlcmUgdW5hYmxlIHRvIGRlY29tcHJlc3MgdGhlIGRvd25sb2FkZWQgbW9kdWxlLiBUaGlzIHRlbmRzIHRvIG1lYW4gYm90aCBvZiB0aGUgZm9sbG93aW5nIGFyZSB0cnVlOicKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAnMS4gWW91Jyd2ZSBkaXNhYmxlZCBXaW5kb3dzIEV4cGxvcmVyIFppcCBmaWxlIGludGVncmF0aW9uIG9yIGFyZSBydW5uaW5nIG9uIFdpbmRvd3MgU2VydmVyIENvcmUuJwogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICcyLiBZb3UgZG9uJyd0IGhhdmUgdGhlIC5ORVQgRnJhbWV3b3JrIDQuNSBpbnN0YWxsZWQuJwogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICdZb3UnJ2xsIG5lZWQgdG8gY29ycmVjdCBhdCBsZWFzdCBvbmUgb2YgdGhlIGFib3ZlIGlzc3VlcyBkZXBlbmRpbmcgb24geW91ciBpbnN0YWxsYXRpb24gdG8gcHJvY2VlZC4nCiAgICAgICAgICAgIHRocm93ICdVbmFibGUgdG8gdW56aXAgZG93bmxvYWRlZCBtb2R1bGUgZmlsZSEnCiAgICAgICAgfQogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgVXBkYXRlICckZW52OlBTTW9kdWxlUGF0aCcgZnJvbSAnVXNlcicgYW5kICdNYWNoaW5lJyBzY29wZSBlbnZyaW9ubWVudCB2YXJpYWJsZXMKIz4KZnVuY3Rpb24gVXBkYXRlLVBTTW9kdWxlUGF0aCB7CiAgICBwcm9jZXNzIHsKICAgICAgICAjIHBvd2Vyc2hlbGwgZGVmYXVsdAogICAgICAgICRwc01vZHVsZVBhdGggPSAiJGVudjpQcm9ncmFtRmlsZXNcV2luZG93c1Bvd2Vyc2hlbGxcTW9kdWxlc1wiCgogICAgICAgICRtYWNoaW5lTW9kdWxlUGF0aCA9IFtFbnZpcm9ubWVudF06OkdldEVudmlyb25tZW50VmFyaWFibGUoJ1BTTW9kdWxlUGF0aCcsICdNYWNoaW5lJykKICAgICAgICBpZiAoLW5vdCAkbWFjaGluZU1vZHVsZVBhdGgpIHsKICAgICAgICAgICAgIyBwb3dlcnNoZWxsIGRlZmF1bHQKICAgICAgICAgICAgJG1hY2hpbmVNb2R1bGVQYXRoID0gSm9pbi1QYXRoIC1QYXRoICRQU0hPTUUgLUNoaWxkUGF0aCAnTW9kdWxlcycKICAgICAgICB9CgogICAgICAgICR1c2VyTW9kdWxlUGF0aCA9IFtFbnZpcm9ubWVudF06OkdldEVudmlyb25tZW50VmFyaWFibGUoJ1BTTW9kdWxlUGF0aCcsICdVc2VyJykKICAgICAgICBpZiAoLW5vdCAkdXNlck1vZHVsZVBhdGgpIHsKICAgICAgICAgICAgIyBwb3dlcnNoZWxsIGRlZmF1bHQKICAgICAgICAgICAgJHVzZXJNb2R1bGVQYXRoID0gSm9pbi1QYXRoIC1QYXRoIChbRW52aXJvbm1lbnRdOjpHZXRGb2xkZXJQYXRoKCdNeURvY3VtZW50cycpKSAtQ2hpbGRQYXRoICdXaW5kb3dzUG93ZXJTaGVsbFxNb2R1bGVzJwogICAgICAgIH0KCiAgICAgICAgJG5ld1Nlc3Npb25WYWx1ZSA9ICIkdXNlck1vZHVsZVBhdGg7JG1hY2hpbmVNb2R1bGVQYXRoOyRwc01vZHVsZVBhdGgiCgogICAgICAgICNTZXQgdGhlIHZhbHVlIGluIHRoZSBjdXJyZW50IHByb2Nlc3MKICAgICAgICBbRW52aXJvbm1lbnRdOjpTZXRFbnZpcm9ubWVudFZhcmlhYmxlKCdQU01vZHVsZVBhdGgnLCAkbmV3U2Vzc2lvblZhbHVlLCAnUHJvY2VzcycpCiAgICB9Cn0KI2VuZHJlZ2lvbgoKI3JlZ2lvbiBOdUdldCBIYW5kbGluZwo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgRG93bmxvYWQgYSBtb2R1bGUgb2YgdHlwZSBOdUdldCBwYWNrYWdlCgogICAgLlBBUkFNRVRFUiBOdUdldFBhY2thZ2VJZAogICAgICAgIE51R2V0IHBhY2thZ2UgaWQKCiAgICAuUEFSQU1FVEVSIFBhY2thZ2VWZXJzaW9uCiAgICAgICAgU3BlY2lmaWMgdmVyc2lvbiB0byBiZSBpbnN0YWxsZWQuIElmIG5vdCBkZWZpbmVkLCBpbnN0YWxsIG5ld2VzdC4KCiAgICAuUEFSQU1FVEVSIFNvdXJjZQogICAgICAgIE51R2V0IHNvdXJjZSB1cmwKCiAgICAuUEFSQU1FVEVSIFByZVJlbGVhc2UKICAgICAgICBJZiBubyBQYWNrYWdlVmVyc2lvbiBpcyBkZWZpbmVkLCBtYXkgUHJlUmVsZWFzZXMgYmUgdXNlZD8KCiAgICAuUEFSQU1FVEVSIFByZVJlbGVhc2VUYWcKICAgICAgICBJZiBQcmVSZWxlYXNlcyBtYXkgYmUgdXNlZCwgYWxzbyB1c2UgcHJlcmVsZWFzZXMgb2YgYSBzcGVjaWFsIHRhZz8KIz4KZnVuY3Rpb24gSW52b2tlLURvd25sb2FkTnVHZXRQYWNrYWdlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtTdHJpbmddICROdUdldFBhY2thZ2VJZCwKCiAgICAgICAgW1N0cmluZ10gJFBhY2thZ2VWZXJzaW9uLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJFNvdXJjZSwKCiAgICAgICAgW1N3aXRjaF0gJFByZVJlbGVhc2UsCgogICAgICAgIFtTdHJpbmddICRQcmVSZWxlYXNlVGFnCiAgICApCiAgICBwcm9jZXNzIHsKICAgICAgICAkV2ViQ2xpZW50ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLk5ldC5XZWJDbGllbnQKICAgICAgICAkV2ViQ2xpZW50LlByb3h5LkNyZWRlbnRpYWxzID0gW1N5c3RlbS5OZXQuQ3JlZGVudGlhbENhY2hlXTo6RGVmYXVsdE5ldHdvcmtDcmVkZW50aWFscwoKICAgICAgICBpZiAoLW5vdCAkU291cmNlLkVuZHNXaXRoKCcvJykpIHsKICAgICAgICAgICAgJFNvdXJjZSArPSAnLycKICAgICAgICB9CgogICAgICAgIFdyaXRlLVZlcmJvc2UgIlF1ZXJ5aW5nICckU291cmNlJyByZXBvc2l0b3J5IGZvciBwYWNrYWdlIHdpdGggSWQgJyROdUdldFBhY2thZ2VJZCciCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJFVybCA9ICJ7MX1QYWNrYWdlcygpP2AkZmlsdGVyPXRvbG93ZXIoSWQpK2VxKyd7MH0nJmAkb3JkZXJieT1JZCIgLWYgJE51R2V0UGFja2FnZUlkLlRvTG93ZXIoKSwgJFNvdXJjZQogICAgICAgICAgICBXcml0ZS1EZWJ1ZyAiVHJ5aW5nIE51R2V0IHF1ZXJ5IHVybDogJFVybCIKICAgICAgICAgICAgJFhtbERvYyA9IFt4bWxdJFdlYkNsaWVudC5Eb3dubG9hZFN0cmluZygkVXJsKQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAkVXJsID0gInsxfVBhY2thZ2VzKElkPSd7MH0nKT9gJG9yZGVyYnk9SWQiIC1mICROdUdldFBhY2thZ2VJZCwgJFNvdXJjZQogICAgICAgICAgICAgICAgV3JpdGUtRGVidWcgIlRyeWluZyBOdUdldCBxdWVyeSB1cmw6ICRVcmwiCiAgICAgICAgICAgICAgICAkWG1sRG9jID0gW3htbF0kV2ViQ2xpZW50LkRvd25sb2FkU3RyaW5nKCRVcmwpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgdGhyb3cgIlVuYWJsZSB0byBkb3dubG9hZCBmcm9tIE51R2V0IGZlZWQ6ICQoJF8uRXhjZXB0aW9uLklubmVyRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoJFBhY2thZ2VWZXJzaW9uKSB7CiAgICAgICAgICAgICMgIHZlcnNpb24gcmVnZXhzIGNhbiBiZSBmb3VuZCBpbiB0aGUgTnVHZXQuU2VtYW50aWNWZXJzaW9uIGNsYXNzCiAgICAgICAgICAgICRFbnRyeSA9ICRYbWxEb2MuZmVlZC5lbnRyeSB8CiAgICAgICAgICAgICAgICBXaGVyZS1PYmplY3QgeyAkXy5wcm9wZXJ0aWVzLlZlcnNpb24gLWVxICRQYWNrYWdlVmVyc2lvbiB9IHwKICAgICAgICAgICAgICAgIFNlbGVjdC1PYmplY3QgLUZpcnN0IDEKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRFbnRyeSA9IEZpbmQtTGF0ZXN0TnVnZXRQYWNrYWdlRnJvbUZlZWQgLUZlZWQ6JFhtbERvYy5mZWVkLmVudHJ5IC1QcmVSZWxlYXNlOiRQcmVSZWxlYXNlIC1QcmVSZWxlYXNlVGFnOiRQcmVSZWxlYXNlVGFnCiAgICAgICAgfQoKICAgICAgICBpZiAoJEVudHJ5KSB7CiAgICAgICAgICAgICRQYWNrYWdlVmVyc2lvbiA9ICRFbnRyeS5wcm9wZXJ0aWVzLlZlcnNpb24KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRm91bmQgTnVHZXQgcGFja2FnZSB2ZXJzaW9uICckUGFja2FnZVZlcnNpb24nIgogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgKCJDYW5ub3QgZmluZCBOdUdldCBwYWNrYWdlICckTnVHZXRQYWNrYWdlSWQgJFBhY2thZ2VWZXJzaW9uJyBbUHJlUmVsZWFzZT0nezB9JywgUHJlUmVsZWFzZVRhZz0nezF9J10iIC1mICRQcmVSZWxlYXNlLCAkUHJlUmVsZWFzZVRhZykKICAgICAgICB9CgogICAgICAgICREb3dubG9hZFVybCA9ICRFbnRyeS5jb250ZW50LnNyYwogICAgICAgIFdyaXRlLVZlcmJvc2UgIkRvd25sb2FkaW5nIE51R2V0IHBhY2thZ2UgZnJvbSAnJERvd25sb2FkVXJsJyIKICAgICAgICAkRG93bmxvYWRSZXN1bHQgPSBJbnZva2UtRG93bmxvYWRNb2R1bGVGcm9tV2ViIC1Eb3dubG9hZFVybDokRG93bmxvYWRVcmwgLU1vZHVsZU5hbWU6JE51Z2V0UGFja2FnZUlkCiAgICAgICAgcmV0dXJuICREb3dubG9hZFJlc3VsdAogICAgfQp9Cgo8IwogICAgLlNZTk9QU0lTCiAgICAgICAgRmluZCB0aGUgbGF0ZXN0IHJlbGVhc2UgaW4gdGhlIHByb3ZpZGVkIE51R2V0IGZlZWQgZm9yIHRoZSBOdUdldCBwYWNrYWdlIGlkLgoKICAgIC5QQVJBTUVURVIgRmVlZAogICAgICAgIFhtbCBmZWVkIG5vZGUgZm9yIE51R2V0IHBhY2thZ2UKCiAgICAuUEFSQU1FVEVSIFByZVJlbGVhc2UKICAgICAgICBJZiBubyBQYWNrYWdlVmVyc2lvbiBpcyBkZWZpbmVkLCBtYXkgUHJlUmVsZWFzZXMgYmUgdXNlZD8KCiAgICAuUEFSQU1FVEVSIFByZVJlbGVhc2VUYWcKICAgICAgICBJZiBQcmVSZWxlYXNlcyBtYXkgYmUgdXNlZCwgYWxzbyB1c2UgcHJlcmVsZWFzZXMgb2YgYSBzcGVjaWFsIHRhZz8KIz4KZnVuY3Rpb24gRmluZC1MYXRlc3ROdWdldFBhY2thZ2VGcm9tRmVlZCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0KICAgICgKICAgICAgICBbT2JqZWN0W11dICRGZWVkLAoKICAgICAgICBbU3dpdGNoXSAkUHJlUmVsZWFzZSwKCiAgICAgICAgW1N0cmluZ10gJFByZVJlbGVhc2VUYWcKICAgICkKICAgIHByb2Nlc3MgewogICAgICAgICMgRnJvbSBOdUdldC5TZW1hbnRpY1ZlcnNpb24gLSBodHRwczovL2dpdGh1Yi5jb20vSGFhY2tlZC9OdUdldC9ibG9iL21hc3Rlci9zcmMvQ29yZS9TZW1hbnRpY1ZlcnNpb24uY3MKICAgICAgICAkc2VtVmVyUmVnZXggPSAiXig/PFZlcnNpb24+XGQrKFxzKlwuXHMqXGQrKXswLDN9KSg/PFJlbGVhc2U+LVthLXpdWzAtOWEtei1dKik/JCIKICAgICAgICAkc2VtVmVyU3RyaWN0UmVnZXggPSAiXig/PFZlcnNpb24+XGQrKFwuXGQrKXsyfSkoPzxSZWxlYXNlPi1bYS16XVswLTlhLXotXSopPyQiCgogICAgICAgICMgZmluZCBvbmx5IHN0YWJsZSB2ZXJzaW9ucwogICAgICAgICRzdGFibGVSZWdleCA9ICJeKFxkKyhccypcLlxzKlxkKyl7MCwzfSk/JCIKICAgICAgICAjIGZpbmQgc3RhYmxlIGFuZCBwcmVyZWxlYXNlIHZlcnNpb25zCiAgICAgICAgJHByZVJlbGVhc2VSZWdleCA9ICJeKFxkKyhccypcLlxzKlxkKyl7MCwzfSkoLVthLXpdWzAtOWEtei1dKik/JCIKICAgICAgICAjIGZpbmQgb25seSBhIHNwZWNpZmljIHByZXJlbGVhc2UgdmVyc2lvbnMKICAgICAgICAkc3BlY2lmaWNQcmVSZWxlYXNlUmVnZXggPSAiXihcZCsoXHMqXC5ccypcZCspe3swLDN9fS17MH1bMC05YS16LV0qKT8kIiAtZiAkcHJlUmVsZWFzZVRhZwoKICAgICAgICAjIFNldCB0aGUgcmVxdWlyZWQgc2VhcmNoIGV4cHJlc3Npb24KICAgICAgICAkc2VhcmNoUmVnZXggPSAkc3RhYmxlUmVnZXgKICAgICAgICBpZiAoJHByZVJlbGVhc2UpIHsgJHNlYXJjaFJlZ2V4ID0gJHByZVJlbGVhc2VSZWdleCB9CiAgICAgICAgaWYgKCRwcmVSZWxlYXNlVGFnKSB7ICRzZWFyY2hSZWdleCA9ICRzcGVjaWZpY1ByZVJlbGVhc2VSZWdleCB9CgogICAgICAgICRwYWNrYWdlcyA9ICRmZWVkIHwgV2hlcmUtT2JqZWN0IHsKCiAgICAgICAgICAgICgkXy5wcm9wZXJ0aWVzLlZlcnNpb24pIC1tYXRjaCAkc2VhcmNoUmVnZXgKICAgICAgICB9CgogICAgICAgIHJldHVybiAoJHBhY2thZ2VzIHwgU2VsZWN0IC1MYXN0IDEpCiAgICB9Cn0KCiNlbmRyZWdpb24KCiNyZWdpb24gTW9kdWxlIEhhc2hpbmcKPCMKICAgIC5TWU5PUFNJUwogICAgICAgIENhbGN1bGF0ZSBhIGhhc2ggZm9yIHRoZSBnaXZlbiBmaWxlCgogICAgLlBBUkFNRVRFUiBQYXRoCiAgICAgICAgRmlsZSBwYXRoIGZvciBoYXNpbmcKIz4KZnVuY3Rpb24gR2V0LUZpbGVIYXNoIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSldCiAgICAgICAgW0FsaWFzKCdGdWxsTmFtZScpXQogICAgICAgIFtTdHJpbmddICRQYXRoCiAgICApCiAgICBiZWdpbiB7CiAgICAgICAgJEFsZ29yaXRobSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuU0hBMjU2TWFuYWdlZAogICAgfQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAtUGF0aCAkUGF0aCAtUGF0aFR5cGUgTGVhZikpIHsKICAgICAgICAgICAgV3JpdGUtRXJyb3IgIkNhbm5vdCBmaW5kIGZpbGU6ICRQYXRoIgogICAgICAgICAgICByZXR1cm4KICAgICAgICB9CgogICAgICAgICRTdHJlYW0gPSBbU3lzdGVtLklPLkZpbGVdOjpPcGVuUmVhZCgkUGF0aCkKICAgICAgICB0cnkgewogICAgICAgICAgICAkSGFzaEJ5dGVzID0gJEFsZ29yaXRobS5Db21wdXRlSGFzaCgkU3RyZWFtKQogICAgICAgICAgICBbQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJEhhc2hCeXRlcykgLXJlcGxhY2UgJy0nLCcnCiAgICAgICAgfQogICAgICAgIGZpbmFsbHkgewogICAgICAgICAgICAkU3RyZWFtLkNsb3NlKCkKICAgICAgICB9CiAgICB9Cn0KCjwjCiAgICAuU1lOT1BTSVMKICAgICAgICBDYWxjdWxhdGUgYSBoYXNoIGZvciB0aGUgZ2l2ZW4gZGlyZWN0b3J5LgoKICAgIC5QQVJBTUVURVIgUGF0aAogICAgICAgIFBhdGggdG8gdGhlIGZvbGRlciB3aGljaCBzaG91bGQgYmUgaGFzaGVkLgojPgpmdW5jdGlvbiBHZXQtRm9sZGVySGFzaCB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbU3RyaW5nXSAkUGF0aAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAtUGF0aCAkUGF0aCAtUGF0aFR5cGUgQ29udGFpbmVyKSkgewogICAgICAgICAgICB0aHJvdyAiQ2Fubm90IGZpbmQgZm9sZGVyOiAkUGF0aCIKICAgICAgICB9CgogICAgICAgICRQYXRoID0gJFBhdGggKyAnXCcgLXJlcGxhY2UgJ1xcXFwkJywnXFwnCiAgICAgICAgJFBhdGhQYXR0ZXJuID0gJ14nICsgW1JlZ2V4XTo6RXNjYXBlKCRQYXRoKQoKICAgICAgICAkQ2hpbGRIYXNoZXMgPSBHZXQtQ2hpbGRJdGVtIC1QYXRoICRQYXRoIC1SZWN1cnNlIC1Gb3JjZSB8CiAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7IC1ub3QgJF8uUFNJc0NvbnRhaW5lciB9IHwKICAgICAgICAgICAgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5IEB7CiAgICAgICAgICAgICAgICAgICAgUmVsYXRpdmVQYXRoID0gJF8uRnVsbE5hbWUgLXJlcGxhY2UgJFBhdGhQYXR0ZXJuLCAnJwogICAgICAgICAgICAgICAgICAgIEhhc2ggPSBHZXQtRmlsZUhhc2ggLVBhdGggJF8uRnVsbE5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAkVGV4dCA9IEAoJENoaWxkSGFzaGVzIHwKICAgICAgICAgICAgU29ydC1PYmplY3QgLVByb3BlcnR5IFJlbGF0aXZlUGF0aCB8CiAgICAgICAgICAgIEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICd7MH0gezF9JyAtZiAkXy5IYXNoLCAkXy5SZWxhdGl2ZVBhdGgKICAgICAgICAgICAgfSkgLWpvaW4gJ2ByYG4nCgogICAgICAgIFdyaXRlLURlYnVnICJURVhUPiRUZXh0PFRFWFQiCgogICAgICAgICRBbGdvcml0aG0gPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uU2VjdXJpdHkuQ3J5cHRvZ3JhcGh5LlNIQTI1Nk1hbmFnZWQKICAgICAgICAkSGFzaEJ5dGVzID0gJEFsZ29yaXRobS5Db21wdXRlSGFzaChbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCRUZXh0KSkKICAgICAgICBbQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJEhhc2hCeXRlcykgLXJlcGxhY2UgJy0nLCcnCiAgICB9Cn0KCiNlbmRyZWdpb24KCiNlbmRyZWdpb24KCiNyZWdpb24gVGFiRXhwYW5zaW9uCiMgQmFjayBVcCBUYWJFeHBhbnNpb24gaWYgbmVlZGVkCiMgSWRlYSBpcyBzdG9sZW4gZnJvbSBwb3NoLWdpdCArIHBzLWdldAokdGFiRXhwYW5zaW9uQmFja3VwID0gJ1BzR2V0X0RlZmF1bHRUYWJFeHBhbnNpb24nCmlmICgoVGVzdC1QYXRoIC1QYXRoIEZ1bmN0aW9uOlxUYWJFeHBhbnNpb24gLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUpIC1hbmQgLW5vdCAoVGVzdC1QYXRoIC1QYXRoIEZ1bmN0aW9uOlwkdGFiRXhwYW5zaW9uQmFja3VwIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKSkgewogICAgUmVuYW1lLUl0ZW0gLVBhdGggRnVuY3Rpb246XFRhYkV4cGFuc2lvbiAkdGFiRXhwYW5zaW9uQmFja3VwIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCn0KCiMgUmV2ZXJ0IG9sZCB0YWJleHBuYXNpb24gd2hlbiBtb2R1bGUgaXMgdW5sb2FkZWQKIyB0aGlzIGRvZXMgbm90IGNvdmVyIGFsbCBwYXRocywgYnV0IG1vc3Qgb2YgdGhlbQojIElkZWEgaXMgc3RvbGVuIGZyb20gUG93ZXJUYWIKJE1vZHVsZSA9ICRNeUludm9jYXRpb24uTXlDb21tYW5kLlNjcmlwdEJsb2NrLk1vZHVsZQokTW9kdWxlLk9uUmVtb3ZlID0gewogICAgV3JpdGUtRGVidWcgJ1JldmVydCB0YWIgZXhwYW5zaW9uIGJhY2snCiAgICBSZW1vdmUtSXRlbSAtUGF0aCBGdW5jdGlvbjpcVGFiRXhwYW5zaW9uIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICBpZiAoVGVzdC1QYXRoIC1QYXRoIEZ1bmN0aW9uOlwkdGFiRXhwYW5zaW9uQmFja3VwKSB7CiAgICAgICAgUmVuYW1lLUl0ZW0gLVBhdGggRnVuY3Rpb246XCR0YWJFeHBhbnNpb25CYWNrdXAgRnVuY3Rpb246XFRhYkV4cGFuc2lvbgogICAgfQp9CgpmdW5jdGlvbiBUYWJFeHBhbnNpb24gewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtTdHJpbmddICRsaW5lLAogICAgICAgIFtTdHJpbmddICRsYXN0V29yZAogICAgKQogICAgcHJvY2VzcyB7CiAgICAgICAgaWYgKCRsaW5lIC1lcSAiSW5zdGFsbC1Nb2R1bGUgJGxhc3R3b3JkIiAtb3IgJGxpbmUgLWVxICJpbm1vICRsYXN0d29yZCIgLW9yICRsaW5lIC1lcSAiaXNtbyAkbGFzdHdvcmQiIC1vciAkbGluZSAtZXEgInVwbW8gJGxhc3R3b3JkIiAtb3IgJGxpbmUgLWVxICJVcGRhdGUtTW9kdWxlICRsYXN0d29yZCIpIHsKICAgICAgICAgICAgR2V0LVBzR2V0TW9kdWxlSW5mbyAtTW9kdWxlTmFtZSAiJGxhc3R3b3JkKiIgfCAlIHsgJF8uSWQgfSB8IHNvcnQgLVVuaXF1ZQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCBUZXN0LVBhdGggLVBhdGggRnVuY3Rpb246XCR0YWJFeHBhbnNpb25CYWNrdXAgKSB7CiAgICAgICAgICAgICYgJHRhYkV4cGFuc2lvbkJhY2t1cCAkbGluZSAkbGFzdFdvcmQKICAgICAgICB9CiAgICB9Cn0KI2VuZHJlZ2lvbgoKI3JlZ2lvbiBNb2R1bGUgSW50ZXJmYWNlClNldC1BbGlhcyAtTmFtZSBpbm1vIC1WYWx1ZSBJbnN0YWxsLU1vZHVsZSAjT2Jzb2xldGUKU2V0LUFsaWFzIC1OYW1lIGlzbW8gLVZhbHVlIEluc3RhbGwtTW9kdWxlClNldC1BbGlhcyAtTmFtZSB1cG1vIC1WYWx1ZSBVcGRhdGUtTW9kdWxlCgpFeHBvcnQtTW9kdWxlTWVtYmVyIEluc3RhbGwtTW9kdWxlCkV4cG9ydC1Nb2R1bGVNZW1iZXIgVXBkYXRlLU1vZHVsZQpFeHBvcnQtTW9kdWxlTWVtYmVyIEdldC1Qc0dldE1vZHVsZUluZm8KRXhwb3J0LU1vZHVsZU1lbWJlciBHZXQtUHNHZXRNb2R1bGVIYXNoCkV4cG9ydC1Nb2R1bGVNZW1iZXIgVGFiRXhwYW5zaW9uCkV4cG9ydC1Nb2R1bGVNZW1iZXIgLUFsaWFzIGlubW8KRXhwb3J0LU1vZHVsZU1lbWJlciAtQWxpYXMgaXNtbwpFeHBvcnQtTW9kdWxlTWVtYmVyIC1BbGlhcyB1cG1vCiNlbmRyZWdpb24K
