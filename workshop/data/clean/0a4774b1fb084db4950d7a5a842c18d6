MSFT_xADUser.psm1,6a87a0f54ea5e689964cfc4a35cbe69f,Scan result is 1. IsMalware: 0,W1N5c3RlbS5EaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU0F2b2lkVXNpbmdVc2VyTmFtZUFuZFBhc3NXb3JkUGFyYW1zJywgJycpXQpwYXJhbSgpCgojIExvY2FsaXplZCBtZXNzYWdlcwpkYXRhIExvY2FsaXplZERhdGEKewogICAgIyBjdWx0dXJlPSJlbi1VUyIKICAgIENvbnZlcnRGcm9tLVN0cmluZ0RhdGEgQCcKICAgICAgICBSb2xlTm90Rm91bmRFcnJvciAgICAgICAgICAgICAgPSBQbGVhc2UgZW5zdXJlIHRoYXQgdGhlIFBvd2VyU2hlbGwgbW9kdWxlIGZvciByb2xlICd7MH0nIGlzIGluc3RhbGxlZC4KICAgICAgICBSZXRyaWV2aW5nQURVc2VyRXJyb3IgICAgICAgICAgPSBFcnJvciBsb29raW5nIHVwIEFjdGl2ZSBEaXJlY3RvcnkgdXNlciAnezB9JyAoezB9QHsxfSkuCiAgICAgICAgUGFzc3dvcmRQYXJhbWV0ZXJDb25mbGljdEVycm9yID0gUGFyYW1ldGVyICd7MH0nIGNhbm5vdCBiZSBzZXQgdG8gJ3sxfScgd2hlbiB0aGUgJ3syfScgcGFyYW1ldGVyIGlzIHNwZWNpZmllZC4KCiAgICAgICAgUmV0cmlldmluZ0FEVXNlciAgICAgICAgICAgICAgID0gUmV0cmlldmluZyBBY3RpdmUgRGlyZWN0b3J5IHVzZXIgJ3swfScgKHswfUB7MX0pIC4uLgogICAgICAgIENyZWF0aW5nQUREb21haW5Db25uZWN0aW9uICAgICA9IENyZWF0aW5nIGNvbm5lY3Rpb24gdG8gQWN0aXZlIERpcmVjdG9yeSBkb21haW4gJ3swfScgLi4uCiAgICAgICAgQ2hlY2tpbmdBRFVzZXJQYXNzd29yZCAgICAgICAgID0gQ2hlY2tpbmcgQWN0aXZlIERpcmVjdG9yeSB1c2VyICd7MH0nIHBhc3N3b3JkIC4uLgogICAgICAgIEFEVXNlcklzUHJlc2VudCAgICAgICAgICAgICAgICA9IEFjdGl2ZSBEaXJlY3RvcnkgdXNlciAnezB9JyAoezB9QHsxfSkgaXMgcHJlc2VudC4KICAgICAgICBBRFVzZXJOb3RQcmVzZW50ICAgICAgICAgICAgICAgPSBBY3RpdmUgRGlyZWN0b3J5IHVzZXIgJ3swfScgKHswfUB7MX0pIHdhcyBOT1QgcHJlc2VudC4KICAgICAgICBBRFVzZXJOb3REZXNpcmVkUHJvcGVydHlTdGF0ZSAgPSBVc2VyICd7MH0nIHByb3BlcnR5IGlzIE5PVCBpbiB0aGUgZGVzaXJlZCBzdGF0ZS4gRXhwZWN0ZWQgJ3sxfScsIGFjdHVhbCAnezJ9Jy4KCiAgICAgICAgQWRkaW5nQURVc2VyICAgICAgICAgICAgICAgICAgID0gQWRkaW5nIEFjdGl2ZSBEaXJlY3RvcnkgdXNlciAnezB9Jy4KICAgICAgICBSZW1vdmluZ0FEVXNlciAgICAgICAgICAgICAgICAgPSBSZW1vdmluZyBBY3RpdmUgRGlyZWN0b3J5IHVzZXIgJ3swfScuCiAgICAgICAgVXBkYXRpbmdBRFVzZXIgICAgICAgICAgICAgICAgID0gVXBkYXRpbmcgQWN0aXZlIERpcmVjdG9yeSB1c2VyICd7MH0nLgogICAgICAgIFNldHRpbmdBRFVzZXJQYXNzd29yZCAgICAgICAgICA9IFNldHRpbmcgQWN0aXZlIERpcmVjdG9yeSB1c2VyIHBhc3N3b3JkLgogICAgICAgIFVwZGF0aW5nQURVc2VyUHJvcGVydHkgICAgICAgICA9IFVwZGF0aW5nIHVzZXIgcHJvcGVydHkgJ3swfScgd2l0aC90byAnezF9Jy4KICAgICAgICBSZW1vdmluZ0FEVXNlclByb3BlcnR5ICAgICAgICAgPSBSZW1vdmluZyB1c2VyIHByb3BlcnR5ICd7MH0nIHdpdGggJ3sxfScuCiAgICAgICAgTW92aW5nQURVc2VyICAgICAgICAgICAgICAgICAgID0gTW92aW5nIHVzZXIgZnJvbSAnezB9JyB0byAnezF9Jy4KICAgICAgICBSZW5hbWluZ0FEVXNlciAgICAgICAgICAgICAgICAgPSBSZW5hbWluZyB1c2VyIGZyb20gJ3swfScgdG8gJ3sxfScuCidACn0KCiMjIENyZWF0ZSBhIHByb3BlcnR5IG1hcCB0aGF0IG1hcHMgdGhlIERTQyByZXNvdXJjZSBwYXJhbWV0ZXJzIHRvIHRoZQojIyBBY3RpdmUgRGlyZWN0b3J5IHVzZXIgYXR0cmlidXRlcy4KJGFkUHJvcGVydHlNYXAgPSBAKAogICAgQHsgUGFyYW1ldGVyID0gJ0NvbW1vbk5hbWUnOyBBRFByb3BlcnR5ID0gJ2NuJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ1VzZXJQcmluY2lwYWxOYW1lJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0Rpc3BsYXlOYW1lJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ1BhdGgnOyBBRFByb3BlcnR5ID0gJ2Rpc3Rpbmd1aXNoZWROYW1lJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0dpdmVuTmFtZSc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdJbml0aWFscyc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdTdXJuYW1lJzsgQURQcm9wZXJ0eSA9ICdzbic7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdEZXNjcmlwdGlvbic7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdTdHJlZXRBZGRyZXNzJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ1BPQm94JzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0NpdHknOyBBRFByb3BlcnR5ID0gJ2wnOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnU3RhdGUnOyBBRFByb3BlcnR5ID0gJ3N0JzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ1Bvc3RhbENvZGUnOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnQ291bnRyeSc7IEFEUHJvcGVydHkgPSAnYyc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdEZXBhcnRtZW50JzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0RpdmlzaW9uJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0NvbXBhbnknOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnT2ZmaWNlJzsgQURQcm9wZXJ0eSA9ICdwaHlzaWNhbERlbGl2ZXJ5T2ZmaWNlTmFtZSc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdKb2JUaXRsZSc7IEFEUHJvcGVydHkgPSAndGl0bGUnOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnRW1haWxBZGRyZXNzJzsgQURQcm9wZXJ0eSA9ICdtYWlsJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0VtcGxveWVlSUQnOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnRW1wbG95ZWVOdW1iZXInOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnSG9tZURpcmVjdG9yeSc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdIb21lRHJpdmUnOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnSG9tZVBhZ2UnOyBBRFByb3BlcnR5ID0gJ3dXV0hvbWVQYWdlJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ1Byb2ZpbGVQYXRoJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0xvZ29uU2NyaXB0JzsgQURQcm9wZXJ0eSA9ICdzY3JpcHRQYXRoJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ05vdGVzJzsgQURQcm9wZXJ0eSA9ICdpbmZvJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ09mZmljZVBob25lJzsgQURQcm9wZXJ0eSA9ICd0ZWxlcGhvbmVOdW1iZXInOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnTW9iaWxlUGhvbmUnOyBBRFByb3BlcnR5ID0gJ21vYmlsZSc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdGYXgnOyBBRFByb3BlcnR5ID0gJ2ZhY3NpbWlsZVRlbGVwaG9uZU51bWJlcic7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdQYWdlcic7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdJUFBob25lJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0hvbWVQaG9uZSc7IH0KICAgIEB7IFBhcmFtZXRlciA9ICdFbmFibGVkJzsgfQogICAgQHsgUGFyYW1ldGVyID0gJ01hbmFnZXInOyB9CiAgICBAeyBQYXJhbWV0ZXIgPSAnUGFzc3dvcmROZXZlckV4cGlyZXMnOyBVc2VDbWRsZXRQYXJhbWV0ZXIgPSAkdHJ1ZTsgfQogICAgQHsgUGFyYW1ldGVyID0gJ0Nhbm5vdENoYW5nZVBhc3N3b3JkJzsgVXNlQ21kbGV0UGFyYW1ldGVyID0gJHRydWU7IH0KKQoKZnVuY3Rpb24gR2V0LVRhcmdldFJlc291cmNlCnsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBbT3V0cHV0VHlwZShbU3lzdGVtLkNvbGxlY3Rpb25zLkhhc2h0YWJsZV0pXQogICAgcGFyYW0KICAgICgKICAgICAgICAjIyBOYW1lIG9mIHRoZSBkb21haW4gd2hlcmUgdGhlIHVzZXIgYWNjb3VudCBpcyBsb2NhdGVkIChvbmx5IHVzZWQgaWYgcGFzc3dvcmQgaXMgbWFuYWdlZCkKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICREb21haW5OYW1lLAoKICAgICAgICAjIFNwZWNpZmllcyB0aGUgU2VjdXJpdHkgQWNjb3VudCBNYW5hZ2VyIChTQU0pIGFjY291bnQgbmFtZSBvZiB0aGUgdXNlciAobGRhcERpc3BsYXlOYW1lICdzQU1BY2NvdW50TmFtZScpCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkVXNlck5hbWUsCgogICAgICAgICMjIFNwZWNpZmllcyBhIG5ldyBwYXNzd29yZCB2YWx1ZSBmb3IgYW4gYWNjb3VudAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRQYXNzd29yZCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHdoZXRoZXIgdGhlIHVzZXIgYWNjb3VudCBpcyBjcmVhdGVkIG9yIGRlbGV0ZWQKICAgICAgICBbVmFsaWRhdGVTZXQoJ1ByZXNlbnQnLCAnQWJzZW50JyldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRFbnN1cmUgPSAnUHJlc2VudCcsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgY29tbW9uIG5hbmUgYXNzaWduZWQgdG8gdGhlIHVzZXIgYWNjb3VudCAobGRhcERpc3BsYXlOYW1lICdjbicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkQ29tbW9uTmFtZSA9ICRVc2VyTmFtZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBVUE4gYXNzaWduZWQgdG8gdGhlIHVzZXIgYWNjb3VudCAobGRhcERpc3BsYXlOYW1lICd1c2VyUHJpbmNpcGFsTmFtZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkVXNlclByaW5jaXBhbE5hbWUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgZGlzcGxheSBuYW1lIG9mIHRoZSBvYmplY3QgKGxkYXBEaXNwbGF5TmFtZSAnZGlzcGxheU5hbWUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERpc3BsYXlOYW1lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIFguNTAwIHBhdGggb2YgdGhlIE9yZ2FuaXphdGlvbmFsIFVuaXQgKE9VKSBvciBjb250YWluZXIgd2hlcmUgdGhlIG5ldyBvYmplY3QgaXMgY3JlYXRlZAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFBhdGgsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGdpdmVuIG5hbWUgKGxkYXBEaXNwbGF5TmFtZSAnZ2l2ZW5OYW1lJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRHaXZlbk5hbWUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgaW5pdGlhbHMgdGhhdCByZXByZXNlbnQgcGFydCBvZiBhIHVzZXIncyBuYW1lIChsZGFwRGlzcGxheU5hbWUgJ2luaXRpYWxzJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRJbml0aWFscywKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgbGFzdCBuYW1lIG9yIHN1cm5hbWUgKGxkYXBEaXNwbGF5TmFtZSAnc24nKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFN1cm5hbWUsCgogICAgICAgICMjIFNwZWNpZmllcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBvYmplY3QgKGxkYXBEaXNwbGF5TmFtZSAnZGVzY3JpcHRpb24nKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERlc2NyaXB0aW9uLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBzdHJlZXQgYWRkcmVzcyAobGRhcERpc3BsYXlOYW1lICdzdHJlZXRBZGRyZXNzJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRTdHJlZXRBZGRyZXNzLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBwb3N0IG9mZmljZSBib3ggbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ3Bvc3RPZmZpY2VCb3gnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFBPQm94LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyB0b3duIG9yIGNpdHkgKGxkYXBEaXNwbGF5TmFtZSAnbCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkQ2l0eSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3Mgb3IgT3JnYW5pemF0aW9uYWwgVW5pdCdzIHN0YXRlIG9yIHByb3ZpbmNlIChsZGFwRGlzcGxheU5hbWUgJ3N0JykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRTdGF0ZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgcG9zdGFsIGNvZGUgb3IgemlwIGNvZGUgKGxkYXBEaXNwbGF5TmFtZSAncG9zdGFsQ29kZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkUG9zdGFsQ29kZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBjb3VudHJ5IG9yIHJlZ2lvbiBjb2RlIGZvciB0aGUgdXNlcidzIGxhbmd1YWdlIG9mIGNob2ljZSAobGRhcERpc3BsYXlOYW1lICdjJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRDb3VudHJ5LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBkZXBhcnRtZW50IChsZGFwRGlzcGxheU5hbWUgJ2RlcGFydG1lbnQnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERlcGFydG1lbnQsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGRpdmlzaW9uIChsZGFwRGlzcGxheU5hbWUgJ2RpdmlzaW9uJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICREaXZpc2lvbiwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgY29tcGFueSAobGRhcERpc3BsYXlOYW1lICdjb21wYW55JykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRDb21wYW55LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIGxvY2F0aW9uIG9mIHRoZSB1c2VyJ3Mgb2ZmaWNlIG9yIHBsYWNlIG9mIGJ1c2luZXNzIChsZGFwRGlzcGxheU5hbWUgJ3BoeXNpY2FsRGVsaXZlcnlPZmZpY2VOYW1lJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRPZmZpY2UsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIHRpdGxlIChsZGFwRGlzcGxheU5hbWUgJ3RpdGxlJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRKb2JUaXRsZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZS1tYWlsIGFkZHJlc3MgKGxkYXBEaXNwbGF5TmFtZSAnbWFpbCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRW1haWxBZGRyZXNzLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBlbXBsb3llZSBJRCAobGRhcERpc3BsYXlOYW1lICdlbXBsb3llZUlEJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRFbXBsb3llZUlELAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBlbXBsb3llZSBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAnZW1wbG95ZWVOdW1iZXInKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEVtcGxveWVlTnVtYmVyLAoKICAgICAgICAjIyBTcGVjaWZpZXMgYSB1c2VyJ3MgaG9tZSBkaXJlY3RvcnkgcGF0aCAobGRhcERpc3BsYXlOYW1lICdob21lRGlyZWN0b3J5JykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRIb21lRGlyZWN0b3J5LAoKICAgICAgICAjIyBTcGVjaWZpZXMgYSBkcml2ZSB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgVU5DIHBhdGggZGVmaW5lZCBieSB0aGUgSG9tZURpcmVjdG9yeSBwcm9wZXJ0eSAobGRhcERpc3BsYXlOYW1lICdob21lRHJpdmUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEhvbWVEcml2ZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBVUkwgb2YgdGhlIGhvbWUgcGFnZSBvZiB0aGUgb2JqZWN0IChsZGFwRGlzcGxheU5hbWUgJ3dXV0hvbWVQYWdlJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRIb21lUGFnZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGEgcGF0aCB0byB0aGUgdXNlcidzIHByb2ZpbGUgKGxkYXBEaXNwbGF5TmFtZSAncHJvZmlsZVBhdGgnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFByb2ZpbGVQYXRoLAoKICAgICAgICAjIyBTcGVjaWZpZXMgYSBwYXRoIHRvIHRoZSB1c2VyJ3MgbG9nIG9uIHNjcmlwdCAobGRhcERpc3BsYXlOYW1lICdzY3JpcHRQYXRoJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRMb2dvblNjcmlwdCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBub3RlcyBhdHRhY2hlZCB0byB0aGUgdXNlcidzIGFjY291dG4gKGxkYXBEaXNwbGF5TmFtZSAnaW5mbycpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkTm90ZXMsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIG9mZmljZSB0ZWxlcGhvbmUgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ3RlbGVwaG9uZU51bWJlcicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkT2ZmaWNlUGhvbmUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIG1vYmlsZSBwaG9uZSBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAnbW9iaWxlJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRNb2JpbGVQaG9uZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZmF4IHBob25lIG51bWJlciAobGRhcERpc3BsYXlOYW1lICdmYWNzaW1pbGVUZWxlcGhvbmVOdW1iZXInKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEZheCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgaG9tZSB0ZWxlcGhvbmUgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ2hvbWVQaG9uZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSG9tZVBob25lLAoKICAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgcGFnZXIgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ3BhZ2VyJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRQYWdlciwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgSVAgdGVsZXBob255IHBob25lIG51bWJlciAobGRhcERpc3BsYXlOYW1lICdpcFBob25lJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRJUFBob25lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBtYW5hZ2VyIHNwZWNpZmllZCBhcyBhIERpc3Rpbmd1aXNoZWQgTmFtZSAobGRhcERpc3BsYXlOYW1lICdtYW5hZ2VyJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRNYW5hZ2VyLAoKICAgICAgICAjIyBTcGVjaWZpZXMgaWYgdGhlIGFjY291bnQgaXMgZW5hYmxlZCAoZGVmYXVsdCBUcnVlKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLkJvb2xlYW5dICRFbmFibGVkID0gJHRydWUsCgogICAgICAgICMjIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBhY2NvdW50IHBhc3N3b3JkIGNhbiBiZSBjaGFuZ2VkCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uQm9vbGVhbl0gJENhbm5vdENoYW5nZVBhc3N3b3JkLAoKICAgICAgICAjIyBTcGVjaWZpZXMgd2hldGhlciB0aGUgcGFzc3dvcmQgb2YgYW4gYWNjb3VudCBjYW4gZXhwaXJlCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uQm9vbGVhbl0gJFBhc3N3b3JkTmV2ZXJFeHBpcmVzLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIEFjdGl2ZSBEaXJlY3RvcnkgRG9tYWluIFNlcnZpY2VzIGluc3RhbmNlIHRvIHVzZSB0byBwZXJmb3JtIHRoZSB0YXNrLgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERvbWFpbkNvbnRyb2xsZXIsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlciBhY2NvdW50IGNyZWRlbnRpYWxzIHRvIHVzZSB0byBwZXJmb3JtIHRoaXMgdGFzay4gSWRlYWxseSB0aGlzIHNob3VsZCBqdXN0IGJlIGNhbGxlZCAnQ3JlZGVudGlhbCcgYnV0IGlzIGhlcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJERvbWFpbkFkbWluaXN0cmF0b3JDcmVkZW50aWFsLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIGF1dGhlbnRpY2F0aW9uIGNvbnRleHQgdHlwZSB3aGVuIHRlc3RpbmcgdXNlciBwYXNzd29yZHMgIzYxCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEZWZhdWx0JywnTmVnb3RpYXRlJyldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRQYXNzd29yZEF1dGhlbnRpY2F0aW9uID0gJ0RlZmF1bHQnCiAgICApCgogICAgQXNzZXJ0LU1vZHVsZSAtTW9kdWxlTmFtZSAnQWN0aXZlRGlyZWN0b3J5JzsKCiAgICB0cnkKICAgIHsKICAgICAgICAkYWRDb21tb25QYXJhbWV0ZXJzID0gR2V0LUFEQ29tbW9uUGFyYW1ldGVycyBAUFNCb3VuZFBhcmFtZXRlcnM7CgogICAgICAgICRhZFByb3BlcnRpZXMgPSBAKCk7CiAgICAgICAgIyMgQ3JlYXRlIGFuIGFycmF5IG9mIHRoZSBBRCBwcm9wZXJ0aWUgbmFtZXMgdG8gcmV0cmlldmUgZnJvbSB0aGUgcHJvcGVydHkgbWFwCiAgICAgICAgZm9yZWFjaCAoJHByb3BlcnR5IGluICRhZFByb3BlcnR5TWFwKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCRwcm9wZXJ0eS5BRFByb3BlcnR5KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkYWRQcm9wZXJ0aWVzICs9ICRwcm9wZXJ0eS5BRFByb3BlcnR5OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGFkUHJvcGVydGllcyArPSAkcHJvcGVydHkuUGFyYW1ldGVyOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICgkTG9jYWxpemVkRGF0YS5SZXRyaWV2aW5nQURVc2VyIC1mICRVc2VyTmFtZSwgJERvbWFpbk5hbWUpOwogICAgICAgICRhZFVzZXIgPSBHZXQtQURVc2VyIEBhZENvbW1vblBhcmFtZXRlcnMgLVByb3BlcnRpZXMgJGFkUHJvcGVydGllczsKICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICgkTG9jYWxpemVkRGF0YS5BRFVzZXJJc1ByZXNlbnQgLWYgJFVzZXJOYW1lLCAkRG9tYWluTmFtZSk7CiAgICAgICAgJEVuc3VyZSA9ICdQcmVzZW50JzsKICAgIH0KICAgIGNhdGNoIFtNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURJZGVudGl0eU5vdEZvdW5kRXhjZXB0aW9uXQogICAgewogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLkFEVXNlck5vdFByZXNlbnQgLWYgJFVzZXJOYW1lLCAkRG9tYWluTmFtZSk7CiAgICAgICAgJEVuc3VyZSA9ICdBYnNlbnQnOwogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICBXcml0ZS1FcnJvciAtTWVzc2FnZSAoJExvY2FsaXplZERhdGEuUmV0cmlldmluZ0FEVXNlckVycm9yIC1mICRVc2VyTmFtZSwgJERvbWFpbk5hbWUpOwogICAgICAgIHRocm93ICRfOwogICAgfQoKICAgICR0YXJnZXRSZXNvdXJjZSA9IEB7CiAgICAgICAgRG9tYWluTmFtZSAgICAgICAgPSAkRG9tYWluTmFtZTsKICAgICAgICBQYXNzd29yZCAgICAgICAgICA9ICRQYXNzd29yZDsKICAgICAgICBVc2VyTmFtZSAgICAgICAgICA9ICRVc2VyTmFtZTsKICAgICAgICBEaXN0aW5ndWlzaGVkTmFtZSA9ICRhZFVzZXIuRGlzdGluZ3Vpc2hlZE5hbWU7ICMjIFJlYWQtb25seSBwcm9wZXJ0eQogICAgICAgIEVuc3VyZSAgICAgICAgICAgID0gJEVuc3VyZTsKICAgICAgICBEb21haW5Db250cm9sbGVyICA9ICREb21haW5Db250cm9sbGVyOwogICAgfQoKICAgICMjIFJldHJpZXZlIGVhY2ggcHJvcGVydHkgZnJvbSB0aGUgQURQcm9wZXJ0eU1hcCBhbmQgYWRkIHRvIHRoZSBoYXNodGFibGUKICAgIGZvcmVhY2ggKCRwcm9wZXJ0eSBpbiAkYWRQcm9wZXJ0eU1hcCkKICAgIHsKICAgICAgICBpZiAoJHByb3BlcnR5LlBhcmFtZXRlciAtZXEgJ1BhdGgnKSB7CiAgICAgICAgICAgICMjIFRoZSBwYXRoIHJldHVybmVkIGlzIG5vdCB0aGUgcGFyZW50IGNvbnRhaW5lcgogICAgICAgICAgICBpZiAoLW5vdCBbU3lzdGVtLlN0cmluZ106OklzTnVsbE9yRW1wdHkoJGFkVXNlci5EaXN0aW5ndWlzaGVkTmFtZSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICR0YXJnZXRSZXNvdXJjZVsnUGF0aCddID0gR2V0LUFET2JqZWN0UGFyZW50RE4gLUROICRhZFVzZXIuRGlzdGluZ3Vpc2hlZE5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkcHJvcGVydHkuQURQcm9wZXJ0eSkKICAgICAgICB7CiAgICAgICAgICAgICMjIFRoZSBBRCBwcm9wZXJ0eSBuYW1lIGlzIGRpZmZlcmVudCB0byB0aGUgZnVuY3Rpb24gcGFyYW1ldGVyIHRvIHVzZSB0aGlzCiAgICAgICAgICAgICR0YXJnZXRSZXNvdXJjZVskcHJvcGVydHkuUGFyYW1ldGVyXSA9ICRhZFVzZXIuKCRwcm9wZXJ0eS5BRFByb3BlcnR5KTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgIyMgVGhlIEFEIHByb3BlcnR5IG5hbWUgbWF0Y2hlcyB0aGUgZnVuY3Rpb24gcGFyYW1ldGVyCiAgICAgICAgICAgICR0YXJnZXRSZXNvdXJjZVskcHJvcGVydHkuUGFyYW1ldGVyXSA9ICRhZFVzZXIuKCRwcm9wZXJ0eS5QYXJhbWV0ZXIpOwogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAkdGFyZ2V0UmVzb3VyY2U7Cgp9ICNlbmQgZnVuY3Rpb24gR2V0LVRhcmdldFJlc291cmNlCgpmdW5jdGlvbiBUZXN0LVRhcmdldFJlc291cmNlCnsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBbT3V0cHV0VHlwZShbU3lzdGVtLkJvb2xlYW5dKV0KICAgIHBhcmFtCiAgICAoCiAgICAgICAgIyMgTmFtZSBvZiB0aGUgZG9tYWluIHdoZXJlIHRoZSB1c2VyIGFjY291bnQgaXMgbG9jYXRlZCAob25seSB1c2VkIGlmIHBhc3N3b3JkIGlzIG1hbmFnZWQpCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRG9tYWluTmFtZSwKCiAgICAgICAgIyBTcGVjaWZpZXMgdGhlIFNlY3VyaXR5IEFjY291bnQgTWFuYWdlciAoU0FNKSBhY2NvdW50IG5hbWUgb2YgdGhlIHVzZXIgKGxkYXBEaXNwbGF5TmFtZSAnc0FNQWNjb3VudE5hbWUnKQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5KV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFVzZXJOYW1lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgYSBuZXcgcGFzc3dvcmQgdmFsdWUgZm9yIGFuIGFjY291bnQKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkUGFzc3dvcmQsCgogICAgICAgICMjIFNwZWNpZmllcyB3aGV0aGVyIHRoZSB1c2VyIGFjY291bnQgaXMgY3JlYXRlZCBvciBkZWxldGVkCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdQcmVzZW50JywgJ0Fic2VudCcpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRW5zdXJlID0gJ1ByZXNlbnQnLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIGNvbW1vbiBuYW5lIGFzc2lnbmVkIHRvIHRoZSB1c2VyIGFjY291bnQgKGxkYXBEaXNwbGF5TmFtZSAnY24nKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJENvbW1vbk5hbWUgPSAkVXNlck5hbWUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgVVBOIGFzc2lnbmVkIHRvIHRoZSB1c2VyIGFjY291bnQgKGxkYXBEaXNwbGF5TmFtZSAndXNlclByaW5jaXBhbE5hbWUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFVzZXJQcmluY2lwYWxOYW1lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgb2JqZWN0IChsZGFwRGlzcGxheU5hbWUgJ2Rpc3BsYXlOYW1lJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICREaXNwbGF5TmFtZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBYLjUwMCBwYXRoIG9mIHRoZSBPcmdhbml6YXRpb25hbCBVbml0IChPVSkgb3IgY29udGFpbmVyIHdoZXJlIHRoZSBuZXcgb2JqZWN0IGlzIGNyZWF0ZWQKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRQYXRoLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBnaXZlbiBuYW1lIChsZGFwRGlzcGxheU5hbWUgJ2dpdmVuTmFtZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkR2l2ZW5OYW1lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIGluaXRpYWxzIHRoYXQgcmVwcmVzZW50IHBhcnQgb2YgYSB1c2VyJ3MgbmFtZSAobGRhcERpc3BsYXlOYW1lICdpbml0aWFscycpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSW5pdGlhbHMsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGxhc3QgbmFtZSBvciBzdXJuYW1lIChsZGFwRGlzcGxheU5hbWUgJ3NuJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRTdXJuYW1lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgb2JqZWN0IChsZGFwRGlzcGxheU5hbWUgJ2Rlc2NyaXB0aW9uJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICREZXNjcmlwdGlvbiwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3Mgc3RyZWV0IGFkZHJlc3MgKGxkYXBEaXNwbGF5TmFtZSAnc3RyZWV0QWRkcmVzcycpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkU3RyZWV0QWRkcmVzcywKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgcG9zdCBvZmZpY2UgYm94IG51bWJlciAobGRhcERpc3BsYXlOYW1lICdwb3N0T2ZmaWNlQm94JykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRQT0JveCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgdG93biBvciBjaXR5IChsZGFwRGlzcGxheU5hbWUgJ2wnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJENpdHksCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIG9yIE9yZ2FuaXphdGlvbmFsIFVuaXQncyBzdGF0ZSBvciBwcm92aW5jZSAobGRhcERpc3BsYXlOYW1lICdzdCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkU3RhdGUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIHBvc3RhbCBjb2RlIG9yIHppcCBjb2RlIChsZGFwRGlzcGxheU5hbWUgJ3Bvc3RhbENvZGUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFBvc3RhbENvZGUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgY291bnRyeSBvciByZWdpb24gY29kZSBmb3IgdGhlIHVzZXIncyBsYW5ndWFnZSBvZiBjaG9pY2UgKGxkYXBEaXNwbGF5TmFtZSAnYycpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkQ291bnRyeSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZGVwYXJ0bWVudCAobGRhcERpc3BsYXlOYW1lICdkZXBhcnRtZW50JykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICREZXBhcnRtZW50LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBkaXZpc2lvbiAobGRhcERpc3BsYXlOYW1lICdkaXZpc2lvbicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRGl2aXNpb24sCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGNvbXBhbnkgKGxkYXBEaXNwbGF5TmFtZSAnY29tcGFueScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkQ29tcGFueSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgdXNlcidzIG9mZmljZSBvciBwbGFjZSBvZiBidXNpbmVzcyAobGRhcERpc3BsYXlOYW1lICdwaHlzaWNhbERlbGl2ZXJ5T2ZmaWNlTmFtZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkT2ZmaWNlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyB0aXRsZSAobGRhcERpc3BsYXlOYW1lICd0aXRsZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSm9iVGl0bGUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGUtbWFpbCBhZGRyZXNzIChsZGFwRGlzcGxheU5hbWUgJ21haWwnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEVtYWlsQWRkcmVzcywKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZW1wbG95ZWUgSUQgKGxkYXBEaXNwbGF5TmFtZSAnZW1wbG95ZWVJRCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRW1wbG95ZWVJRCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZW1wbG95ZWUgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ2VtcGxveWVlTnVtYmVyJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRFbXBsb3llZU51bWJlciwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGEgdXNlcidzIGhvbWUgZGlyZWN0b3J5IHBhdGggKGxkYXBEaXNwbGF5TmFtZSAnaG9tZURpcmVjdG9yeScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSG9tZURpcmVjdG9yeSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGEgZHJpdmUgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIFVOQyBwYXRoIGRlZmluZWQgYnkgdGhlIEhvbWVEaXJlY3RvcnkgcHJvcGVydHkgKGxkYXBEaXNwbGF5TmFtZSAnaG9tZURyaXZlJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRIb21lRHJpdmUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgVVJMIG9mIHRoZSBob21lIHBhZ2Ugb2YgdGhlIG9iamVjdCAobGRhcERpc3BsYXlOYW1lICd3V1dIb21lUGFnZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSG9tZVBhZ2UsCgogICAgICAgICMjIFNwZWNpZmllcyBhIHBhdGggdG8gdGhlIHVzZXIncyBwcm9maWxlIChsZGFwRGlzcGxheU5hbWUgJ3Byb2ZpbGVQYXRoJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRQcm9maWxlUGF0aCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGEgcGF0aCB0byB0aGUgdXNlcidzIGxvZyBvbiBzY3JpcHQgKGxkYXBEaXNwbGF5TmFtZSAnc2NyaXB0UGF0aCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkTG9nb25TY3JpcHQsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgbm90ZXMgYXR0YWNoZWQgdG8gdGhlIHVzZXIncyBhY2NvdXRuIChsZGFwRGlzcGxheU5hbWUgJ2luZm8nKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJE5vdGVzLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBvZmZpY2UgdGVsZXBob25lIG51bWJlciAobGRhcERpc3BsYXlOYW1lICd0ZWxlcGhvbmVOdW1iZXInKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJE9mZmljZVBob25lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBtb2JpbGUgcGhvbmUgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ21vYmlsZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkTW9iaWxlUGhvbmUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGZheCBwaG9uZSBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAnZmFjc2ltaWxlVGVsZXBob25lTnVtYmVyJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRGYXgsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGhvbWUgdGVsZXBob25lIG51bWJlciAobGRhcERpc3BsYXlOYW1lICdob21lUGhvbmUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEhvbWVQaG9uZSwKCiAgICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIHBhZ2VyIG51bWJlciAobGRhcERpc3BsYXlOYW1lICdwYWdlcicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkUGFnZXIsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIElQIHRlbGVwaG9ueSBwaG9uZSBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAnaXBQaG9uZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSVBQaG9uZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgbWFuYWdlciBzcGVjaWZpZWQgYXMgYSBEaXN0aW5ndWlzaGVkIE5hbWUgKGxkYXBEaXNwbGF5TmFtZSAnbWFuYWdlcicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkTWFuYWdlciwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGlmIHRoZSBhY2NvdW50IGlzIGVuYWJsZWQgKGRlZmF1bHQgVHJ1ZSkKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5Cb29sZWFuXSAkRW5hYmxlZCA9ICR0cnVlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgd2hldGhlciB0aGUgYWNjb3VudCBwYXNzd29yZCBjYW4gYmUgY2hhbmdlZAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLkJvb2xlYW5dICRDYW5ub3RDaGFuZ2VQYXNzd29yZCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHdoZXRoZXIgdGhlIHBhc3N3b3JkIG9mIGFuIGFjY291bnQgY2FuIGV4cGlyZQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLkJvb2xlYW5dICRQYXNzd29yZE5ldmVyRXhwaXJlcywKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBBY3RpdmUgRGlyZWN0b3J5IERvbWFpbiBTZXJ2aWNlcyBpbnN0YW5jZSB0byB1c2UgdG8gcGVyZm9ybSB0aGUgdGFzay4KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICREb21haW5Db250cm9sbGVyLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIgYWNjb3VudCBjcmVkZW50aWFscyB0byB1c2UgdG8gcGVyZm9ybSB0aGlzIHRhc2suIElkZWFsbHkgdGhpcyBzaG91bGQganVzdCBiZSBjYWxsZWQgJ0NyZWRlbnRpYWwnIGJ1dCBpcyBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICREb21haW5BZG1pbmlzdHJhdG9yQ3JlZGVudGlhbCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBhdXRoZW50aWNhdGlvbiBjb250ZXh0IHR5cGUgd2hlbiB0ZXN0aW5nIHVzZXIgcGFzc3dvcmRzICM2MQogICAgICAgIFtWYWxpZGF0ZVNldCgnRGVmYXVsdCcsJ05lZ290aWF0ZScpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkUGFzc3dvcmRBdXRoZW50aWNhdGlvbiA9ICdEZWZhdWx0JwogICAgKQoKICAgIEFzc2VydC1QYXJhbWV0ZXJzIEBQU0JvdW5kUGFyYW1ldGVyczsKICAgICR0YXJnZXRSZXNvdXJjZSA9IEdldC1UYXJnZXRSZXNvdXJjZSBAUFNCb3VuZFBhcmFtZXRlcnM7CiAgICAkaXNDb21wbGlhbnQgPSAkdHJ1ZTsKCiAgICBpZiAoJEVuc3VyZSAtZXEgJ0Fic2VudCcpCiAgICB7CiAgICAgICAgaWYgKCR0YXJnZXRSZXNvdXJjZS5FbnN1cmUgLWVxICdQcmVzZW50JykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLkFEVXNlck5vdERlc2lyZWRQcm9wZXJ0eVN0YXRlIC1mICdFbnN1cmUnLCAkUFNCb3VuZFBhcmFtZXRlcnMuRW5zdXJlLCAkdGFyZ2V0UmVzb3VyY2UuRW5zdXJlKTsKICAgICAgICAgICAgJGlzQ29tcGxpYW50ID0gJGZhbHNlOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAjIyBBZGQgY29tbW9uIG5hbWUsIGVuc3VyZSBhbmQgZW5hYmxlZCBhcyB0aGV5IG1heSBub3QgYmUgZXhwbGljaXRseSBwYXNzZWQgYW5kIHdlIHdhbnQgdG8gZW51bWVyYXRlIHRoZW0KICAgICAgICAkUFNCb3VuZFBhcmFtZXRlcnNbJ0Vuc3VyZSddID0gJEVuc3VyZTsKICAgICAgICAkUFNCb3VuZFBhcmFtZXRlcnNbJ0VuYWJsZWQnXSA9ICRFbmFibGVkOwoKICAgICAgICBmb3JlYWNoICgkcGFyYW1ldGVyIGluICRQU0JvdW5kUGFyYW1ldGVycy5LZXlzKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCRwYXJhbWV0ZXIgLWVxICdQYXNzd29yZCcpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICR0ZXN0UGFzc3dvcmRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgICAgIFVzZXJuYW1lID0gJFVzZXJOYW1lOwogICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkID0gJFBhc3N3b3JkOwogICAgICAgICAgICAgICAgICAgIERvbWFpbk5hbWUgPSAkRG9tYWluTmFtZTsKICAgICAgICAgICAgICAgICAgICBQYXNzd29yZEF1dGhlbnRpY2F0aW9uID0gJFBhc3N3b3JkQXV0aGVudGljYXRpb247CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJERvbWFpbkFkbWluaXN0cmF0b3JDcmVkZW50aWFsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICR0ZXN0UGFzc3dvcmRQYXJhbXNbJ0RvbWFpbkFkbWluaXN0cmF0b3JDcmVkZW50aWFsJ10gPSAkRG9tYWluQWRtaW5pc3RyYXRvckNyZWRlbnRpYWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoLW5vdCAoVGVzdC1QYXNzd29yZCBAdGVzdFBhc3N3b3JkUGFyYW1zKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICgkTG9jYWxpemVkRGF0YS5BRFVzZXJOb3REZXNpcmVkUHJvcGVydHlTdGF0ZSAtZiAnUGFzc3dvcmQnLCAnPFBhc3N3b3JkPicsICc8UGFzc3dvcmQ+Jyk7CiAgICAgICAgICAgICAgICAgICAgJGlzQ29tcGxpYW50ID0gJGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICMgT25seSBjaGVjayBwcm9wZXJ0aWVzIHRoYXQgYXJlIHJldHVybmVkIGJ5IEdldC1UYXJnZXRSZXNvdXJjZQogICAgICAgICAgICBlbHNlaWYgKCR0YXJnZXRSZXNvdXJjZS5Db250YWluc0tleSgkcGFyYW1ldGVyKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIyMgVGhpcyBjaGVjayBpcyByZXF1aXJlZCB0byBiZSBhYmxlIHRvIGV4cGxpY2l0bHkgcmVtb3ZlIHZhbHVlcyB3aXRoIGFuIGVtcHR5IHN0cmluZywgaWYgcmVxdWlyZWQKICAgICAgICAgICAgICAgIGlmICgoW1N5c3RlbS5TdHJpbmddOjpJc051bGxPckVtcHR5KCRQU0JvdW5kUGFyYW1ldGVycy4kcGFyYW1ldGVyKSkgLWFuZCAoW1N5c3RlbS5TdHJpbmddOjpJc051bGxPckVtcHR5KCR0YXJnZXRSZXNvdXJjZS4kcGFyYW1ldGVyKSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIyBCb3RoIHZhbHVlcyBhcmUgbnVsbC9lbXB0eSBhbmQgdGhlcmVmb3JlIHdlIGFyZSBjb21wbGlhbnQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzLiRwYXJhbWV0ZXIgLW5lICR0YXJnZXRSZXNvdXJjZS4kcGFyYW1ldGVyKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLkFEVXNlck5vdERlc2lyZWRQcm9wZXJ0eVN0YXRlIC1mICRwYXJhbWV0ZXIsICRQU0JvdW5kUGFyYW1ldGVycy4kcGFyYW1ldGVyLCAkdGFyZ2V0UmVzb3VyY2UuJHBhcmFtZXRlcik7CiAgICAgICAgICAgICAgICAgICAgJGlzQ29tcGxpYW50ID0gJGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSAjZW5kIGZvcmVhY2ggUFNCb3VuZFBhcmFtZXRlcgogICAgfQoKICAgIHJldHVybiAkaXNDb21wbGlhbnQ7Cgp9ICNlbmQgZnVuY3Rpb24gVGVzdC1UYXJnZXRSZXNvdXJjZQoKZnVuY3Rpb24gU2V0LVRhcmdldFJlc291cmNlCnsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbQogICAgKAogICAgICAgICMjIE5hbWUgb2YgdGhlIGRvbWFpbiB3aGVyZSB0aGUgdXNlciBhY2NvdW50IGlzIGxvY2F0ZWQgKG9ubHkgdXNlZCBpZiBwYXNzd29yZCBpcyBtYW5hZ2VkKQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5KV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERvbWFpbk5hbWUsCgogICAgICAgICMgU3BlY2lmaWVzIHRoZSBTZWN1cml0eSBBY2NvdW50IE1hbmFnZXIgKFNBTSkgYWNjb3VudCBuYW1lIG9mIHRoZSB1c2VyIChsZGFwRGlzcGxheU5hbWUgJ3NBTUFjY291bnROYW1lJykKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRVc2VyTmFtZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGEgbmV3IHBhc3N3b3JkIHZhbHVlIGZvciBhbiBhY2NvdW50CiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJFBhc3N3b3JkLAoKICAgICAgICAjIyBTcGVjaWZpZXMgd2hldGhlciB0aGUgdXNlciBhY2NvdW50IGlzIGNyZWF0ZWQgb3IgZGVsZXRlZAogICAgICAgIFtWYWxpZGF0ZVNldCgnUHJlc2VudCcsICdBYnNlbnQnKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEVuc3VyZSA9ICdQcmVzZW50JywKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBjb21tb24gbmFuZSBhc3NpZ25lZCB0byB0aGUgdXNlciBhY2NvdW50IChsZGFwRGlzcGxheU5hbWUgJ2NuJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRDb21tb25OYW1lID0gJFVzZXJOYW1lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIFVQTiBhc3NpZ25lZCB0byB0aGUgdXNlciBhY2NvdW50IChsZGFwRGlzcGxheU5hbWUgJ3VzZXJQcmluY2lwYWxOYW1lJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRVc2VyUHJpbmNpcGFsTmFtZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIG9iamVjdCAobGRhcERpc3BsYXlOYW1lICdkaXNwbGF5TmFtZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRGlzcGxheU5hbWUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgWC41MDAgcGF0aCBvZiB0aGUgT3JnYW5pemF0aW9uYWwgVW5pdCAoT1UpIG9yIGNvbnRhaW5lciB3aGVyZSB0aGUgbmV3IG9iamVjdCBpcyBjcmVhdGVkCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkUGF0aCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZ2l2ZW4gbmFtZSAobGRhcERpc3BsYXlOYW1lICdnaXZlbk5hbWUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEdpdmVuTmFtZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBpbml0aWFscyB0aGF0IHJlcHJlc2VudCBwYXJ0IG9mIGEgdXNlcidzIG5hbWUgKGxkYXBEaXNwbGF5TmFtZSAnaW5pdGlhbHMnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEluaXRpYWxzLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBsYXN0IG5hbWUgb3Igc3VybmFtZSAobGRhcERpc3BsYXlOYW1lICdzbicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkU3VybmFtZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIGEgZGVzY3JpcHRpb24gb2YgdGhlIG9iamVjdCAobGRhcERpc3BsYXlOYW1lICdkZXNjcmlwdGlvbicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRGVzY3JpcHRpb24sCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIHN0cmVldCBhZGRyZXNzIChsZGFwRGlzcGxheU5hbWUgJ3N0cmVldEFkZHJlc3MnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFN0cmVldEFkZHJlc3MsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIHBvc3Qgb2ZmaWNlIGJveCBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAncG9zdE9mZmljZUJveCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkUE9Cb3gsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIHRvd24gb3IgY2l0eSAobGRhcERpc3BsYXlOYW1lICdsJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRDaXR5LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBvciBPcmdhbml6YXRpb25hbCBVbml0J3Mgc3RhdGUgb3IgcHJvdmluY2UgKGxkYXBEaXNwbGF5TmFtZSAnc3QnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFN0YXRlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBwb3N0YWwgY29kZSBvciB6aXAgY29kZSAobGRhcERpc3BsYXlOYW1lICdwb3N0YWxDb2RlJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRQb3N0YWxDb2RlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIGNvdW50cnkgb3IgcmVnaW9uIGNvZGUgZm9yIHRoZSB1c2VyJ3MgbGFuZ3VhZ2Ugb2YgY2hvaWNlIChsZGFwRGlzcGxheU5hbWUgJ2MnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJENvdW50cnksCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGRlcGFydG1lbnQgKGxkYXBEaXNwbGF5TmFtZSAnZGVwYXJ0bWVudCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRGVwYXJ0bWVudCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgZGl2aXNpb24gKGxkYXBEaXNwbGF5TmFtZSAnZGl2aXNpb24nKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERpdmlzaW9uLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBjb21wYW55IChsZGFwRGlzcGxheU5hbWUgJ2NvbXBhbnknKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJENvbXBhbnksCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgbG9jYXRpb24gb2YgdGhlIHVzZXIncyBvZmZpY2Ugb3IgcGxhY2Ugb2YgYnVzaW5lc3MgKGxkYXBEaXNwbGF5TmFtZSAncGh5c2ljYWxEZWxpdmVyeU9mZmljZU5hbWUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJE9mZmljZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgdGl0bGUgKGxkYXBEaXNwbGF5TmFtZSAndGl0bGUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEpvYlRpdGxlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBlLW1haWwgYWRkcmVzcyAobGRhcERpc3BsYXlOYW1lICdtYWlsJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRFbWFpbEFkZHJlc3MsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGVtcGxveWVlIElEIChsZGFwRGlzcGxheU5hbWUgJ2VtcGxveWVlSUQnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEVtcGxveWVlSUQsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIGVtcGxveWVlIG51bWJlciAobGRhcERpc3BsYXlOYW1lICdlbXBsb3llZU51bWJlcicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRW1wbG95ZWVOdW1iZXIsCgogICAgICAgICMjIFNwZWNpZmllcyBhIHVzZXIncyBob21lIGRpcmVjdG9yeSBwYXRoIChsZGFwRGlzcGxheU5hbWUgJ2hvbWVEaXJlY3RvcnknKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEhvbWVEaXJlY3RvcnksCgogICAgICAgICMjIFNwZWNpZmllcyBhIGRyaXZlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBVTkMgcGF0aCBkZWZpbmVkIGJ5IHRoZSBIb21lRGlyZWN0b3J5IHByb3BlcnR5IChsZGFwRGlzcGxheU5hbWUgJ2hvbWVEcml2ZScpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkSG9tZURyaXZlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIFVSTCBvZiB0aGUgaG9tZSBwYWdlIG9mIHRoZSBvYmplY3QgKGxkYXBEaXNwbGF5TmFtZSAnd1dXSG9tZVBhZ2UnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJEhvbWVQYWdlLAoKICAgICAgICAjIyBTcGVjaWZpZXMgYSBwYXRoIHRvIHRoZSB1c2VyJ3MgcHJvZmlsZSAobGRhcERpc3BsYXlOYW1lICdwcm9maWxlUGF0aCcpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkUHJvZmlsZVBhdGgsCgogICAgICAgICMjIFNwZWNpZmllcyBhIHBhdGggdG8gdGhlIHVzZXIncyBsb2cgb24gc2NyaXB0IChsZGFwRGlzcGxheU5hbWUgJ3NjcmlwdFBhdGgnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJExvZ29uU2NyaXB0LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIG5vdGVzIGF0dGFjaGVkIHRvIHRoZSB1c2VyJ3MgYWNjb3V0biAobGRhcERpc3BsYXlOYW1lICdpbmZvJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICROb3RlcywKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3Mgb2ZmaWNlIHRlbGVwaG9uZSBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAndGVsZXBob25lTnVtYmVyJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRPZmZpY2VQaG9uZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyJ3MgbW9iaWxlIHBob25lIG51bWJlciAobGRhcERpc3BsYXlOYW1lICdtb2JpbGUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJE1vYmlsZVBob25lLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBmYXggcGhvbmUgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ2ZhY3NpbWlsZVRlbGVwaG9uZU51bWJlcicpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRmF4LAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBob21lIHRlbGVwaG9uZSBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAnaG9tZVBob25lJykKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddICRIb21lUGhvbmUsCgogICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBwYWdlciBudW1iZXIgKGxkYXBEaXNwbGF5TmFtZSAncGFnZXInKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFBhZ2VyLAoKICAgICAgICAjIyBTcGVjaWZpZXMgdGhlIHVzZXIncyBJUCB0ZWxlcGhvbnkgcGhvbmUgbnVtYmVyIChsZGFwRGlzcGxheU5hbWUgJ2lwUGhvbmUnKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJElQUGhvbmUsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgdXNlcidzIG1hbmFnZXIgc3BlY2lmaWVkIGFzIGEgRGlzdGluZ3Vpc2hlZCBOYW1lIChsZGFwRGlzcGxheU5hbWUgJ21hbmFnZXInKQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJE1hbmFnZXIsCgogICAgICAgICMjIFNwZWNpZmllcyBpZiB0aGUgYWNjb3VudCBpcyBlbmFibGVkIChkZWZhdWx0IFRydWUpCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uQm9vbGVhbl0gJEVuYWJsZWQgPSAkdHJ1ZSwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGFjY291bnQgcGFzc3dvcmQgY2FuIGJlIGNoYW5nZWQKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5Cb29sZWFuXSAkQ2Fubm90Q2hhbmdlUGFzc3dvcmQsCgogICAgICAgICMjIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBwYXNzd29yZCBvZiBhbiBhY2NvdW50IGNhbiBleHBpcmUKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5Cb29sZWFuXSAkUGFzc3dvcmROZXZlckV4cGlyZXMsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgQWN0aXZlIERpcmVjdG9yeSBEb21haW4gU2VydmljZXMgaW5zdGFuY2UgdG8gdXNlIHRvIHBlcmZvcm0gdGhlIHRhc2suCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXSAkRG9tYWluQ29udHJvbGxlciwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSB1c2VyIGFjY291bnQgY3JlZGVudGlhbHMgdG8gdXNlIHRvIHBlcmZvcm0gdGhpcyB0YXNrLiBJZGVhbGx5IHRoaXMgc2hvdWxkIGp1c3QgYmUgY2FsbGVkICdDcmVkZW50aWFsJyBidXQgaXMgaGVyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkRG9tYWluQWRtaW5pc3RyYXRvckNyZWRlbnRpYWwsCgogICAgICAgICMjIFNwZWNpZmllcyB0aGUgYXV0aGVudGljYXRpb24gY29udGV4dCB0eXBlIHdoZW4gdGVzdGluZyB1c2VyIHBhc3N3b3JkcyAjNjEKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RlZmF1bHQnLCdOZWdvdGlhdGUnKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFBhc3N3b3JkQXV0aGVudGljYXRpb24gPSAnRGVmYXVsdCcKICAgICkKCiAgICBBc3NlcnQtUGFyYW1ldGVycyBAUFNCb3VuZFBhcmFtZXRlcnM7CiAgICAkdGFyZ2V0UmVzb3VyY2UgPSBHZXQtVGFyZ2V0UmVzb3VyY2UgQFBTQm91bmRQYXJhbWV0ZXJzOwoKICAgICMjIEFkZCBjb21tb24gbmFtZSwgZW5zdXJlIGFuZCBlbmFibGVkIGFzIHRoZXkgbWF5IG5vdCBiZSBleHBsaWNpdGx5IHBhc3NlZAogICAgJFBTQm91bmRQYXJhbWV0ZXJzWydFbnN1cmUnXSA9ICRFbnN1cmU7CiAgICAkUFNCb3VuZFBhcmFtZXRlcnNbJ0VuYWJsZWQnXSA9ICRFbmFibGVkOwoKICAgIGlmICgkRW5zdXJlIC1lcSAnUHJlc2VudCcpCiAgICB7CiAgICAgICAgaWYgKCR0YXJnZXRSZXNvdXJjZS5FbnN1cmUgLWVxICdBYnNlbnQnKSB7CiAgICAgICAgICAgICMjIFVzZXIgZG9lcyBub3QgZXhpc3QgYW5kIG5lZWRzIGNyZWF0aW5nCiAgICAgICAgICAgICRuZXdBRFVzZXJQYXJhbXMgPSBHZXQtQURDb21tb25QYXJhbWV0ZXJzIEBQU0JvdW5kUGFyYW1ldGVycyAtVXNlTmFtZVBhcmFtZXRlcjsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVycy5Db250YWluc0tleSgnUGF0aCcpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkbmV3QURVc2VyUGFyYW1zWydQYXRoJ10gPSAkUGF0aDsKICAgICAgICAgICAgfQogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICgkTG9jYWxpemVkRGF0YS5BZGRpbmdBRFVzZXIgLWYgJFVzZXJOYW1lKTsKICAgICAgICAgICAgTmV3LUFEVXNlciBAbmV3QURVc2VyUGFyYW1zIC1TYW1BY2NvdW50TmFtZSAkVXNlck5hbWU7CiAgICAgICAgICAgICMjIE5vdyByZXRyaWV2ZSB0aGUgbmV3bHkgY3JlYXRlZCB1c2VyCiAgICAgICAgICAgICR0YXJnZXRSZXNvdXJjZSA9IEdldC1UYXJnZXRSZXNvdXJjZSBAUFNCb3VuZFBhcmFtZXRlcnM7CiAgICAgICAgfQoKICAgICAgICAkc2V0QURVc2VyUGFyYW1zID0gR2V0LUFEQ29tbW9uUGFyYW1ldGVycyBAUFNCb3VuZFBhcmFtZXRlcnM7CiAgICAgICAgJHJlcGxhY2VVc2VyUHJvcGVydGllcyA9IEB7fTsKICAgICAgICAkcmVtb3ZlVXNlclByb3BlcnRpZXMgPSBAe307CiAgICAgICAgZm9yZWFjaCAoJHBhcmFtZXRlciBpbiAkUFNCb3VuZFBhcmFtZXRlcnMuS2V5cykKICAgICAgICB7CiAgICAgICAgICAgICMjIE9ubHkgY2hlY2svYWN0aW9uIHByb3BlcnRpZXMgc3BlY2lmaWVkL2RlY2xhcmVkIHBhcmFtZXRlcnMgdGhhdCBtYXRjaCBvbmUgb2YgdGhlIGZ1bmN0aW9uJ3MKICAgICAgICAgICAgIyMgcGFyYW1ldGVycy4gVGhpcyB3aWxsIGlnbm9yZSBjb21tb24gcGFyYW1ldGVycyBzdWNoIGFzIC1WZXJib3NlIGV0Yy4KICAgICAgICAgICAgaWYgKCR0YXJnZXRSZXNvdXJjZS5Db250YWluc0tleSgkcGFyYW1ldGVyKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCRwYXJhbWV0ZXIgLWVxICdQYXRoJyAtYW5kICgkUFNCb3VuZFBhcmFtZXRlcnMuUGF0aCAtbmUgJHRhcmdldFJlc291cmNlLlBhdGgpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICMjIENhbm5vdCBtb3ZlIHVzZXJzIGJ5IHVwZGF0aW5nIHRoZSBEaXN0aW5ndWlzaGVkTmFtZSBwcm9wZXJ0eQogICAgICAgICAgICAgICAgICAgICRhZENvbW1vblBhcmFtZXRlcnMgPSBHZXQtQURDb21tb25QYXJhbWV0ZXJzIEBQU0JvdW5kUGFyYW1ldGVyczsKICAgICAgICAgICAgICAgICAgICAjIyBVc2luZyB0aGUgU2FtQWNjb3VudE5hbWUgZm9yIGlkZW50aXR5IHdpdGggTW92ZS1BRE9iamVjdCBkb2VzIG5vdCB3b3JrLCB1c2UgdGhlIEROIGluc3RlYWQKICAgICAgICAgICAgICAgICAgICAkYWRDb21tb25QYXJhbWV0ZXJzWydJZGVudGl0eSddID0gJHRhcmdldFJlc291cmNlLkRpc3Rpbmd1aXNoZWROYW1lOwogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLk1vdmluZ0FEVXNlciAtZiAkdGFyZ2V0UmVzb3VyY2UuUGF0aCwgJFBTQm91bmRQYXJhbWV0ZXJzLlBhdGgpOwogICAgICAgICAgICAgICAgICAgIE1vdmUtQURPYmplY3QgQGFkQ29tbW9uUGFyYW1ldGVycyAtVGFyZ2V0UGF0aCAkUFNCb3VuZFBhcmFtZXRlcnMuUGF0aDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJHBhcmFtZXRlciAtZXEgJ0NvbW1vbk5hbWUnIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVycy5Db21tb25OYW1lIC1uZSAkdGFyZ2V0UmVzb3VyY2UuQ29tbW9uTmFtZSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIyMgQ2Fubm90IHJlbmFtZSB1c2VycyBieSB1cGRhdGluZyB0aGUgQ04gcHJvcGVydHkgZGlyZWN0bHkKICAgICAgICAgICAgICAgICAgICAkYWRDb21tb25QYXJhbWV0ZXJzID0gR2V0LUFEQ29tbW9uUGFyYW1ldGVycyBAUFNCb3VuZFBhcmFtZXRlcnM7CiAgICAgICAgICAgICAgICAgICAgIyMgVXNpbmcgdGhlIFNhbUFjY291bnROYW1lIGZvciBpZGVudGl0eSB3aXRoIFJlbmFtZS1BRE9iamVjdCBkb2VzIG5vdCB3b3JrLCB1c2UgdGhlIEROIGluc3RlYWQKICAgICAgICAgICAgICAgICAgICAkYWRDb21tb25QYXJhbWV0ZXJzWydJZGVudGl0eSddID0gJHRhcmdldFJlc291cmNlLkRpc3Rpbmd1aXNoZWROYW1lOwogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLlJlbmFtaW5nQURVc2VyIC1mICR0YXJnZXRSZXNvdXJjZS5Db21tb25OYW1lLCAkUFNCb3VuZFBhcmFtZXRlcnMuQ29tbW9uTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgUmVuYW1lLUFET2JqZWN0IEBhZENvbW1vblBhcmFtZXRlcnMgLU5ld05hbWUgJFBTQm91bmRQYXJhbWV0ZXJzLkNvbW1vbk5hbWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRwYXJhbWV0ZXIgLWVxICdQYXNzd29yZCcpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGFkQ29tbW9uUGFyYW1ldGVycyA9IEdldC1BRENvbW1vblBhcmFtZXRlcnMgQFBTQm91bmRQYXJhbWV0ZXJzOwogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLlNldHRpbmdBRFVzZXJQYXNzd29yZCAtZiAkVXNlck5hbWUpOwogICAgICAgICAgICAgICAgICAgIFNldC1BREFjY291bnRQYXNzd29yZCBAYWRDb21tb25QYXJhbWV0ZXJzIC1SZXNldCAtTmV3UGFzc3dvcmQgJFBhc3N3b3JkLlBhc3N3b3JkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkcGFyYW1ldGVyIC1lcSAnRW5hYmxlZCcgLWFuZCAoJFBTQm91bmRQYXJhbWV0ZXJzLiRwYXJhbWV0ZXIgLW5lICR0YXJnZXRSZXNvdXJjZS4kcGFyYW1ldGVyKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAjIyBXZSBjYW5ub3QgZW5hYmxlL2Rpc2FibGUgYW4gYWNjb3VudCB3aXRoIC1BZGQgb3IgLVJlcGxhY2UgcGFyYW1ldGVycywgYnV0IGluZm9ybSB0aGF0CiAgICAgICAgICAgICAgICAgICAgIyMgd2Ugd2lsbCBjaGFuZ2UgdGhpcyBhcyBpdCBpcyBvdXQgb2YgY29tcGxpYW5jZSAoaXQgYWx3YXlzIGdldHMgc2V0IGFueXdheSkKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICgkTG9jYWxpemVkRGF0YS5VcGRhdGluZ0FEVXNlclByb3BlcnR5IC1mICRwYXJhbWV0ZXIsICRQU0JvdW5kUGFyYW1ldGVycy4kcGFyYW1ldGVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzLiRwYXJhbWV0ZXIgLW5lICR0YXJnZXRSZXNvdXJjZS4kcGFyYW1ldGVyKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICMjIEZpbmQgdGhlIGFzc29jaWF0ZWQgQUQgcHJvcGVydHkKICAgICAgICAgICAgICAgICAgICAkYWRQcm9wZXJ0eSA9ICRhZFByb3BlcnR5TWFwIHwgV2hlcmUtT2JqZWN0IHsgJF8uUGFyYW1ldGVyIC1lcSAkcGFyYW1ldGVyIH07CgogICAgICAgICAgICAgICAgICAgIGlmIChbU3lzdGVtLlN0cmluZ106OklzTnVsbE9yRW1wdHkoJGFkUHJvcGVydHkpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyMgV2UgY2FuJ3QgZG8gYW55dGhpbmcgaXMgYW4gZW1wdHkgQUQgcHJvcGVydHkhCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoW1N5c3RlbS5TdHJpbmddOjpJc051bGxPckVtcHR5KCRQU0JvdW5kUGFyYW1ldGVycy4kcGFyYW1ldGVyKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICMjIFdlIGFyZSByZW1vdmluZyBwcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgICAgICMjIE9ubHkgcmVtb3ZlIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpbiBub3QgbnVsbCBvciBlbXB0eQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAoW1N5c3RlbS5TdHJpbmddOjpJc051bGxPckVtcHR5KCR0YXJnZXRSZXNvdXJjZS4kcGFyYW1ldGVyKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgKCRMb2NhbGl6ZWREYXRhLlJlbW92aW5nQURVc2VyUHJvcGVydHkgLWYgJHBhcmFtZXRlciwgJFBTQm91bmRQYXJhbWV0ZXJzLiRwYXJhbWV0ZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRhZFByb3BlcnR5LlVzZUNtZGxldFBhcmFtZXRlciAtZXEgJHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMgV2UgbmVlZCB0byBwYXNzIHRoZSBwYXJhbWV0ZXIgZXhwbGljaXRseSB0byBTZXQtQURVc2VyLCBub3QgdmlhIC1SZW1vdmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2V0QURVc2VyUGFyYW1zWyRhZFByb3BlcnR5LlBhcmFtZXRlcl0gPSAkUFNCb3VuZFBhcmFtZXRlcnMuJHBhcmFtZXRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoW1N5c3RlbS5TdHJpbmddOjpJc051bGxPckVtcHR5KCRhZFByb3BlcnR5LkFEUHJvcGVydHkpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZW1vdmVVc2VyUHJvcGVydGllc1skYWRQcm9wZXJ0eS5QYXJhbWV0ZXJdID0gJHRhcmdldFJlc291cmNlLiRwYXJhbWV0ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJlbW92ZVVzZXJQcm9wZXJ0aWVzWyRhZFByb3BlcnR5LkFEUHJvcGVydHldID0gJHRhcmdldFJlc291cmNlLiRwYXJhbWV0ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9ICNlbmQgaWYgcmVtb3ZlIGV4aXN0aW5nIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyMgV2UgYXJlIHJlcGxhY2luZyB0aGUgZXhpc3RpbmcgdmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAoJExvY2FsaXplZERhdGEuVXBkYXRpbmdBRFVzZXJQcm9wZXJ0eSAtZiAkcGFyYW1ldGVyLCAkUFNCb3VuZFBhcmFtZXRlcnMuJHBhcmFtZXRlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkYWRQcm9wZXJ0eS5Vc2VDbWRsZXRQYXJhbWV0ZXIgLWVxICR0cnVlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIyBXZSBuZWVkIHRvIHBhc3MgdGhlIHBhcmFtZXRlciBleHBsaWNpdGx5IHRvIFNldC1BRFVzZXIsIG5vdCB2aWEgLVJlcGxhY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXRBRFVzZXJQYXJhbXNbJGFkUHJvcGVydHkuUGFyYW1ldGVyXSA9ICRQU0JvdW5kUGFyYW1ldGVycy4kcGFyYW1ldGVyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoW1N5c3RlbS5TdHJpbmddOjpJc051bGxPckVtcHR5KCRhZFByb3BlcnR5LkFEUHJvcGVydHkpKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVwbGFjZVVzZXJQcm9wZXJ0aWVzWyRhZFByb3BlcnR5LlBhcmFtZXRlcl0gPSAkUFNCb3VuZFBhcmFtZXRlcnMuJHBhcmFtZXRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyZXBsYWNlVXNlclByb3BlcnRpZXNbJGFkUHJvcGVydHkuQURQcm9wZXJ0eV0gPSAkUFNCb3VuZFBhcmFtZXRlcnMuJHBhcmFtZXRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gI2VuZCBpZiByZXBsYWNlIGV4aXN0aW5nIHZhbHVlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9ICNlbmQgaWYgVGFyZ2V0UmVzb3VyY2UgcGFyYW1ldGVyCiAgICAgICAgfSAjZW5kIGZvcmVhY2ggUFNCb3VuZFBhcmFtZXRlcgoKICAgICAgICAjIyBPbmx5IHBhc3MgLVJlbW92ZSBhbmQvb3IgLVJlcGxhY2UgaWYgd2UgaGF2ZSBzb21ldGhpbmcgdG8gc2V0L2NoYW5nZQogICAgICAgIGlmICgkcmVwbGFjZVVzZXJQcm9wZXJ0aWVzLkNvdW50IC1ndCAwKQogICAgICAgIHsKICAgICAgICAgICAgJHNldEFEVXNlclBhcmFtc1snUmVwbGFjZSddID0gJHJlcGxhY2VVc2VyUHJvcGVydGllczsKICAgICAgICB9CiAgICAgICAgaWYgKCRyZW1vdmVVc2VyUHJvcGVydGllcy5Db3VudCAtZ3QgMCkKICAgICAgICB7CiAgICAgICAgICAgICRzZXRBRFVzZXJQYXJhbXNbJ1JlbW92ZSddID0gJHJlbW92ZVVzZXJQcm9wZXJ0aWVzOwogICAgICAgIH0KCiAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAoJExvY2FsaXplZERhdGEuVXBkYXRpbmdBRFVzZXIgLWYgJFVzZXJOYW1lKTsKICAgICAgICBbcmVmXSAkbnVsbCA9IFNldC1BRFVzZXIgQHNldEFEVXNlclBhcmFtcyAtRW5hYmxlZCAkRW5hYmxlZDsKICAgIH0KICAgIGVsc2VpZiAoKCRFbnN1cmUgLWVxICdBYnNlbnQnKSAtYW5kICgkdGFyZ2V0UmVzb3VyY2UuRW5zdXJlIC1lcSAnUHJlc2VudCcpKQogICAgewogICAgICAgICMjIFVzZXIgZXhpc3RzIGFuZCBuZWVkcyByZW1vdmluZwogICAgICAgIFdyaXRlLVZlcmJvc2UgKCRMb2NhbGl6ZWREYXRhLlJlbW92aW5nQURVc2VyIC1mICRVc2VyTmFtZSk7CiAgICAgICAgJGFkQ29tbW9uUGFyYW1ldGVycyA9IEdldC1BRENvbW1vblBhcmFtZXRlcnMgQFBTQm91bmRQYXJhbWV0ZXJzOwogICAgICAgIFtyZWZdICRudWxsID0gUmVtb3ZlLUFEVXNlciBAYWRDb21tb25QYXJhbWV0ZXJzIC1Db25maXJtOiRmYWxzZTsKICAgIH0KCn0gI2VuZCBmdW5jdGlvbiBTZXQtVGFyZ2V0UmVzb3VyY2UKCiMgSW50ZXJuYWwgZnVuY3Rpb24gdG8gdmFsaWRhdGUgdW5zdXBwb3J0ZWQgb3B0aW9ucy9jb25maWd1cmF0aW9ucwpmdW5jdGlvbiBBc3NlcnQtUGFyYW1ldGVycwp7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0KICAgICgKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSAkUGFzc3dvcmQsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLkJvb2xlYW5dICRFbmFibGVkID0gJHRydWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUmVtYWluaW5nQXJndW1lbnRzKV0KICAgICAgICAkSWdub3JlZEFyZ3VtZW50cwogICAgKQoKICAgICMjIFdlIGNhbm5vdCB0ZXN0L3NldCBwYXNzd29yZHMgb24gZGlzYWJsZWQgQUQgYWNjb3VudHMKICAgIGlmICgoJFBTQm91bmRQYXJhbWV0ZXJzLkNvbnRhaW5zS2V5KCdQYXNzd29yZCcpKSAtYW5kICgkRW5hYmxlZCAtZXEgJGZhbHNlKSkKICAgIHsKICAgICAgICAkdGhyb3dJbnZhbGlkQXJndW1lbnRFcnJvclBhcmFtcyA9IEB7CiAgICAgICAgICAgIEVycm9ySWQgPSAneEFEVXNlcl9EaXNhYmxlZEFjY291bnRQYXNzd29yZENvbmZsaWN0JzsKICAgICAgICAgICAgRXJyb3JNZXNzYWdlID0gJExvY2FsaXplZERhdGEuUGFzc3dvcmRQYXJhbWV0ZXJDb25mbGljdEVycm9yIC1mICdFbmFibGVkJywgJGZhbHNlLCAnUGFzc3dvcmQnOwogICAgICAgIH0KICAgICAgICBUaHJvd0ludmFsaWRBcmd1bWVudEVycm9yIEB0aHJvd0ludmFsaWRBcmd1bWVudEVycm9yUGFyYW1zOwogICAgfQoKfSAjZW5kIGZ1bmN0aW9uIEFzc2VydC1QYXJhbWV0ZXJzCgojIEludGVybmFsIGZ1bmN0aW9uIHRvIHRlc3QgdGhlIHZhbGlkaXR5IG9mIGEgdXNlcidzIHBhc3N3b3JkLgpmdW5jdGlvbiBUZXN0LVBhc3N3b3JkCnsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbQogICAgKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5KV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJERvbWFpbk5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5KV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFVzZXJOYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSldCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkUGFzc3dvcmQsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICREb21haW5BZG1pbmlzdHJhdG9yQ3JlZGVudGlhbCwKCiAgICAgICAgIyMgU3BlY2lmaWVzIHRoZSBhdXRoZW50aWNhdGlvbiBjb250ZXh0IHR5cGUgd2hlbiB0ZXN0aW5nIHVzZXIgcGFzc3dvcmRzICM2MQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5KV0KICAgICAgICBbVmFsaWRhdGVTZXQoJ0RlZmF1bHQnLCdOZWdvdGlhdGUnKV0KICAgICAgICBbU3lzdGVtLlN0cmluZ10gJFBhc3N3b3JkQXV0aGVudGljYXRpb24KICAgICkKCiAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICgkTG9jYWxpemVkRGF0YS5DcmVhdGluZ0FERG9tYWluQ29ubmVjdGlvbiAtZiAkRG9tYWluTmFtZSk7CiAgICBBZGQtVHlwZSAtQXNzZW1ibHlOYW1lICdTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQnOwoKICAgIGlmICgkRG9tYWluQWRtaW5pc3RyYXRvckNyZWRlbnRpYWwpCiAgICB7CiAgICAgICAgJHByaW5jaXBhbENvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dFR5cGVdOjpEb21haW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpbk5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpbkFkbWluaXN0cmF0b3JDcmVkZW50aWFsLlVzZXJOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5BZG1pbmlzdHJhdG9yQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRwcmluY2lwYWxDb250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsQ29udGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LkNvbnRleHRUeXBlXTo6RG9tYWluLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5OYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgfQogICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAoJExvY2FsaXplZERhdGEuQ2hlY2tpbmdBRFVzZXJQYXNzd29yZCAtZiAkVXNlck5hbWUpOwoKICAgIGlmICgkUGFzc3dvcmRBdXRoZW50aWNhdGlvbiAtZXEgJ05lZ290aWF0ZScpCiAgICB7CiAgICAgICAgcmV0dXJuICRwcmluY2lwYWxDb250ZXh0LlZhbGlkYXRlQ3JlZGVudGlhbHMoCiAgICAgICAgICAgICRVc2VyTmFtZSwKICAgICAgICAgICAgJFBhc3N3b3JkLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQsCiAgICAgICAgICAgIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dE9wdGlvbnNdOjpOZWdvdGlhdGUgLWJvcgogICAgICAgICAgICAgICAgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Db250ZXh0T3B0aW9uc106OlNpZ25pbmcgLWJvcgogICAgICAgICAgICAgICAgICAgIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dE9wdGlvbnNdOjpTZWFsaW5nCiAgICAgICAgKTsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAjIyBVc2UgZGVmYXVsdCBhdXRoZW50aWNhdGlvbiBjb250ZXh0CiAgICAgICAgcmV0dXJuICRwcmluY2lwYWxDb250ZXh0LlZhbGlkYXRlQ3JlZGVudGlhbHMoCiAgICAgICAgICAgICRVc2VyTmFtZSwKICAgICAgICAgICAgJFBhc3N3b3JkLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICApOwogICAgfQoKfSAjZW5kIGZ1bmN0aW9uIFRlc3QtUGFzc3dvcmQKCiMjIEltcG9ydCB0aGUgY29tbW9uIEFEIGZ1bmN0aW9ucwokYWRDb21tb25GdW5jdGlvbnMgPSBKb2luLVBhdGggLVBhdGggKFNwbGl0LVBhdGggLVBhdGggJFBTU2NyaXB0Um9vdCAtUGFyZW50KSAtQ2hpbGRQYXRoICdcTVNGVF94QURDb21tb25cTVNGVF94QURDb21tb24ucHMxJzsKLiAkYWRDb21tb25GdW5jdGlvbnM7CgpFeHBvcnQtTW9kdWxlTWVtYmVyIC1GdW5jdGlvbiAqLVRhcmdldFJlc291cmNlCg==
