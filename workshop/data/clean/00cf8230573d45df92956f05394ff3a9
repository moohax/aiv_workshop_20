Automation.psm1,5e94cd3336228ab4e8bb5e19df688444,Scan result is 1. IsMalware: 0,w6/Cu8K/I3JlcXVpcmVzIC1WZXJzaW9uIDMuMCAtTW9kdWxlcyBNaWNyb3NvZnQuUG93ZXJTaGVsbC5VdGlsaXR5CiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU3RvcCcKCiNyZWdpb24gR2V0LVBhY2thZ2VNb2R1bGVCYXNlIGdldHMgdGhlIGxvY2F0aW9ucyBmb3IgSW9uaWMuWmlwLmRsbCwgc2V0dGluZ3MueG1sIGFuZCBpY29uIGZyb20gdGhlICRQU01vZHVsZVBhdGggYW5kIHJldHVybnMgJG1vZHVsZQpmdW5jdGlvbiBHZXQtUGFja2FnZU1vZHVsZUJhc2UKewogICAgcGFyYW0KICAgICgKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSldCiAgICAgICAgW3ZhbGlkYXRlc2V0KCcxLjkuMS44JywnMS4xMC4xLjAnKV0KICAgICAgICBbc3RyaW5nXQogICAgICAgICRWZXJzaW9uCiAgICApCgogICAgJE1vZHVsZUJhc2UgPSAoR2V0LU1vZHVsZSAtTGlzdEF2YWlsYWJsZSAtUmVmcmVzaCBBdXRvbWF0aW9uKSB8IFdoZXJlLU9iamVjdCAtUHJvcGVydHkgVmVyc2lvbiAtTWF0Y2ggJFZlcnNpb24KCiAgICAkbW9kdWxlID0gW3BzY3VzdG9tb2JqZWN0XUB7CiAgICAgICAgQXNzZW1ibHlCYXNlID0gIiQoJE1vZHVsZUJhc2UuTW9kdWxlQmFzZSlcSW9uaWMuWmlwLmRsbCIKICAgICAgICBWZXJzaW9uICAgICAgPSAkTW9kdWxlQmFzZS5WZXJzaW9uLlRvU3RyaW5nKCkKICAgICAgICBYbWxCYXNlICAgICAgPSBbeG1sXSQoR2V0LUNvbnRlbnQgLVBhdGggIiQoJE1vZHVsZUJhc2UuTW9kdWxlQmFzZSlcc2V0dGluZ3MueG1sIikKICAgICAgICBJY29uICAgICAgICAgPSAiJCgkTW9kdWxlQmFzZS5Nb2R1bGVCYXNlKVxwb3dlcnNoZWxsLmljbyIKICAgIH0KCiAgICByZXR1cm4gJG1vZHVsZQp9CiNlbmRyZWdpb24KCiNyZWdpb24gU2V0LVBhY2thZ2VBc3NlbWJseSBsb2FkcyB0aGUgSW9uaWMuWmlwLmRsbCBmaWxlIGFuZCByZXR1cm5zIGFzICRhc3NlbWJseQpmdW5jdGlvbiBTZXQtUGFja2FnZUFzc2VtYmx5CnsKCiAgICAkbW9kdWxlID0gR2V0LVBhY2thZ2VNb2R1bGVCYXNlIC1WZXJzaW9uICcxLjkuMS44JwogICAgQWRkLVR5cGUgLVBhdGggJG1vZHVsZS5Bc3NlbWJseUJhc2UKCiAgICAkWmlwRmlsZSA9IFtJb25pYy5aaXAuWmlwRmlsZV0KICAgICRPcHRpb25zID0gW0lvbmljLlppcC5TZWxmRXh0cmFjdG9yU2F2ZU9wdGlvbnNdCgogICAgJGFzc2VtYmx5ID0gW3BzY3VzdG9tb2JqZWN0XUB7CiAgICAgICAgWmlwRmlsZSA9ICRaaXBGaWxlCiAgICAgICAgT3B0aW9ucyA9ICRPcHRpb25zCiAgICB9CgogICAgcmV0dXJuICRhc3NlbWJseQp9CiNlbmRyZWdpb24KCiNyZWdpb24gU2V0LVVzZXJEZWZpbmVkRXh0cmFjdERpcmVjdG9yeSBwcm9tcHRzIHRoZSB1c2VyIHRvIHNldCBhIGN1c3RvbSBleHRyYWN0IGRpcmVjdG9yeQpmdW5jdGlvbiBTZXQtVXNlckRlZmluZWRFeHRyYWN0RGlyZWN0b3J5CnsKICAgICRFeHRyYWN0RGlyZWN0b3J5ID0gUmVhZC1Ib3N0IC1Qcm9tcHQgJ0VudGVyIHRoZSBwYXRoIHRvIGV4dHJhY3QgdGVtcG9yYXJ5IGZpbGVzJwoKICAgIGlmKCRFeHRyYWN0RGlyZWN0b3J5LkNvbnRhaW5zKCInIikpCiAgICB7CiAgICAgICAgJEV4dHJhY3REaXJlY3RvcnkgPSAkRXh0cmFjdERpcmVjdG9yeS5SZXBsYWNlKCInIiwnJykKICAgIH0KCiAgICByZXR1cm4gJEV4dHJhY3REaXJlY3RvcnkKfQojZW5kcmVnaW9uCgojcmVnaW9uIFNldC1OSVBSRXh0cmFjdERpcmVjdG9yeSBhdXRvbWF0aWNhbGx5IHNldHMgdGhlIERlZmF1bHRFeHRyYWN0RGlyZWN0b3J5IHByb3BlcnR5IHRvIHRoZSBsb2NhbCBDQ00vQ2FjaGUvVGVtcCBkaXJlY3RvcnkKZnVuY3Rpb24gU2V0LU5JUFJFeHRyYWN0RGlyZWN0b3J5CnsKICAgICRFeHRyYWN0RGlyZWN0b3J5ID0gIkM6XFdpbmRvd3NcU3lzV293NjRcQ0NNXENhY2hlXFRlbXBcJChOZXctR3VpZCkiCiAgICByZXR1cm4gJEV4dHJhY3REaXJlY3RvcnkKfQojZW5kcmVnaW9uCgojcmVnaW9uIFNldC1QYWNrYWdlWG1sIHNldHMgdGhlIGF1dG9tYXRpb24gYnVpbGQgcGFja2FnZSBwYXJhbWV0ZXJzIGFuZCByZXR1cm5zICRzZXR0aW5ncwpmdW5jdGlvbiBTZXQtUGFja2FnZVhtbAp7CgogICAgJG1vZHVsZSAgICAgICAgICAgPSBHZXQtUGFja2FnZU1vZHVsZUJhc2UgLVZlcnNpb24gJzEuOS4xLjgnCiAgICAkWG1sICAgICAgICAgICAgICA9ICRtb2R1bGUuWG1sQmFzZQoKICAgICROZXR3b3JrUGF0aCAgICAgID0gJFhtbC5Db25maWd1cmF0aW9uLk5ldHdvcmtQYXRoCiAgICAkQ29uZmlnUGF0aCAgICAgICA9ICR4bWwuQ29uZmlndXJhdGlvbi5Db25maWdQYXRoCiAgICAkVEZTUGF0aCAgICAgICAgICA9IChSZXNvbHZlLVBhdGggLVBhdGggIkM6XFVzZXJzXCRlbnY6VVNFUk5BTUVcRGVza3RvcFxDMipcVmVyc2lvbnNcIikuUGF0aAogICAgJFVzZXJEZXNrdG9wICAgICAgPSAoUmVzb2x2ZS1QYXRoIC1QYXRoICJDOlxVc2Vyc1wkZW52OlVTRVJOQU1FXERlc2t0b3AiKS5QYXRoCiAgICAkVGV4dFdyaXRlciAgICAgICA9IFtDb25zb2xlXTo6T3V0CiAgICAkQ29tcHJlc3Npb25MZXZlbCA9ICdCZXN0Q29tcHJlc3Npb24nCiAgICAkSWNvbmZpbGUgICAgICAgICA9ICRtb2R1bGUuSWNvbgogICAgJEV4dHJhY3REaXJlY3RvcnkgPSAiQzpcc2llXEF1dGhvcml6ZWRcQXBwbGljYXRpb25zXFRlbXBcJChOZXctR3VpZCkiCgogICAgJHNldHRpbmdzID0gW3BzY3VzdG9tb2JqZWN0XUB7CiAgICAgICAgWG1sICAgICAgICAgICAgICAgICAgICAgICAgID0gJFhtbAogICAgICAgIE5ldHdvcmtQYXRoICAgICAgICAgICAgICAgICA9ICROZXR3b3JrUGF0aAogICAgICAgIENvbmZpZ1BhdGggICAgICAgICAgICAgICAgICA9ICRDb25maWdQYXRoCiAgICAgICAgVEZTUGF0aCAgICAgICAgICAgICAgICAgICAgID0gJFRGU1BhdGgKICAgICAgICBVc2VyRGVza3RvcCAgICAgICAgICAgICAgICAgPSAkVXNlckRlc2t0b3AKICAgICAgICBTdGF0dXNNZXNzYWdlVGV4dFdyaXRlciAgICAgPSAkVGV4dFdyaXRlcgogICAgICAgIENvbXByZXNzaW9uTGV2ZWwgICAgICAgICAgICA9ICRDb21wcmVzc2lvbkxldmVsCiAgICAgICAgSWNvbkZpbGUgICAgICAgICAgICAgICAgICAgID0gJEljb25maWxlCiAgICAgICAgRGVmYXVsdEV4dHJhY3REaXJlY3RvcnkgICAgID0gJEV4dHJhY3REaXJlY3RvcnkKICAgIH0KCiAgICByZXR1cm4gJHNldHRpbmdzCn0KI2VuZHJlZ2lvbgoKI3JlZ2lvbiBFeHBhbmQtUGFja2FnZSBhbGxvd3MgZm9yIGEgc2VsZi1leHRyYWN0aW5nIGFyY2hpdmUgKFNGWCkgdG8gYmUgZXhwYW5kZWQvdW56aXBwZWQuIEZvciB1c2UgaW5kZXBlbmRlbnRseSBvciBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSBOZXctUGFja2FnZSBmdW5jdGlvbi4KZnVuY3Rpb24gRXhwYW5kLVBhY2thZ2UKewogICAgPCMKICAgICAgICAgICAgLlNZTk9QU0lTCiAgICAgICAgICAgIEFiaWxpdHkgdG8gZXhwYW5kIGEgU0ZYIHByb2dyYW0KCiAgICAgICAgICAgIC5QQVJBTUVURVIgUGF0aAogICAgICAgICAgICBSZXF1aXJlcyB0aGUgcGFyYW1ldGVyIC1OYW1lLiBQcm92aWRlIG9ubHkgdGhlIGRpcmVjdG9yeSB3aGVyZSB0aGUgc291cmNlIGZpbGVzIGFyZSBsb2NhdGVkIChlLmc6IEo6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUgQUlSXDEuMi4zLjQpCgogICAgICAgICAgICAuUEFSQU1FVEVSIEZpbGVQYXRoCiAgICAgICAgICAgIFByb3ZpZGUgdGhlIGZ1bGwgcGF0aCB0byB0aGUgU0ZYIHByb2dyYW0gKGUuZzogSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxBZG9iZSBBSVJcMS4yLjMuNFxBZG9iZSBBSVIgMS4yLjMuNC5leGUpCgogICAgICAgICAgICAuUEFSQU1FVEVSIE5hbWUKICAgICAgICAgICAgUmVxdWlyZXMgdGhlIHBhcmFtZXRlciAtUGF0aC4gUHJvdmlkZSBvbmx5IHRoZSBmaWxlIG5hbWUgKGUuZzogQWRvYmUgQUlSIDEuMi4zLjQuZXhlKQoKICAgICAgICAgICAgLkVYQU1QTEUKICAgICAgICAgICAgUFMgQzpcVXNlcnNcamVzc2U+IE5ldy1QYWNrYWdlIC1QYXRoICdKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwxLjIuMy40JyAtTmFtZSAnQWRvYmUgQUlSIDEuMi4zLjQnIC1FeHBhbmQKCiAgICAgICAgICAgIE1vZGlmaWVkICAgICAgICAgICAgICAgU2l6ZSAgICAgUmF0aW8gICBQYWNrZWQgICAgTmFtZQogICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgMjAxNi0wNi0xNiAxMToyNDozNiAgICAxMDc1Mzc3NiAgICAzJSAgIDEwNDM0Mjc2IEFkb2JlQUlSSW5zdGFsbGVyLmV4ZQogICAgICAgICAgICBleHRyYWN0IGZpbGUgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxBZG9iZSBBSVJcMS4yLjMuNFxBZG9iZUFJUkluc3RhbGxlci5leGUuLi4KICAgICAgICAgICAgMjAxNi0wOC0yNCAxMzo1MjozNCAgICA1MTgxICAgICAgIDczJSAgIDEzOTcgICAgIEFkb2JlIEFJUiAxLjIuMy40LnBzMQogICAgICAgICAgICBleHRyYWN0IGZpbGUgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxBZG9iZSBBSVJcMS4yLjMuNFxBZG9iZSBBSVIgMS4yLjMuNC5wczEuLi4KICAgICAgICAgICAgVkVSQk9TRTogUGVyZm9ybWluZyB0aGUgb3BlcmF0aW9uICJSZW1vdmUgRmlsZSIgb24gdGFyZ2V0ICJKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwxLjIuMy40XEFkb2JlIEFJUiAxLjIuMy40LmV4ZSIuCgogICAgICAgICAgICAuRVhBTVBMRQogICAgICAgICAgICBQUyBDOlxVc2Vyc1xqZXNzZT4gRXhwYW5kLVBhY2thZ2UgLVBhdGggJ0M6XHVzZXJzXGplc3NlXGRlc2t0b3BcQWRvYmUgQUlSXCcgLU5hbWUgJ0Fkb2JlIEFJUiAxLjIuMy40JwoKICAgICAgICAgICAgTW9kaWZpZWQgICAgICAgICAgICAgICBTaXplICAgICBSYXRpbyAgIFBhY2tlZCAgICBOYW1lCiAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgICAyMDE2LTA2LTE2IDExOjI0OjM2ICAgIDEwNzUzNzc2ICAgIDMlICAgMTA0MzQyNzYgQWRvYmVBSVJJbnN0YWxsZXIuZXhlCiAgICAgICAgICAgIGV4dHJhY3QgZmlsZSBDOlx1c2Vyc1xqZXNzZVxkZXNrdG9wXEFkb2JlIEFJUlxBZG9iZUFJUkluc3RhbGxlci5leGUuLi4KICAgICAgICAgICAgMjAxNi0wOC0yNCAxMzo1MjozNCAgICA1MTgxICAgICAgIDczJSAgIDEzOTcgICAgIEFkb2JlIEFJUiAxLjIuMy40LnBzMQogICAgICAgICAgICBleHRyYWN0IGZpbGUgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxBZG9iZSBBSVJcQWRvYmUgQUlSIDEuMi4zLjQucHMxLi4uCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiUmVtb3ZlIEZpbGUiIG9uIHRhcmdldCAiQzpcdXNlcnNcamVzc2VcZGVza3RvcFxBZG9iZSBBSVJcQWRvYmUgQUlSIDEuMi4zLjQuZXhlIi4KCiAgICAgICAgICAgIC5FWEFNUExFCiAgICAgICAgICAgIFBTIEM6XFVzZXJzXGplc3NlPiBFeHBhbmQtUGFja2FnZSAtRmlsZVBhdGggJ0M6XHVzZXJzXGplc3NlXGRlc2t0b3BcQWRvYmUgQUlSXEFkb2JlIEFJUiAxLjIuMy40LmV4ZScKCiAgICAgICAgICAgIE1vZGlmaWVkICAgICAgICAgICAgICAgU2l6ZSAgICAgUmF0aW8gICBQYWNrZWQgICAgTmFtZQogICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgICAgMjAxNi0wNi0xNiAxMToyNDozNiAgICAxMDc1Mzc3NiAgICAzJSAgIDEwNDM0Mjc2IEFkb2JlQUlSSW5zdGFsbGVyLmV4ZQogICAgICAgICAgICBleHRyYWN0IGZpbGUgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxBZG9iZSBBSVJcQWRvYmVBSVJJbnN0YWxsZXIuZXhlLi4uCiAgICAgICAgICAgIDIwMTYtMDgtMjQgMTM6NTI6MzQgICAgNTE4MSAgICAgICA3MyUgICAxMzk3ICAgICBBZG9iZSBBSVIgMS4yLjMuNC5wczEKICAgICAgICAgICAgZXh0cmFjdCBmaWxlIEM6XHVzZXJzXGplc3NlXGRlc2t0b3BcQWRvYmUgQUlSXEFkb2JlIEFJUiAxLjIuMy40LnBzMS4uLgogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIlJlbW92ZSBGaWxlIiBvbiB0YXJnZXQgIkM6XHVzZXJzXGplc3NlXGRlc2t0b3BcQWRvYmUgQUlSXEFkb2JlIEFJUiAxLjIuMy40LmV4ZSIuCgogICAgIz4KICAgIFtDbWRsZXRiaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ1BhdGgnKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5LCBQYXJhbWV0ZXJTZXROYW1lID0gJ1BhdGgnKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbc3RyaW5nXQogICAgICAgICRQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlUGF0aCcpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIC1QYXRoICRfIH0pXQogICAgICAgIFtzdHJpbmddCiAgICAgICAgJEZpbGVQYXRoLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdQYXRoJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtzdHJpbmddCiAgICAgICAgJE5hbWUKICAgICkKCiAgICAkbW9kdWxlICAgPSBHZXQtUGFja2FnZU1vZHVsZUJhc2UKICAgICRhc3NlbWJseSA9IFNldC1QYWNrYWdlQXNzZW1ibHkKICAgICRzZXR0aW5ncyA9IFNldC1QYWNrYWdlWG1sCgogICAgaWYoJEZpbGVQYXRoKQogICAgewogICAgICAgICRGaWxlTmFtZSA9ICRhc3NlbWJseS5aaXBGaWxlOjpSZWFkKCRGaWxlUGF0aCkKICAgICAgICAkUGF0aCAgICAgPSBTcGxpdC1QYXRoIC1QYXRoICRGaWxlUGF0aCAtUGFyZW50CiAgICAgICAgJFppcEZpbGUgID0gKFJlc29sdmUtUGF0aCAtUGF0aCAkRmlsZVBhdGgpLlBhdGgKICAgIH0KICAgIGVsc2VpZigkTmFtZSkKICAgIHsKICAgICAgICAkTmFtZSAgICAgPSAkTmFtZSArICcuZXhlJwogICAgICAgICRGaWxlTmFtZSA9ICRhc3NlbWJseS5aaXBGaWxlOjpSZWFkKCIkUGF0aFwkTmFtZSIpCiAgICAgICAgJFppcEZpbGUgID0gKFJlc29sdmUtUGF0aCAtUGF0aCAiJFBhdGhcJE5hbWUiKS5QYXRoCiAgICB9CgogICAgJEZpbGVOYW1lLlN0YXR1c01lc3NhZ2VUZXh0V3JpdGVyID0gJHNldHRpbmdzLlN0YXR1c01lc3NhZ2VUZXh0V3JpdGVyCiAgICAkRmlsZU5hbWUuRXh0cmFjdEFsbCgkUGF0aCkKICAgICRGaWxlTmFtZS5EaXNwb3NlKCkKICAgIFJlbW92ZS1JdGVtIC1QYXRoICRaaXBGaWxlIC1WZXJib3NlCn0KI2VuZHJlZ2lvbgoKI3JlZ2lvbiBOZXctUGFja2FnZSBpcyB0aGUgbWFpbiBmdW5jdGlvbiB0byBidWlsZCB0aGUgYXV0b21hdGlvbiBzZWxmLWV4dHJhY3RpbmcgYXJjaGl2ZSAoU0ZYKQpmdW5jdGlvbiBOZXctUGFja2FnZQp7CiAgICA8IwogICAgICAgICAgICAuU1lOT1BTSVMKICAgICAgICAgICAgQWJpbGl0eSB0byBjcmVhdGUgb3IgZXhwYW5kIGEgU0ZYIHppcCBwcm9ncmFtCgogICAgICAgICAgICAuUEFSQU1FVEVSIFBhdGgKICAgICAgICAgICAgUHJvdmlkZSB0aGUgcGF0aCB3aGVyZSB0aGUgc291cmNlIGZpbGVzIGFyZSBsb2NhdGVkIChlLmc6IEo6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUgQUlSXDEuMi4zLjQpCgogICAgICAgICAgICAuUEFSQU1FVEVSIE5hbWUKICAgICAgICAgICAgUHJvdmlkZSB0aGUgcGFja2FnZSBuYW1lCgogICAgICAgICAgICAuUEFSQU1FVEVSIFNjcmlwdAogICAgICAgICAgICBQcm92aWRlIHRoZSBQb3dlclNoZWxsIHNjcmlwdCwgaWYgYW55LCB0byBiZSBleGVjdXRlZCB3aGVuIFNGWCBpcyB1bnppcHBlZAoKICAgICAgICAgICAgLlBBUkFNRVRFUiBXb3Jrc3BhY2UKICAgICAgICAgICAgQ2hvb3NlIHlvdXIgY3VycmVudCB3b3JraW5nIGxvY2F0aW9uIChlLmc6IERlc2t0b3AsIE5ldHdvcmssIE5vbmUpCgogICAgICAgICAgICAuUEFSQU1FVEVSIEV4dHJhY3RUeXBlCiAgICAgICAgICAgIElmIHNwZWNpZmllZCwgY2hvb3NlIGZyb20gZWl0aGVyIFVzZXJEZWZpbmVkIG9yIE5JUFIgd2hpY2ggaGFzIHR3byBkaWZmZXJlbnQgbG9jYXRpb25zIG9mIGV4dHJhY3Rpb24gZGlyZWN0b3JpZXMKCiAgICAgICAgICAgIC5QQVJBTUVURVIgRXhwYW5kCiAgICAgICAgICAgIElmIHNwZWNpZmllZCwgdGhlIEV4cGFuZC1QYWNrYWdlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhbmQgYm90aCBOYW1lIGFuZCBQYXRoIHBhcmFtZXRlcnMgYXJlIHBhc3NlZCBpbgoKICAgICAgICAgICAgLlBBUkFNRVRFUiBFbmFibGVEYXRlVGltZVN0YW1wCiAgICAgICAgICAgIElmIHNwZWNpZmllZCwgdGhpcyB3aWxsIHN0YW1wIHRoZSBwYWNrYWdlIHdpdGggdGhlIGRhdGUgYW5kIHRpbWUgaW4gaG91cjptaW51dGU6c2Vjb25kLiBIZWxwZnVsIHRvIGtub3cgaG93IG1hbnkgaXRlcmF0aW9ucyBvZiBhIHBhY2thZ2UgaGFzIGJlZW4gY3JlYXRlZAoKICAgICAgICAgICAgLlBBUkFNRVRFUiBXaW5kb3dTdHlsZQogICAgICAgICAgICBDaG9vc2UgdGhlIFBvd2VyU2hlbGwgZGVmYXVsdCB3aW5kb3cgc3R5bGUgKGUuZzogTm9ybWFsLCBNaW5pbWl6ZWQsIE1heGltaXplZC4gRGVmYXVsdCBpcyBIaWRkZW4pCgogICAgICAgICAgICAuRVhBTVBMRQogICAgICAgICAgICBQUyBDOlxVc2Vyc1xqZXNzZT4gTmV3LVBhY2thZ2UgLVBhdGggJ0o6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUgQUlSXDUuNi43LjgnCiAgICAgICAgICAgIFZFUkJPU0U6IFdvcmtzcGFjZSBzZXQgdG8gTmV0d29yawogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIkNvcHkgRmlsZSIgb24gdGFyZ2V0ICJJdGVtOiBDOlxVc2Vyc1xqZXNzZVxEZXNrdG9wXEMyXFZlcnNpb25zXDMuNi4yNFxBZG9iZSBBSVIKICAgICAgICAgICAgNS42LjcuOC5wczEgRGVzdGluYXRpb246IEo6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUgQUlSXDUuNi43LjhcQWRvYmUgQUlSIDUuNi43LjgucHMxIi4KICAgICAgICAgICAgYWRkaW5nIEo6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUgQUlSXDUuNi43LjguLi4KICAgICAgICAgICAgYWRkaW5nIEo6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUgQUlSXDUuNi43LjhcQWRvYmVBSVJJbnN0YWxsZXIuZXhlLi4uCiAgICAgICAgICAgIGFkZGluZyBKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlw1LjYuNy44XEFkb2JlIEFJUiA1LjYuNy44LnBzMS4uLgogICAgICAgICAgICBzYXZpbmcuLi4uCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiTW92ZSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXEFkb2JlIEFJUiA1LjYuNy44LmV4ZSBEZXN0aW5hdGlvbjoKICAgICAgICAgICAgQzpcVXNlcnNcamVzc2VcRGVza3RvcFxBZG9iZSBBSVIgNS42LjcuOC5leGUiLgogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIkNvcHkgRmlsZSIgb24gdGFyZ2V0ICJJdGVtOiBDOlxVc2Vyc1xqZXNzZVxEZXNrdG9wXEFkb2JlIEFJUiA1LjYuNy44LmV4ZQogICAgICAgICAgICBEZXN0aW5hdGlvbjogSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxBZG9iZSBBSVJcNS42LjcuOFxBZG9iZSBBSVIgNS42LjcuOC5leGUiLgogICAgICAgICAgICBaaXBwZWQgQXV0b21hdGlvbjogQWRvYmUgQUlSIDUuNi43LjguZXhlCgogICAgICAgICAgICAuRVhBTVBMRQogICAgICAgICAgICBQUyBDOlxVc2Vyc1xqZXNzZT4gTmV3LVBhY2thZ2UgLVBhdGggJ0o6XFByb2plY3RzXFBvd2VyU2hlbGxcVmlkZW9MQU4gKFZMQyBQbGF5ZXIpXDIuMi4yJyAtTmFtZSAnVkxDIFBsYXllciAyLjIuMicgLVNjcmlwdCAnVkxDIFBsYXllciAyLjIuMicKICAgICAgICAgICAgVkVSQk9TRTogV29ya3NwYWNlIHNldCB0byBOZXR3b3JrCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiQ29weSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXERlc2t0b3BcQzJcVmVyc2lvbnNcMy42LjI0XFZMQyBQbGF5ZXIKICAgICAgICAgICAgMi4yLjIucHMxIERlc3RpbmF0aW9uOiBKOlxQcm9qZWN0c1xQb3dlclNoZWxsXFZpZGVvTEFOIChWTEMgUGxheWVyKVwyLjIuMlxWTEMgUGxheWVyIDIuMi4yLnBzMSIuCiAgICAgICAgICAgIGFkZGluZyBKOlxQcm9qZWN0c1xQb3dlclNoZWxsXFZpZGVvTEFOIChWTEMgUGxheWVyKVwyLjIuMi4uLgogICAgICAgICAgICBhZGRpbmcgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxWaWRlb0xBTiAoVkxDIFBsYXllcilcMi4yLjJcdmxjLTIuMi4xLXdpbjMyLmV4ZS4uLgogICAgICAgICAgICBhZGRpbmcgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxWaWRlb0xBTiAoVkxDIFBsYXllcilcMi4yLjJcdmxjLTIuMi4xLXdpbjMyLm1zaS4uLgogICAgICAgICAgICBhZGRpbmcgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxWaWRlb0xBTiAoVkxDIFBsYXllcilcMi4yLjJcdmxjLTIuMi4xLXdpbjY0LmV4ZS4uLgogICAgICAgICAgICBhZGRpbmcgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxWaWRlb0xBTiAoVkxDIFBsYXllcilcMi4yLjJcdmxjLTIuMi4xLXdpbjY0Lm1zaS4uLgogICAgICAgICAgICBhZGRpbmcgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxWaWRlb0xBTiAoVkxDIFBsYXllcilcMi4yLjJcVkxDIFBsYXllciAyLjIuMi5wczEuLi4KICAgICAgICAgICAgc2F2aW5nLi4uLgogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIk1vdmUgRmlsZSIgb24gdGFyZ2V0ICJJdGVtOiBDOlxVc2Vyc1xqZXNzZVxWTEMgUGxheWVyIDIuMi4yLmV4ZSBEZXN0aW5hdGlvbjoKICAgICAgICAgICAgQzpcVXNlcnNcamVzc2VcRGVza3RvcFxWTEMgUGxheWVyIDIuMi4yLmV4ZSIuCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiQ29weSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXERlc2t0b3BcVkxDIFBsYXllciAyLjIuMi5leGUgRGVzdGluYXRpb246CiAgICAgICAgICAgIEo6XFByb2plY3RzXFBvd2VyU2hlbGxcVmlkZW9MQU4gKFZMQyBQbGF5ZXIpXDIuMi4yXFZMQyBQbGF5ZXIgMi4yLjIuZXhlIi4KICAgICAgICAgICAgWmlwcGVkIEF1dG9tYXRpb246IFZMQyBQbGF5ZXIgMi4yLjIuZXhlCgogICAgICAgICAgICAuRVhBTVBMRQogICAgICAgICAgICBQUyBDOlxVc2Vyc1xqZXNzZT4gTmV3LVBhY2thZ2UgLVBhdGggJ0M6XHVzZXJzXGplc3NlXGRlc2t0b3BcQnJhbmRpbmdcMS4yLjMuNFwnIC1Xb3Jrc3BhY2UgRGVza3RvcAogICAgICAgICAgICBWRVJCT1NFOiBXb3Jrc3BhY2Ugc2V0IHRvIERlc2t0b3AKICAgICAgICAgICAgUHJvdmlkZSBhIGZpbGVuYW1lOiBCcmFuZGluZyAxLjIuMy40CiAgICAgICAgICAgIFByb3ZpZGUgYSBzY3JpcHQgbmFtZTogQnJhbmRpbmcgMS4yLjMuNAogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxCcmFuZGluZ1wxLjIuMy40XC4uLgogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxCcmFuZGluZ1wxLjIuMy40XEJyYW5kaW5nIDEuMi4zLjQucHMxLi4uCiAgICAgICAgICAgIGFkZGluZyBDOlx1c2Vyc1xqZXNzZVxkZXNrdG9wXEJyYW5kaW5nXDEuMi4zLjRcUHJvZ3JhbXMueG1sLi4uCiAgICAgICAgICAgIGFkZGluZyBDOlx1c2Vyc1xqZXNzZVxkZXNrdG9wXEJyYW5kaW5nXDEuMi4zLjRcVW5jbGFzc1Byb2dyYW1zLnhtbC4uLgogICAgICAgICAgICBzYXZpbmcuLi4uCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiTW92ZSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXEJyYW5kaW5nIDEuMi4zLjQuZXhlIERlc3RpbmF0aW9uOgogICAgICAgICAgICBDOlxVc2Vyc1xqZXNzZVxEZXNrdG9wXEJyYW5kaW5nIDEuMi4zLjQuZXhlIi4KICAgICAgICAgICAgVkVSQk9TRTogUGVyZm9ybWluZyB0aGUgb3BlcmF0aW9uICJDb3B5IEZpbGUiIG9uIHRhcmdldCAiSXRlbTogQzpcVXNlcnNcamVzc2VcRGVza3RvcFxCcmFuZGluZyAxLjIuMy40LmV4ZSBEZXN0aW5hdGlvbjoKICAgICAgICAgICAgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxCcmFuZGluZ1wxLjIuMy40XEJyYW5kaW5nIDEuMi4zLjQuZXhlIi4KICAgICAgICAgICAgWmlwcGVkIEF1dG9tYXRpb246IEJyYW5kaW5nIDEuMi4zLjQuZXhlCgogICAgICAgICAgICAuRVhBTVBMRQogICAgICAgICAgICBQUyBDOlxVc2Vyc1xqZXNzZT4gTmV3LVBhY2thZ2UgLVBhdGggJ0M6XHVzZXJzXGplc3NlXGRlc2t0b3BcSnVzdC1BLVppcFwnIC1OYW1lICdKdXN0IEEgWmlwJyAtV29ya3NwYWNlIE5vbmUKICAgICAgICAgICAgVkVSQk9TRTogV29ya3NwYWNlIHNldCB0byBOb25lCiAgICAgICAgICAgIFdBUk5JTkc6IFNjcmlwdCBzZXQgdG8gbnVsbAogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxKdXN0LUEtWmlwXC4uLgogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxKdXN0LUEtWmlwXEJlZ2lubmluZyBDLSBPYmplY3QtT3JpZW50ZWQgUHJvZ3JhbW1pbmcsIDJuZCBFZGl0aW9uLnBkZi4uLgogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxKdXN0LUEtWmlwXEZ1bmN0aW9uYWwgUHJvZ3JhbW1pbmcgaW4gQy0ucGRmLi4uCiAgICAgICAgICAgIGFkZGluZyBDOlx1c2Vyc1xqZXNzZVxkZXNrdG9wXEp1c3QtQS1aaXBcTWljcm9zb2Z0IFN5c3RlbSBDZW50ZXIgUG93ZXJTaGVsbCBFc3NlbnRpYWxzLnBkZi4uLgogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxKdXN0LUEtWmlwXFRoZSBDIyBQbGF5ZXIncyBHdWlkZSAtIFJCIFdoaXRha2VyLnBkZi4uLgogICAgICAgICAgICBhZGRpbmcgQzpcdXNlcnNcamVzc2VcZGVza3RvcFxKdXN0LUEtWmlwXFdpbmRvd3MgUG93ZXJTaGVsbCBCZXN0IFByYWN0aWNlcy5wZGYuLi4KICAgICAgICAgICAgc2F2aW5nLi4uLgogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIk1vdmUgRmlsZSIgb24gdGFyZ2V0ICJJdGVtOiBDOlxVc2Vyc1xqZXNzZVxKdXN0LUEtWmlwLmV4ZSBEZXN0aW5hdGlvbjoKICAgICAgICAgICAgQzpcVXNlcnNcamVzc2VcRGVza3RvcFxKdXN0LUEtWmlwLmV4ZSIuCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiQ29weSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXERlc2t0b3BcSnVzdC1BLVppcC5leGUgRGVzdGluYXRpb246CiAgICAgICAgICAgIEM6XHVzZXJzXGplc3NlXGRlc2t0b3BcSnVzdC1BLVppcFxKdXN0LUEtWmlwLmV4ZSIuCiAgICAgICAgICAgIFppcHBlZCBBdXRvbWF0aW9uOiBKdXN0LUEtWmlwLmV4ZQoKICAgICAgICAgICAgLkVYQU1QTEUKICAgICAgICAgICAgUFMgQzpcVXNlcnNcamVzc2U+IE5ldy1QYWNrYWdlIC1QYXRoICdKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwyMy4wLjAuMjU4JyAtRW5hYmxlRGF0ZVRpbWVTdGFtcAogICAgICAgICAgICBWRVJCT1NFOiBXb3Jrc3BhY2Ugc2V0IHRvIE5ldHdvcmsKICAgICAgICAgICAgVkVSQk9TRTogUGVyZm9ybWluZyB0aGUgb3BlcmF0aW9uICJDb3B5IEZpbGUiIG9uIHRhcmdldCAiSXRlbTogQzpcVXNlcnNcamVzc2VcRGVza3RvcFxDMlxWZXJzaW9uc1wzLjYuMjVcQWRvYmUgQUlSCiAgICAgICAgICAgIDIzLjAuMC4yNTgucHMxIERlc3RpbmF0aW9uOiBKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwyMy4wLjAuMjU4XEFkb2JlIEFJUiAyMy4wLjAuMjU4LnBzMSIuCiAgICAgICAgICAgIFZFUkJPU0U6IEVuYWJsaW5nIERhdGVUaW1lIFN0YW1wCiAgICAgICAgICAgIGFkZGluZyBKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwyMy4wLjAuMjU4Li4uCiAgICAgICAgICAgIGFkZGluZyBKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwyMy4wLjAuMjU4XEFkb2JlQUlSSW5zdGFsbGVyLmV4ZS4uLgogICAgICAgICAgICBhZGRpbmcgSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxBZG9iZSBBSVJcMjMuMC4wLjI1OFxBZG9iZSBBSVIgMjMuMC4wLjI1OC5wczEuLi4KICAgICAgICAgICAgc2F2aW5nLi4uLgogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIk1vdmUgRmlsZSIgb24gdGFyZ2V0ICJJdGVtOiBDOlxVc2Vyc1xqZXNzZVxBZG9iZSBBSVIgMjMuMC4wLjI1OC0yMDE2MDkyNi0xMTIwMzcuZXhlCiAgICAgICAgICAgIERlc3RpbmF0aW9uOiBDOlxVc2Vyc1xqZXNzZVxEZXNrdG9wXEFkb2JlIEFJUiAyMy4wLjAuMjU4LTIwMTYwOTI2LTExMjAzNy5leGUiLgogICAgICAgICAgICBWRVJCT1NFOiBQZXJmb3JtaW5nIHRoZSBvcGVyYXRpb24gIlJlbW92ZSBGaWxlIiBvbiB0YXJnZXQgIko6XFByb2plY3RzXFBvd2VyU2hlbGxcQWRvYmUKICAgICAgICAgICAgQUlSXDIzLjAuMC4yNThcQWRvYmVBSVJJbnN0YWxsZXIuZXhlIi4KICAgICAgICAgICAgVkVSQk9TRTogUGVyZm9ybWluZyB0aGUgb3BlcmF0aW9uICJSZW1vdmUgRmlsZSIgb24gdGFyZ2V0ICJKOlxQcm9qZWN0c1xQb3dlclNoZWxsXEFkb2JlIEFJUlwyMy4wLjAuMjU4XEFkb2JlIEFJUgogICAgICAgICAgICAyMy4wLjAuMjU4LnBzMSIuCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiQ29weSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXERlc2t0b3BcQWRvYmUgQUlSCiAgICAgICAgICAgIDIzLjAuMC4yNTgtMjAxNjA5MjYtMTEyMDM3LmV4ZSBEZXN0aW5hdGlvbjogSjpcUHJvamVjdHNcUG93ZXJTaGVsbFxBZG9iZSBBSVJcMjMuMC4wLjI1OFxBZG9iZSBBSVIKICAgICAgICAgICAgMjMuMC4wLjI1OC0yMDE2MDkyNi0xMTIwMzcuZXhlIi4KICAgICAgICAgICAgWmlwcGVkIEF1dG9tYXRpb246IEFkb2JlIEFJUiAyMy4wLjAuMjU4LTIwMTYwOTI2LTExMjAzNy5leGUKCiAgICAgICAgICAgIC5FWEFNUExFCiAgICAgICAgICAgIFBTIEM6XFVzZXJzXGplc3NlPiBOZXctUGFja2FnZSAtUGF0aCAnQzpcVXNlcnNcamVzc2VcRGVza3RvcFxQRVgnIC1Xb3Jrc3BhY2UgTm9uZSAtRXh0cmFjdFR5cGUgTklQUgogICAgICAgICAgICBWRVJCT1NFOiBXb3Jrc3BhY2Ugc2V0IHRvIE5vbmUKICAgICAgICAgICAgV0FSTklORzogU2NyaXB0IHNldCB0byBudWxsCiAgICAgICAgICAgIFZFUkJPU0U6IFVwZGF0aW5nIHRoZSBEZWZhdWx0RXh0cmFjdERpcmVjdG9yeSB0byB0aGUgbG9jYWwgQ0NNXENhY2hlIGRpcmVjdG9yeQogICAgICAgICAgICBhZGRpbmcgQzpcVXNlcnNcamVzc2VcRGVza3RvcFxQRVguLi4KICAgICAgICAgICAgYWRkaW5nIEM6XFVzZXJzXGplc3NlXERlc2t0b3BcUEVYXFBleF9GaWxlXzEudHh0Li4uCiAgICAgICAgICAgIHNhdmluZy4uLi4KICAgICAgICAgICAgVkVSQk9TRTogUGVyZm9ybWluZyB0aGUgb3BlcmF0aW9uICJNb3ZlIEZpbGUiIG9uIHRhcmdldCAiSXRlbTogQzpcVXNlcnNcamVzc2VcUEVYLmV4ZSBEZXN0aW5hdGlvbjoKICAgICAgICAgICAgQzpcVXNlcnNcamVzc2VcRGVza3RvcFxQRVguZXhlIi4KICAgICAgICAgICAgVkVSQk9TRTogUGVyZm9ybWluZyB0aGUgb3BlcmF0aW9uICJSZW1vdmUgRmlsZSIgb24gdGFyZ2V0ICJDOlxVc2Vyc1xqZXNzZVxEZXNrdG9wXFBFWFxQZXhfRmlsZV8xLnR4dCIuCiAgICAgICAgICAgIFZFUkJPU0U6IFBlcmZvcm1pbmcgdGhlIG9wZXJhdGlvbiAiQ29weSBGaWxlIiBvbiB0YXJnZXQgIkl0ZW06IEM6XFVzZXJzXGplc3NlXERlc2t0b3BcUEVYLmV4ZSBEZXN0aW5hdGlvbjoKICAgICAgICAgICAgQzpcVXNlcnNcamVzc2VcRGVza3RvcFxQRVhcUEVYLmV4ZSIuCiAgICAgICAgICAgIFppcHBlZCBBdXRvbWF0aW9uOiBQRVguZXhlCiAgICAjPgogICAgW2NtZGxldGJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5KV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAtUGF0aCAkXyB9KV0KICAgICAgICBbc3RyaW5nXQogICAgICAgICRQYXRoLAoKICAgICAgICBbc3RyaW5nXQogICAgICAgICROYW1lLAoKICAgICAgICBbc3RyaW5nXQogICAgICAgICRTY3JpcHQsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnRGVza3RvcCcsJ05ldHdvcmsnLCdOb25lJyldCiAgICAgICAgW3N0cmluZ10KICAgICAgICAkV29ya3NwYWNlID0gJ05ldHdvcmsnLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ05JUFInLCdVc2VyRGVmaW5lZCcpXQogICAgICAgIFtzdHJpbmddCiAgICAgICAgJEV4dHJhY3RUeXBlLAoKICAgICAgICBbc3dpdGNoXQogICAgICAgICRFeHBhbmQsCgogICAgICAgIFtzd2l0Y2hdCiAgICAgICAgJEVuYWJsZURhdGVUaW1lU3RhbXAsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnTm9ybWFsJywnSGlkZGVuJywnTWluaW1pemVkJywnTWF4aW1pemVkJyldCiAgICAgICAgW3N0cmluZ10KICAgICAgICAkV2luZG93U3R5bGUgPSAnSGlkZGVuJwogICAgKQoKICAgICRQYXRoICAgICA9IChSZXNvbHZlLVBhdGggLVBhdGggJFBhdGgpLlBhdGgKICAgICRtb2R1bGUgICA9IEdldC1QYWNrYWdlTW9kdWxlQmFzZSAtVmVyc2lvbiAnMS45LjEuOCcgIyBTZXRzIHBhdGhzIGZvciBJb25pYy5aaXAuZGxsL3NldHRpbmdzLnhtbAogICAgJGFzc2VtYmx5ID0gU2V0LVBhY2thZ2VBc3NlbWJseSAjIExvYWRzIHBhdGhzIGZvciBJb25pYy5aaXAuZGxsCiAgICAkc2V0dGluZ3MgPSBTZXQtUGFja2FnZVhtbCAjIFNldHMgdGhlIGRlZmF1bHQgc2V0dGluZ3MgZm9yIHRoZSBzZWxmLWV4dHJhY3RpbmcgYXJjaGl2ZSAoU0ZYKSBwYWNrYWdlCiAgICAkTG9jYXRpb24gPSAoR2V0LUxvY2F0aW9uKS5QYXRoCgogICAgV3JpdGUtSG9zdCAiVXNpbmcgQXV0b21hdGlvbiBtb2R1bGUgdmVyc2lvbjogJCgkbW9kdWxlLlZlcnNpb24pIiAtRm9yZWdyb3VuZENvbG9yIEN5YW4KCiAgICBpZigkRXhwYW5kLklzUHJlc2VudCkKICAgIHsKICAgICAgICAkY2FjaGUgPSBbcHNjdXN0b21vYmplY3RdQHsKICAgICAgICAgICAgTmFtZSA9ICROYW1lCiAgICAgICAgICAgIFBhdGggPSAkUGF0aAogICAgICAgIH0KCiAgICAgICAgJE5hbWUgPSAkY2FjaGUuTmFtZQogICAgICAgICRQYXRoID0gJGNhY2hlLlBhdGgKICAgICAgICBFeHBhbmQtUGFja2FnZSAtTmFtZSAkTmFtZSAtUGF0aCAkUGF0aAoKICAgICAgICByZXR1cm4KICAgIH0KICAgIAogICAgc3dpdGNoKCRXb3Jrc3BhY2UpCiAgICB7CiAgICAgICAgJ0Rlc2t0b3AnCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJXb3Jrc3BhY2Ugc2V0IHRvICRXb3Jrc3BhY2UiIC1WZXJib3NlCgogICAgICAgICAgICAkTmFtZSA9IFJlYWQtSG9zdCAnUHJvdmlkZSBhIGZpbGVuYW1lJwogICAgICAgICAgICBpZigkTmFtZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE5hbWUgPSAkTmFtZSArICcuZXhlJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkTmFtZSAtZXEgJG51bGwpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICROYW1lID0gJG51bGwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFNjcmlwdCA9IFJlYWQtSG9zdCAnUHJvdmlkZSBhIHNjcmlwdCBuYW1lJwogICAgICAgICAgICBpZigkU2NyaXB0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU2NyaXB0ID0gJFNjcmlwdCArICcucHMxJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkU2NyaXB0IC1lcSAkbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNjcmlwdCA9ICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJ05ldHdvcmsnCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJXb3Jrc3BhY2Ugc2V0IHRvICRXb3Jrc3BhY2UiIC1WZXJib3NlCiAgICAgICAgICAgIGlmKCROYW1lKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkTmFtZSA9ICROYW1lICsgJy5leGUnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUGFyZW50UGF0aCA9ICgkUGF0aCB8IFNwbGl0LVBhdGggLVBhcmVudCkKICAgICAgICAgICAgICAgICRQYXJlbnRQYXRoID0gKCRQYXJlbnRQYXRoIHwgU3BsaXQtUGF0aCAtTGVhZikKICAgICAgICAgICAgICAgICRMZWFmUGF0aCA9ICgkUGF0aCB8IFNwbGl0LVBhdGggLUxlYWYpCiAgICAgICAgICAgICAgICAkTmFtZSA9ICIkUGFyZW50UGF0aCAkTGVhZlBhdGguZXhlIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkU2NyaXB0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU2NyaXB0ID0gJFNjcmlwdCArICcucHMxJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNjcmlwdCA9ICIkUGFyZW50UGF0aCAkTGVhZlBhdGgucHMxIgogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFNldC1Mb2NhdGlvbiAtUGF0aCAkc2V0dGluZ3MuVEZTUGF0aCByZXF1aXJlZCB0byBzZWFyY2ggZm9yIHRoZSAkU2NyaXB0LiBFeHBlY3RlZCBhY3Rpb246IFNob3VsZCBvbmx5IEdldC1DaGlsZEl0ZW0gZnJvbSB0aGUgJFRGU1BhdGhcKgogICAgICAgICAgICBTZXQtTG9jYXRpb24gLVBhdGggJHNldHRpbmdzLlRGU1BhdGgKICAgICAgICAgICAgCiAgICAgICAgICAgICRmaWxlID0gR2V0LUNoaWxkSXRlbSAtUGF0aCAkVEZTUGF0aCAtUmVjdXJzZSAtRmlsZSAtRmlsdGVyICRTY3JpcHQKICAgICAgICAgICAgU2V0LUxvY2F0aW9uIC1QYXRoICRMb2NhdGlvbgogICAgICAgICAgICAKICAgICAgICAgICAgaWYoJGZpbGUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRmaWxlLkZ1bGxOYW1lIHwgQ29weS1JdGVtIC1EZXN0aW5hdGlvbiAkUGF0aCAtRm9yY2UgLVZlcmJvc2UKICAgICAgICAgICAgICAgICROZXR3b3JrUGF0aCA9ICRzZXR0aW5ncy5OZXR3b3JrUGF0aAogICAgICAgICAgICAgICAgJENvbmZpZ1BhdGggPSAkc2V0dGluZ3MuQ29uZmlnUGF0aAoKICAgICAgICAgICAgICAgIGZvcmVhY2goJFByb2dyYW0gaW4gJHNldHRpbmdzLlhtbC5Db25maWd1cmF0aW9uLlByb2dyYW0uTmFtZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZigkUGF0aCAtbWF0Y2ggJFByb2dyYW0pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDb3B5LUl0ZW0gLVBhdGggIiROZXR3b3JrUGF0aCRQcm9ncmFtJENvbmZpZ1BhdGgiIC1EZXN0aW5hdGlvbiAkUGF0aCAtRm9yY2UgLVZlcmJvc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCRmaWxlIC1lcSAkbnVsbCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgLU1lc3NhZ2UgIkZhaWxlZCB0byBjb3B5IGZpbGUuIE5vIHZhbGlkIHNjcmlwdCB3YXMgZm91bmQgZm9yICRTY3JpcHQgaW4gJCgkc2V0dGluZ3MuVEZTUGF0aCkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJ05vbmUnCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlIC1NZXNzYWdlICJXb3Jrc3BhY2Ugc2V0IHRvICRXb3Jrc3BhY2UiIC1WZXJib3NlCiAgICAgICAgICAgICROYW1lID0gKCRQYXRoIHwgU3BsaXQtUGF0aCAtTGVhZikgKyAnLmV4ZScKICAgICAgICAgICAgJFNjcmlwdCA9ICRudWxsCiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgLU1lc3NhZ2UgJ1NjcmlwdCBzZXQgdG8gbnVsbCcKICAgICAgICB9CiAgICB9CgogICAgIyBOZXcgY29uc3RydWN0IGZyb20gZnVuY3Rpb24gU2V0LVBhY2thZ2VBc3NlbWJseQogICAgJFppcEZpbGUgPSAkYXNzZW1ibHkuWmlwRmlsZTo6bmV3KCkKICAgICRPcHRpb25zID0gJGFzc2VtYmx5Lk9wdGlvbnM6Om5ldygpCgogICAgaWYoJEVuYWJsZURhdGVUaW1lU3RhbXAuSXNQcmVzZW50KQogICAgewogICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgJ0VuYWJsaW5nIERhdGVUaW1lIFN0YW1wJyAtVmVyYm9zZQogICAgICAgICROYW1lID0gJE5hbWUuUmVwbGFjZSgnLmV4ZScsIiIpCiAgICAgICAgJE5hbWUgPSAiJE5hbWUtJChHZXQtRGF0ZSAtRm9ybWF0ICd5eXl5TU1kZCcpLSQoR2V0LURhdGUgLUZvcm1hdCAnaGhtbXNzJykuZXhlIgogICAgfQoKICAgIGlmKCRXaW5kb3dTdHlsZSAtbmUgJ0hpZGRlbicpCiAgICB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAtTWVzc2FnZSAnQWRkZWQgLU5vRXhpdCBwYXJhbWV0ZXIgdG8gdGhlIFBvc3RFeHRyYWN0Q29tbWFuZExpbmUgcHJvcGVydHknIC1WZXJib3NlCiAgICAgICAgJFBvc3RFeHRyYWN0Q29tbWFuZExpbmUgPSAicG93ZXJzaGVsbC5leGUgLU5vRXhpdCAtV2luZG93U3R5bGUgJFdpbmRvd1N0eWxlIC1maWxlIGAiJFNjcmlwdGAiIgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRQb3N0RXh0cmFjdENvbW1hbmRMaW5lID0gInBvd2Vyc2hlbGwuZXhlIC1XaW5kb3dTdHlsZSAkV2luZG93U3R5bGUgLWZpbGUgYCIkU2NyaXB0YCIiCiAgICB9CgogICAgc3dpdGNoKCRFeHRyYWN0VHlwZSkKICAgIHsKICAgICAgICAnVXNlckRlZmluZWQnCiAgICAgICAgeyAKICAgICAgICAgICAgJERlZmF1bHRFeHRyYWN0RGlyZWN0b3J5ID0gU2V0LVVzZXJEZWZpbmVkRXh0cmFjdERpcmVjdG9yeQogICAgICAgIH0KICAgICAgICAnTklQUicKICAgICAgICB7CiAgICAgICAgICAgICREZWZhdWx0RXh0cmFjdERpcmVjdG9yeSA9IFNldC1OSVBSRXh0cmFjdERpcmVjdG9yeQogICAgICAgIH0KICAgICAgICBEZWZhdWx0CiAgICAgICAgewogICAgICAgICAgICAkRGVmYXVsdEV4dHJhY3REaXJlY3RvcnkgPSAkT3B0aW9ucy5EZWZhdWx0RXh0cmFjdERpcmVjdG9yeSA9ICRzZXR0aW5ncy5EZWZhdWx0RXh0cmFjdERpcmVjdG9yeQogICAgICAgIH0KICAgIH0KCiAgICAkWmlwRmlsZS5TdGF0dXNNZXNzYWdlVGV4dFdyaXRlciA9ICRzZXR0aW5ncy5TdGF0dXNNZXNzYWdlVGV4dFdyaXRlcgogICAgJFppcEZpbGUuQ29tcHJlc3Npb25MZXZlbCA9ICRzZXR0aW5ncy5Db21wcmVzc2lvbkxldmVsCiAgICAkWmlwRmlsZS5BZGREaXJlY3RvcnkoJFBhdGgpCiAgICAkT3B0aW9ucy5Qcm9kdWN0TmFtZSA9ICROYW1lCiAgICAkT3B0aW9ucy5JY29uRmlsZSA9ICRzZXR0aW5ncy5JY29uRmlsZQogICAgJE9wdGlvbnMuRGVmYXVsdEV4dHJhY3REaXJlY3RvcnkgPSAkRGVmYXVsdEV4dHJhY3REaXJlY3RvcnkKICAgICRPcHRpb25zLkV4dHJhY3RFeGlzdGluZ0ZpbGUgPSAkWmlwRmlsZS5FeHRyYWN0RXhpc3RpbmdGaWxlID0gJ092ZXJ3cml0ZVNpbGVudGx5JwogICAgJE9wdGlvbnMuUG9zdEV4dHJhY3RDb21tYW5kTGluZSA9ICRQb3N0RXh0cmFjdENvbW1hbmRMaW5lCiAgICAkT3B0aW9ucy5SZW1vdmVVbnBhY2tlZEZpbGVzQWZ0ZXJFeGVjdXRlID0gJHRydWUKICAgICRPcHRpb25zLlF1aWV0ID0gJHRydWUKICAgICRaaXBGaWxlLlNhdmVTZWxmRXh0cmFjdG9yKCROYW1lLCRPcHRpb25zKQogICAgJFppcEZpbGUuRGlzcG9zZSgpCgogICAgJFBrZ1BhdGggPSAiJEhPTUVcJE5hbWUiLCIkKChHZXQtTG9jYXRpb24pLlBhdGgpXCROYW1lIgogICAgCiAgICBmb3JlYWNoKCRwa2cgaW4gJFBrZ1BhdGgpCiAgICB7CiAgICAgICAgaWYoVGVzdC1QYXRoIC1QYXRoICRwa2cgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUpCiAgICAgICAgewogICAgICAgICAgICBNb3ZlLUl0ZW0gLVBhdGggJHBrZyAtRGVzdGluYXRpb24gJHNldHRpbmdzLlVzZXJEZXNrdG9wIC1WZXJib3NlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgfQogICAgfQoKICAgIFJlbW92ZS1JdGVtIC1QYXRoICIkUGF0aFwqIiAtUmVjdXJzZSAtVmVyYm9zZSAtRXJyb3JBY3Rpb24gQ29udGludWUKICAgIENvcHktSXRlbSAtUGF0aCAiJCgkc2V0dGluZ3MuVXNlckRlc2t0b3ApXCROYW1lIiAtRGVzdGluYXRpb24gJFBhdGggLVZlcmJvc2UKICAgIFdyaXRlLUhvc3QgIlppcHBlZCBBdXRvbWF0aW9uOiAkKCRaaXBGaWxlLk5hbWUpIiAtQmFja2dyb3VuZENvbG9yIEJsYWNrIC1Gb3JlZ3JvdW5kQ29sb3IgR3JlZW4KfQojZW5kcmVnaW9u
