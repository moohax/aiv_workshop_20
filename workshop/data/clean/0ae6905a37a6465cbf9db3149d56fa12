Copy-SqlLogin.ps1,c71a1812a239e9a91d54a9965f15cc45,Scan result is 1. IsMalware: 0,RnVuY3Rpb24gQ29weS1TcWxMb2dpbgp7CjwjCi5TWU5PUFNJUwpNaWdyYXRlcyBsb2dpbnMgZnJvbSBzb3VyY2UgdG8gZGVzdGluYXRpb24gU1FMIFNlcnZlcnMuIFN1cHBvcnRzIFNRTCBTZXJ2ZXIgdmVyc2lvbnMgMjAwMCBhbmQgYWJvdmUuCgouREVTQ1JJUFRJT04KU1FMIFNlcnZlciAyMDAwOiBNaWdyYXRlcyBsb2dpbnMgd2l0aCBTSURzLCBwYXNzd29yZHMsIHNlcnZlciByb2xlcyBhbmQgZGF0YWJhc2Ugcm9sZXMuCgpTUUwgU2VydmVyIDIwMDUgJiBhYm92ZTogTWlncmF0ZXMgbG9naW5zIHdpdGggU0lEcywgcGFzc3dvcmRzLCBkZWZhdWx0ZGIsIHNlcnZlciByb2xlcyAmIHNlY3VyYWJsZXMsIGRhdGFiYXNlIHBlcm1pc3Npb25zICYgc2VjdXJhYmxlcywgbG9naW4gYXR0cmlidXRlcyAoZW5mb3JjZSBwYXNzd29yZCBwb2xpY3ksIGV4cGlyYXRpb24sIGV0Yy4pCgpUaGUgbG9naW4gaGFzaCBhbGdvcml0aG0gY2hhbmdlZCBpbiBTUUwgU2VydmVyIDIwMTIsIGFuZCBpcyBub3QgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBwcmV2aW91cyBTUUwgdmVyc2lvbnMuIFRoaXMgbWVhbnMgdGhhdCB3aGlsZSBTUUwgU2VydmVyIDIwMDAgbG9naW5zIGNhbiBiZSBtaWdyYXRlZCB0byBTUUwgU2VydmVyIDIwMTIsIGxvZ2lucyBjcmVhdGVkIGluIFNRTCBTZXJ2ZXIgMjAxMiBjYW4gb25seSBiZSBtaWdyYXRlZCB0byBTUUwgU2VydmVyIDIwMTIgYW5kIGFib3ZlLgoKVEhJUyBDT0RFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEggTk8gV0FSUkFOVElFUy4KCi5QQVJBTUVURVIgU291cmNlClNvdXJjZSBTUUwgU2VydmVyLiBZb3UgbXVzdCBoYXZlIHN5c2FkbWluIGFjY2VzcyBhbmQgc2VydmVyIHZlcnNpb24gbXVzdCBiZSBTUUwgU2VydmVyIHZlcnNpb24gMjAwMCBvciBncmVhdGVyLgoKLlBBUkFNRVRFUiBEZXN0aW5hdGlvbgpEZXN0aW5hdGlvbiBTUUwgU2VydmVyLiBZb3UgbXVzdCBoYXZlIHN5c2FkbWluIGFjY2VzcyBhbmQgc2VydmVyIHZlcnNpb24gbXVzdCBiZSBTUUwgU2VydmVyIHZlcnNpb24gMjAwMCBvciBncmVhdGVyLgoKLlBBUkFNRVRFUiBTb3VyY2VTcWxDcmVkZW50aWFsCkFsbG93cyB5b3UgdG8gbG9naW4gdG8gc2VydmVycyB1c2luZyBTUUwgTG9naW5zIGFzIG9wcG9zZWQgdG8gV2luZG93cyBBdXRoL0ludGVncmF0ZWQvVHJ1c3RlZC4gVG8gdXNlOgoKJHNjcmVkID0gR2V0LUNyZWRlbnRpYWwsIHRoZW4gcGFzcyAkc2NyZWQgb2JqZWN0IHRvIHRoZSAtU291cmNlU3FsQ3JlZGVudGlhbCBwYXJhbWV0ZXIuIAoKV2luZG93cyBBdXRoZW50aWNhdGlvbiB3aWxsIGJlIHVzZWQgaWYgRGVzdGluYXRpb25TcWxDcmVkZW50aWFsIGlzIG5vdCBzcGVjaWZpZWQuIFNRTCBTZXJ2ZXIgZG9lcyBub3QgYWNjZXB0IFdpbmRvd3MgY3JlZGVudGlhbHMgYmVpbmcgcGFzc2VkIGFzIGNyZWRlbnRpYWxzLiAJClRvIGNvbm5lY3QgYXMgYSBkaWZmZXJlbnQgV2luZG93cyB1c2VyLCBydW4gUG93ZXJTaGVsbCBhcyB0aGF0IHVzZXIuCgouUEFSQU1FVEVSIERlc3RpbmF0aW9uU3FsQ3JlZGVudGlhbApBbGxvd3MgeW91IHRvIGxvZ2luIHRvIHNlcnZlcnMgdXNpbmcgU1FMIExvZ2lucyBhcyBvcHBvc2VkIHRvIFdpbmRvd3MgQXV0aC9JbnRlZ3JhdGVkL1RydXN0ZWQuIFRvIHVzZToKCiRkY3JlZCA9IEdldC1DcmVkZW50aWFsLCB0aGVuIHBhc3MgdGhpcyAkZGNyZWQgdG8gdGhlIC1EZXN0aW5hdGlvblNxbENyZWRlbnRpYWwgcGFyYW1ldGVyLiAKCldpbmRvd3MgQXV0aGVudGljYXRpb24gd2lsbCBiZSB1c2VkIGlmIERlc3RpbmF0aW9uU3FsQ3JlZGVudGlhbCBpcyBub3Qgc3BlY2lmaWVkLiBTUUwgU2VydmVyIGRvZXMgbm90IGFjY2VwdCBXaW5kb3dzIGNyZWRlbnRpYWxzIGJlaW5nIHBhc3NlZCBhcyBjcmVkZW50aWFscy4gCQpUbyBjb25uZWN0IGFzIGEgZGlmZmVyZW50IFdpbmRvd3MgdXNlciwgcnVuIFBvd2VyU2hlbGwgYXMgdGhhdCB1c2VyLgoKLlBBUkFNRVRFUiBFeGNsdWRlCkV4Y2x1ZGVzIHNwZWNpZmllZCBsb2dpbnMuIFRoaXMgbGlzdCBpcyBhdXRvLXBvcHVsYXRlZCBmb3IgdGFiIGNvbXBsZXRpb24uCgouUEFSQU1FVEVSIExvZ2luCk1pZ3JhdGVzIE9OTFkgc3BlY2lmaWVkIGxvZ2lucy4gVGhpcyBsaXN0IGlzIGF1dG8tcG9wdWxhdGVkIGZvciB0YWIgY29tcGxldGlvbi4gTXVsdGlwbGUgbG9naW5zIGFsbG93ZWQuCgouUEFSQU1FVEVSIFN5bmNPbmx5ClN5bmNzIG9ubHkgU1FMIFNlcnZlciBsb2dpbiBwZXJtaXNzaW9ucywgcm9sZXMsIGV0Yy4gRG9lcyBub3QgYWRkIG9yIGRyb3AgbG9naW5zIG9yIHVzZXJzLiBJZiBhIG1hdGNoaW5nIGxvZ2luIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBkZXN0aW5hdGlvbiwgdGhlIGxvZ2luIHdpbGwgYmUgc2tpcHBlZC4gCkNyZWRlbnRpYWwgcmVtb3ZhbCBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBmb3IgU3luY3MuIFRPRE86IEFwcGxpY2F0aW9uIHJvbGUgc3luYwoKLlBBUkFNRVRFUiBPdXRGaWxlCkNhbGxzIEV4cG9ydC1TcWxMb2dpbiBhbmQgZXhwb3J0cyBhbGwgbG9naW5zIHRvIGEgVC1TUUwgZm9ybWF0dGVkIGZpbGUuIFRoaXMgZG9lcyBub3QgcGVyZm9ybSBhIGNvcHksIHNvIG5vIGRlc3RpbmF0aW9uIGlzIHJlcXVpcmVkLgoKLlBBUkFNRVRFUiBTeW5jU2FOYW1lCldhbnQgdG8gc3luYyB1cCB0aGUgbmFtZSBvZiB0aGUgc2EgYWNjb3VudCBvbiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbj8gVXNlIHRoaXMgc3dpdGNoLgoJCi5QQVJBTUVURVIgRm9yY2UKRm9yY2UgZHJvcHMgYW5kIHJlY3JlYXRlcyBsb2dpbnMuIExvZ2lucyB0aGF0IG93biBqb2JzIGNhbm5vdCBiZSBkcm9wcGVkIGF0IHRoaXMgdGltZS4KCi5OT1RFUyAKQXV0aG9yOiBDaHJpc3N5IExlTWFpcmUgKEBjbCksIG5ldG5lcmRzLm5ldApSZXF1aXJlczogc3lzYWRtaW4gYWNjZXNzIG9uIFNRTCBTZXJ2ZXJzCgpkYmF0b29scyBQb3dlclNoZWxsIG1vZHVsZSAoaHR0cHM6Ly9kYmF0b29scy5pbywgY2xlbWFpcmVAZ21haWwuY29tKQpDb3B5cmlnaHQgKEMpIDIwMTYgQ2hyaXNzeSBMZU1haXJlCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgoKVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKLkxJTksKaHR0cHM6Ly9kYmF0b29scy5pby9Db3B5LVNxbExvZ2luCgouRVhBTVBMRQpDb3B5LVNxbExvZ2luIC1Tb3VyY2Ugc3Fsc2VydmVyMjAxNGEgLURlc3RpbmF0aW9uIHNxbGNsdXN0ZXIgLUZvcmNlCgpDb3BpZXMgYWxsIGxvZ2lucyBmcm9tIHNvdXJjZSBzZXJ2ZXIgdG8gZGVzdGluYXRpb24gc2VydmVyLiBJZiBhIFNRTCBsb2dpbiBvbiBzb3VyY2UgZXhpc3RzIG9uIHRoZSBkZXN0aW5hdGlvbiwgdGhlIGRlc3RpbmF0aW9uIGxvZ2luIHdpbGwgYmUgZHJvcHBlZCBhbmQgcmVjcmVhdGVkLgoKLkVYQU1QTEUKQ29weS1TcWxMb2dpbiAtU291cmNlIHNxbHNlcnZlcjIwMTRhIC1EZXN0aW5hdGlvbiBzcWxjbHVzdGVyIC1FeGNsdWRlIHJlYWxjYWp1biAtU291cmNlU3FsQ3JlZGVudGlhbCAkc2NyZWQgLURlc3RpbmF0aW9uU3FsQ3JlZGVudGlhbCAkZGNyZWQKCkF1dGhlbnRpY2F0ZXMgdG8gU1FMIFNlcnZlcnMgdXNpbmcgU1FMIEF1dGhlbnRpY2F0aW9uLgoKQ29waWVzIGFsbCBsb2dpbnMgZXhjZXB0IGZvciByZWFsY2FqdW4uIElmIGEgbG9naW4gYWxyZWFkeSBleGlzdHMgb24gdGhlIGRlc3RpbmF0aW9uLCB0aGUgbG9naW4gd2lsbCBub3QgYmUgbWlncmF0ZWQuCgouRVhBTVBMRQpDb3B5LVNxbExvZ2luIC1Tb3VyY2Ugc3Fsc2VydmVyMjAxNGEgLURlc3RpbmF0aW9uIHNxbGNsdXN0ZXIgLUxvZ2luIHJlYWxjYWp1biwgbmV0bmVyZHMgLWZvcmNlCgpDb3BpZXMgT05MWSBsb2dpbnMgbmV0bmVyZHMgYW5kIHJlYWxjYWp1bi4gSWYgbG9naW4gcmVhbGNhanVuIG9yIG5ldG5lcmRzIGV4aXN0cyBvbiB0aGUgZGVzdGluYXRpb24sIHRoZXkgd2lsbCBiZSBkcm9wcGVkIGFuZCByZWNyZWF0ZWQuCgouRVhBTVBMRQpDb3B5LVNxbExvZ2luIC1Tb3VyY2Ugc3Fsc2VydmVyMjAxNGEgLURlc3RpbmF0aW9uIHNxbGNsdXN0ZXIgLVN5bmNPbmx5CgpTeW5jcyBvbmx5IFNRTCBTZXJ2ZXIgbG9naW4gcGVybWlzc2lvbnMsIHJvbGVzLCBldGMuIERvZXMgbm90IGFkZCBvciBkcm9wIGxvZ2lucyBvciB1c2Vycy4gSWYgYSBtYXRjaGluZyBsb2dpbiBkb2VzIG5vdCBleGlzdCBvbiB0aGUgZGVzdGluYXRpb24sIHRoZSBsb2dpbiB3aWxsIGJlIHNraXBwZWQuCgouTk9URVMgCkF1dGhvcjogQ2hyaXNzeSBMZU1haXJlIChAY2wpLCBuZXRuZXJkcy5uZXQKUmVxdWlyZXM6IHN5c2FkbWluIGFjY2VzcyBvbiBTUUwgU2VydmVycwpMaW1pdGF0aW9uczogRG9lcyBub3Qgc3VwcG9ydCBBcHBsaWNhdGlvbiBSb2xlcyB5ZXQKCiM+CgkKCVtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gIkRlZmF1bHQiLCBTdXBwb3J0c1Nob3VsZFByb2Nlc3MgPSAkdHJ1ZSldCglQYXJhbSAoCgkJW3BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkdHJ1ZSldCgkJW29iamVjdF0kU291cmNlLAoJCVtwYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJMaXZlIiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtvYmplY3RdJERlc3RpbmF0aW9uLAoJCVtvYmplY3RdJFNvdXJjZVNxbENyZWRlbnRpYWwsCgkJW29iamVjdF0kRGVzdGluYXRpb25TcWxDcmVkZW50aWFsLAoJCVtzd2l0Y2hdJFN5bmNPbmx5LAoJCVtwYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJGaWxlIiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtzdHJpbmddJE91dEZpbGUsCgkJW3BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkxpdmUiKV0KCQlbc3dpdGNoXSRGb3JjZSwKCQlbc3dpdGNoXSRTeW5jU2FOYW1lLAoJCVtvYmplY3RdJHBpcGVsb2dpbgoJKQoJCglEeW5hbWljUGFyYW0geyBpZiAoJHNvdXJjZSkgeyByZXR1cm4gR2V0LVBhcmFtU3FsTG9naW5zIC1TcWxTZXJ2ZXIgJHNvdXJjZSAtU3FsQ3JlZGVudGlhbCAkU291cmNlU3FsQ3JlZGVudGlhbCB9IH0KCQoJQkVHSU4KCXsKCQkKCQlGdW5jdGlvbiBDb3B5LUxvZ2luCgkJewoJCQlmb3JlYWNoICgkc291cmNlbG9naW4gaW4gJHNvdXJjZXNlcnZlci5sb2dpbnMpCgkJCXsKCQkJCQoJCQkJJHVzZXJuYW1lID0gJHNvdXJjZWxvZ2luLm5hbWUKCQkJCWlmICgkTG9naW5zIC1uZSAkbnVsbCAtYW5kICRMb2dpbnMgLW5vdGNvbnRhaW5zICR1c2VybmFtZSkgeyBjb250aW51ZSB9CgkJCQlpZiAoJHNvdXJjZWxvZ2luLmlkIC1lcSAxKSB7IGNvbnRpbnVlIH0KCQkJCWlmICgkRXhjbHVkZSAtY29udGFpbnMgJHVzZXJuYW1lIC1vciAkdXNlcm5hbWUuU3RhcnRzV2l0aCgiIyMiKSAtb3IgJHVzZXJuYW1lIC1lcSAnc2EnKSB7IFdyaXRlLU91dHB1dCAiU2tpcHBpbmcgJHVzZXJuYW1lIjsgY29udGludWUgfQoJCQkJJHNlcnZlcm5hbWUgPSBSZXNvbHZlLU5ldEJpb3NOYW1lICRzb3VyY2VzZXJ2ZXIKCQkJCQoJCQkJJGN1cnJlbnRsb2dpbiA9ICRzb3VyY2VzZXJ2ZXIuQ29ubmVjdGlvbkNvbnRleHQudHJ1ZWxvZ2luCgkJCQkKCQkJCWlmICgkY3VycmVudGxvZ2luIC1lcSAkdXNlcm5hbWUgLWFuZCAkZm9yY2UpCgkJCQl7CgkJCQkJSWYgKCRQc2NtZGxldC5TaG91bGRQcm9jZXNzKCJjb25zb2xlIiwgIlN0YXRpbmcgJHVzZXJuYW1lIGlzIHNraXBwZWQgYmVjYXVzZSBpdCBpcyBwZXJmb3JtaW5nIHRoZSBtaWdyYXRpb24uIikpCgkJCQkJewoJCQkJCQlXcml0ZS1XYXJuaW5nICJDYW5ub3QgZHJvcCBsb2dpbiBwZXJmb3JtaW5nIHRoZSBtaWdyYXRpb24uIFNraXBwaW5nIgoJCQkJCX0KCQkJCQljb250aW51ZQoJCQkJfQoJCQkJCgkJCQkkdXNlcmJhc2UgPSAoJHVzZXJuYW1lLlNwbGl0KCJcIilbMF0pLlRvTG93ZXIoKQoJCQkJaWYgKCRzZXJ2ZXJuYW1lIC1lcSAkdXNlcmJhc2UgLW9yICR1c2VybmFtZS5TdGFydHNXaXRoKCJOVCAiKSkKCQkJCXsKCQkJCQlJZiAoJFBzY21kbGV0LlNob3VsZFByb2Nlc3MoImNvbnNvbGUiLCAiU3RhdGluZyAkdXNlcm5hbWUgaXMgc2tpcHBlZCBiZWNhdXNlIGl0IGlzIGEgbG9jYWwgbWFjaGluZSBuYW1lLiIpKQoJCQkJCXsKCQkJCQkJV3JpdGUtT3V0cHV0ICIkdXNlcm5hbWUgaXMgc2tpcHBlZCBiZWNhdXNlIGl0IGlzIGEgbG9jYWwgbWFjaGluZSBuYW1lLiIKCQkJCQl9CgkJCQkJY29udGludWUKCQkJCX0KCQkJCQoJCQkJaWYgKCgkbG9naW4gPSAkZGVzdHNlcnZlci5Mb2dpbnMuSXRlbSgkdXNlcm5hbWUpKSAtbmUgJG51bGwgLWFuZCAhJGZvcmNlKQoJCQkJewoJCQkJCUlmICgkUHNjbWRsZXQuU2hvdWxkUHJvY2VzcygiY29uc29sZSIsICJTdGF0aW5nICR1c2VybmFtZSBpcyBza2lwcGVkIGJlY2F1c2UgaXQgZXhpc3RzIGF0IGRlc3RpbmF0aW9uLiIpKQoJCQkJCXsKCQkJCQkJV3JpdGUtT3V0cHV0ICIkdXNlcm5hbWUgYWxyZWFkeSBleGlzdHMgaW4gZGVzdGluYXRpb24uIFVzZSAtZm9yY2UgdG8gZHJvcCBhbmQgcmVjcmVhdGUuIgoJCQkJCX0KCQkJCQljb250aW51ZQoJCQkJfQoJCQkJCgkJCQlpZiAoJGxvZ2luIC1uZSAkbnVsbCAtYW5kICRmb3JjZSkKCQkJCXsKCQkJCQlpZiAoJHVzZXJuYW1lIC1lcSAkZGVzdHNlcnZlci5TZXJ2aWNlQWNjb3VudCkKCQkJCQl7CgkJCQkJCVdyaXRlLVdhcm5pbmcgIiR1c2VybmFtZSBpcyB0aGUgZGVzdGluYXRpb24gc2VydmljZSBhY2NvdW50LiBTa2lwcGluZyBkcm9wLiIKCQkJCQkJY29udGludWUKCQkJCQl9CgkJCQkJCgkJCQkJSWYgKCRQc2NtZGxldC5TaG91bGRQcm9jZXNzKCRkZXN0aW5hdGlvbiwgIkRyb3BwaW5nICR1c2VybmFtZSIpKQoJCQkJCXsKCQkJCQkJIyBLaWxsIGNvbm5lY3Rpb25zLCBkZWxldGUgdXNlcgoJCQkJCQlXcml0ZS1PdXRwdXQgIkF0dGVtcHRpbmcgdG8gbWlncmF0ZSAkdXNlcm5hbWUiCgkJCQkJCVdyaXRlLU91dHB1dCAiRm9yY2Ugd2FzIHNwZWNpZmllZC4gQXR0ZW1wdGluZyB0byBkcm9wICR1c2VybmFtZSBvbiAkZGVzdGluYXRpb24iCgkJCQkJCXRyeQoJCQkJCQl7CgkJCQkJCQkkZGVzdHNlcnZlci5FbnVtUHJvY2Vzc2VzKCkgfCBXaGVyZSB7ICRfLkxvZ2luIC1lcSAkdXNlcm5hbWUgfSB8IEZvckVhY2gtT2JqZWN0IHsgJGRlc3RzZXJ2ZXIuS2lsbFByb2Nlc3MoJF8uc3BpZCkgfQoJCQkJCQkJCgkJCQkJCQkkb3duZWRkYnMgPSAkZGVzdHNlcnZlci5EYXRhYmFzZXMgfCBXaGVyZSB7ICRfLk93bmVyIC1lcSAkdXNlcm5hbWUgfQoJCQkJCQkJCgkJCQkJCQlmb3JlYWNoICgkb3duZWRkYiBpbiAkb3duZWRkYnMpCgkJCQkJCQl7CgkJCQkJCQkJV3JpdGUtT3V0cHV0ICJDaGFuZ2luZyBkYXRhYmFzZSBvd25lciBmb3IgJCgkb3duZWRkYi5uYW1lKSBmcm9tICR1c2VybmFtZSB0byBzYSIKCQkJCQkJCQkkb3duZWRkYi5TZXRPd25lcignc2EnKQoJCQkJCQkJCSRvd25lZGRiLkFsdGVyKCkKCQkJCQkJCX0KCQkJCQkJCQoJCQkJCQkJJG93bmVkam9icyA9ICRkZXN0c2VydmVyLkpvYlNlcnZlci5Kb2JzIHwgV2hlcmUgeyAkXy5Pd25lckxvZ2luTmFtZSAtZXEgJHVzZXJuYW1lIH0KCQkJCQkJCQoJCQkJCQkJZm9yZWFjaCAoJG93bmVkam9iIGluICRvd25lZGpvYnMpCgkJCQkJCQl7CgkJCQkJCQkJV3JpdGUtT3V0cHV0ICJDaGFuZ2luZyBqb2Igb3duZXIgZm9yICQoJG93bmVkam9iLm5hbWUpIGZyb20gJHVzZXJuYW1lIHRvIHNhIgoJCQkJCQkJCSRvd25lZGpvYi5zZXRfT3duZXJMb2dpbk5hbWUoJ3NhJykKCQkJCQkJCQkkb3duZWRqb2IuQWx0ZXIoKQoJCQkJCQkJfQoJCQkJCQkJCgkJCQkJCQkkbG9naW4uZHJvcCgpCgkJCQkJCQlXcml0ZS1PdXRwdXQgIlN1Y2Nlc3NmdWxseSBkcm9wcGVkICR1c2VybmFtZSBvbiAkZGVzdGluYXRpb24iCgkJCQkJCX0KCQkJCQkJY2F0Y2gKCQkJCQkJewoJCQkJCQkJJGV4ID0gJF8uRXhjZXB0aW9uLk1lc3NhZ2UKCQkJCQkJCWlmICgkZXggLW5lICRudWxsKSB7ICRleC50cmltKCkgfQoJCQkJCQkJV3JpdGUtRXJyb3IgIkNvdWxkIG5vdCBkcm9wICR1c2VybmFtZWA6ICRleCIKCQkJCQkJCVdyaXRlLUV4Y2VwdGlvbiAkXwoJCQkJCQkJY29udGludWUKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJCQoJCQkJSWYgKCRQc2NtZGxldC5TaG91bGRQcm9jZXNzKCRkZXN0aW5hdGlvbiwgIkFkZGluZyBTUUwgbG9naW4gJHVzZXJuYW1lIikpCgkJCQl7CgkJCQkJV3JpdGUtT3V0cHV0ICJBdHRlbXB0aW5nIHRvIGFkZCAkdXNlcm5hbWUgdG8gJGRlc3RpbmF0aW9uIgoJCQkJCSRkZXN0bG9naW4gPSBOZXctT2JqZWN0IE1pY3Jvc29mdC5TcWxTZXJ2ZXIuTWFuYWdlbWVudC5TbW8uTG9naW4oJGRlc3RzZXJ2ZXIsICR1c2VybmFtZSkKCQkJCQlXcml0ZS1PdXRwdXQgIlNldHRpbmcgJHVzZXJuYW1lIFNJRCB0byBzb3VyY2UgdXNlcm5hbWUgU0lEIgoJCQkJCSRkZXN0bG9naW4uc2V0X1NpZCgkc291cmNlbG9naW4uZ2V0X1NpZCgpKQoJCQkJCQoJCQkJCSRkZWZhdWx0ZGIgPSAkc291cmNlbG9naW4uRGVmYXVsdERhdGFiYXNlCgkJCQkJV3JpdGUtT3V0cHV0ICJTZXR0aW5nIGxvZ2luIGxhbmd1YWdlIHRvICQoJHNvdXJjZWxvZ2luLkxhbmd1YWdlKSIKCQkJCQkkZGVzdGxvZ2luLkxhbmd1YWdlID0gJHNvdXJjZWxvZ2luLkxhbmd1YWdlCgkJCQkJCgkJCQkJaWYgKCRkZXN0c2VydmVyLmRhdGFiYXNlc1skZGVmYXVsdGRiXSAtZXEgJG51bGwpCgkJCQkJewoJCQkJCQlXcml0ZS1XYXJuaW5nICIkZGVmYXVsdGRiIGRvZXMgbm90IGV4aXN0IG9uIGRlc3RpbmF0aW9uLiBTZXR0aW5nIGRlZmF1bHRkYiB0byBtYXN0ZXIuIgoJCQkJCQkkZGVmYXVsdGRiID0gIm1hc3RlciIKCQkJCQl9CgkJCQkJV3JpdGUtT3V0cHV0ICJTZXQgJHVzZXJuYW1lIGRlZmF1bHRkYiB0byAkZGVmYXVsdGRiIgoJCQkJCSRkZXN0bG9naW4uRGVmYXVsdERhdGFiYXNlID0gJGRlZmF1bHRkYgoJCQkJCQoJCQkJCSRjaGVja2V4cGlyYXRpb24gPSAiT04iOyAkY2hlY2twb2xpY3kgPSAiT04iCgkJCQkJaWYgKCRzb3VyY2Vsb2dpbi5QYXNzd29yZFBvbGljeUVuZm9yY2VkIC1lcSAkZmFsc2UpIHsgJGNoZWNrcG9saWN5ID0gIk9GRiIgfQoJCQkJCWlmICghJHNvdXJjZWxvZ2luLlBhc3N3b3JkRXhwaXJhdGlvbkVuYWJsZWQpIHsgJGNoZWNrZXhwaXJhdGlvbiA9ICJPRkYiIH0KCQkJCQkKCQkJCQkkZGVzdGxvZ2luLlBhc3N3b3JkUG9saWN5RW5mb3JjZWQgPSAkc291cmNlbG9naW4uUGFzc3dvcmRQb2xpY3lFbmZvcmNlZAoJCQkJCSRkZXN0bG9naW4uUGFzc3dvcmRFeHBpcmF0aW9uRW5hYmxlZCA9ICRzb3VyY2Vsb2dpbi5QYXNzd29yZEV4cGlyYXRpb25FbmFibGVkCgkJCQkJCgkJCQkJIyBBdHRlbXB0IHRvIGFkZCBTUUwgTG9naW4gVXNlcgoJCQkJCWlmICgkc291cmNlbG9naW4uTG9naW5UeXBlIC1lcSAiU3FsTG9naW4iKQoJCQkJCXsKCQkJCQkJJGRlc3Rsb2dpbi5Mb2dpblR5cGUgPSAiU3FsTG9naW4iCgkJCQkJCSRzb3VyY2Vsb2dpbm5hbWUgPSAkc291cmNlbG9naW4ubmFtZQoJCQkJCQkKCQkJCQkJc3dpdGNoICgkc291cmNlc2VydmVyLnZlcnNpb25NYWpvcikKCQkJCQkJewoJCQkJCQkJMCB7ICRzcWwgPSAiU0VMRUNUIGNvbnZlcnQodmFyYmluYXJ5KDI1NikscGFzc3dvcmQpIGFzIGhhc2hlZHBhc3MgRlJPTSBtYXN0ZXIuZGJvLnN5c2xvZ2lucyBXSEVSRSBsb2dpbm5hbWU9JyRzb3VyY2Vsb2dpbm5hbWUnIiB9CgkJCQkJCQk4IHsgJHNxbCA9ICJTRUxFQ1QgY29udmVydCh2YXJiaW5hcnkoMjU2KSxwYXNzd29yZCkgYXMgaGFzaGVkcGFzcyBGUk9NIGRiby5zeXNsb2dpbnMgV0hFUkUgbmFtZT0nJHNvdXJjZWxvZ2lubmFtZSciIH0KCQkJCQkJCTkgeyAkc3FsID0gIlNFTEVDVCBjb252ZXJ0KHZhcmJpbmFyeSgyNTYpLHBhc3N3b3JkX2hhc2gpIGFzIGhhc2hlZHBhc3MgRlJPTSBzeXMuc3FsX2xvZ2lucyB3aGVyZSBuYW1lPSckc291cmNlbG9naW5uYW1lJyIgfQoJCQkJCQkJZGVmYXVsdAoJCQkJCQkJewoJCQkJCQkJCSRzcWwgPSAiU0VMRUNUIENBU1QoQ09OVkVSVCh2YXJjaGFyKDI1NiksIENBU1QoTE9HSU5QUk9QRVJUWShuYW1lLCdQYXNzd29yZEhhc2gnKSAKCQkJCQkJQVMgdmFyYmluYXJ5ICgyNTYpKSwgMSkgQVMgbnZhcmNoYXIobWF4KSkgYXMgaGFzaGVkcGFzcyBGUk9NIHN5cy5zZXJ2ZXJfcHJpbmNpcGFscwoJCQkJCQlXSEVSRSBwcmluY2lwYWxfaWQgPSAkKCRzb3VyY2Vsb2dpbi5pZCkiCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJCgkJCQkJCXRyeSB7ICRoYXNoZWRwYXNzID0gJHNvdXJjZXNlcnZlci5Db25uZWN0aW9uQ29udGV4dC5FeGVjdXRlU2NhbGFyKCRzcWwpIH0KCQkJCQkJY2F0Y2gKCQkJCQkJewoJCQkJCQkJJGhhc2hlZHBhc3NkdCA9ICRzb3VyY2VzZXJ2ZXIuZGF0YWJhc2VzWydtYXN0ZXInXS5FeGVjdXRlV2l0aFJlc3VsdHMoJHNxbCkKCQkJCQkJCSRoYXNoZWRwYXNzID0gJGhhc2hlZHBhc3NkdC5UYWJsZXNbMF0uUm93c1swXS5JdGVtKDApCgkJCQkJCX0KCQkJCQkJCgkJCQkJCWlmICgkaGFzaGVkcGFzcy5nZXR0eXBlKCkubmFtZSAtbmUgIlN0cmluZyIpCgkJCQkJCXsKCQkJCQkJCSRwYXNzdHJpbmcgPSAiMHgiOyAkaGFzaGVkcGFzcyB8ICUgeyAkcGFzc3RyaW5nICs9ICgiezA6WH0iIC1mICRfKS5QYWRMZWZ0KDIsICIwIikgfQoJCQkJCQkJJGhhc2hlZHBhc3MgPSAkcGFzc3RyaW5nCgkJCQkJCX0KCQkJCQkJCgkJCQkJCXRyeQoJCQkJCQl7CgkJCQkJCQkkZGVzdGxvZ2luLkNyZWF0ZSgkaGFzaGVkcGFzcywgW01pY3Jvc29mdC5TcWxTZXJ2ZXIuTWFuYWdlbWVudC5TbW8uTG9naW5DcmVhdGVPcHRpb25zXTo6SXNIYXNoZWQpCgkJCQkJCQkkZGVzdGxvZ2luLnJlZnJlc2goKQoJCQkJCQkJV3JpdGUtT3V0cHV0ICJTdWNjZXNzZnVsbHkgYWRkZWQgJHVzZXJuYW1lIHRvICRkZXN0aW5hdGlvbiIKCQkJCQkJfQoJCQkJCQljYXRjaAoJCQkJCQl7CgkJCQkJCQl0cnkKCQkJCQkJCXsKCQkJCQkJCQkkc2lkID0gIjB4IjsgJHNvdXJjZWxvZ2luLnNpZCB8ICUgeyAkc2lkICs9ICgiezA6WH0iIC1mICRfKS5QYWRMZWZ0KDIsICIwIikgfQoJCQkJCQkJCSRzcWxmYWlsc2FmZSA9ICJDUkVBVEUgTE9HSU4gWyR1c2VybmFtZV0gV0lUSCBQQVNTV09SRCA9ICRoYXNoZWRwYXNzIEhBU0hFRCwgU0lEID0gJHNpZCwgCgkJCQkJCQkJCQkJCURFRkFVTFRfREFUQUJBU0UgPSBbJGRlZmF1bHRkYl0sIENIRUNLX1BPTElDWSA9ICRjaGVja3BvbGljeSwgCgkJCQkJCQkJCQkJCUNIRUNLX0VYUElSQVRJT04gPSAkY2hlY2tleHBpcmF0aW9uLCBERUZBVUxUX0xBTkdVQUdFID0gWyRsYW5ndWFnZV0iCgkJCQkJCQkJCgkJCQkJCQkJJG51bGwgPSAkZGVzdHNlcnZlci5Db25uZWN0aW9uQ29udGV4dC5FeGVjdXRlTm9uUXVlcnkoJHNxbGZhaWxzYWZlKQoJCQkJCQkJCSRkZXN0bG9naW4gPSAkZGVzdHNlcnZlci5sb2dpbnNbJHVzZXJuYW1lXQoJCQkJCQkJCVdyaXRlLU91dHB1dCAiU3VjY2Vzc2Z1bGx5IGFkZGVkICR1c2VybmFtZSB0byAkZGVzdGluYXRpb24iCgkJCQkJCQl9CgkJCQkJCQljYXRjaAoJCQkJCQkJewoJCQkJCQkJCVdyaXRlLVdhcm5pbmcgIkZhaWxlZCB0byBhZGQgJHVzZXJuYW1lIHRvICRkZXN0aW5hdGlvbmA6ICRfIgoJCQkJCQkJCVdyaXRlLUV4Y2VwdGlvbiAkXwoJCQkJCQkJCWNvbnRpbnVlCgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQkJIyBBdHRlbXB0IHRvIGFkZCBXaW5kb3dzIFVzZXIKCQkJCQllbHNlaWYgKCRzb3VyY2Vsb2dpbi5Mb2dpblR5cGUgLWVxICJXaW5kb3dzVXNlciIgLW9yICRzb3VyY2Vsb2dpbi5Mb2dpblR5cGUgLWVxICJXaW5kb3dzR3JvdXAiKQoJCQkJCXsKCQkJCQkJV3JpdGUtT3V0cHV0ICJBZGRpbmcgYXMgbG9naW4gdHlwZSAkKCRzb3VyY2Vsb2dpbi5Mb2dpblR5cGUpIgoJCQkJCQkkZGVzdGxvZ2luLkxvZ2luVHlwZSA9ICRzb3VyY2Vsb2dpbi5Mb2dpblR5cGUKCQkJCQkJV3JpdGUtT3V0cHV0ICJTZXR0aW5nIGxhbmd1YWdlIGFzICQoJHNvdXJjZWxvZ2luLkxhbmd1YWdlKSIKCQkJCQkJJGRlc3Rsb2dpbi5MYW5ndWFnZSA9ICRzb3VyY2Vsb2dpbi5MYW5ndWFnZQoJCQkJCQkKCQkJCQkJdHJ5CgkJCQkJCXsKCQkJCQkJCSRkZXN0bG9naW4uQ3JlYXRlKCkKCQkJCQkJCSRkZXN0bG9naW4uUmVmcmVzaCgpCgkJCQkJCQlXcml0ZS1PdXRwdXQgIlN1Y2Nlc3NmdWxseSBhZGRlZCAkdXNlcm5hbWUgdG8gJGRlc3RpbmF0aW9uIgoJCQkJCQl9CgkJCQkJCWNhdGNoCgkJCQkJCXsKCQkJCQkJCVdyaXRlLVdhcm5pbmcgIkZhaWxlZCB0byBhZGQgJHVzZXJuYW1lIHRvICRkZXN0aW5hdGlvbiIKCQkJCQkJCVdyaXRlLUV4Y2VwdGlvbiAkXwoJCQkJCQkJY29udGludWUKCQkJCQkJfQoJCQkJCX0KCQkJCQkKCQkJCQkjIFRoaXMgc2NyaXB0IGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IGNlcnRpZmljYXRlIG1hcHBlZCBvciBhc3ltbWV0cmljIGtleSB1c2Vycy4KCQkJCQllbHNlCgkJCQkJewoJCQkJCQlXcml0ZS1XYXJuaW5nICIkKCRzb3VyY2Vsb2dpbi5Mb2dpblR5cGUpIGxvZ2lucyBub3Qgc3VwcG9ydGVkLiAkKCRzb3VyY2Vsb2dpbi5uYW1lKSBza2lwcGVkLiIKCQkJCQkJY29udGludWUKCQkJCQl9CgkJCQkJCgkJCQkJaWYgKCRzb3VyY2Vsb2dpbi5Jc0Rpc2FibGVkKQoJCQkJCXsKCQkJCQkJdHJ5IHsgJGRlc3Rsb2dpbi5EaXNhYmxlKCkgfQoJCQkJCQljYXRjaCB7IFdyaXRlLVdhcm5pbmcgIiR1c2VybmFtZSBkaXNhYmxlZCBvbiBzb3VyY2UsIGJ1dCBjb3VsZCBub3QgYmUgZGlzYWJsZWQgb24gZGVzdGluYXRpb24uIjsgV3JpdGUtRXhjZXB0aW9uICRfIH0KCQkJCQl9CgkJCQkJaWYgKCRzb3VyY2Vsb2dpbi5EZW55V2luZG93c0xvZ2luKQoJCQkJCXsKCQkJCQkJdHJ5IHsgJGRlc3Rsb2dpbi5EZW55V2luZG93c0xvZ2luID0gJHRydWUgfQoJCQkJCQljYXRjaCB7IFdyaXRlLVdhcm5pbmcgIiR1c2VybmFtZSBkZW5pZWQgbG9naW4gb24gc291cmNlLCBidXQgY291bGQgbm90IGJlIGRlbmllZCBsb2dpbiBvbiBkZXN0aW5hdGlvbi4iOyBXcml0ZS1FeGNlcHRpb24gJF8gfQoJCQkJCX0KCQkJCX0KCQkJCUlmICgkUHNjbWRsZXQuU2hvdWxkUHJvY2VzcygkZGVzdGluYXRpb24sICJVcGRhdGluZyBTUUwgbG9naW4gJHVzZXJuYW1lIHBlcm1pc3Npb25zIikpCgkJCQl7CgkJCQkJVXBkYXRlLVNxbFBlcm1pc3Npb25zIC1zb3VyY2VzZXJ2ZXIgJHNvdXJjZXNlcnZlciAtc291cmNlbG9naW4gJHNvdXJjZWxvZ2luIC1kZXN0c2VydmVyICRkZXN0c2VydmVyIC1kZXN0bG9naW4gJGRlc3Rsb2dpbgoJCQkJfQoJCQl9CgkJfQoJCQoJCVdyaXRlLU91dHB1dCAiQXR0ZW1wdGluZyB0byBjb25uZWN0IHRvIFNRTCBTZXJ2ZXJzLi4iCgkJJHNvdXJjZXNlcnZlciA9IENvbm5lY3QtU3FsU2VydmVyIC1TcWxTZXJ2ZXIgJFNvdXJjZSAtU3FsQ3JlZGVudGlhbCAkU291cmNlU3FsQ3JlZGVudGlhbAoJCSRzb3VyY2UgPSAkc291cmNlc2VydmVyLkRvbWFpbkluc3RhbmNlTmFtZQoJCQoJCWlmICgkRGVzdGluYXRpb24ubGVuZ3RoIC1ndCAwKQoJCXsKCQkJJGRlc3RzZXJ2ZXIgPSBDb25uZWN0LVNxbFNlcnZlciAtU3FsU2VydmVyICREZXN0aW5hdGlvbiAtU3FsQ3JlZGVudGlhbCAkRGVzdGluYXRpb25TcWxDcmVkZW50aWFsCgkJCSRkZXN0aW5hdGlvbiA9ICRkZXN0c2VydmVyLkRvbWFpbkluc3RhbmNlTmFtZQoJCQkKCQkJaWYgKCRzb3VyY2VzZXJ2ZXIudmVyc2lvbk1ham9yIC1ndCAxMCAtYW5kICRkZXN0c2VydmVyLnZlcnNpb25NYWpvciAtbHQgMTEpCgkJCXsKCQkJCXRocm93ICJTUUwgbG9naW4gbWlncmF0aW9uIGZyb20gU1FMIFNlcnZlciB2ZXJzaW9uICQoJHNvdXJjZXNlcnZlci52ZXJzaW9uTWFqb3IpIHRvICQoJGRlc3RzZXJ2ZXIudmVyc2lvbk1ham9yKSBub3Qgc3VwcG9ydGVkLiBIYWx0aW5nLiIKCQkJfQoJCQkKCQkJaWYgKCRzb3VyY2VzZXJ2ZXIudmVyc2lvbk1ham9yIC1sdCA4IC1vciAkZGVzdHNlcnZlci52ZXJzaW9uTWFqb3IgLWx0IDgpIHsgdGhyb3cgIlNRTCBTZXJ2ZXIgNyBhbmQgYmVsb3cgbm90IHN1cHBvcnRlZC4gUXVpdHRpbmcuIiB9CgkJfQoJCQoJCSRlbGFwc2VkID0gW1N5c3RlbS5EaWFnbm9zdGljcy5TdG9wd2F0Y2hdOjpTdGFydE5ldygpCgkJJHN0YXJ0ZWQgPSBHZXQtRGF0ZQoJCQoJCUlmICgkUHNjbWRsZXQuU2hvdWxkUHJvY2VzcygiY29uc29sZSIsICJTaG93aW5nIHRpbWUgc3RhcnRlZCBtZXNzYWdlIikpCgkJewoJCQlXcml0ZS1PdXRwdXQgIk1pZ3JhdGlvbiBzdGFydGVkOiAkc3RhcnRlZCIKCQl9CgkJCgkJIyBDb252ZXJ0IGZyb20gUnVudGltZURlZmluZWRQYXJhbWV0ZXIgb2JqZWN0IHRvIHJlZ3VsYXIgYXJyYXkKCQkkTG9naW5zID0gJHBzYm91bmRwYXJhbWV0ZXJzLkxvZ2lucwoJCSRFeGNsdWRlID0gJHBzYm91bmRwYXJhbWV0ZXJzLkV4Y2x1ZGUKCQkKCQlpZiAoJExvZ2lucy5sZW5ndGggLWVxIDApCgkJewoJCQkkTG9naW5zID0gJHNvdXJjZXNlcnZlci5sb2dpbnMubmFtZQoJCX0KCQkKCQlpZiAoJHBzYm91bmRwYXJhbWV0ZXJzLkxvZ2lucyAtZ3QgMCkKCQl7CgkJCSRsb2dpbnBhcm1zICs9IEB7ICdMb2dpbnMnID0gJGxvZ2lucyB9CgkJfQoJCQoJCWlmICgkcHNib3VuZHBhcmFtZXRlcnMuRXhjbHVkZSAtZ3QgMCkKCQl7CgkJCSRsb2dpbnBhcm1zICs9IEB7ICdFeGNsdWRlJyA9ICRleGNsdWRlIH0KCQl9CgkJCgkJcmV0dXJuICRzZXJ2ZXJwYXJtcwoJfQoJCglQUk9DRVNTCgl7CgkJaWYgKCRwaXBlbG9naW4uTGVuZ3RoIC1ndCAwKQoJCXsKCQkJJFNvdXJjZSA9ICRwaXBlbG9naW5bMF0ucGFyZW50Lm5hbWUKCQkJJGxvZ2lucyA9ICRwaXBlbG9naW4ubmFtZQoJCX0KCQkKCQlpZiAoJFN5bmNPbmx5KQoJCXsKCQkJU3luYy1TcWxMb2dpblBlcm1pc3Npb25zIC1Tb3VyY2UgJFNvdXJjZSAtRGVzdGluYXRpb24gJERlc3RpbmF0aW9uICRsb2dpbnBhcm1zCgkJCXJldHVybgoJCX0KCQkKCQlpZiAoJE91dEZpbGUpCgkJewoJCQlFeHBvcnQtU3FsTG9naW4gLVNxbFNlcnZlciAkc291cmNlIC1GaWxlUGF0aCAkT3V0RmlsZSAkbG9naW5wYXJtcwoJCQlyZXR1cm4KCQl9CgkJCgkJSWYgKCRQc2NtZGxldC5TaG91bGRQcm9jZXNzKCJjb25zb2xlIiwgIlNob3dpbmcgbWlncmF0aW9uIGF0dGVtcHQgbWVzc2FnZSIpKQoJCXsKCQkJV3JpdGUtT3V0cHV0ICJBdHRlbXB0aW5nIExvZ2luIE1pZ3JhdGlvbiIKCQl9CgkJCgkJQ29weS1Mb2dpbiAtc291cmNlc2VydmVyICRzb3VyY2VzZXJ2ZXIgLWRlc3RzZXJ2ZXIgJGRlc3RzZXJ2ZXIgLUxvZ2lucyAkTG9naW5zIC1FeGNsdWRlICRFeGNsdWRlIC1Gb3JjZSAkZm9yY2UKCQkKCQkkc2EgPSAkc291cmNlc2VydmVyLkxvZ2lucyB8IFdoZXJlLU9iamVjdCB7ICRfLmlkIC1lcSAxIH0KCQkkZGVzdHNhID0gJGRlc3RzZXJ2ZXIuTG9naW5zIHwgV2hlcmUtT2JqZWN0IHsgJF8uaWQgLWVxIDEgfQoJCSRzYW5hbWUgPSAkc2EubmFtZQoJCQoJCWlmICgkc2FuYW1lIC1uZSAkZGVzdHNhLm5hbWUgLWFuZCAkU3luY1NhTmFtZSAtZXEgJHRydWUpCgkJewoJCQlXcml0ZS1PdXRwdXQgIkNoYW5naW5nIHNhIHVzZXJuYW1lIHRvIG1hdGNoIHNvdXJjZSAoJHNhbmFtZSkiCgkJCUlmICgkUHNjbWRsZXQuU2hvdWxkUHJvY2VzcygkZGVzdGluYXRpb24sICJDaGFuZ2luZyBzYSB1c2VybmFtZSB0byBtYXRjaCBzb3VyY2UgKCRzYW5hbWUpIikpCgkJCXsKCQkJCSRkZXN0c2EuUmVuYW1lKCRzYW5hbWUpCgkJCQkkZGVzdHNhLmFsdGVyKCkKCQkJfQoJCX0KCX0KCQoJRU5ECgl7CgkJCgkJSWYgKCRQc2NtZGxldC5TaG91bGRQcm9jZXNzKCJjb25zb2xlIiwgIlNob3dpbmcgdGltZSBlbGFwc2VkIG1lc3NhZ2UiKSkKCQl7CgkJCVdyaXRlLU91dHB1dCAiTG9naW4gbWlncmF0aW9uIGNvbXBsZXRlZDogJChHZXQtRGF0ZSkiCgkJCSR0b3RhbHRpbWUgPSAoJGVsYXBzZWQuRWxhcHNlZC50b1N0cmluZygpLlNwbGl0KCIuIilbMF0pCgkJCSRzb3VyY2VzZXJ2ZXIuQ29ubmVjdGlvbkNvbnRleHQuRGlzY29ubmVjdCgpCgkJCQoJCQlpZiAoJERlc3RpbmF0aW9uLmxlbmd0aCAtZ3QgMCkKCQkJewoJCQkJJGRlc3RzZXJ2ZXIuQ29ubmVjdGlvbkNvbnRleHQuRGlzY29ubmVjdCgpCgkJCX0KCQkJCgkJCVdyaXRlLU91dHB1dCAiVG90YWwgZWxhcHNlZCB0aW1lOiAkdG90YWx0aW1lIgoJCX0KCX0KfQ==
