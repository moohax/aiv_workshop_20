ServerOMFunctions.ps1,e63cb599ccba92ebd2c99e623ed389e1,Scan result is 1. IsMalware: 0,PCMKLlNZTk9QU0lTCkdldHMgYXNzZW1ibHkgcmVmZXJlbmNlIGluZm9ybWF0aW9uLgoKLkRFU0NSSVBUSU9OCk5vdCBzdXBwb3J0ZWQgZm9yIHVzZSBkdXJpbmcgdGFzayBleGVjdGlvbi4gVGhpcyBmdW5jdGlvbiBpcyBvbmx5IGludGVuZGVkIHRvIGhlbHAgZGV2ZWxvcGVycyByZXNvbHZlIHRoZSBtaW5pbWFsIHNldCBvZiBETExzIHRoYXQgbmVlZCB0byBiZSBidW5kbGVkIHdoZW4gY29uc3VtaW5nIHRoZSBWU1RTIFJFU1QgU0RLIG9yIFRGUyBFeHRlbmRlZCBDbGllbnQgU0RLLiBUaGUgaW50ZXJmYWNlIGFuZCBvdXRwdXQgbWF5IGNoYW5nZSBiZXR3ZWVuIHBhdGNoIHJlbGVhc2VzIG9mIHRoZSBWU1RTIFRhc2sgU0RLLgoKT25seSBhIHN1YnNldCBvZiB0aGUgcmVmZXJlbmNlZCBhc3NlbWJsaWVzIG1heSBhY3R1YWxseSBiZSByZXF1aXJlZCwgZGVwZW5kaW5nIG9uIHRoZSBmdW5jdGlvbmFsaXR5IHVzZWQgYnkgeW91ciB0YXNrLiBJdCBpcyBiZXN0IHRvIGJ1bmRsZSBvbmx5IHRoZSBETExzIHJlcXVpcmVkIGZvciB5b3VyIHNjZW5hcmlvLgoKV2Fsa3MgYW4gYXNzZW1ibHkncyByZWZlcmVuY2VzIHRvIGRldGVybWluZSBhbGwgb2YgaXQncyBkZXBlbmRlbmNpZXMuIEFsc28gd2Fsa3MgdGhlIHJlZmVyZW5jZXMgb2YgdGhlIGRlcGVuZGVuY2llcywgYW5kIHNvIG9uIHVudGlsIGFsbCBuZXN0ZWQgZGVwZW5kZW5jaWVzIGhhdmUgYmVlbiB0cmF2ZXJzZWQuIERlcGVuZGVuY2llcyBhcmUgc2VhcmNoZWQgZm9yIGluIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIHNwZWNpZmllZCBhc3NlbWJseS4gTkVUIEZyYW1ld29yayBhc3NlbWJsaWVzIGFyZSBvbWl0dGVkLgoKU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvdnN0cy10YXNrLWxpYi90cmVlL21hc3Rlci9wb3dlcnNoZWxsL0RvY3MvVXNpbmdPTS5tZCBmb3IgcmVsaWFibGUgdXNhZ2Ugd2hlbiB3b3JraW5nIHdpdGggdGhlIFRGUyBleHRlbmRlZCBjbGllbnQgU0RLIGZyb20gYSB0YXNrLgoKLlBBUkFNRVRFUiBMaXRlcmFsUGF0aApBc3NlbWJseSB0byB3YWxrLgoKLkVYQU1QTEUKR2V0LVZzdHNBc3NlbWJseVJlZmVyZW5jZSAtTGl0ZXJhbFBhdGggQzpcbnVnZXRcbWljcm9zb2Z0LnRlYW1mb3VuZGF0aW9uc2VydmVyLmNsaWVudC4xNC4xMDIuMFxsaWJcbmV0NDVcTWljcm9zb2Z0LlRlYW1Gb3VuZGF0aW9uLkJ1aWxkMi5XZWJBcGkuZGxsCiM+CmZ1bmN0aW9uIEdldC1Bc3NlbWJseVJlZmVyZW5jZSB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10kTGl0ZXJhbFBhdGgpCgogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdTdG9wJwogICAgV3JpdGUtV2FybmluZyAiTm90IHN1cHBvcnRlZCBmb3IgdXNlIGR1cmluZyB0YXNrIGV4ZWN0aW9uLiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgaW50ZW5kZWQgdG8gaGVscCBkZXZlbG9wZXJzIHJlc29sdmUgdGhlIG1pbmltYWwgc2V0IG9mIERMTHMgdGhhdCBuZWVkIHRvIGJlIGJ1bmRsZWQgd2hlbiBjb25zdW1pbmcgdGhlIFZTVFMgUkVTVCBTREsgb3IgVEZTIEV4dGVuZGVkIENsaWVudCBTREsuIFRoZSBpbnRlcmZhY2UgYW5kIG91dHB1dCBtYXkgY2hhbmdlIGJldHdlZW4gcGF0Y2ggcmVsZWFzZXMgb2YgdGhlIFZTVFMgVGFzayBTREsuIgogICAgV3JpdGUtT3V0cHV0ICcnCiAgICBXcml0ZS1XYXJuaW5nICJPbmx5IGEgc3Vic2V0IG9mIHRoZSByZWZlcmVuY2VkIGFzc2VtYmxpZXMgbWF5IGFjdHVhbGx5IGJlIHJlcXVpcmVkLCBkZXBlbmRpbmcgb24gdGhlIGZ1bmN0aW9uYWxpdHkgdXNlZCBieSB5b3VyIHRhc2suIEl0IGlzIGJlc3QgdG8gYnVuZGxlIG9ubHkgdGhlIERMTHMgcmVxdWlyZWQgZm9yIHlvdXIgc2NlbmFyaW8uIgogICAgJGRpcmVjdG9yeSA9IFtTeXN0ZW0uSU8uUGF0aF06OkdldERpcmVjdG9yeU5hbWUoJExpdGVyYWxQYXRoKQogICAgJGhhc2h0YWJsZSA9IEB7IH0KICAgICRxdWV1ZSA9IEAoIFtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OlJlZmxlY3Rpb25Pbmx5TG9hZEZyb20oJExpdGVyYWxQYXRoKS5HZXROYW1lKCkgKQogICAgd2hpbGUgKCRxdWV1ZS5Db3VudCkgewogICAgICAgICMgQWRkIGEgYmxhbmsgbGluZSBiZXR3ZWVuIGFzc2VtYmxpZXMuCiAgICAgICAgV3JpdGUtT3V0cHV0ICcnCgogICAgICAgICMgUG9wLgogICAgICAgICRhc3NlbWJseU5hbWUgPSAkcXVldWVbMF0KICAgICAgICAkcXVldWUgPSBAKCAkcXVldWUgfCBTZWxlY3QtT2JqZWN0IC1Ta2lwIDEgKQoKICAgICAgICAjIEF0dGVtcHQgdG8gZmluZCB0aGUgYXNzZW1ibHkgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LgogICAgICAgICRhc3NlbWJseSA9ICRudWxsCiAgICAgICAgJHBhdGggPSAiJGRpcmVjdG9yeVwkKCRhc3NlbWJseU5hbWUuTmFtZSkuZGxsIgogICAgICAgIGlmICgoVGVzdC1QYXRoIC1MaXRlcmFsUGF0aCAkcGF0aCAtUGF0aFR5cGUgTGVhZikpIHsKICAgICAgICAgICAgJGFzc2VtYmx5ID0gW1N5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5XTo6UmVmbGVjdGlvbk9ubHlMb2FkRnJvbSgkcGF0aCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkcGF0aCA9ICIkZGlyZWN0b3J5XCQoJGFzc2VtYmx5TmFtZS5OYW1lKS5leGUiCiAgICAgICAgICAgIGlmICgoVGVzdC1QYXRoIC1MaXRlcmFsUGF0aCAkcGF0aCAtUGF0aFR5cGUgTGVhZikpIHsKICAgICAgICAgICAgICAgICRhc3NlbWJseSA9IFtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OlJlZmxlY3Rpb25Pbmx5TG9hZEZyb20oJHBhdGgpCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICMgTWFrZSBzdXJlIHRoZSBhc3NlbWJseSBmdWxsIG5hbWUgbWF0Y2hlcywgbm90IGp1c3QgdGhlIGZpbGUgbmFtZS4KICAgICAgICBpZiAoJGFzc2VtYmx5IC1hbmQgJGFzc2VtYmx5LkdldE5hbWUoKS5GdWxsTmFtZSAtbmUgJGFzc2VtYmx5TmFtZS5GdWxsTmFtZSkgewogICAgICAgICAgICAkYXNzZW1ibHkgPSAkbnVsbAogICAgICAgIH0KCiAgICAgICAgIyBQcmludCB0aGUgYXNzZW1ibHkuCiAgICAgICAgaWYgKCRhc3NlbWJseSkgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgJGFzc2VtYmx5TmFtZS5GdWxsTmFtZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICgkYXNzZW1ibHlOYW1lLkZ1bGxOYW1lIC1lcSAnTmV3dG9uc29mdC5Kc29uLCBWZXJzaW9uPTYuMC4wLjAsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49MzBhZDRmZTZiMmE2YWVlZCcpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIioqKiBOT1QgRk9VTkQgJCgkYXNzZW1ibHlOYW1lLkZ1bGxOYW1lKSAqKiogVGhpcyBpcyBhbiBleHBlY3RlZCBjb25kaXRpb24gd2hlbiB1c2luZyB0aGUgSFRUUCBjbGllbnRzIGZyb20gdGhlIDE1LnggVlNUUyBSRVNUIFNESy4gVXNlIEdldC1Wc3RzVnNzSHR0cENsaWVudCB0byBsb2FkIHRoZSBIVFRQIGNsaWVudHMgKHdoaWNoIGFwcGxpZXMgYSBiaW5kaW5nIHJlZGlyZWN0IGFzc2VtYmx5IHJlc29sdmVyIGZvciBOZXd0b25zb2Z0Lkpzb24pLiBPdGhlcndpc2UgeW91IHdpbGwgbmVlZCB0byBtYW5hZ2UgdGhlIGJpbmRpbmcgcmVkaXJlY3QgeW91cnNlbGYuIgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiKioqIE5PVCBGT1VORCAkKCRhc3NlbWJseU5hbWUuRnVsbE5hbWUpICoqKiIKICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgfQoKICAgICAgICAjIFdhbGsgdGhlIHJlZmVyZW5jZXMuCiAgICAgICAgJHJlZkFzc2VtYmx5TmFtZXMgPSBAKCAkYXNzZW1ibHkuR2V0UmVmZXJlbmNlZEFzc2VtYmxpZXMoKSApCiAgICAgICAgZm9yICgkaSA9IDAgOyAkaSAtbHQgJHJlZkFzc2VtYmx5TmFtZXMuQ291bnQgOyAkaSsrKSB7CiAgICAgICAgICAgICRyZWZBc3NlbWJseU5hbWUgPSAkcmVmQXNzZW1ibHlOYW1lc1skaV0KCiAgICAgICAgICAgICMgU2tpcCBmcmFtZXdvcmsgYXNzZW1ibGllcy4KICAgICAgICAgICAgJGZ4UGF0aHMgPSBAKAogICAgICAgICAgICAgICAgIiRlbnY6d2luZGlyXE1pY3Jvc29mdC5OZXRcRnJhbWV3b3JrNjRcdjQuMC4zMDMxOVwkKCRyZWZBc3NlbWJseU5hbWUuTmFtZSkuZGxsIgogICAgICAgICAgICAgICAgIiRlbnY6d2luZGlyXE1pY3Jvc29mdC5OZXRcRnJhbWV3b3JrNjRcdjQuMC4zMDMxOVxXUEZcJCgkcmVmQXNzZW1ibHlOYW1lLk5hbWUpLmRsbCIKICAgICAgICAgICAgKQogICAgICAgICAgICAkZnhQYXRoID0gJGZ4UGF0aHMgfAogICAgICAgICAgICAgICAgV2hlcmUtT2JqZWN0IHsgVGVzdC1QYXRoIC1MaXRlcmFsUGF0aCAkXyAtUGF0aFR5cGUgTGVhZiB9IHwKICAgICAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7IFtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OlJlZmxlY3Rpb25Pbmx5TG9hZEZyb20oJF8pLkdldE5hbWUoKS5GdWxsTmFtZSAtZXEgJHJlZkFzc2VtYmx5TmFtZS5GdWxsTmFtZSB9CiAgICAgICAgICAgIGlmICgkZnhQYXRoKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFByaW50IHRoZSByZWZlcmVuY2UuCiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiICAgICQoJHJlZkFzc2VtYmx5TmFtZS5GdWxsTmFtZSkiCgogICAgICAgICAgICAjIEFkZCBuZXcgcmVmZXJlbmNlcyB0byB0aGUgcXVldWUuCiAgICAgICAgICAgIGlmICghJGhhc2h0YWJsZVskcmVmQXNzZW1ibHlOYW1lLkZ1bGxOYW1lXSkgewogICAgICAgICAgICAgICAgJHF1ZXVlICs9ICRyZWZBc3NlbWJseU5hbWUKICAgICAgICAgICAgICAgICRoYXNodGFibGVbJHJlZkFzc2VtYmx5TmFtZS5GdWxsTmFtZV0gPSAkdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cgo8IwouU1lOT1BTSVMKR2V0cyBhIGNyZWRlbnRpYWxzIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHdpdGggdGhlIFRGUyBleHRlbmRlZCBjbGllbnQgU0RLLgoKLkRFU0NSSVBUSU9OClRoZSBhZ2VudCBqb2IgdG9rZW4gaXMgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIGNyZWRlbnRpYWxzIG9iamVjdC4gVGhlIGlkZW50aXR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4gZGVwZW5kcyBvbiB0aGUgc2NvcGUgc2VsZWN0ZWQgaW4gdGhlIGJ1aWxkL3JlbGVhc2UgZGVmaW5pdGlvbiAoZWl0aGVyIHRoZSBwcm9qZWN0IGNvbGxlY3Rpb24gYnVpbGQvcmVsZWFzZSBzZXJ2aWNlIGlkZW50aXR5LCBvciB0aGUgcHJvamVjdCBidWlsZC9yZWxlYXNlIHNlcnZpY2UgaWRlbnRpdHkpLgoKUmVmZXIgdG8gR2V0LVZzdHNUZnNTZXJ2aWNlIGZvciBhIG1vcmUgc2ltcGxlIHRvIGdldCBhIFRGUyBzZXJ2aWNlIG9iamVjdC4KCioqKiBETyBOT1QgVVNFIEFnZW50LlNlcnZlck9NRGlyZWN0b3J5ICoqKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC92c3RzLXRhc2stbGliL3RyZWUvbWFzdGVyL3Bvd2Vyc2hlbGwvRG9jcy9Vc2luZ09NLm1kIGZvciByZWxpYWJsZSB1c2FnZSB3aGVuIHdvcmtpbmcgd2l0aCB0aGUgVEZTIGV4dGVuZGVkIGNsaWVudCBTREsgZnJvbSBhIHRhc2suCgouUEFSQU1FVEVSIE9NRGlyZWN0b3J5CkRpcmVjdG9yeSB3aGVyZSB0aGUgZXh0ZW5kZWQgY2xpZW50IG9iamVjdCBtb2RlbCBETExzIGFyZSBsb2NhdGVkLiBJZiB0aGUgRExMcyBmb3IgdGhlIGNyZWRlbnRpYWwgdHlwZXMgYXJlIG5vdCBhbHJlYWR5IGxvYWRlZCwgYW4gYXR0ZW1wdCB3aWxsIGJlIG1hZGUgdG8gYXV0b21hdGljYWxseSBsb2FkIHRoZSByZXF1aXJlZCBETExzIGZyb20gdGhlIG9iamVjdCBtb2RlbCBkaXJlY3RvcnkuCgpJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgZGlyZWN0b3J5IG9mIHRoZSBlbnRyeSBzY3JpcHQgZm9yIHRoZSB0YXNrLgoKKioqIERPIE5PVCBVU0UgQWdlbnQuU2VydmVyT01EaXJlY3RvcnkgKioqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L3ZzdHMtdGFzay1saWIvdHJlZS9tYXN0ZXIvcG93ZXJzaGVsbC9Eb2NzL1VzaW5nT00ubWQgZm9yIHJlbGlhYmxlIHVzYWdlIHdoZW4gd29ya2luZyB3aXRoIHRoZSBURlMgZXh0ZW5kZWQgY2xpZW50IFNESyBmcm9tIGEgdGFzay4KCi5FWEFNUExFCiMKIyBSZWZlciB0byBHZXQtVnN0c1Rmc1NlcnZpY2UgZm9yIGEgbW9yZSBzaW1wbGUgd2F5IHRvIGdldCBhIFRGUyBzZXJ2aWNlIG9iamVjdC4KIwokY3JlZGVudGlhbHMgPSBHZXQtVnN0c1Rmc0NsaWVudENyZWRlbnRpYWxzCkFkZC1UeXBlIC1MaXRlcmFsUGF0aCAiJFBTU2NyaXB0Um9vdFxNaWNyb3NvZnQuVGVhbUZvdW5kYXRpb24uVmVyc2lvbkNvbnRyb2wuQ2xpZW50LmRsbCIKJHRmc1RlYW1Qcm9qZWN0Q29sbGVjdGlvbiA9IE5ldy1PYmplY3QgTWljcm9zb2Z0LlRlYW1Gb3VuZGF0aW9uLkNsaWVudC5UZnNUZWFtUHJvamVjdENvbGxlY3Rpb24oCiAgICAoR2V0LVZzdHNUYXNrVmFyaWFibGUgLU5hbWUgJ1N5c3RlbS5UZWFtRm91bmRhdGlvbkNvbGxlY3Rpb25VcmknIC1SZXF1aXJlKSwKICAgICRjcmVkZW50aWFscykKJHZlcnNpb25Db250cm9sU2VydmVyID0gJHRmc1RlYW1Qcm9qZWN0Q29sbGVjdGlvbi5HZXRTZXJ2aWNlKFtNaWNyb3NvZnQuVGVhbUZvdW5kYXRpb24uVmVyc2lvbkNvbnRyb2wuQ2xpZW50LlZlcnNpb25Db250cm9sU2VydmVyXSkKJHZlcnNpb25Db250cm9sU2VydmVyLkdldEl0ZW1zKCckLyonKS5JdGVtcyB8IEZvcm1hdC1MaXN0CiM+CmZ1bmN0aW9uIEdldC1UZnNDbGllbnRDcmVkZW50aWFscyB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oW3N0cmluZ10kT01EaXJlY3RvcnkpCgogICAgVHJhY2UtRW50ZXJpbmdJbnZvY2F0aW9uIC1JbnZvY2F0aW9uSW5mbyAkTXlJbnZvY2F0aW9uCiAgICAkb3JpZ2luYWxFcnJvckFjdGlvblByZWZlcmVuY2UgPSAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlCiAgICB0cnkgewogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU3RvcCcKCiAgICAgICAgIyBHZXQgdGhlIGVuZHBvaW50LgogICAgICAgICRlbmRwb2ludCA9IEdldC1FbmRwb2ludCAtTmFtZSBTeXN0ZW1Wc3NDb25uZWN0aW9uIC1SZXF1aXJlCgogICAgICAgICMgVmFsaWRhdGUgdGhlIHR5cGUgY2FuIGJlIGZvdW5kLgogICAgICAgICRudWxsID0gR2V0LU9NVHlwZSAtVHlwZU5hbWUgJ01pY3Jvc29mdC5UZWFtRm91bmRhdGlvbi5DbGllbnQuVGZzQ2xpZW50Q3JlZGVudGlhbHMnIC1PTUtpbmQgJ0V4dGVuZGVkQ2xpZW50JyAtT01EaXJlY3RvcnkgJE9NRGlyZWN0b3J5IC1SZXF1aXJlCgogICAgICAgICMgQ29uc3RydWN0IHRoZSBjcmVkZW50aWFscy4KICAgICAgICAkY3JlZGVudGlhbHMgPSBOZXctT2JqZWN0IE1pY3Jvc29mdC5UZWFtRm91bmRhdGlvbi5DbGllbnQuVGZzQ2xpZW50Q3JlZGVudGlhbHMoJGZhbHNlKSAjIERvIG5vdCB1c2UgZGVmYXVsdCBjcmVkZW50aWFscy4KICAgICAgICAkY3JlZGVudGlhbHMuQWxsb3dJbnRlcmFjdGl2ZSA9ICRmYWxzZQogICAgICAgICRjcmVkZW50aWFscy5GZWRlcmF0ZWQgPSBOZXctT2JqZWN0IE1pY3Jvc29mdC5UZWFtRm91bmRhdGlvbi5DbGllbnQuT0F1dGhUb2tlbkNyZWRlbnRpYWwoW3N0cmluZ10kZW5kcG9pbnQuYXV0aC5wYXJhbWV0ZXJzLkFjY2Vzc1Rva2VuKQogICAgICAgIHJldHVybiAkY3JlZGVudGlhbHMKICAgIH0gY2F0Y2ggewogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAkb3JpZ2luYWxFcnJvckFjdGlvblByZWZlcmVuY2UKICAgICAgICBXcml0ZS1FcnJvciAkXwogICAgfSBmaW5hbGx5IHsKICAgICAgICBUcmFjZS1MZWF2aW5nSW52b2NhdGlvbiAtSW52b2NhdGlvbkluZm8gJE15SW52b2NhdGlvbgogICAgfQp9Cgo8IwouU1lOT1BTSVMKR2V0cyBhIFRGUyBleHRlbmRlZCBjbGllbnQgc2VydmljZS4KCi5ERVNDUklQVElPTgpHZXRzIGFuIGluc3RhbmNlIG9mIGFuIElUZnNUZWFtUHJvamVjdENvbGxlY3Rpb25PYmplY3QuCgoqKiogRE8gTk9UIFVTRSBBZ2VudC5TZXJ2ZXJPTURpcmVjdG9yeSAqKiogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvdnN0cy10YXNrLWxpYi90cmVlL21hc3Rlci9wb3dlcnNoZWxsL0RvY3MvVXNpbmdPTS5tZCBmb3IgcmVsaWFibGUgdXNhZ2Ugd2hlbiB3b3JraW5nIHdpdGggdGhlIFRGUyBleHRlbmRlZCBjbGllbnQgU0RLIGZyb20gYSB0YXNrLgoKLlBBUkFNRVRFUiBUeXBlTmFtZQpOYW1lc3BhY2UtcXVhbGlmaWVkIHR5cGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBnZXQuCgouUEFSQU1FVEVSIE9NRGlyZWN0b3J5CkRpcmVjdG9yeSB3aGVyZSB0aGUgZXh0ZW5kZWQgY2xpZW50IG9iamVjdCBtb2RlbCBETExzIGFyZSBsb2NhdGVkLiBJZiB0aGUgRExMcyBmb3IgdGhlIHR5cGVzIGFyZSBub3QgYWxyZWFkeSBsb2FkZWQsIGFuIGF0dGVtcHQgd2lsbCBiZSBtYWRlIHRvIGF1dG9tYXRpY2FsbHkgbG9hZCB0aGUgcmVxdWlyZWQgRExMcyBmcm9tIHRoZSBvYmplY3QgbW9kZWwgZGlyZWN0b3J5LgoKSWYgbm90IHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGRpcmVjdG9yeSBvZiB0aGUgZW50cnkgc2NyaXB0IGZvciB0aGUgdGFzay4KCioqKiBETyBOT1QgVVNFIEFnZW50LlNlcnZlck9NRGlyZWN0b3J5ICoqKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC92c3RzLXRhc2stbGliL3RyZWUvbWFzdGVyL3Bvd2Vyc2hlbGwvRG9jcy9Vc2luZ09NLm1kIGZvciByZWxpYWJsZSB1c2FnZSB3aGVuIHdvcmtpbmcgd2l0aCB0aGUgVEZTIGV4dGVuZGVkIGNsaWVudCBTREsgZnJvbSBhIHRhc2suCgouUEFSQU1FVEVSIFVyaQpVUkkgdG8gdXNlIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBzZXJ2aWNlLiBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byBTeXN0ZW0uVGVhbUZvdW5kYXRpb25Db2xsZWN0aW9uVXJpLgoKLlBBUkFNRVRFUiBUZnNDbGllbnRDcmVkZW50aWFscwpDcmVkZW50aWFscyB0byB1c2Ugd2hlbiBpbnRpYWxpemluZyB0aGUgc2VydmljZS4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGRlZmF1bHQgdXNlcyB0aGUgYWdlbnQgam9iIHRva2VuIHRvIGNvbnN0cnVjdCB0aGUgY3JlZGVudGlhbHMgb2JqZWN0LiBUaGUgaWRlbnRpdHkgYXNzb2NpYXRlZCB3aXRoIHRoZSB0b2tlbiBkZXBlbmRzIG9uIHRoZSBzY29wZSBzZWxlY3RlZCBpbiB0aGUgYnVpbGQvcmVsZWFzZSBkZWZpbml0aW9uIChlaXRoZXIgdGhlIHByb2plY3QgY29sbGVjdGlvbiBidWlsZC9yZWxlYXNlIHNlcnZpY2UgaWRlbnRpdHksIG9yIHRoZSBwcm9qZWN0IGJ1aWxkL3JlbGVhc2Ugc2VydmljZSBpZGVudGl0eSkuCgouRVhBTVBMRQokdmVyc2lvbkNvbnRyb2xTZXJ2ZXIgPSBHZXQtVnN0c1Rmc1NlcnZpY2UgLVR5cGVOYW1lIE1pY3Jvc29mdC5UZWFtRm91bmRhdGlvbi5WZXJzaW9uQ29udHJvbC5DbGllbnQuVmVyc2lvbkNvbnRyb2xTZXJ2ZXIKJHZlcnNpb25Db250cm9sU2VydmVyLkdldEl0ZW1zKCckLyonKS5JdGVtcyB8IEZvcm1hdC1MaXN0CiM+CmZ1bmN0aW9uIEdldC1UZnNTZXJ2aWNlIHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSRUeXBlTmFtZSwKCiAgICAgICAgW3N0cmluZ10kT01EaXJlY3RvcnksCgogICAgICAgIFtzdHJpbmddJFVyaSwKCiAgICAgICAgJFRmc0NsaWVudENyZWRlbnRpYWxzKQoKICAgIFRyYWNlLUVudGVyaW5nSW52b2NhdGlvbiAtSW52b2NhdGlvbkluZm8gJE15SW52b2NhdGlvbgogICAgJG9yaWdpbmFsRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJEVycm9yQWN0aW9uUHJlZmVyZW5jZQogICAgdHJ5IHsKICAgICAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ1N0b3AnCgogICAgICAgICMgRGVmYXVsdCB0aGUgVVJJIHRvIHRoZSBjb2xsZWN0aW9uIFVSSS4KICAgICAgICBpZiAoISRVcmkpIHsKICAgICAgICAgICAgJFVyaSA9IEdldC1UYXNrVmFyaWFibGUgLU5hbWUgU3lzdGVtLlRlYW1Gb3VuZGF0aW9uQ29sbGVjdGlvblVyaSAtUmVxdWlyZQogICAgICAgIH0KCiAgICAgICAgIyBEZWZhdWx0IHRoZSBjcmVkZW50aWFscy4KICAgICAgICBpZiAoISRUZnNDbGllbnRDcmVkZW50aWFscykgewogICAgICAgICAgICAkVGZzQ2xpZW50Q3JlZGVudGlhbHMgPSBHZXQtVGZzQ2xpZW50Q3JlZGVudGlhbHMgLU9NRGlyZWN0b3J5ICRPTURpcmVjdG9yeQogICAgICAgIH0KCiAgICAgICAgIyBWYWxpZGF0ZSB0aGUgcHJvamVjdCBjb2xsZWN0aW9uIHR5cGUgY2FuIGJlIGxvYWRlZC4KICAgICAgICAkbnVsbCA9IEdldC1PTVR5cGUgLVR5cGVOYW1lICdNaWNyb3NvZnQuVGVhbUZvdW5kYXRpb24uQ2xpZW50LlRmc1RlYW1Qcm9qZWN0Q29sbGVjdGlvbicgLU9NS2luZCAnRXh0ZW5kZWRDbGllbnQnIC1PTURpcmVjdG9yeSAkT01EaXJlY3RvcnkgLVJlcXVpcmUKCiAgICAgICAgIyBMb2FkIHRoZSBwcm9qZWN0IGNvbGxlY3Rpb24gb2JqZWN0LgogICAgICAgICR0ZnNUZWFtUHJvamVjdENvbGxlY3Rpb24gPSBOZXctT2JqZWN0IE1pY3Jvc29mdC5UZWFtRm91bmRhdGlvbi5DbGllbnQuVGZzVGVhbVByb2plY3RDb2xsZWN0aW9uKCRVcmksICRUZnNDbGllbnRDcmVkZW50aWFscykKCiAgICAgICAgIyBWYWxpZGF0ZSB0aGUgcmVxdWVzdGVkIHR5cGUgY2FuIGJlIGxvYWRlZC4KICAgICAgICAkdHlwZSA9IEdldC1PTVR5cGUgLVR5cGVOYW1lICRUeXBlTmFtZSAtT01LaW5kICdFeHRlbmRlZENsaWVudCcgLU9NRGlyZWN0b3J5ICRPTURpcmVjdG9yeSAtUmVxdWlyZQoKICAgICAgICAjIFJldHVybiB0aGUgc2VydmljZSBvYmplY3QuCiAgICAgICAgcmV0dXJuICR0ZnNUZWFtUHJvamVjdENvbGxlY3Rpb24uR2V0U2VydmljZSgkdHlwZSkKICAgIH0gY2F0Y2ggewogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAkb3JpZ2luYWxFcnJvckFjdGlvblByZWZlcmVuY2UKICAgICAgICBXcml0ZS1FcnJvciAkXwogICAgfSBmaW5hbGx5IHsKICAgICAgICBUcmFjZS1MZWF2aW5nSW52b2NhdGlvbiAtSW52b2NhdGlvbkluZm8gJE15SW52b2NhdGlvbgogICAgfQp9Cgo8IwouU1lOT1BTSVMKR2V0cyBhIGNyZWRlbnRpYWxzIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHdpdGggdGhlIFZTVFMgUkVTVCBTREsuCgouREVTQ1JJUFRJT04KVGhlIGFnZW50IGpvYiB0b2tlbiBpcyB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgY3JlZGVudGlhbHMgb2JqZWN0LiBUaGUgaWRlbnRpdHkgYXNzb2NpYXRlZCB3aXRoIHRoZSB0b2tlbiBkZXBlbmRzIG9uIHRoZSBzY29wZSBzZWxlY3RlZCBpbiB0aGUgYnVpbGQvcmVsZWFzZSBkZWZpbml0aW9uIChlaXRoZXIgdGhlIHByb2plY3QgY29sbGVjdGlvbiBidWlsZC9yZWxlYXNlIHNlcnZpY2UgaWRlbnRpdHksIG9yIHRoZSBwcm9qZWN0IHNlcnZpY2UgYnVpbGQvcmVsZWFzZSBpZGVudGl0eSkuCgpSZWZlciB0byBHZXQtVnN0c1Zzc0h0dHBDbGllbnQgZm9yIGEgbW9yZSBzaW1wbGUgdG8gZ2V0IGEgVlNTIEhUVFAgY2xpZW50LgoKKioqIERPIE5PVCBVU0UgQWdlbnQuU2VydmVyT01EaXJlY3RvcnkgKioqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L3ZzdHMtdGFzay1saWIvdHJlZS9tYXN0ZXIvcG93ZXJzaGVsbC9Eb2NzL1VzaW5nT00ubWQgZm9yIHJlbGlhYmxlIHVzYWdlIHdoZW4gd29ya2luZyB3aXRoIHRoZSBWU1RTIFJFU1QgU0RLIGZyb20gYSB0YXNrLgoKLlBBUkFNRVRFUiBPTURpcmVjdG9yeQpEaXJlY3Rvcnkgd2hlcmUgdGhlIFJFU1QgY2xpZW50IG9iamVjdCBtb2RlbCBETExzIGFyZSBsb2NhdGVkLiBJZiB0aGUgRExMcyBmb3IgdGhlIGNyZWRlbnRpYWwgdHlwZXMgYXJlIG5vdCBhbHJlYWR5IGxvYWRlZCwgYW4gYXR0ZW1wdCB3aWxsIGJlIG1hZGUgdG8gYXV0b21hdGljYWxseSBsb2FkIHRoZSByZXF1aXJlZCBETExzIGZyb20gdGhlIG9iamVjdCBtb2RlbCBkaXJlY3RvcnkuCgpJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgZGlyZWN0b3J5IG9mIHRoZSBlbnRyeSBzY3JpcHQgZm9yIHRoZSB0YXNrLgoKKioqIERPIE5PVCBVU0UgQWdlbnQuU2VydmVyT01EaXJlY3RvcnkgKioqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L3ZzdHMtdGFzay1saWIvdHJlZS9tYXN0ZXIvcG93ZXJzaGVsbC9Eb2NzL1VzaW5nT00ubWQgZm9yIHJlbGlhYmxlIHVzYWdlIHdoZW4gd29ya2luZyB3aXRoIHRoZSBWU1RTIFJFU1QgU0RLIGZyb20gYSB0YXNrLgoKLkVYQU1QTEUKIwojIFJlZmVyIHRvIEdldC1Wc3RzVGZzU2VydmljZSBmb3IgYSBtb3JlIHNpbXBsZSB3YXkgdG8gZ2V0IGEgVEZTIHNlcnZpY2Ugb2JqZWN0LgojCiMgVGhpcyBleGFtcGxlIHdvcmtzIHVzaW5nIHRoZSAxNC54IC5ORVQgU0RLLiBBIE5ld3RvbnNvZnQuSnNvbiA2LjAgdG8gOC4wIGJpbmRpbmcKIyByZWRpcmVjdCBtYXkgYmUgcmVxdWlyZWQgd2hlbiB3b3JraW5nIHdpdGggdGhlIDE1LnggU0RLLiBPciB1c2UgR2V0LVZzdHNWc3NIdHRwQ2xpZW50CiMgdG8gYXZvaWQgbWFuYWdpbmcgdGhlIGJpbmRpbmcgcmVkaXJlY3QuCiMKJHZzc0NyZWRlbnRpYWxzID0gR2V0LVZzdHNWc3NDcmVkZW50aWFscwokY29sbGVjdGlvblVybCA9IE5ldy1PYmplY3QgU3lzdGVtLlVyaSgoR2V0LVZzdHNUYXNrVmFyaWFibGUgLU5hbWUgJ1N5c3RlbS5UZWFtRm91bmRhdGlvbkNvbGxlY3Rpb25VcmknIC1SZXF1aXJlKSkKQWRkLVR5cGUgLUxpdGVyYWxQYXRoICIkUFNTY3JpcHRSb290XE1pY3Jvc29mdC5UZWFtRm91bmRhdGlvbi5Db3JlLldlYkFwaS5kbGwiCiRwcm9qZWN0SHR0cENsaWVudCA9IE5ldy1PYmplY3QgTWljcm9zb2Z0LlRlYW1Gb3VuZGF0aW9uLkNvcmUuV2ViQXBpLlByb2plY3RIdHRwQ2xpZW50KCRjb2xsZWN0aW9uVXJsLCAkdnNzQ3JlZGVudGlhbHMpCiRwcm9qZWN0SHR0cENsaWVudC5HZXRQcm9qZWN0cygpLlJlc3VsdAojPgpmdW5jdGlvbiBHZXQtVnNzQ3JlZGVudGlhbHMgewogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIHBhcmFtKFtzdHJpbmddJE9NRGlyZWN0b3J5KQoKICAgIFRyYWNlLUVudGVyaW5nSW52b2NhdGlvbiAtSW52b2NhdGlvbkluZm8gJE15SW52b2NhdGlvbgogICAgJG9yaWdpbmFsRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJEVycm9yQWN0aW9uUHJlZmVyZW5jZQogICAgdHJ5IHsKICAgICAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ1N0b3AnCgogICAgICAgICMgR2V0IHRoZSBlbmRwb2ludC4KICAgICAgICAkZW5kcG9pbnQgPSBHZXQtRW5kcG9pbnQgLU5hbWUgU3lzdGVtVnNzQ29ubmVjdGlvbiAtUmVxdWlyZQoKICAgICAgICAjIENoZWNrIGlmIHRoZSBWc3NPQXV0aEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCB0eXBlIGlzIGF2YWlsYWJsZS4KICAgICAgICBpZiAoKEdldC1PTVR5cGUgLVR5cGVOYW1lICdNaWNyb3NvZnQuVmlzdWFsU3R1ZGlvLlNlcnZpY2VzLk9BdXRoLlZzc09BdXRoQWNjZXNzVG9rZW5DcmVkZW50aWFsJyAtT01LaW5kICdXZWJBcGknIC1PTURpcmVjdG9yeSAkT01EaXJlY3RvcnkpKSB7CiAgICAgICAgICAgICMgQ3JlYXRlIHRoZSBmZWRlcmF0ZWQgY3JlZGVudGlhbC4KICAgICAgICAgICAgJGZlZGVyYXRlZENyZWRlbnRpYWwgPSBOZXctT2JqZWN0IE1pY3Jvc29mdC5WaXN1YWxTdHVkaW8uU2VydmljZXMuT0F1dGguVnNzT0F1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWwoJGVuZHBvaW50LmF1dGgucGFyYW1ldGVycy5BY2Nlc3NUb2tlbikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAjIFZhbGlkYXRlIHRoZSBmYWxsYmFjayB0eXBlIGNhbiBiZSBsb2FkZWQuCiAgICAgICAgICAgICRudWxsID0gR2V0LU9NVHlwZSAtVHlwZU5hbWUgJ01pY3Jvc29mdC5WaXN1YWxTdHVkaW8uU2VydmljZXMuQ2xpZW50LlZzc09BdXRoQ3JlZGVudGlhbCcgLU9NS2luZCAnV2ViQXBpJyAtT01EaXJlY3RvcnkgJE9NRGlyZWN0b3J5IC1SZXF1aXJlCgogICAgICAgICAgICAjIENyZWF0ZSB0aGUgZmVkZXJhdGVkIGNyZWRlbnRpYWwuCiAgICAgICAgICAgICRmZWRlcmF0ZWRDcmVkZW50aWFsID0gTmV3LU9iamVjdCBNaWNyb3NvZnQuVmlzdWFsU3R1ZGlvLlNlcnZpY2VzLkNsaWVudC5Wc3NPQXV0aENyZWRlbnRpYWwoJGVuZHBvaW50LmF1dGgucGFyYW1ldGVycy5BY2Nlc3NUb2tlbikKICAgICAgICB9CgogICAgICAgICMgUmV0dXJuIHRoZSBjcmVkZW50aWFscy4KICAgICAgICByZXR1cm4gTmV3LU9iamVjdCBNaWNyb3NvZnQuVmlzdWFsU3R1ZGlvLlNlcnZpY2VzLkNvbW1vbi5Wc3NDcmVkZW50aWFscygKICAgICAgICAgICAgKE5ldy1PYmplY3QgTWljcm9zb2Z0LlZpc3VhbFN0dWRpby5TZXJ2aWNlcy5Db21tb24uV2luZG93c0NyZWRlbnRpYWwoJGZhbHNlKSksICMgRG8gbm90IHVzZSBkZWZhdWx0IGNyZWRlbnRpYWxzLgogICAgICAgICAgICAkZmVkZXJhdGVkQ3JlZGVudGlhbCwKICAgICAgICAgICAgW01pY3Jvc29mdC5WaXN1YWxTdHVkaW8uU2VydmljZXMuQ29tbW9uLkNyZWRlbnRpYWxQcm9tcHRUeXBlXTo6RG9Ob3RQcm9tcHQpCiAgICB9IGNhdGNoIHsKICAgICAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJG9yaWdpbmFsRXJyb3JBY3Rpb25QcmVmZXJlbmNlCiAgICAgICAgV3JpdGUtRXJyb3IgJF8KICAgIH0gZmluYWxseSB7CiAgICAgICAgVHJhY2UtTGVhdmluZ0ludm9jYXRpb24gLUludm9jYXRpb25JbmZvICRNeUludm9jYXRpb24KICAgIH0KfQoKPCMKLlNZTk9QU0lTCkdldHMgYSBWU1MgSFRUUCBjbGllbnQuCgouREVTQ1JJUFRJT04KR2V0cyBhbiBpbnN0YW5jZSBvZiBhbiBWU1MgSFRUUCBjbGllbnQuCgoqKiogRE8gTk9UIFVTRSBBZ2VudC5TZXJ2ZXJPTURpcmVjdG9yeSAqKiogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvdnN0cy10YXNrLWxpYi90cmVlL21hc3Rlci9wb3dlcnNoZWxsL0RvY3MvVXNpbmdPTS5tZCBmb3IgcmVsaWFibGUgdXNhZ2Ugd2hlbiB3b3JraW5nIHdpdGggdGhlIFZTVFMgUkVTVCBTREsgZnJvbSBhIHRhc2suCgouUEFSQU1FVEVSIFR5cGVOYW1lCk5hbWVzcGFjZS1xdWFsaWZpZWQgdHlwZSBuYW1lIG9mIHRoZSBIVFRQIGNsaWVudCB0byBnZXQuCgouUEFSQU1FVEVSIE9NRGlyZWN0b3J5CkRpcmVjdG9yeSB3aGVyZSB0aGUgUkVTVCBjbGllbnQgb2JqZWN0IG1vZGVsIERMTHMgYXJlIGxvY2F0ZWQuIElmIHRoZSBETExzIGZvciB0aGUgY3JlZGVudGlhbCB0eXBlcyBhcmUgbm90IGFscmVhZHkgbG9hZGVkLCBhbiBhdHRlbXB0IHdpbGwgYmUgbWFkZSB0byBhdXRvbWF0aWNhbGx5IGxvYWQgdGhlIHJlcXVpcmVkIERMTHMgZnJvbSB0aGUgb2JqZWN0IG1vZGVsIGRpcmVjdG9yeS4KCklmIG5vdCBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIHRoZSBkaXJlY3Rvcnkgb2YgdGhlIGVudHJ5IHNjcmlwdCBmb3IgdGhlIHRhc2suCgoqKiogRE8gTk9UIFVTRSBBZ2VudC5TZXJ2ZXJPTURpcmVjdG9yeSAqKiogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvdnN0cy10YXNrLWxpYi90cmVlL21hc3Rlci9wb3dlcnNoZWxsL0RvY3MvVXNpbmdPTS5tZCBmb3IgcmVsaWFibGUgdXNhZ2Ugd2hlbiB3b3JraW5nIHdpdGggdGhlIFZTVFMgUkVTVCBTREsgZnJvbSBhIHRhc2suCgojIC5QQVJBTUVURVIgVXJpCiMgVVJJIHRvIHVzZSB3aGVuIGluaXRpYWxpemluZyB0aGUgSFRUUCBjbGllbnQuIElmIG5vdCBzcGVjaWZpZWQsIGRlZmF1bHRzIHRvIFN5c3RlbS5UZWFtRm91bmRhdGlvbkNvbGxlY3Rpb25VcmkuCgojIC5QQVJBTUVURVIgVnNzQ3JlZGVudGlhbHMKIyBDcmVkZW50aWFscyB0byB1c2Ugd2hlbiBpbnRpYWxpemluZyB0aGUgSFRUUCBjbGllbnQuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IHVzZXMgdGhlIGFnZW50IGpvYiB0b2tlbiB0byBjb25zdHJ1Y3QgdGhlIGNyZWRlbnRpYWxzIG9iamVjdC4gVGhlIGlkZW50aXR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4gZGVwZW5kcyBvbiB0aGUgc2NvcGUgc2VsZWN0ZWQgaW4gdGhlIGJ1aWxkL3JlbGVhc2UgZGVmaW5pdGlvbiAoZWl0aGVyIHRoZSBwcm9qZWN0IGNvbGxlY3Rpb24gYnVpbGQvcmVsZWFzZSBzZXJ2aWNlIGlkZW50aXR5LCBvciB0aGUgcHJvamVjdCBidWlsZC9yZWxlYXNlIHNlcnZpY2UgaWRlbnRpdHkpLgoKLkVYQU1QTEUKJHByb2plY3RIdHRwQ2xpZW50ID0gR2V0LVZzdHNWc3NIdHRwQ2xpZW50IC1UeXBlTmFtZSBNaWNyb3NvZnQuVGVhbUZvdW5kYXRpb24uQ29yZS5XZWJBcGkuUHJvamVjdEh0dHBDbGllbnQKJHByb2plY3RIdHRwQ2xpZW50LkdldFByb2plY3RzKCkuUmVzdWx0CiM+CmZ1bmN0aW9uIEdldC1Wc3NIdHRwQ2xpZW50IHsKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSRUeXBlTmFtZSwKCiAgICAgICAgW3N0cmluZ10kT01EaXJlY3RvcnksCgogICAgICAgIFtzdHJpbmddJFVyaSwKCiAgICAgICAgJFZzc0NyZWRlbnRpYWxzKQoKICAgIFRyYWNlLUVudGVyaW5nSW52b2NhdGlvbiAtSW52b2NhdGlvbkluZm8gJE15SW52b2NhdGlvbgogICAgJG9yaWdpbmFsRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJEVycm9yQWN0aW9uUHJlZmVyZW5jZQogICAgdHJ5IHsKICAgICAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ1N0b3AnCgogICAgICAgICMgRGVmYXVsdCB0aGUgVVJJIHRvIHRoZSBjb2xsZWN0aW9uIFVSSS4KICAgICAgICBpZiAoISRVcmkpIHsKICAgICAgICAgICAgJFVyaSA9IEdldC1UYXNrVmFyaWFibGUgLU5hbWUgU3lzdGVtLlRlYW1Gb3VuZGF0aW9uQ29sbGVjdGlvblVyaSAtUmVxdWlyZQogICAgICAgIH0KCiAgICAgICAgIyBDYXN0IHRoZSBVUkkuCiAgICAgICAgW3VyaV0kVXJpID0gTmV3LU9iamVjdCBTeXN0ZW0uVXJpKCRVcmkpCgogICAgICAgICMgRGVmYXVsdCB0aGUgY3JlZGVudGlhbHMuCiAgICAgICAgaWYgKCEkVnNzQ3JlZGVudGlhbHMpIHsKICAgICAgICAgICAgJFZzc0NyZWRlbnRpYWxzID0gR2V0LVZzc0NyZWRlbnRpYWxzIC1PTURpcmVjdG9yeSAkT01EaXJlY3RvcnkKICAgICAgICB9CgogICAgICAgICMgVmFsaWRhdGUgdGhlIHR5cGUgY2FuIGJlIGxvYWRlZC4KICAgICAgICAkbnVsbCA9IEdldC1PTVR5cGUgLVR5cGVOYW1lICRUeXBlTmFtZSAtT01LaW5kICdXZWJBcGknIC1PTURpcmVjdG9yeSAkT01EaXJlY3RvcnkgLVJlcXVpcmUKCiAgICAgICAgIyBUcnkgdG8gY29uc3RydWN0IHRoZSBIVFRQIGNsaWVudC4KICAgICAgICBXcml0ZS1WZXJib3NlICJDb25zdHJ1Y3RpbmcgSFRUUCBjbGllbnQuIgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBOZXctT2JqZWN0ICRUeXBlTmFtZSgkVXJpLCAkVnNzQ3JlZGVudGlhbHMpCiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICMgUmV0aHJvdyBpZiB0aGUgZXhjZXB0aW9uIGlzIG5vdCBkdWUgdG8gTmV3dG9uc29mdC5Kc29uIERMTCBub3QgZm91bmQuCiAgICAgICAgICAgIGlmICgkXy5FeGNlcHRpb24uSW5uZXJFeGNlcHRpb24gLWlzbm90IFtTeXN0ZW0uSU8uRmlsZU5vdEZvdW5kRXhjZXB0aW9uXSAtb3IKICAgICAgICAgICAgICAgICRfLkV4Y2VwdGlvbi5Jbm5lckV4Y2VwdGlvbi5GaWxlTmFtZSAtbm90bGlrZSAnTmV3dG9uc29mdC5Kc29uLCAqJykgewoKICAgICAgICAgICAgICAgIHRocm93CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgRGVmYXVsdCB0aGUgT01EaXJlY3RvcnkgdG8gdGhlIGRpcmVjdG9yeSBvZiB0aGUgZW50cnkgc2NyaXB0IGZvciB0aGUgdGFzay4KICAgICAgICAgICAgaWYgKCEkT01EaXJlY3RvcnkpIHsKICAgICAgICAgICAgICAgICRPTURpcmVjdG9yeSA9IFtTeXN0ZW0uSU8uUGF0aF06OkdldEZ1bGxQYXRoKCIkUFNTY3JpcHRSb290XC4uXC4uIikKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkRlZmF1bHRlZCBPTSBkaXJlY3RvcnkgdG86ICckT01EaXJlY3RvcnknIgogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFRlc3QgaWYgdGhlIE5ld3RvbnNvZnQuSnNvbiBETEwgZXhpc3RzIGluIHRoZSBPTSBkaXJlY3RvcnkuCiAgICAgICAgICAgICRuZXd0b25zb2Z0RGxsID0gW1N5c3RlbS5JTy5QYXRoXTo6Q29tYmluZSgkT01EaXJlY3RvcnksICJOZXd0b25zb2Z0Lkpzb24uZGxsIikKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiVGVzdGluZyBmaWxlIHBhdGg6ICckbmV3dG9uc29mdERsbCciCiAgICAgICAgICAgIGlmICghKFRlc3QtUGF0aCAtTGl0ZXJhbFBhdGggJG5ld3RvbnNvZnREbGwgLVBhdGhUeXBlIExlYWYpKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdOb3QgZm91bmQuIFJldGhyb3dpbmcgZXhjZXB0aW9uLicKICAgICAgICAgICAgICAgIHRocm93CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgQWRkIGEgYmluZGluZyByZWRpcmVjdCBhbmQgdHJ5IGFnYWluLiBQYXJ0cyBvZiB0aGUgRGV2MTUgcHJldmlldyBTREsgaGF2ZSBhCiAgICAgICAgICAgICMgZGVwZW5kZW5jeSBvbiB0aGUgNi4wLjAuMCBOZXd0b25zb2Z0Lkpzb24gRExMLCB3aGlsZSBvdGhlciBwYXJ0cyByZWZlcmVuY2UKICAgICAgICAgICAgIyB0aGUgOC4wLjAuMCBOZXd0b25zb2Z0Lkpzb24gRExMLgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJBZGRpbmcgYXNzZW1ibHkgcmVzb2x2ZXIuIgogICAgICAgICAgICAkb25Bc3NlbWJseVJlc29sdmUgPSBbU3lzdGVtLlJlc29sdmVFdmVudEhhbmRsZXJdewogICAgICAgICAgICAgICAgcGFyYW0oJHNlbmRlciwgJGUpCgogICAgICAgICAgICAgICAgaWYgKCRlLk5hbWUgLWxpa2UgJ05ld3RvbnNvZnQuSnNvbiwgKicpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJSZXNvbHZpbmcgJyQoJGUuTmFtZSknIgogICAgICAgICAgICAgICAgICAgIHJldHVybiBbU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHldOjpMb2FkRnJvbSgkbmV3dG9uc29mdERsbCkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJVbmFibGUgdG8gcmVzb2x2ZSBhc3NlbWJseSBuYW1lICckKCRlLk5hbWUpJyIKICAgICAgICAgICAgICAgIHJldHVybiAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIFtTeXN0ZW0uQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbi5hZGRfQXNzZW1ibHlSZXNvbHZlKCRvbkFzc2VtYmx5UmVzb2x2ZSkKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICMgVHJ5IGFnYWluIHRvIGNvbnN0cnVjdCB0aGUgSFRUUCBjbGllbnQuCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJUcnlpbmcgYWdhaW4gdG8gY29uc3RydWN0IHRoZSBIVFRQIGNsaWVudC4iCiAgICAgICAgICAgICAgICByZXR1cm4gTmV3LU9iamVjdCAkVHlwZU5hbWUoJFVyaSwgJFZzc0NyZWRlbnRpYWxzKQogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgIyBVbnJlZ2lzdGVyIHRoZSBhc3NlbWJseSByZXNvbHZlci4KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlbW92aW5nIGFzc2VtbGJ5IHJlc29sdmVyLiIKICAgICAgICAgICAgICAgIFtTeXN0ZW0uQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbi5yZW1vdmVfQXNzZW1ibHlSZXNvbHZlKCRvbkFzc2VtYmx5UmVzb2x2ZSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gY2F0Y2ggewogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAkb3JpZ2luYWxFcnJvckFjdGlvblByZWZlcmVuY2UKICAgICAgICBXcml0ZS1FcnJvciAkXwogICAgfSBmaW5hbGx5IHsKICAgICAgICBUcmFjZS1MZWF2aW5nSW52b2NhdGlvbiAtSW52b2NhdGlvbkluZm8gJE15SW52b2NhdGlvbgogICAgfQp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMgUHJpdmF0ZSBmdW5jdGlvbnMuCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZnVuY3Rpb24gR2V0LU9NVHlwZSB7CiAgICBbQ21kbGV0QmluZGluZygpXQogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10kVHlwZU5hbWUsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnRXh0ZW5kZWRDbGllbnQnLCAnV2ViQXBpJyldCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10kT01LaW5kLAoKICAgICAgICBbc3RyaW5nXSRPTURpcmVjdG9yeSwKCiAgICAgICAgW3N3aXRjaF0kUmVxdWlyZSkKCiAgICBUcmFjZS1FbnRlcmluZ0ludm9jYXRpb24gLUludm9jYXRpb25JbmZvICRNeUludm9jYXRpb24KICAgIHRyeSB7CiAgICAgICAgIyBEZWZhdWx0IHRoZSBPTURpcmVjdG9yeSB0byB0aGUgZGlyZWN0b3J5IG9mIHRoZSBlbnRyeSBzY3JpcHQgZm9yIHRoZSB0YXNrLgogICAgICAgIGlmICghJE9NRGlyZWN0b3J5KSB7CiAgICAgICAgICAgICRPTURpcmVjdG9yeSA9IFtTeXN0ZW0uSU8uUGF0aF06OkdldEZ1bGxQYXRoKCIkUFNTY3JpcHRSb290XC4uXC4uIikKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRGVmYXVsdGVkIE9NIGRpcmVjdG9yeSB0bzogJyRPTURpcmVjdG9yeSciCiAgICAgICAgfQoKICAgICAgICAjIFRyeSB0byBsb2FkIHRoZSB0eXBlLgogICAgICAgICRlcnJvclJlY29yZCA9ICRudWxsCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiVGVzdGluZyB3aGV0aGVyIHR5cGUgY2FuIGJlIGxvYWRlZDogJyRUeXBlTmFtZSciCiAgICAgICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdJZ25vcmUnCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgIyBGYWlsdXJlIHdoZW4gYXR0ZW1wdGluZyB0byBjYXN0IGEgc3RyaW5nIHRvIGEgdHlwZSwgdHJhbnNmZXJzIGNvbnRyb2wgdG8gdGhlCiAgICAgICAgICAgICMgY2F0Y2ggaGFuZGxlciBldmVuIHdoZW4gdGhlIGVycm9yIGFjdGlvbiBwcmVmZXJlbmNlIGlzIGlnbm9yZS4gVGhlIGVycm9yIGFjdGlvbgogICAgICAgICAgICAjIGlzIHNldCB0byBJZ25vcmUgc28gdGhlICRFcnJvciB2YXJpYWJsZSBpcyBub3QgcG9sbHV0ZWQuCiAgICAgICAgICAgICR0eXBlID0gW3R5cGVdJFR5cGVOYW1lCgogICAgICAgICAgICAjIFN1Y2Nlc3MuCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlRoZSB0eXBlIHdhcyBsb2FkZWQgc3VjY2Vzc2Z1bGx5LiIKICAgICAgICAgICAgcmV0dXJuICR0eXBlCiAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICMgU3RvcmUgdGhlIGVycm9yIHJlY29yZC4KICAgICAgICAgICAgJGVycm9yUmVjb3JkID0gJF8KICAgICAgICB9CgogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU3RvcCcKICAgICAgICBXcml0ZS1WZXJib3NlICJUaGUgdHlwZSB3YXMgbm90IGxvYWRlZC4iCgogICAgICAgICMgQnVpbGQgYSBsaXN0IG9mIGNhbmRpZGF0ZSBETEwgZmlsZSBwYXRocyBmcm9tIHRoZSBuYW1lc3BhY2UuCiAgICAgICAgJGRsbFBhdGhzID0gQCggKQogICAgICAgICRuYW1lc3BhY2UgPSAkVHlwZU5hbWUKICAgICAgICB3aGlsZSAoJG5hbWVzcGFjZS5MYXN0SW5kZXhPZignLicpIC1ndCAwKSB7CiAgICAgICAgICAgICMgVHJpbSB0aGUgbmV4dCBzZWdtZW50IGZyb20gdGhlIG5hbWVzcGFjZS4KICAgICAgICAgICAgJG5hbWVzcGFjZSA9ICRuYW1lc3BhY2UuU3ViU3RyaW5nKDAsICRuYW1lc3BhY2UuTGFzdEluZGV4T2YoJy4nKSkKCiAgICAgICAgICAgICMgRGVyaXZlIHBvdGVudGlhbCBETEwgZmlsZSBwYXRocyBiYXNlZCBvbiB0aGUgbmFtZXNwYWNlIGFuZCBPTSBraW5kIChpLmUuIGV4dGVuZGVkIGNsaWVudCB2cyB3ZWIgQVBJKS4KICAgICAgICAgICAgaWYgKCRPTUtpbmQgLWVxICdFeHRlbmRlZENsaWVudCcpIHsKICAgICAgICAgICAgICAgIGlmICgkbmFtZXNwYWNlIC1saWtlICdNaWNyb3NvZnQuVGVhbUZvdW5kYXRpb24uKicpIHsKICAgICAgICAgICAgICAgICAgICAkZGxsUGF0aHMgKz0gW1N5c3RlbS5JTy5QYXRoXTo6Q29tYmluZSgkT01EaXJlY3RvcnksICIkbmFtZXNwYWNlLmRsbCIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoJG5hbWVzcGFjZSAtbGlrZSAnTWljcm9zb2Z0LlRlYW1Gb3VuZGF0aW9uLionIC1vcgogICAgICAgICAgICAgICAgICAgICRuYW1lc3BhY2UgLWxpa2UgJ01pY3Jvc29mdC5WaXN1YWxTdHVkaW8uU2VydmljZXMnIC1vcgogICAgICAgICAgICAgICAgICAgICRuYW1lc3BhY2UgLWxpa2UgJ01pY3Jvc29mdC5WaXN1YWxTdHVkaW8uU2VydmljZXMuKicpIHsKCiAgICAgICAgICAgICAgICAgICAgJGRsbFBhdGhzICs9IFtTeXN0ZW0uSU8uUGF0aF06OkNvbWJpbmUoJE9NRGlyZWN0b3J5LCAiJG5hbWVzcGFjZS5XZWJBcGkuZGxsIikKICAgICAgICAgICAgICAgICAgICAkZGxsUGF0aHMgKz0gW1N5c3RlbS5JTy5QYXRoXTo6Q29tYmluZSgkT01EaXJlY3RvcnksICIkbmFtZXNwYWNlLmRsbCIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvcmVhY2ggKCRkbGxQYXRoIGluICRkbGxQYXRocykgewogICAgICAgICAgICAjIENoZWNrIHdoZXRoZXIgdGhlIERMTCBleGlzdHMuCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlRlc3RpbmcgbGVhZiBwYXRoOiAnJGRsbFBhdGgnIgogICAgICAgICAgICBpZiAoIShUZXN0LVBhdGggLVBhdGhUeXBlIExlYWYgLUxpdGVyYWxQYXRoICIkZGxsUGF0aCIpKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJOb3QgZm91bmQuIgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBMb2FkIHRoZSBETEwuCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkxvYWRpbmcgYXNzZW1ibHk6ICRkbGxQYXRoIgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgQWRkLVR5cGUgLUxpdGVyYWxQYXRoICRkbGxQYXRoCiAgICAgICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICAgICAgIyBXcml0ZSB0aGUgaW5mb3JtYXRpb24gdG8gdGhlIHZlcmJvc2Ugc3RyZWFtIGFuZCBwcm9jZWVkIHRvIGF0dGVtcHQgdG8gbG9hZCB0aGUgcmVxdWVzdGVkIHR5cGUuCiAgICAgICAgICAgICAgICAjCiAgICAgICAgICAgICAgICAjIFRoZSByZXF1ZXN0ZWQgdHlwZSBtYXkgc3VjY2Vzc2Z1bGx5IGxvYWQgbm93LiBGb3IgZXhhbXBsZSwgdGhlIHR5cGUgdXNlZCB3aXRoIHRoZSAxNC4wIFdlYiBBUEkgZm9yIHRoZQogICAgICAgICAgICAgICAgIyBmZWRlcmF0ZWQgY3JlZGVudGlhbCAoVnNzT0F1dGhDcmVkZW50aWFsKSByZXNpZGVzIGluIE1pY3Jvc29mdC5WaXN1YWxTdHVkaW8uU2VydmljZXMuQ2xpZW50LmRsbC4gRXZlbgogICAgICAgICAgICAgICAgIyB0aG91Z2ggbG9hZGluZyB0aGUgRExMIHJlc3VsdHMgaW4gYSBSZWZsZWN0aW9uVHlwZUxvYWRFeGNlcHRpb24gd2hlbiBNaWNyb3NvZnQuU2VydmljZUJ1cy5kbGwgKGFwcHJveCAzLjc1bWIpCiAgICAgICAgICAgICAgICAjIGlzIG5vdCBwcmVzZW50LCBlbm91Z2ggdHlwZXMgYXJlIGxvYWRlZCB0byB1c2UgdGhlIFZzc09BdXRoQ3JlZGVudGlhbCBmZWRlcmF0ZWQgY3JlZGVudGlhbCB3aXRoIHRoZSBXZWIgQVBJCiAgICAgICAgICAgICAgICAjIEhUVFAgY2xpZW50cy4KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIiQoJF8uRXhjZXB0aW9uLkdldFR5cGUoKS5GdWxsTmFtZSk6ICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgaWYgKCRfLkV4Y2VwdGlvbiAtaXMgW1N5c3RlbS5SZWZsZWN0aW9uLlJlZmxlY3Rpb25UeXBlTG9hZEV4Y2VwdGlvbl0pIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gMCA7ICRpIC1sdCAkXy5FeGNlcHRpb24uTG9hZGVyRXhjZXB0aW9ucy5MZW5ndGggOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRsb2FkZXJFeGNlcHRpb24gPSAkXy5FeGNlcHRpb24uTG9hZGVyRXhjZXB0aW9uc1skaV0KICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiTG9hZGVyRXhjZXB0aW9uc1skaV06ICQoJGxvYWRlckV4Y2VwdGlvbi5HZXRUeXBlKCkuRnVsbE5hbWUpOiAkKCRsb2FkZXJFeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFRyeSB0byBsb2FkIHRoZSB0eXBlLgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJUZXN0aW5nIHdoZXRoZXIgdHlwZSBjYW4gYmUgbG9hZGVkOiAnJFR5cGVOYW1lJyIKICAgICAgICAgICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdJZ25vcmUnCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAjIEZhaWx1cmUgd2hlbiBhdHRlbXB0aW5nIHRvIGNhc3QgYSBzdHJpbmcgdG8gYSB0eXBlLCB0cmFuc2ZlcnMgY29udHJvbCB0byB0aGUKICAgICAgICAgICAgICAgICMgY2F0Y2ggaGFuZGxlciBldmVuIHdoZW4gdGhlIGVycm9yIGFjdGlvbiBwcmVmZXJlbmNlIGlzIGlnbm9yZS4gVGhlIGVycm9yIGFjdGlvbgogICAgICAgICAgICAgICAgIyBpcyBzZXQgdG8gSWdub3JlIHNvIHRoZSAkRXJyb3IgdmFyaWFibGUgaXMgbm90IHBvbGx1dGVkLgogICAgICAgICAgICAgICAgJHR5cGUgPSBbdHlwZV0kVHlwZU5hbWUKCiAgICAgICAgICAgICAgICAjIFN1Y2Nlc3MuCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJUaGUgdHlwZSB3YXMgbG9hZGVkIHN1Y2Nlc3NmdWxseS4iCiAgICAgICAgICAgICAgICByZXR1cm4gJHR5cGUKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICAkZXJyb3JSZWNvcmQgPSAkXwogICAgICAgICAgICB9CgogICAgICAgICAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ1N0b3AnCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlRoZSB0eXBlIHdhcyBub3QgbG9hZGVkLiIKICAgICAgICB9CgogICAgICAgICMgQ2hlY2sgd2hldGhlciB0byBwcm9wYWdhdGUgdGhlIGVycm9yLgogICAgICAgIGlmICgkUmVxdWlyZSkgewogICAgICAgICAgICBXcml0ZS1FcnJvciAkZXJyb3JSZWNvcmQKICAgICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICAgIFRyYWNlLUxlYXZpbmdJbnZvY2F0aW9uIC1JbnZvY2F0aW9uSW5mbyAkTXlJbnZvY2F0aW9uCiAgICB9Cn0K
