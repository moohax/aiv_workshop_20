New-VSCloudFormationWaitCondition.ps1,531fadc62d3f61a6ad67e92e90430845,Scan result is 1. IsMalware: 0,ZnVuY3Rpb24gTmV3LVZTQ2xvdWRGb3JtYXRpb25XYWl0Q29uZGl0aW9uIHsKICAgIDwjCiAgICAuU1lOT1BTSVMKICAgICAgICBBZGRzIGFuIEFXUzo6Q2xvdWRGb3JtYXRpb246OldhaXRDb25kaXRpb24gcmVzb3VyY2UgdG8gdGhlIHRlbXBsYXRlCgogICAgLkRFU0NSSVBUSU9OCiAgICAgICAgQWRkcyBhbiBBV1M6OkNsb3VkRm9ybWF0aW9uOjpXYWl0Q29uZGl0aW9uIHJlc291cmNlIHRvIHRoZSB0ZW1wbGF0ZQoKICAgIC5MSU5LCiAgICAgICAgaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9hd3MtcHJvcGVydGllcy13YWl0Y29uZGl0aW9uLmh0bWwKCiAgICAuUEFSQU1FVEVSIExvZ2ljYWxJZAogICAgICAgIFRoZSBsb2dpY2FsIElEIG11c3QgYmUgYWxwaGFudW1lcmljIChBLVphLXowLTkpIGFuZCB1bmlxdWUgd2l0aGluIHRoZSB0ZW1wbGF0ZS4gVXNlIHRoZSBsb2dpY2FsIG5hbWUgdG8gcmVmZXJlbmNlIHRoZSByZXNvdXJjZSBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgdGVtcGxhdGUuIEZvciBleGFtcGxlLCBpZiB5b3Ugd2FudCB0byBtYXAgYW4gQW1hem9uIEVsYXN0aWMgQmxvY2sgU3RvcmUgdm9sdW1lIHRvIGFuIEFtYXpvbiBFQzIgaW5zdGFuY2UsIHlvdSByZWZlcmVuY2UgdGhlIGxvZ2ljYWwgSURzIHRvIGFzc29jaWF0ZSB0aGUgYmxvY2sgc3RvcmVzIHdpdGggdGhlIGluc3RhbmNlLgoKICAgIC5QQVJBTUVURVIgQ291bnQKCQlEb2N1bWVudGF0aW9uOiBodHRwOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9BV1NDbG91ZEZvcm1hdGlvbi9sYXRlc3QvVXNlckd1aWRlL2F3cy1wcm9wZXJ0aWVzLXdhaXRjb25kaXRpb24uaHRtbCNjZm4td2FpdGNvbmRpdGlvbi1jb3VudCAgICAKCQlQcmltaXRpdmVUeXBlOiBJbnRlZ2VyICAgIAoJCVJlcXVpcmVkOiBGYWxzZSAgICAKCQlVcGRhdGVUeXBlOiBNdXRhYmxlICAgIAoKICAgIC5QQVJBTUVURVIgSGFuZGxlCgkJRG9jdW1lbnRhdGlvbjogaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vQVdTQ2xvdWRGb3JtYXRpb24vbGF0ZXN0L1VzZXJHdWlkZS9hd3MtcHJvcGVydGllcy13YWl0Y29uZGl0aW9uLmh0bWwjY2ZuLXdhaXRjb25kaXRpb24taGFuZGxlICAgIAoJCVByaW1pdGl2ZVR5cGU6IFN0cmluZyAgICAKCQlSZXF1aXJlZDogVHJ1ZSAgICAKCQlVcGRhdGVUeXBlOiBNdXRhYmxlICAgIAoKICAgIC5QQVJBTUVURVIgVGltZW91dAoJCURvY3VtZW50YXRpb246IGh0dHA6Ly9kb2NzLmF3cy5hbWF6b24uY29tL0FXU0Nsb3VkRm9ybWF0aW9uL2xhdGVzdC9Vc2VyR3VpZGUvYXdzLXByb3BlcnRpZXMtd2FpdGNvbmRpdGlvbi5odG1sI2Nmbi13YWl0Y29uZGl0aW9uLXRpbWVvdXQgICAgCgkJUHJpbWl0aXZlVHlwZTogU3RyaW5nICAgIAoJCVJlcXVpcmVkOiBUcnVlICAgIAoJCVVwZGF0ZVR5cGU6IE11dGFibGUgICAgCgogICAgLlBBUkFNRVRFUiBDcmVhdGlvblBvbGljeQogICAgICAgIFVzZSB0aGUgQ3JlYXRpb25Qb2xpY3kgYXR0cmlidXRlIHdoZW4geW91IHdhbnQgdG8gd2FpdCBvbiByZXNvdXJjZSBjb25maWd1cmF0aW9uIGFjdGlvbnMgYmVmb3JlIHN0YWNrIGNyZWF0aW9uIHByb2NlZWRzLiBGb3IgZXhhbXBsZSwgaWYgeW91IGluc3RhbGwgYW5kIGNvbmZpZ3VyZSBzb2Z0d2FyZSBhcHBsaWNhdGlvbnMgb24gYW4gRUMyIGluc3RhbmNlLCB5b3UgbWlnaHQgd2FudCB0aG9zZSBhcHBsaWNhdGlvbnMgdG8gYmUgcnVubmluZyBiZWZvcmUgcHJvY2VlZGluZy4gSW4gc3VjaCBjYXNlcywgeW91IGNhbiBhZGQgYSBDcmVhdGlvblBvbGljeSBhdHRyaWJ1dGUgdG8gdGhlIGluc3RhbmNlLCBhbmQgdGhlbiBzZW5kIGEgc3VjY2VzcyBzaWduYWwgdG8gdGhlIGluc3RhbmNlIGFmdGVyIHRoZSBhcHBsaWNhdGlvbnMgYXJlIGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC4KCiAgICAgICAgWW91IG11c3QgdXNlIHRoZSAiQWRkLUNyZWF0aW9uUG9saWN5IiBmdW5jdGlvbiBoZXJlLgoKICAgIC5QQVJBTUVURVIgRGVsZXRpb25Qb2xpY3kKICAgICAgICBXaXRoIHRoZSBEZWxldGlvblBvbGljeSBhdHRyaWJ1dGUgeW91IGNhbiBwcmVzZXJ2ZSBvciAoaW4gc29tZSBjYXNlcykgYmFja3VwIGEgcmVzb3VyY2Ugd2hlbiBpdHMgc3RhY2sgaXMgZGVsZXRlZC4gWW91IHNwZWNpZnkgYSBEZWxldGlvblBvbGljeSBhdHRyaWJ1dGUgZm9yIGVhY2ggcmVzb3VyY2UgdGhhdCB5b3Ugd2FudCB0byBjb250cm9sLiBJZiBhIHJlc291cmNlIGhhcyBubyBEZWxldGlvblBvbGljeSBhdHRyaWJ1dGUsIEFXUyBDbG91ZEZvcm1hdGlvbiBkZWxldGVzIHRoZSByZXNvdXJjZSBieSBkZWZhdWx0LgoKICAgICAgICBUbyBrZWVwIGEgcmVzb3VyY2Ugd2hlbiBpdHMgc3RhY2sgaXMgZGVsZXRlZCwgc3BlY2lmeSBSZXRhaW4gZm9yIHRoYXQgcmVzb3VyY2UuIFlvdSBjYW4gdXNlIHJldGFpbiBmb3IgYW55IHJlc291cmNlLiBGb3IgZXhhbXBsZSwgeW91IGNhbiByZXRhaW4gYSBuZXN0ZWQgc3RhY2ssIFMzIGJ1Y2tldCwgb3IgRUMyIGluc3RhbmNlIHNvIHRoYXQgeW91IGNhbiBjb250aW51ZSB0byB1c2Ugb3IgbW9kaWZ5IHRob3NlIHJlc291cmNlcyBhZnRlciB5b3UgZGVsZXRlIHRoZWlyIHN0YWNrcy4KCiAgICAgICAgWW91IG11c3QgdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIG9wdGlvbnM6ICJEZWxldGUiLCJSZXRhaW4iLCJTbmFwc2hvdCIKCgogICAgLlBBUkFNRVRFUiBEZXBlbmRzT24KICAgICAgICBXaXRoIHRoZSBEZXBlbmRzT24gYXR0cmlidXRlIHlvdSBjYW4gc3BlY2lmeSB0aGF0IHRoZSBjcmVhdGlvbiBvZiBhIHNwZWNpZmljIHJlc291cmNlIGZvbGxvd3MgYW5vdGhlci4gV2hlbiB5b3UgYWRkIGEgRGVwZW5kc09uIGF0dHJpYnV0ZSB0byBhIHJlc291cmNlLCB0aGF0IHJlc291cmNlIGlzIGNyZWF0ZWQgb25seSBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIHJlc291cmNlIHNwZWNpZmllZCBpbiB0aGUgRGVwZW5kc09uIGF0dHJpYnV0ZS4KCiAgICAgICAgVGhpcyBwYXJhbWV0ZXIgdGFrZXMgYSBzdHJpbmcgb3IgbGlzdCBvZiBzdHJpbmdzIHJlcHJlc2VudGluZyBMb2dpY2FsIElEcyBvZiByZXNvdXJjZXMgdGhhdCBtdXN0IGJlIGNyZWF0ZWQgcHJpb3IgdG8gdGhpcyByZXNvdXJjZSBiZWluZyBjcmVhdGVkLgoKCiAgICAuUEFSQU1FVEVSIE1ldGFkYXRhCiAgICAgICAgVGhlIE1ldGFkYXRhIGF0dHJpYnV0ZSBlbmFibGVzIHlvdSB0byBhc3NvY2lhdGUgc3RydWN0dXJlZCBkYXRhIHdpdGggYSByZXNvdXJjZS4gQnkgYWRkaW5nIGEgTWV0YWRhdGEgYXR0cmlidXRlIHRvIGEgcmVzb3VyY2UsIHlvdSBjYW4gYWRkIGRhdGEgaW4gSlNPTiBvciBZQU1MIHRvIHRoZSByZXNvdXJjZSBkZWNsYXJhdGlvbi4gSW4gYWRkaXRpb24sIHlvdSBjYW4gdXNlIGludHJpbnNpYyBmdW5jdGlvbnMgKHN1Y2ggYXMgR2V0QXR0IGFuZCBSZWYpLCBwYXJhbWV0ZXJzLCBhbmQgcHNldWRvIHBhcmFtZXRlcnMgd2l0aGluIHRoZSBNZXRhZGF0YSBhdHRyaWJ1dGUgdG8gYWRkIHRob3NlIGludGVycHJldGVkIHZhbHVlcy4KCiAgICAgICAgWW91IG11c3QgdXNlIGEgUFNDdXN0b21PYmplY3QgY29udGFpbmluZyBrZXkvdmFsdWUgcGFpcnMgaGVyZS4gVGhpcyB3aWxsIGJlIHJldHVybmVkIHdoZW4gZGVzY3JpYmluZyB0aGUgcmVzb3VyY2UgdXNpbmcgQVdTIENMSS4KCgogICAgLlBBUkFNRVRFUiBVcGRhdGVQb2xpY3kKICAgICAgICBVc2UgdGhlIFVwZGF0ZVBvbGljeSBhdHRyaWJ1dGUgdG8gc3BlY2lmeSBob3cgQVdTIENsb3VkRm9ybWF0aW9uIGhhbmRsZXMgdXBkYXRlcyB0byB0aGUgQVdTOjpBdXRvU2NhbGluZzo6QXV0b1NjYWxpbmdHcm91cCByZXNvdXJjZS4gQVdTIENsb3VkRm9ybWF0aW9uIGludm9rZXMgb25lIG9mIHRocmVlIHVwZGF0ZSBwb2xpY2llcyBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgY2hhbmdlIHlvdSBtYWtlIG9yIHdoZXRoZXIgYSBzY2hlZHVsZWQgYWN0aW9uIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgQXV0byBTY2FsaW5nIGdyb3VwLgoKICAgICAgICBZb3UgbXVzdCB1c2UgdGhlICJBZGQtVXBkYXRlUG9saWN5IiBmdW5jdGlvbiBoZXJlLgogICAgCgogICAgLlBBUkFNRVRFUiBDb25kaXRpb24KICAgICAgICBMb2dpY2FsIElEIG9mIHRoZSBjb25kaXRpb24gdGhhdCB0aGlzIHJlc291cmNlIG5lZWRzIHRvIGJlIHRydWUgaW4gb3JkZXIgZm9yIHRoaXMgcmVzb3VyY2UgdG8gYmUgcHJvdmlzaW9uZWQuCgogICAgLkZVTkNUSU9OQUxJVFkKICAgICAgICBWYXBvcnNoZWxsCiAgICAjPgogICAgW091dHB1dFR5cGUoJ1ZhcG9yc2hlbGwuUmVzb3VyY2UuQ2xvdWRGb3JtYXRpb24uV2FpdENvbmRpdGlvbicpXQogICAgW2NtZGxldGJpbmRpbmcoKV0KICAgIFBhcmFtCiAgICAoCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSxQb3NpdGlvbiA9IDApXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCggewogICAgICAgICAgICAgICAgaWYgKCRfIC1tYXRjaCAiXlthLXpBLVowLTldKiQiKSB7CiAgICAgICAgICAgICAgICAgICAgJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRocm93ICdUaGUgbG9naWNhbCBJRCBtdXN0IGJlIGFscGhhbnVtZXJpYyAoYS16LCBBLVosIDAtOSkgYW5kIHVuaXF1ZSB3aXRoaW4gdGhlIHRlbXBsYXRlLicKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSldCiAgICAgICAgW1N5c3RlbS5TdHJpbmddCiAgICAgICAgJExvZ2ljYWxJZCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0ludF0KICAgICAgICAkQ291bnQsCiAgICAgICAgW3BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KCB7CiAgICAgICAgICAgICAgICAkYWxsb3dlZFR5cGVzID0gIlN5c3RlbS5TdHJpbmciLCJWYXBvcnNoZWxsLkZ1bmN0aW9uIgogICAgICAgICAgICAgICAgaWYgKFtzdHJpbmddJCgkXy5QU1R5cGVOYW1lcykgLW1hdGNoICIoJCgoJGFsbG93ZWRUeXBlc3xGb3JFYWNoLU9iamVjdHtbUmVnRXhdOjpFc2NhcGUoJF8pfSkgLWpvaW4gJ3wnKSkiKSB7CiAgICAgICAgICAgICAgICAgICAgJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRocm93ICJUaGlzIHBhcmFtZXRlciBvbmx5IGFjY2VwdHMgdGhlIGZvbGxvd2luZyB0eXBlczogJCgkYWxsb3dlZFR5cGVzIC1qb2luICIsICIpLiBUaGUgY3VycmVudCB0eXBlcyBvZiB0aGUgdmFsdWUgYXJlOiAkKCRfLlBTVHlwZU5hbWVzIC1qb2luICIsICIpLiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSldCiAgICAgICAgJEhhbmRsZSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoIHsKICAgICAgICAgICAgICAgICRhbGxvd2VkVHlwZXMgPSAiU3lzdGVtLlN0cmluZyIsIlZhcG9yc2hlbGwuRnVuY3Rpb24iCiAgICAgICAgICAgICAgICBpZiAoW3N0cmluZ10kKCRfLlBTVHlwZU5hbWVzKSAtbWF0Y2ggIigkKCgkYWxsb3dlZFR5cGVzfEZvckVhY2gtT2JqZWN0e1tSZWdFeF06OkVzY2FwZSgkXyl9KSAtam9pbiAnfCcpKSIpIHsKICAgICAgICAgICAgICAgICAgICAkdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgIlRoaXMgcGFyYW1ldGVyIG9ubHkgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHR5cGVzOiAkKCRhbGxvd2VkVHlwZXMgLWpvaW4gIiwgIikuIFRoZSBjdXJyZW50IHR5cGVzIG9mIHRoZSB2YWx1ZSBhcmU6ICQoJF8uUFNUeXBlTmFtZXMgLWpvaW4gIiwgIikuIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KV0KICAgICAgICAkVGltZW91dCwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KCB7CiAgICAgICAgICAgICAgICAkYWxsb3dlZFR5cGVzID0gIlZhcG9yc2hlbGwuUmVzb3VyY2UuQ3JlYXRpb25Qb2xpY3kiCiAgICAgICAgICAgICAgICBpZiAoW3N0cmluZ10kKCRfLlBTVHlwZU5hbWVzKSAtbWF0Y2ggIigkKCgkYWxsb3dlZFR5cGVzfEZvckVhY2gtT2JqZWN0e1tSZWdFeF06OkVzY2FwZSgkXyl9KSAtam9pbiAnfCcpKSIpIHsKICAgICAgICAgICAgICAgICAgICAkdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgIlRoaXMgcGFyYW1ldGVyIG9ubHkgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHR5cGVzOiAkKCRhbGxvd2VkVHlwZXMgLWpvaW4gIiwgIikuIFRoZSBjdXJyZW50IHR5cGVzIG9mIHRoZSB2YWx1ZSBhcmU6ICQoJF8uUFNUeXBlTmFtZXMgLWpvaW4gIiwgIikuIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KV0KICAgICAgICAkQ3JlYXRpb25Qb2xpY3ksCiAgICAgICAgW1ZhbGlkYXRlU2V0KCJEZWxldGUiLCJSZXRhaW4iLCJTbmFwc2hvdCIpXQogICAgICAgIFtTeXN0ZW0uU3RyaW5nXQogICAgICAgICREZWxldGlvblBvbGljeSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW1N5c3RlbS5TdHJpbmdbXV0KICAgICAgICAkRGVwZW5kc09uLAogICAgICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoIHsKICAgICAgICAgICAgICAgICRhbGxvd2VkVHlwZXMgPSAiU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdCIKICAgICAgICAgICAgICAgIGlmIChbc3RyaW5nXSQoJF8uUFNUeXBlTmFtZXMpIC1tYXRjaCAiKCQoKCRhbGxvd2VkVHlwZXN8Rm9yRWFjaC1PYmplY3R7W1JlZ0V4XTo6RXNjYXBlKCRfKX0pIC1qb2luICd8JykpIikgewogICAgICAgICAgICAgICAgICAgICR0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAiVGhlIFVwZGF0ZVBvbGljeSBwYXJhbWV0ZXIgb25seSBhY2NlcHRzIHRoZSBmb2xsb3dpbmcgdHlwZXM6ICQoJGFsbG93ZWRUeXBlcyAtam9pbiAiLCAiKS4gVGhlIGN1cnJlbnQgdHlwZXMgb2YgdGhlIHZhbHVlIGFyZTogJCgkXy5QU1R5cGVOYW1lcyAtam9pbiAiLCAiKS4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pXQogICAgICAgICRNZXRhZGF0YSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KCB7CiAgICAgICAgICAgICAgICAkYWxsb3dlZFR5cGVzID0gIlZhcG9yc2hlbGwuUmVzb3VyY2UuVXBkYXRlUG9saWN5IgogICAgICAgICAgICAgICAgaWYgKFtzdHJpbmddJCgkXy5QU1R5cGVOYW1lcykgLW1hdGNoICIoJCgoJGFsbG93ZWRUeXBlc3xGb3JFYWNoLU9iamVjdHtbUmVnRXhdOjpFc2NhcGUoJF8pfSkgLWpvaW4gJ3wnKSkiKSB7CiAgICAgICAgICAgICAgICAgICAgJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRocm93ICJUaGlzIHBhcmFtZXRlciBvbmx5IGFjY2VwdHMgdGhlIGZvbGxvd2luZyB0eXBlczogJCgkYWxsb3dlZFR5cGVzIC1qb2luICIsICIpLiBUaGUgY3VycmVudCB0eXBlcyBvZiB0aGUgdmFsdWUgYXJlOiAkKCRfLlBTVHlwZU5hbWVzIC1qb2luICIsICIpLiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSldCiAgICAgICAgJFVwZGF0ZVBvbGljeSwKICAgICAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgJENvbmRpdGlvbgogICAgKQogICAgQmVnaW4gewogICAgICAgICRSZXNvdXJjZVBhcmFtcyA9IEB7CiAgICAgICAgICAgIExvZ2ljYWxJZCA9ICRMb2dpY2FsSWQKICAgICAgICAgICAgVHlwZSA9ICJBV1M6OkNsb3VkRm9ybWF0aW9uOjpXYWl0Q29uZGl0aW9uIgogICAgICAgIH0KICAgIH0KICAgIFByb2Nlc3MgewogICAgICAgIGZvcmVhY2ggKCRrZXkgaW4gJFBTQm91bmRQYXJhbWV0ZXJzLktleXMpIHsKICAgICAgICAgICAgc3dpdGNoICgka2V5KSB7CiAgICAgICAgICAgICAgICAnTG9naWNhbElkJyB7fQogICAgICAgICAgICAgICAgJ0NyZWF0aW9uUG9saWN5JyB7CiAgICAgICAgICAgICAgICAgICAgJFJlc291cmNlUGFyYW1zLkFkZCgiQ3JlYXRpb25Qb2xpY3kiLCRDcmVhdGlvblBvbGljeSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICdEZWxldGlvblBvbGljeScgewogICAgICAgICAgICAgICAgICAgICRSZXNvdXJjZVBhcmFtcy5BZGQoIkRlbGV0aW9uUG9saWN5IiwkRGVsZXRpb25Qb2xpY3kpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAnRGVwZW5kc09uJyB7CiAgICAgICAgICAgICAgICAgICAgJFJlc291cmNlUGFyYW1zLkFkZCgiRGVwZW5kc09uIiwkRGVwZW5kc09uKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJ01ldGFkYXRhJyB7CiAgICAgICAgICAgICAgICAgICAgJFJlc291cmNlUGFyYW1zLkFkZCgiTWV0YWRhdGEiLCRNZXRhZGF0YSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICdVcGRhdGVQb2xpY3knIHsKICAgICAgICAgICAgICAgICAgICAkUmVzb3VyY2VQYXJhbXMuQWRkKCJVcGRhdGVQb2xpY3kiLCRVcGRhdGVQb2xpY3kpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAnQ29uZGl0aW9uJyB7CiAgICAgICAgICAgICAgICAgICAgJFJlc291cmNlUGFyYW1zLkFkZCgiQ29uZGl0aW9uIiwkQ29uZGl0aW9uKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRGVmYXVsdCB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCEoJFJlc291cmNlUGFyYW1zWyJQcm9wZXJ0aWVzIl0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZXNvdXJjZVBhcmFtcy5BZGQoIlByb3BlcnRpZXMiLChbUFNDdXN0b21PYmplY3RdQHt9KSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJHZhbCA9ICQoKEdldC1WYXJpYWJsZSAka2V5KS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICBpZiAoJHZhbCAtZXEgIlRydWUiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR2YWwgPSAidHJ1ZSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkdmFsIC1lcSAiRmFsc2UiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR2YWwgPSAiZmFsc2UiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRSZXNvdXJjZVBhcmFtc1siUHJvcGVydGllcyJdIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgJGtleSAtVmFsdWUgJHZhbAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgRW5kIHsKICAgICAgICAkb2JqID0gTmV3LVZhcG9yUmVzb3VyY2UgQFJlc291cmNlUGFyYW1zCiAgICAgICAgJG9iaiB8IEFkZC1PYmplY3REZXRhaWwgLVR5cGVOYW1lICdWYXBvcnNoZWxsLlJlc291cmNlLkNsb3VkRm9ybWF0aW9uLldhaXRDb25kaXRpb24nCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiUmVzdWx0aW5nIEpTT04gZnJvbSAkKCRNeUludm9jYXRpb24uTXlDb21tYW5kKTogYG5gbiQoQHskb2JqLkxvZ2ljYWxJZCA9ICRvYmouUHJvcHN9IHwgQ29udmVydFRvLUpzb24gLURlcHRoIDUpYG4iCiAgICB9Cn0K
