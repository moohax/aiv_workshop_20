SP2013GetSPFarmInventory.ps1,365e21374e9f3773ac68e5977f4bd14c,Scan result is 1. IsMalware: 0,IyMgU2hhcmVQb2ludCBTZXJ2ZXI6IFBvd2VyU2hlbGwgRmFybSBJbnZlbnRvcnkgU2NyaXB0ICMjCgo8IwoJT3ZlcnZpZXc6IFBvd2VyU2hlbGwgU2NyaXB0IHRoYXQgcHJvdmlkZXMgYSBkZXRhaWxlZCBJbnZlbnRvcnkgb2YgYSBTaGFyZVBvaW50IEZhcm0gQ29uZmlndXJhdGlvbiBpbiBDU1YgT3V0cHV0IGZpbGVzLiBBbHNvIGluY2x1ZGVzIEludmVudG9yeSBvbiBTaXRlIENvbGxlY3Rpb25zLCBXZWJzLCBhbmQgTGlzdHMKCQoJUmVzb3VyY2U6IGh0dHA6Ly9nYWxsZXJ5LnRlY2huZXQubWljcm9zb2Z0LmNvbS9zY3JpcHRjZW50ZXIvSW52ZW50b3J5LVNoYXJlUG9pbnQtRmFybS1kYzExZmMyOAoKCVZlcnNpb25zOiBNT1NTIDIwMDcsIFNoYXJlUG9pbnQgU2VydmVyIDIwMTAgLyAyMDEzIEZhcm1zCgkKCVVzYWdlIEV4YW1wbGU6IFJ1bi1GdWxsSW52ZW50b3J5IC1EZXN0aW5hdGlvbkZvbGRlciAiTTpcU1AyMDEzTWlncmF0aW9uXEZhcm1BdWRpdHMiIC1Mb2dGaWxlUHJlZml4ICJQUk9EXyIKCQoJLmF1dGhvcgoJCUphbWVzIEhhbW1vbmRzLCBAamFtZXN3aDMKCQlUaGUgd2ViIHBhcnQgaW52ZW50b3J5IHNlY3Rpb24gaXMgbW9zdGx5IGJvcnJvd2VkIGZyb20gSm9lIFJvZGdlcnMKCS5ub3RlcwoJCVRoaXMgc2NyaXB0IGlzIGEgY29sbGVjdGlvbiBvZiBmdW5jdGlvbnMgdGhhdCB3aWxsIGludmVudG9yeSBhIFNoYXJlUG9pbnQgMjAwNywgU2hhcmVQb2ludCAyMDEwLCBvciBTaGFyZVBvaW50IDIwMTMgKG5vdCB5ZXQgdGVzdGVkLCBidXQgZXZlcnl0aGluZyBzaG91bGQgd29yaykgY29udGVudC4gIFRoZSBvdXRwdXQgaXMgYSBjb2xsZWN0aW9uIG9mIGNzdiBmaWxlcyB0aGF0IGNhbiB0aGVuIGJlIHBvcnRlZCB0byBFeGNlbCwgUG93ZXJQaXZvdCwgQWNjZXNzLCBTUUwgU2VydmVyICh5b3UgZ2V0IHRoZSBpZGVhKSBmb3IgZnV0aGVyIGFuYWx5c2lzLiAgSWYgeW91IHNvIGRlc2lyZSwgeW91IGNhbiBzZWxlY3RpdmVseSBpbnZlbnRvcnkgc3Vic2V0cyBvZiBkYXRhLgoJCQoJLmdldFN0YXJ0ZWQKCQlUbyBydW4gdGhlIGZ1bGwgaW52ZW50b3J5LCBsb2FkIHRoaXMgc2NyaXB0IGluIFBvd2VyU2hlbGwsIHRoZW4gZW50ZXI6IFJ1bi1GdWxsSW52ZW50b3J5IC1EZXN0aW5hdGlvbkZvbGRlciAiZTpcdGVtcCIgLUxvZ0ZpbGVQcmVmaXggIllvdXJGYXJtXyIKCQlKdXN0IG1ha2Ugc3VyZSB0aGF0IHRoZSBkZXN0aW5hdGlvbiBmb2xkZXIgKGFuZCBkcml2ZSkgaGFzIGVub3VnaCBzcGFjZSBmb3IgdGhlIGxvZyBmaWxlcyAoZ2lncyBpbiBzb21lIGNhc2VzKSwgYW5kIHRoYXQgeW91ciBMb2dGaWxlUHJlZml4IGlzIGFwcHJvcHJpYXRlCiM+CgpmdW5jdGlvbiBJbnZlbnRvcnktU1BGYXJtIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCgkJW3N3aXRjaF0kSW52ZW50b3J5RmFybVNvbHV0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlGYXJtRmVhdHVyZXMsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViVGVtcGxhdGVzLAogICAgICAgIFtzd2l0Y2hdJEludmVudG9yeVdlYkFwcGxpY2F0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlDb250ZW50RGF0YWJhc2VzLAoJCVtzd2l0Y2hdJEludmVudG9yeVNpdGVDb2xsZWN0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkFkbWlucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkZlYXR1cmVzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYlBlcm1pc3Npb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5U2l0ZUNvbnRlbnRUeXBlcywKCQlbc3dpdGNoXSRJbnZlbnRvcnlXZWJTaXplLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYkZlYXR1cmVzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlMaXN0RmllbGRzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RWaWV3cywKCQlbc3dpdGNoXSRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYlBhcnRzLAoJCVtzd2l0Y2hdJEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5VGltZXJKb2JzLAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSRMb2dGaWxlUHJlZml4LAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlcgoJKQoJQkVHSU4gewoJCVtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoIk1pY3Jvc29mdC5TaGFyZVBvaW50IikKCQkkQ29udGVudFNlcnZpY2UgPSBbTWljcm9zb2Z0LlNoYXJlUG9pbnQuQWRtaW5pc3RyYXRpb24uU1BXZWJTZXJ2aWNlXTo6Q29udGVudFNlcnZpY2U7CgkJJGdldENvbnRlbnREQk5hbWUgPSBbTWljcm9zb2Z0LlNoYXJlUG9pbnQuQWRtaW5pc3RyYXRpb24uU1BDb250ZW50RGF0YWJhc2VdLmdldG1ldGhvZCgiZ2V0X05hbWUiKQoJCSRnZXRDb250ZW50REJTZXJ2ZXJOYW1lID0gW01pY3Jvc29mdC5TaGFyZVBvaW50LkFkbWluaXN0cmF0aW9uLlNQQ29udGVudERhdGFiYXNlXS5nZXRtZXRob2QoImdldF9TZXJ2ZXIiKSAKCQkkZmFybSA9IFtNaWNyb3NvZnQuU2hhcmVQb2ludC5BZG1pbmlzdHJhdGlvbi5TUEZhcm1dOjpMb2NhbAoJCVdyaXRlLUhvc3QgIkludmVudG9yeWluZyAkKCRmYXJtLk5hbWUpIgoJfSAjQkVHSU4KCVByb2Nlc3MgewoJCWlmICgkSW52ZW50b3J5RmFybUZlYXR1cmVzKSB7CgkJCUludmVudG9yeS1TUEZhcm1GZWF0dXJlcyAtZmFybSAkZmFybSAtbG9nZmlsZW5hbWUgKCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIkZhcm1GZWF0dXJlcy5jc3YiKQoJCX0gI2lmIGludmVudG9yeWZhcm1mZWF0dXJlcwoJCWlmICgkSW52ZW50b3J5RmFybVNvbHV0aW9ucykgewoJCQkjSW52ZW50b3J5IEZhcm0gU29sdXRpb25zCgkJCUludmVudG9yeS1TUEZhcm1Tb2x1dGlvbnMgLWZhcm0gJGZhcm0gLWxvZ2ZpbGVuYW1lICgkRGVzdGluYXRpb25Gb2xkZXIgKyAiXCIgKyAkTG9nRmlsZVByZWZpeCArICJGYXJtU29sdXRpb25zLmNzdiIpCgkJfSAjaWYgaW52ZW50b3J5ZmFybXNvbHV0aW9ucwoJCWlmICgkSW52ZW50b3J5V2ViVGVtcGxhdGVzKSB7CgkJCUludmVudG9yeS1TUFdlYlRlbXBsYXRlcyAtRmFybVZlcnNpb24gJGZhcm0uYnVpbGR2ZXJzaW9uLm1ham9yIC1sY2lkICIxMDMzIiAtTG9nRmlsZVByZWZpeCAkTG9nRmlsZVByZWZpeCAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyCgkJfSAjaWYgSW52ZW50b3J5V2ViVGVtcGxhdGVzCgkJaWYgKCRJbnZlbnRvcnlUaW1lckpvYnMpIHsKCQkJSW52ZW50b3J5LVNQVGltZXJKb2JzIC1sb2dmaWxlbmFtZSAoJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiVGltZXJKb2JzLmNzdiIpCgkJfSAjaWYgSW52ZW50b3J5VGltZXJKb2JzCgkJaWYgKAoJCQkJJEludmVudG9yeVdlYkFwcGxpY2F0aW9ucyAtb3IgCgkJCQkkSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25zIC1vciAKCQkJCSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkFkbWlucyAtb3IKCQkJCSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkZlYXR1cmVzIC1vciAKCQkJCSRJbnZlbnRvcnlXZWJGZWF0dXJlcyAtb3IgCgkJCQkkSW52ZW50b3J5V2ViUGVybWlzc2lvbnMgLW9yIAoJCQkJJEludmVudG9yeVdlYnMgLW9yIAoJCQkJJEludmVudG9yeVdlYldvcmtmbG93QXNzb2NpYXRpb25zIC1vciAKCQkJCSRJbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzIC1vcgoJCQkJJEludmVudG9yeUxpc3RzIC1vciAKCQkJCSRJbnZlbnRvcnlMaXN0V29ya2Zsb3dBc3NvY2lhdGlvbnMgLW9yCgkJCQkkSW52ZW50b3J5TGlzdENvbnRlbnRUeXBlcyAtb3IKCQkJCSRJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zIC1vcgoJCQkJJEludmVudG9yeUxpc3RGaWVsZHMgLW9yIAoJCQkJJEludmVudG9yeUxpc3RWaWV3cyAtb3IgCgkJCQkkSW52ZW50b3J5V2ViUGFydHMKCQkJKSB7IAoJCQlXcml0ZS1Ib3N0ICIgIEludmVudG9yeWluZyBXZWIgQXBwbGljYXRpb25zIGluICQoJGZhcm0uTmFtZSkiCgkJCUludmVudG9yeS1TUFdlYkFwcGxpY2F0aW9ucyBgCiAgICAgICAgICAgICAgICAtQ29udGVudFNlcnZpY2UgJENvbnRlbnRTZXJ2aWNlIGAKICAgICAgICAgICAgICAgIC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IGAKICAgICAgICAgICAgICAgIC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIgYAogICAgICAgICAgICAgICAgLUludmVudG9yeVNpdGVDb2xsZWN0aW9uczokSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25zIGAKICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkFkbWluczokSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25BZG1pbnMgYAogICAgICAgICAgICAgICAgLUludmVudG9yeVNpdGVDb2xsZWN0aW9uRmVhdHVyZXM6JEludmVudG9yeVNpdGVDb2xsZWN0aW9uRmVhdHVyZXMgYAogICAgICAgICAgICAgICAgLUludmVudG9yeVdlYlBlcm1pc3Npb25zOiRJbnZlbnRvcnlXZWJQZXJtaXNzaW9ucyBgCiAgICAgICAgICAgICAgICAtSW52ZW50b3J5V2ViczokSW52ZW50b3J5V2VicyBgCgkJCQktSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeVdlYldvcmtmbG93QXNzb2NpYXRpb25zIGAKCQkJCS1JbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzOiRJbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzIGAKICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlMaXN0czokSW52ZW50b3J5TGlzdHMgYAoJCQkJLUludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9uczokSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zIGAKCQkJCS1JbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzOiRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzIGAKCQkJCS1JbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zOiRJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zIGAKICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlMaXN0RmllbGRzOiRJbnZlbnRvcnlMaXN0RmllbGRzIGAKICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlMaXN0Vmlld3M6JEludmVudG9yeUxpc3RWaWV3cyBgCiAgICAgICAgICAgICAgICAtSW52ZW50b3J5V2ViUGFydHM6JEludmVudG9yeVdlYlBhcnRzIGAKICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlXZWJGZWF0dXJlczokSW52ZW50b3J5V2ViRmVhdHVyZXMgYAogICAgICAgICAgICAgICAgLUludmVudG9yeVdlYlNpemU6JEludmVudG9yeVdlYlNpemUKCQl9ICNpZiBpbnZlbnRvcnl3ZWJhcHBsaWNhdGlvbnMgb3IgY2hpbGQgaXRlbXMKCX0jUFJPQ0VTUwoJRW5kIHt9ICNFTkQKfQoKZnVuY3Rpb24gSW52ZW50b3J5LVNQRmFybVNvbHV0aW9ucyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kZmFybSwKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJGxvZ2ZpbGVuYW1lCgkpICNwYXJhbQoJQkVHSU4gewoJCVdyaXRlLUhvc3QgIiAgSW52ZW50b3J5aW5nIFNvbHV0aW9ucyBpbiAkKCRmYXJtLk5hbWUpIgoJCSRzb2x1dGlvbnMgPSAkZmFybS5Tb2x1dGlvbnMKCQlpZiAoLW5vdCAodGVzdC1wYXRoICRsb2dmaWxlbmFtZSkpIHsKCQkJJHJvdyA9ICciU29sdXRpb25JZCIsIlNvbHV0aW9uRGlzcGxheU5hbWUiJyAKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCX0KCX0gI0JFR0lOCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkc29sdXRpb24gaW4gJHNvbHV0aW9ucykgeyAKCQkJCSRyb3c9JyInKyRzb2x1dGlvbi5JRCsnIiwiJyskc29sdXRpb24uRGlzcGxheU5hbWUrJyInCgkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQgCgkJCX0gI2ZvcmVhY2ggc29sdXRpb24KCX0gI1BST0NFU1MKCUVORCB7fSAjRU5ECn0KCmZ1bmN0aW9uIEludmVudG9yeS1TUFRpbWVySm9icyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kbG9nZmlsZW5hbWUKCSkgI3BhcmFtCglCRUdJTiB7CgkJV3JpdGUtSG9zdCAiICBJbnZlbnRvcnlpbmcgVGltZXIgSm9icyBpbiAkKCRmYXJtLk5hbWUpIgoJCSRqb2JzID0gJGZhcm0udGltZXJzZXJ2aWNlLmpvYmRlZmluaXRpb25zCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIkpvYklkIiwiSm9iTmFtZSIsIkpvYkRpc3BsYXlOYW1lIiwiSm9iU2NoZWR1bGUiJyAKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCX0KCX0gI0JFR0lOCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkam9iIGluICRqb2JzKSB7IAoJCQkJJHJvdz0nIicrJGpvYi5JRCsnIiwiJyskam9iLk5hbWUrJyIsIicrJGpvYi5EaXNwbGF5TmFtZSsnIiwiJyskam9iLlNjaGVkdWxlKyciJwoJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kIAoJCQl9ICNmb3JlYWNoIGpvYgoJfSAjUFJPQ0VTUwoJRU5EIHt9ICNFTkQKfQoKZnVuY3Rpb24gSW52ZW50b3J5LVNQRmFybUZlYXR1cmVzIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRmYXJtLAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kbG9nZmlsZW5hbWUKCSkgI3BhcmFtCglCRUdJTiB7CiAgICAgICAgJG5vdz1nZXQtZGF0ZQoJCVdyaXRlLUhvc3QgIiAgSW52ZW50b3J5aW5nIEZhcm0gRmVhdHVyZXMgaW4gJCgkZmFybS5OYW1lKSIgCgkJJGZlYXR1cmVkZWZzID0gJGZhcm0uRmVhdHVyZURlZmluaXRpb25zCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIkZlYXR1cmVJZCIsIkZlYXR1cmVEaXNwbGF5TmFtZSIsIkZlYXR1cmVTY29wZSIsIkZlYXR1cmVUeXBlTmFtZSIsIlNvbHV0aW9uSWQiLCJGZWF0dXJlVGl0bGUiLCJTY3JpcHRSdW5EYXRlIicKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCX0KCX0gI0JFR0lOCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkZmVhdHVyZWRlZiBpbiAkZmVhdHVyZWRlZnMpIHsKCQkJCSNUT0RPKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipyZXNvbHZlIFR5cGVOYW1lIHRvIHNvbWV0aGluZyBtb3JlIGRlc2NyaXB0aXZlCgkJCQkkcm93PSciJyskZmVhdHVyZWRlZi5JRCsnIiwiJyskZmVhdHVyZWRlZi5EaXNwbGF5TmFtZSsnIiwiJyskZmVhdHVyZWRlZi5TY29wZSsnIiwiJyskZmVhdHVyZWRlZi5UeXBlTmFtZSsnIiwiJyskZmVhdHVyZWRlZi5Tb2x1dGlvbklkKyciLCInKyRmZWF0dXJlZGVmLlRpdGxlKyciLCInKyRub3crJyInCgkJCQkkcm93IHwgT3V0LUZpbGUgICRsb2dmaWxlbmFtZSAtYXBwZW5kIAoJCQl9ICAjZm9yZWFjaCBmZWF0dXJlZGVmCgl9ICNQUk9DRVNTCglFTkQge30gI0VORAp9CgpmdW5jdGlvbiBJbnZlbnRvcnktU1BXZWJUZW1wbGF0ZXMgewoJcGFyYW0gKAoJCSRGYXJtVmVyc2lvbj0iMTIiLAoJCSRsY2lkPSIxMDMzIiwKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJExvZ0ZpbGVQcmVmaXgsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtzdHJpbmddJERlc3RpbmF0aW9uRm9sZGVyCgkpICNwYXJhbQoJQkVHSU4gewoJCSR0ZW1wbGF0ZUZpbGVzPWdldC1jaGlsZGl0ZW0gIkM6XFByb2dyYW0gRmlsZXNcQ29tbW9uIEZpbGVzXE1pY3Jvc29mdCBTaGFyZWRcV2ViIFNlcnZlciBFeHRlbnNpb25zXCRmYXJtVmVyc2lvblxURU1QTEFURVwkbGNpZFxYTUwiIC1maWx0ZXIgIndlYnRlbXAqLnhtbCIKCQkkQXJlYT0iV2ViVGVtcGxhdGVzIgogICAgICAgICRub3c9Z2V0LWRhdGUKCQlXcml0ZS1Ib3N0ICIgIEludmVudG9yeWluZyBXZWIgVGVtcGxhdGVzIgoJCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiV2ViVGVtcGxhdGVzLmNzdiIpCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIlRlbXBsYXRlTmFtZSIsIlRlbXBsYXRlSUQiLCJUZW1wbGF0ZUZpbGVOYW1lIicgCgkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUgLWFwcGVuZAoJCX0KCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkdGYgaW4gJHRlbXBsYXRlRmlsZXMpIHsKCQkJJGZpbGVOYW1lPSR0Zi5OYW1lCiAgICAgICAgICAgIFdSSVRFLUhPU1QgIlByb2Nlc3NpbmcgJCgkdGYuTmFtZSkiCgkJCVt4bWxdJHhtbD0oZ2V0LWNvbnRlbnQgJHRmLmZ1bGxuYW1lKQoJCQkkdGVtcGxhdGVzPSR4bWwuVGVtcGxhdGVzLnRlbXBsYXRlCgkJCWZvcmVhY2ggKCR0IGluICR0ZW1wbGF0ZXMpIHsKCQkJCXdyaXRlLWhvc3QgIiAgJCgkdC5OYW1lKSIKCQkJCSRyb3c9JycKCQkJCSRyb3c9JyInKyR0Lk5hbWUrJyIsIicrJHQuaWQrJyIsIicrJGZpbGVOYW1lKyciJwoJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJCX0KCQl9Cgl9ICNwcm9jZXNzCglFTkQgewoJCgl9ICNlbmQKfQoKZnVuY3Rpb24gSW52ZW50b3J5LVNQV2ViQXBwbGljYXRpb25zICB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kQ29udGVudFNlcnZpY2UsCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRMb2dGaWxlUHJlZml4LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlciwKCQlbc3dpdGNoXSRJbnZlbnRvcnlXZWJTaXplLAoJCVtzd2l0Y2hdJEludmVudG9yeVNpdGVDb2xsZWN0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkFkbWlucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkZlYXR1cmVzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYkZlYXR1cmVzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYlBlcm1pc3Npb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5U2l0ZUNvbnRlbnRUeXBlcywKCQlbc3dpdGNoXSRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzLAoJCVtzd2l0Y2hdJEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdHMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RGaWVsZHMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdFZpZXdzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYlBhcnRzCgkpICNwYXJhbQoJQkVHSU4geyAKICAgICAgICAkbm93PWdldC1kYXRlCgkJW01pY3Jvc29mdC5TaGFyZVBvaW50LkFkbWluaXN0cmF0aW9uLlNQV2ViQXBwbGljYXRpb25Db2xsZWN0aW9uXSR3YUNvbGwgPSAkQ29udGVudFNlcnZpY2UuV2ViQXBwbGljYXRpb25zOwoJCSR3ZWJBcHBzPSR3YUNvbGwgfCB3aGVyZS1vYmplY3QgeyRfLklzQWRtaW5pc3RyYXRpb25XZWJBcHBsaWNhdGlvbiAtZXEgJEZBTFNFfQoJCSNzZXQgdXAgbG9nZmlsZQogICAgICAgICRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiV2ViQXBwbGljYXRpb25zLmNzdiIpCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIldlYkFwcFVybCIsIldlYkFwcE5hbWUiLCJGYXJtIiwiU2NyaXB0UnVuRGF0ZSInCgkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUKCQl9Cgl9ICNCRUdJTgoJUFJPQ0VTUyB7CgkJJEFyZWE9IldlYiBBcHAiCgkJZm9yZWFjaCAoJHdhIGluICR3ZWJBcHBzKSB7CgkJCXRyeSB7CgkJCQlXcml0ZS1Ib3N0ICIgICAgSW52ZW50b3J5aW5nIFdlYiBBcHBsaWNhdGlvbiAkKCR3YS5hbHRlcm5hdGV1cmxzWzBdLkluY29taW5nVXJsKSIKCQkJCSRMb2NhdGlvbj0kd2EuVXJsCiAgICAgICAgICAgICAgICAjJHdhIHwgZ2V0LW1lbWJlciB8IG91dC1ncmlkdmlldwoJCQkJJHJvdyA9ICciJyskd2EuYWx0ZXJuYXRldXJsc1swXS5JbmNvbWluZ1VybCsnIiwiJyskd2EuTmFtZSsnIiwiJyskKCR3YS5mYXJtLk5hbWUpKyciLCInKyRub3crJyInCgkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKCQkJCWlmICgKCQkJCQkJJEludmVudG9yeVNpdGVDb2xsZWN0aW9ucyAtb3IgCgkJCQkJCSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkFkbWlucyAtb3IKCQkJCQkJJEludmVudG9yeVNpdGVDb2xsZWN0aW9uRmVhdHVyZXMgLW9yIAoJCQkJCQkkSW52ZW50b3J5V2ViRmVhdHVyZXMgLW9yIAoJCQkJCQkkSW52ZW50b3J5V2ViUGVybWlzc2lvbnMgLW9yIAoJCQkJCQkkSW52ZW50b3J5V2VicyAtb3IgCgkJCQkJCSRJbnZlbnRvcnlXZWJXb3JrZmxvd0Fzc29jaWF0aW9ucyAtb3IgCgkJCQkJCSRJbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzIC1vcgoJCQkJCQkkSW52ZW50b3J5TGlzdHMgLW9yIAoJCQkJCQkkSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zIC1vciAKCQkJCQkJJEludmVudG9yeUxpc3RDb250ZW50VHlwZXMgLW9yCgkJCQkJCSRJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zIC1vcgoJCQkJCQkkSW52ZW50b3J5TGlzdEZpZWxkcyAtb3IgCgkJCQkJCSRJbnZlbnRvcnlMaXN0Vmlld3MgLW9yIAoJCQkJCQkkSW52ZW50b3J5V2ViUGFydHMKCQkJCQkpIHsgCgkJCQkJSW52ZW50b3J5LVNQU2l0ZUNvbGxlY3Rpb25zIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVdlYkFwcCAkd2EgYAogICAgICAgICAgICAgICAgICAgICAgICAtTG9nRmlsZVByZWZpeCAkTG9nRmlsZVByZWZpeCBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25BZG1pbnM6JEludmVudG9yeVNpdGVDb2xsZWN0aW9uQWRtaW5zIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeVNpdGVDb2xsZWN0aW9uRmVhdHVyZXM6JEludmVudG9yeVNpdGVDb2xsZWN0aW9uRmVhdHVyZXMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5V2ViUGVybWlzc2lvbnM6JEludmVudG9yeVdlYlBlcm1pc3Npb25zIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeVdlYnM6JEludmVudG9yeVdlYnMgYAoJCQkJCQktSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeVdlYldvcmtmbG93QXNzb2NpYXRpb25zIGAKCQkJCQkJLUludmVudG9yeVNpdGVDb250ZW50VHlwZXM6JEludmVudG9yeVNpdGVDb250ZW50VHlwZXMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5V2ViRmVhdHVyZXM6JEludmVudG9yeVdlYkZlYXR1cmVzIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeUxpc3RzOiRJbnZlbnRvcnlMaXN0cyBgCgkJCQkJCS1JbnZlbnRvcnlMaXN0V29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9ucyBgCgkJCQkJCS1JbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzOiRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzIGAKCQkJCQkJLUludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5TGlzdEZpZWxkczokSW52ZW50b3J5TGlzdEZpZWxkcyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlMaXN0Vmlld3M6JEludmVudG9yeUxpc3RWaWV3cyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlXZWJQYXJ0czokSW52ZW50b3J5V2ViUGFydHMgIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeVdlYlNpemU6JEludmVudG9yeVdlYlNpemUKCQkJCX0KCQkJfSAjdHJ5CgkJCWNhdGNoIHsKCQkJCVJlY29yZC1FcnJvciAkTG9jYXRpb24gJEFyZWEgJGVycm9yWzBdICRMb2dGaWxlUHJlZml4ICREZXN0aW5hdGlvbkZvbGRlcgoJCQl9ICNjYXRjaAoJCX0gI2ZvcmVhY2ggd2ViYXBwCgl9ICNQUk9DRVNTCglFTkR7fSAjRU5ECn0KCmZ1bmN0aW9uIEludmVudG9yeS1TUFNpdGVDb2xsZWN0aW9ucyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kV2ViQXBwLAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViU2l6ZSwKCQlbc3dpdGNoXSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkFkbWlucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlTaXRlQ29sbGVjdGlvbkZlYXR1cmVzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYkZlYXR1cmVzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYlBlcm1pc3Npb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5U2l0ZUNvbnRlbnRUeXBlcywKCQlbc3dpdGNoXSRJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RGaWVsZHMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdFZpZXdzLAoJCVtzd2l0Y2hdJEludmVudG9yeVdlYlBhcnRzCgkpICNwYXJhbQoJQkVHSU4geyAKICAgICAgICAkbm93PWdldC1kYXRlCgkJJGdldENvbnRlbnREQk5hbWUgPSBbTWljcm9zb2Z0LlNoYXJlUG9pbnQuQWRtaW5pc3RyYXRpb24uU1BDb250ZW50RGF0YWJhc2VdLmdldG1ldGhvZCgiZ2V0X05hbWUiKQoJCSRnZXRDb250ZW50REJTZXJ2ZXJOYW1lID0gW01pY3Jvc29mdC5TaGFyZVBvaW50LkFkbWluaXN0cmF0aW9uLlNQQ29udGVudERhdGFiYXNlXS5nZXRtZXRob2QoImdldF9TZXJ2ZXIiKQoJCSNzZXQgdXAgbG9nIGZpbGUKCQkkbG9nZmlsZW5hbWU9KCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIlNpdGVDb2xsZWN0aW9ucy5jc3YiKQoJCWlmICgtbm90ICh0ZXN0LXBhdGggJGxvZ2ZpbGVuYW1lKSkgewoJCQkkcm93ID0gJyJTaXRlIiwiQ29udGVudERCIiwiQ29udGVudERiU2VydmVyIiwiU2NyaXB0UnVuRGF0ZSIsIkxhc3RTaXRlQ29udGVudE1vZGlmaWVkIiwiU2l0ZUdVSUQiLCJTdG9yYWdlIiwiVmlzaXRzIicKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCX0KCQkkQXJlYT0iU2l0ZSBDb2xsZWN0aW9uIgoJCSRzaXRlcz0kd2EuU2l0ZXMKCQlXcml0ZS1Ib3N0ICIgICAgICBJbnZlbnRvcnlpbmcgU2l0ZSBDb2xsZWN0aW9ucyBpbiAkKCR3YS5hbHRlcm5hdGV1cmxzWzBdLkluY29taW5nVXJsKSIKCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkc2l0ZSBpbiAkc2l0ZXMpIHsKCQkJJExvY2F0aW9uPSRzaXRlLlVybAoJCQl0cnkgewoJCQkJV3JpdGUtSG9zdCAiICAgICAgICBJbnZlbnRvcnlpbmcgJCgkc2l0ZS51cmwpIgoJCQkJJGNvbnRlbnREYj0nJyAKCQkJCSRjb250ZW50RGIgPSAkZ2V0Q29udGVudERCTmFtZS5JbnZva2UoJHNpdGUuQ29udGVudERhdGFiYXNlLCJpbnN0YW5jZSxwdWJsaWMiLCAkbnVsbCwgJG51bGwsICRudWxsKQoJCQkJJGNvbnRlbnREYlNlcnZlciA9ICRnZXRDb250ZW50REJTZXJ2ZXJOYW1lLkludm9rZSgkc2l0ZS5Db250ZW50RGF0YWJhc2UsImluc3RhbmNlLHB1YmxpYyIsICRudWxsLCAkbnVsbCwgJG51bGwpCgkJCQkkcm93PScnIAoJCQkJJHJvdz0nIicrJHNpdGUuVXJsKyciLCInKyRjb250ZW50RGIrJyIsIicrJGNvbnRlbnREYlNlcnZlcisnIiwiJyskbm93KyciLCInKyRzaXRlLkxhc3RDb250ZW50TW9kaWZpZWREYXRlKyciLCInKyRzaXRlLklkKyciLCInKyRzaXRlLnVzYWdlLnN0b3JhZ2UrJyIsIicrJHNpdGUudXNhZ2UudmlzaXRzKyciJwoJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJCQlpZiAoJEludmVudG9yeVNpdGVDb2xsZWN0aW9uQWRtaW5zKSB7CgkJCQkJSW52ZW50b3J5LVNQU2l0ZUNvbGxlY3Rpb25BZG1pbnMgLVNpdGUgJHNpdGUgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCQkJfSAjaWYgSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25BZG1pbnMKCQkJCWlmICgkSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25GZWF0dXJlcykgewoJCQkJCUludmVudG9yeS1TUFNpdGVDb2xsZWN0aW9uRmVhdHVyZXMgLVNpdGUgJHNpdGUgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCQkJfSAjaWYgSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25GZWF0dXJlcwoJCQkJaWYgKAoJCQkJCSRJbnZlbnRvcnlXZWJzIC1vcgoJCQkJCSRJbnZlbnRvcnlXZWJGZWF0dXJlcyAtb3IgCgkJCQkJJEludmVudG9yeVdlYlBlcm1pc3Npb25zIC1vciAKCQkJCQkkSW52ZW50b3J5V2VicyAtb3IgCgkJCQkJJEludmVudG9yeVdlYldvcmtmbG93QXNzb2NpYXRpb25zIC1vcgoJCQkJCSRJbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzIC1vciAKCQkJCQkkSW52ZW50b3J5TGlzdHMgLW9yIAoJCQkJCSRJbnZlbnRvcnlMaXN0V29ya2Zsb3dBc3NvY2lhdGlvbnMgLW9yIAoJCQkJCSRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzIC1vcgoJCQkJCSRJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zIC1vcgoJCQkJCSRJbnZlbnRvcnlMaXN0RmllbGRzIC1vciAKCQkJCQkkSW52ZW50b3J5TGlzdFZpZXdzIC1vciAKCQkJCQkkSW52ZW50b3J5V2ViUGFydHMKCQkJCSkgewoJCQkJCUludmVudG9yeS1TUFdlYnMgYAogICAgICAgICAgICAgICAgICAgICAgICAtU2l0ZSAkc2l0ZSBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IGAKICAgICAgICAgICAgICAgICAgICAgICAgLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlciBgCgkJCQkJCS1JbnZlbnRvcnlXZWJXb3JrZmxvd0Fzc29jaWF0aW9uczokSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5V2ViUGVybWlzc2lvbnM6JEludmVudG9yeVdlYlBlcm1pc3Npb25zIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeVdlYkZlYXR1cmVzOiRJbnZlbnRvcnlXZWJGZWF0dXJlcyBgCgkJCQkJCS1JbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzOiRJbnZlbnRvcnlTaXRlQ29udGVudFR5cGVzIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeUxpc3RzOiRJbnZlbnRvcnlMaXN0cyBgCgkJCQkJCS1JbnZlbnRvcnlMaXN0V29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9ucyBgCgkJCQkJCS1JbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzOiRJbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzIGAKCQkJCQkJLUludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5TGlzdEZpZWxkczokSW52ZW50b3J5TGlzdEZpZWxkcyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlMaXN0Vmlld3M6JEludmVudG9yeUxpc3RWaWV3cyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1JbnZlbnRvcnlXZWJQYXJ0czokSW52ZW50b3J5V2ViUGFydHMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5V2ViU2l6ZTokSW52ZW50b3J5V2ViU2l6ZQoJCQkJfSAjaWYgSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25GZWF0dXJlcwoJCQl9ICN0cnkKCQkJY2F0Y2ggewoJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCX0gI2NhdGNoCgkJCWZpbmFsbHkgewoJCQkJJHNpdGUuRGlzcG9zZSgpCgkJCX0gI2ZpbmFsbHkKCQl9ICNmb3JlYWNoIHNpdGUKCX0gI3Byb2Nlc3MKCUVORCB7fSAjZW5kCiB9CgpmdW5jdGlvbiBJbnZlbnRvcnktU1BTaXRlQ29sbGVjdGlvbkFkbWlucyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kc2l0ZSwKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJExvZ0ZpbGVQcmVmaXgsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtzdHJpbmddJERlc3RpbmF0aW9uRm9sZGVyCgkpICNwYXJhbQoJQkVHSU4gewoJCSRBcmVhPSJTaXRlIENvbGxlY3Rpb24gQWRtaW5zIgoJCVdyaXRlLUhvc3QgIiAgICAgICAgICBJbnZlbnRvcnlpbmcgU2l0ZSBDb2xsZWN0aW9uIEFkbWlucyBpbiAkKCRTaXRlLnVybCkiCgkJJGxvZ2ZpbGVuYW1lPSgkRGVzdGluYXRpb25Gb2xkZXIgKyAiXCIgKyAkTG9nRmlsZVByZWZpeCArICJTaXRlQ29sbGVjdGlvbkFkbWlucy5jc3YiKQoJCWlmICgtbm90ICh0ZXN0LXBhdGggJGxvZ2ZpbGVuYW1lKSkgewoJCQkkcm93ID0gJyJTaXRlIiwiU2l0ZUFkbWluIiwiU2l0ZUlEIiwiU2NyaXB0UnVuRGF0ZSInIAoJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lCgkJfQoJCSRzaXRlQWRtaW5zPSRzaXRlLlJvb3RXZWIuU2l0ZUFkbWluaXN0cmF0b3JzCgl9ICNiZWdpbgoJUFJPQ0VTUyB7CgkJZm9yZWFjaCAoJHNpdGVBZG1pbiBpbiAkc2l0ZUFkbWlucykgeyAKCQkJdHJ5IHsKCQkJCSRMb2NhdGlvbj0kc2l0ZS5VcmwKCQkJCSRyb3c9JycKCQkJCSRyb3c9JyInKyRzaXRlLlVybCsnIiwiJyskc2l0ZUFkbWluLkxvZ2luTmFtZSsnIiwiJyskc2l0ZS5JRCsnIiwiJyskbm93KyciJwoJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJCX0KCQkJY2F0Y2ggewoJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCX0KCQkJZmluYWxseSB7CQkKCQkJfQoJCX0gI2ZvcmVhY2ggc2l0ZSBhZG1pbgoJfSAjcHJvY2VzcwoJRU5EIHsKCQkkc2l0ZS5kaXNwb3NlKCkKCX0gI2VuZAogfQogCmZ1bmN0aW9uIEludmVudG9yeS1TUFNpdGVDb2xsZWN0aW9uRmVhdHVyZXMgewoJW2NtZGxldGJpbmRpbmcoKV0KCXBhcmFtICgKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJFNpdGUsCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRMb2dGaWxlUHJlZml4LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlcgoJKSAjcGFyYW0KCUJFR0lOIHsKICAgICAgICAkbm93PWdldC1kYXRlCgkJJEFyZWE9IlNpdGUgQ29sbGVjdGlvbiBGZWF0dXJlcyIKCQlXcml0ZS1Ib3N0ICIgICAgICAgICAgSW52ZW50b3J5aW5nIFNpdGUgQ29sbGVjdGlvbiBGZWF0dXJlcyBpbiAkKCRTaXRlLnVybCkiCgkJJGxvZ2ZpbGVuYW1lPSgkRGVzdGluYXRpb25Gb2xkZXIgKyAiXCIgKyAkTG9nRmlsZVByZWZpeCArICJTaXRlQ29sbGVjdGlvbkZlYXR1cmVzLmNzdiIpCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIlNpdGVDb2xsZWN0aW9uIiwiV2ViVXJsIiwiU2NyaXB0UnVuRGF0ZSIsIkZlYXR1cmVJRCIsIlNlYXJjaGVkU2NvcGUiJwoJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lCgkJfQoJCSRmZWF0dXJlcz0kc2l0ZS5GZWF0dXJlcwoJfSAjYmVnaW4KCVBST0NFU1MgewoJCWZvcmVhY2ggKCRmZWF0dXJlIGluICRmZWF0dXJlcykgeyAKCQkJdHJ5IHsKCQkJCSRMb2NhdGlvbj0kc2l0ZS5VcmwKCQkJCSRyb3c9JycgCgkJCQkkcm93PSciJyskc2l0ZS5VcmwrJyIsIk5BIiwiJyskbm93KyciLCInKyRmZWF0dXJlLkRlZmluaXRpb25JZCsnIiwiU2l0ZSInCgkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKCQkJfQoJCQljYXRjaCB7CgkJCQlSZWNvcmQtRXJyb3IgJExvY2F0aW9uICRBcmVhICRlcnJvclswXSAkTG9nRmlsZVByZWZpeCAkRGVzdGluYXRpb25Gb2xkZXIKCQkJfQoJCQlmaW5hbGx5IHsJCQoJCQl9CgkJfSAjZm9yZWFjaCBzaXRlIGFkbWluCgl9ICNwcm9jZXNzCglFTkQgewoJCSRzaXRlLmRpc3Bvc2UoKQoJfSAjZW5kCiB9CiAgCmZ1bmN0aW9uIEludmVudG9yeS1TUFdlYnMgewoJW2NtZGxldGJpbmRpbmcoKV0KCXBhcmFtICgKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJFNpdGUsCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRMb2dGaWxlUHJlZml4LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlciwKCQlbc3dpdGNoXSRJbnZlbnRvcnlXZWJXb3JrZmxvd0Fzc29jaWF0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlXZWJTaXplLAoJCVtzd2l0Y2hdJEludmVudG9yeVNpdGVDb250ZW50VHlwZXMsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViUGVybWlzc2lvbnMsCgkJW3N3aXRjaF0kSW52ZW50b3J5V2ViRmVhdHVyZXMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdHMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RDb250ZW50VHlwZXMsCgkJW3N3aXRjaF0kSW52ZW50b3J5Q29udGVudFR5cGVXb3JrZmxvd0Fzc29jaWF0aW9ucywKCQlbc3dpdGNoXSRJbnZlbnRvcnlMaXN0RmllbGRzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RWaWV3cywKCQlbc3dpdGNoXSRJbnZlbnRvcnlXZWJQYXJ0cwoJKSAjcGFyYW0KCUJFR0lOIHsKCQkkQXJlYT0iV2ViIgogICAgICAgICRub3c9Z2V0LWRhdGUKCQlXcml0ZS1Ib3N0ICIgICAgICAgICAgSW52ZW50b3J5aW5nIFdlYnMgaW4gJCgkU2l0ZS51cmwpIgoJCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiV2Vicy5jc3YiKQoJCWlmICgtbm90ICh0ZXN0LXBhdGggJGxvZ2ZpbGVuYW1lKSkgewoJCQkkcm93ID0gJyJTaXRlQ29sbGVjdGlvbiIsIldlYlRlbXBsYXRlIiwiV2ViVGVtcGxhdGVJRCIsIldlYlVybCIsIldlYlRoZW1lIiwiV2ViSXNSb290IiwiV2ViTGFzdEl0ZW1Nb2RpZmllZERhdGUiLCJTY3JpcHRSdW5EYXRlIiwiV2ViR1VJRCIsIlNpdGVHVUlEIiwiUGFyZW50V2ViR1VJRCIsIldlYlNpemUiLCJVSVZlcnNpb24iJwoJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lCgkJfQoJCSR3ZWJzPSRTaXRlLkFsbFdlYnMKCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkd2ViIGluICR3ZWJzKSB7CgkJCXRyeSB7CgkJCQlXcml0ZS1Ib3N0ICIgICAgICAgICAgICBJbnZlbnRvcnlpbmcgV2ViICQoJHdlYi51cmwpIgoJCQkJJHdlYnNpemU9JG51bGwKCQkJCSRMb2NhdGlvbj0kd2ViLlVybAoJCQkJaWYgKCRJbnZlbnRvcnlXZWJTaXplKSB7CgkJCQkJJHdlYnNpemU9KEdldC1TUFdlYlNpemUgLXdlYiAkd2ViIC1pbmNsdWRlc3Vid2VicyAkZmFsc2UpLzFNQgoJCQkJfSAjaWYgaW52ZW50b3J5d2Vic2l6ZQoJCQkJJHJvdz0nIicrJHNpdGUuVXJsKyciLCInKyR3ZWIuV2ViVGVtcGxhdGUrJyIsIicrJHdlYi5XZWJUZW1wbGF0ZUlkKyciLCInKyR3ZWIuVXJsKyciLCInKyR3ZWIuVGhlbWUrJyIsIicrJHdlYi5Jc1Jvb3RXZWIrJyIsIicrJHdlYi5MYXN0SXRlbU1vZGlmaWVkRGF0ZSsnIiwiJyskbm93KyciLCInKyR3ZWIuSUQrJyIsIicrJHNpdGUuSWQrJyIsIicrJHdlYi5wYXJlbnR3ZWIuaWQrJyIsIicrJHdlYnNpemUrJyIsIicrJHdlYi5VSVZlcnNpb24rJyInCgkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKCQkJCWlmICgkSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMpIHsKCQkJCQlJbnZlbnRvcnktV29ya2Zsb3dBc3NvY2lhdGlvbnMgLXNwb2JqZWN0ICR3ZWIgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCQkJfSAjaWYgSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCWlmICgkSW52ZW50b3J5V2ViRmVhdHVyZXMpIHsKCQkJCQlJbnZlbnRvcnktU1BTaXRlRmVhdHVyZXMgLXdlYiAkd2ViIC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIKCQkJCX0gI2lmIEludmVudG9yeVdlYkZlYXR1cmVzCgkJCQlpZiAoJEludmVudG9yeVNpdGVDb250ZW50VHlwZXMgLW9yCgkJCQkJJEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCSkgewoJCQkJCSN0b2RvIGxvb2sgZm9yIHdmIGFzc29jaWF0aW9ucyBhdCBzaXRlIGNvbnRlbnQgdHlwZSBsZXZlbD8KCQkJCQlXcml0ZS1Ib3N0ICIgICAgICAgICAgICAgIEludmVudG9yeWluZyBDb250ZW50IFR5cGVzIGluIFdlYiAkKCR3ZWIudXJsKSIKCQkJCQlJbnZlbnRvcnktQ29udGVudFR5cGVzIC1TUE9iamVjdCAkd2ViIC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIgLUludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCX0gI2lmIEludmVudG9yeUxpc3Rjb250ZW50VHlwZXMKCQkJCWlmICgKCQkJCQkkSW52ZW50b3J5TGlzdHMgLW9yCgkJCQkJJEludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9ucyAtb3IgCgkJCQkJJEludmVudG9yeUxpc3RGaWVsZHMgLW9yIAoJCQkJCSRJbnZlbnRvcnlMaXN0Vmlld3MgLW9yCgkJCQkJJEludmVudG9yeUxpc3RDb250ZW50VHlwZXMgLW9yCgkJCQkJJEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCSkgewoJCQkJCUludmVudG9yeS1TUExpc3RzIGAKICAgICAgICAgICAgICAgICAgICAgICAgLXdlYiAkd2ViIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggYAogICAgICAgICAgICAgICAgICAgICAgICAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyIGAKCQkJCQkJLUludmVudG9yeUxpc3RXb3JrZmxvd0Fzc29jaWF0aW9uczokSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUludmVudG9yeUxpc3RGaWVsZHM6JEludmVudG9yeUxpc3RGaWVsZHMgYAogICAgICAgICAgICAgICAgICAgICAgICAtSW52ZW50b3J5TGlzdFZpZXdzOiRJbnZlbnRvcnlMaXN0Vmlld3MgYAoJCQkJCQktSW52ZW50b3J5TGlzdENvbnRlbnRUeXBlczokSW52ZW50b3J5TGlzdENvbnRlbnRUeXBlcyBgCgkJCQkJCS1JbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zOiRJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zCgkJCQl9ICNpZiBJbnZlbnRvcnlMaXN0cwoJCQkJaWYgKCRJbnZlbnRvcnlXZWJQYXJ0cykgewoJCQkJCUludmVudG9yeS1TUEZvbGRlcnMgYAogICAgICAgICAgICAgICAgICAgICAgICAtZm9sZGVyICR3ZWIucm9vdGZvbGRlciBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1maWxlcHJvY2Vzc2Z1bmN0aW9uICJJbnZlbnRvcnktV2VicGFydHMiIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggYAogICAgICAgICAgICAgICAgICAgICAgICAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyCgkJCQl9ICNpZiBJbnZlbnRvcnlXZWJQYXJ0cwoJCQkJaWYgKCRJbnZlbnRvcnlXZWJQZXJtaXNzaW9ucykgewoJCQkJCUludmVudG9yeS1TUFdlYlVuaXF1ZVBlcm1pc3Npb25zIC13ZWIgJHdlYiAtTG9nRmlsZVByZWZpeCAkTG9nRmlsZVByZWZpeCAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyCgkJCQl9ICNpZiBJbnZlbnRvcnlXZWJQYXJ0cwoJCQl9ICN0cnkKCQkJY2F0Y2ggewoJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCX0gI2NhdGNoCgkJCWZpbmFsbHkgewoJCQkJJHdlYi5kaXNwb3NlKCkKCQkJfSAjZmluYWxseQoJCX0gI2ZvcmVhY2ggd2ViCgl9ICNwcm9jZXNzCglFTkQgewoJfSAjZW5kCiB9CgpmdW5jdGlvbiBJbnZlbnRvcnktU1BXZWJVbmlxdWVQZXJtaXNzaW9ucyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kd2ViLAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIKCSkKCUJFR0lOIHsKCQkkQXJlYT0iU2l0ZSBHcm91cHMiCgkJV3JpdGUtSG9zdCAiICAgICAgICAgICAgICBJbnZlbnRvcnlpbmcgR3JvdXBzIGluICQoJHdlYi51cmwpIgoJCSRncm91cHM9JHdlYi5zaXRlZ3JvdXBzCgkJJHVzZXJzPSR3ZWIudXNlcnMKCQkkbG9nZmlsZW5hbWU9KCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIldlYlVuaXF1ZVBlcm1pc3Npb25zLmNzdiIpCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIkxvY2F0aW9uIiwiVXJsIiwiR1VJRCIsIlBhcmVudElEIiwiR3JvdXBOYW1lIiwiVXNlck5hbWUiLCJSb2xlcyInCgkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUKCQl9Cgl9ICNiZWdpbgoJUFJPQ0VTUyB7CgkJaWYgKCR3ZWIuSGFzVW5pcXVlUGVybSkgewoJCQkkTG9jYXRpb249JHdlYi5VcmwKCQkJZm9yZWFjaCAoJGdyb3VwIGluICRncm91cHMpIHsKCQkJCXRyeSB7CgkJCQkJJGdyb3VwTmFtZT0kZ3JvdXAuTmFtZQoJCQkJCSMkZ3JvdXAKCQkJCQkkcm9sZXM9JGdyb3VwLnJvbGVzCgkJCQkJJHJvbGVsaXN0PSRudWxsCgkJCQkJZm9yZWFjaCAoJHJvbGUgaW4gJHJvbGVzKSB7CgkJCQkJCSRyb2xlbGlzdCs9KCRyb2xlLk5hbWUgKyAiOyIpCgkJCQkJfSAjZm9yZWFjaCByb2xlCgkJCQkJZm9yZWFjaCAoJG1lbWJlciBpbiAkZ3JvdXAudXNlcnMpIHsKCQkJCQkJJHVzZXJOYW1lPSRtZW1iZXIubG9naW5uYW1lCgkJCQkJCSRyb3c9JycKCQkJCQkJJHJvdz0nIicrIldlYiIrJyIsIicrJHdlYi51cmwrJyIsIicrJHdlYi5pZCsnIiwiJyskd2ViLnBhcmVudHdlYmlkKyciLCInKyRncm91cE5hbWUrJyIsIicrJHVzZXJOYW1lKyciLCInKyRyb2xlbGlzdCsnIicKCQkJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJCQkJfSAjZm9yZWFjaCBncm91cG1lbWJlcgoJCQkJfSAjdHJ5CgkJCQljYXRjaCB7CgkJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCQl9ICNjYXRjaAoJCQl9ICNmb3JlYWNoIGdyb3VwCgkJCWZvcmVhY2ggKCR1c2VyIGluICR1c2VycykgewoJCQkJdHJ5IHsKCQkJCQkkZ3JvdXBOYW1lPSIiCgkJCQkJJHVzZXJOYW1lPSR1c2VyLmxvZ2lubmFtZQoJCQkJCSRyb2xlbGlzdD0kbnVsbAoJCQkJCSRyb2xlcz0kdXNlci5yb2xlcwoJCQkJCWZvcmVhY2ggKCRyb2xlIGluICRyb2xlcykgewoJCQkJCQkkcm9sZWxpc3QrPSgkcm9sZS5OYW1lICsgIjsiKQoJCQkJCX0gI2ZvcmVhY2ggcm9sZQoJCQkJCSRyb3c9JycKCQkJCQkkcm93PSciJysiV2ViIisnIiwiJyskd2ViLnVybCsnIiwiJyskd2ViLmlkKyciLCInKyR3ZWIucGFyZW50d2ViaWQrJyIsIicrJGdyb3VwTmFtZSsnIiwiJyskdXNlck5hbWUrJyIsIicrJHJvbGVsaXN0KyciJwoJCQkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUgLWFwcGVuZAoJCQkJfSAjdHJ5CgkJCQljYXRjaCB7CgkJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCQl9ICNjYXRjaAoJCQl9ICNmb3JlYWNoIHVzZXIKCQl9ICNpZiB3ZWIgaGFzIHVuaXF1ZSBwZXJtaXNzaW9ucwoJCUludmVudG9yeS1TUExpc3RVbmlxdWVQZXJtaXNzaW9ucyAtd2ViICR3ZWIgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJfSAjcHJvY2VzcwoJRU5EIHsKCQkkd2ViLmRpc3Bvc2UoKQoJfSAjZW5kCn0KCmZ1bmN0aW9uIEludmVudG9yeS1TUExpc3RVbmlxdWVQZXJtaXNzaW9ucyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kd2ViLAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIKCSkgI3BhcmFtCglCRUdJTiB7CgkJJEFyZWE9Ikxpc3QgVW5pcXVlIFBlcm1pc3Npb25zIgoJCSRsaXN0cz0kd2ViLmxpc3RzCgkJJExvY2F0aW9uPSR3ZWIudXJsCgkJV3JpdGUtSG9zdCAiICAgICAgICAgICAgICBJbnZlbnRvcnlpbmcgTGlzdCwgSXRlbSwgYW5kIEZvbGRlciBVbmlxdWUgUGVybWlzc2lvbnMgaW4gJCgkd2ViLnVybCkiCgl9ICNiZWdpbgoJUFJPQ0VTUyB7CgkJZm9yZWFjaCAoJGxpc3QgaW4gJGxpc3RzKSB7CgkJCXRyeSB7CiAgICAgICAgICAgICAgICBpZiAoJGxpc3QuSGFzVW5pcXVlUm9sZUFzc2lnbm1lbnRzKSB7CiAgICAJCQkJJFVybCA9ICgkbGlzdC5wYXJlbnR3ZWIudXJsKyRsaXN0LnVybCkKICAgICAgICAgICAgICAgICAgICAkSWQ9JGxpc3QuaWQKICAgIAkJCQkkcGFyZW50SWQ9JGxpc3QucGFyZW50d2ViLmlkCiAgICAJCQkJJHBhcmVudFdlYklEPSRsaXN0LnBhcmVudHdlYi5pZAogICAgCQkJCVJlY29yZC1Sb2xlRGVmaW5pdGlvbkJpbmRpbmdzIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVNQT2JqZWN0ICRsaXN0IGAKICAgICAgICAgICAgICAgICAgICAgICAgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggYAogICAgICAgICAgICAgICAgICAgICAgICAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUxvY2F0aW9uICRBcmVhIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVVybCAkVXJsIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUlkICRJZCBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1wYXJlbnRJZCAkcGFyZW50SWQgYAogICAgICAgICAgICAgICAgICAgICAgICAtcGFyZW50V2ViSWQgJHBhcmVudFdlYklkCiAgICAJCQl9ICNpZiB1bmlxdWUgcGVybWlzc2lvbnMKICAgICAgICAgICAgfSAjdHJ5CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFJlY29yZC1FcnJvciAkTG9jYXRpb24gJEFyZWEgJGVycm9yWzBdICRMb2dGaWxlUHJlZml4ICREZXN0aW5hdGlvbkZvbGRlcgogICAgICAgICAgICB9ICNjYXRjaAogICAgICAgICAgICBmaW5hbGx5IHsKICAgICAgICAgICAgCiAgICAgICAgICAgIH0gI2ZpbmFsbHkKICAgICAgICB9ICNmb3JlYWNoIGxpc3QKCQlJbnZlbnRvcnktU1BJdGVtVW5pcXVlUGVybWlzc2lvbnMgLWxpc3QgJGxpc3QgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCUludmVudG9yeS1TUEZvbGRlclVuaXF1ZVBlcm1pc3Npb25zIC1saXN0ICRsaXN0IC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIKCX0gI3Byb2Nlc3MKCUVORCB7CgkJJHdlYi5kaXNwb3NlKCkKCX0gI2VuZAp9CgpmdW5jdGlvbiBJbnZlbnRvcnktU1BJdGVtVW5pcXVlUGVybWlzc2lvbnMgewoJW2NtZGxldGJpbmRpbmcoKV0KCXBhcmFtICgKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJGxpc3QsCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRMb2dGaWxlUHJlZml4LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlcgoJKSAjcGFyYW0KCUJFR0lOIHsKCQkkQXJlYT0iSXRlbSBVbmlxdWUgUGVybWlzc2lvbnMiCgkJJGl0ZW1zPSRsaXN0Lml0ZW1zCgkJJExvY2F0aW9uPSRsaXN0LnVybAoJfSAjYmVnaW4KCVBST0NFU1MgewoJCWZvcmVhY2ggKCRpdGVtcyBpbiAkaXRlbXMpIHsKCQkJdHJ5IHsKCQkJCWlmICgkaXRlbS5IYXNVbmlxdWVSb2xlQXNzaWdubWVudHMpIHsKCQkJCQkkVXJsPSgkaXRlbS5wYXJlbnRsaXN0LnBhcmVudHdlYi51cmwgKyIvIiskaXRlbS51cmwpCgkJCQkJJElkPSRpdGVtLlVuaXF1ZUlkCgkJCQkJJHBhcmVudElkPSRpdGVtLnBhcmVudGxpc3QuaWQKCQkJCQkkcGFyZW50V2ViSUQ9JGl0ZW0ucGFyZW50bGlzdC5wYXJlbnR3ZWIuaWQKCQkJCQlSZWNvcmQtUm9sZURlZmluaXRpb25CaW5kaW5ncyBgCgkJCQkJCS1TUE9iamVjdCAkaXRlbSBgCgkJCQkJCS1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IGAKCQkJCQkJLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlciBgCgkJCQkJCS1Mb2NhdGlvbiAkQXJlYSBgCgkJCQkJCS1VcmwgJFVybCBgCgkJCQkJCS1JZCAkSWQgYAoJCQkJCQktcGFyZW50SWQgJHBhcmVudElkIGAKCQkJCQkJLXBhcmVudFdlYklkICRwYXJlbnRXZWJJZAoJCQkJfSAjaWYgdW5pcXVlIHBlcm1pc3Npb25zCgkJCX0gI3RyeQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBSZWNvcmQtRXJyb3IgJExvY2F0aW9uICRBcmVhICRlcnJvclswXSAkTG9nRmlsZVByZWZpeCAkRGVzdGluYXRpb25Gb2xkZXIKICAgICAgICAgICAgfSAjY2F0Y2gKCQl9ICNmb3JlYWNoIGl0ZW0KCX0gI3Byb2Nlc3MKCUVORCB7fSAjZW5kCn0KCmZ1bmN0aW9uIEludmVudG9yeS1TUEZvbGRlclVuaXF1ZVBlcm1pc3Npb25zIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRsaXN0LAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIKCSkgI3BhcmFtCglCRUdJTiB7CgkJJExvY2F0aW9uPSJGb2xkZXIiCgkJJGZvbGRlcnM9JGxpc3QuZm9sZGVycwoJfSAjYmVnaW4KCVBST0NFU1MgewoJCWZvcmVhY2ggKCRmb2xkZXIgaW4gJGZvbGRlcnMpIHsKCQkJaWYgKCRmb2xkZXIuSGFzVW5pcXVlUm9sZUFzc2lnbm1lbnRzKSB7CgkJCQkkVXJsPSgkZm9sZGVyLnBhcmVudGxpc3QucGFyZW50d2ViLnVybCArIi8iKyRmb2xkZXIudXJsKQoJCQkJJElkPSRmb2xkZXIuVW5pcXVlSWQKCQkJCSRwYXJlbnRJZD0kZm9sZGVyLnBhcmVudGxpc3QuaWQKCQkJCSRwYXJlbnRXZWJJRD0kZm9sZGVyLnBhcmVudGxpc3QucGFyZW50d2ViLmlkCgkJCQlSZWNvcmQtUm9sZURlZmluaXRpb25CaW5kaW5ncyBgCiAgICAgICAgICAgICAgICAgICAgLVNQT2JqZWN0ICRmb2xkZXIgYAogICAgICAgICAgICAgICAgICAgIC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IGAKICAgICAgICAgICAgICAgICAgICAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyIGAKICAgICAgICAgICAgICAgICAgICAtTG9jYXRpb24gJExvY2F0aW9uIGAKICAgICAgICAgICAgICAgICAgICAtVXJsICRVcmwgYAogICAgICAgICAgICAgICAgICAgIC1JZCAkSWQgYAogICAgICAgICAgICAgICAgICAgIC1wYXJlbnRJZCAkcGFyZW50SWQgYAogICAgICAgICAgICAgICAgICAgIC1wYXJlbnRXZWJJZCAkcGFyZW50V2ViSWQKCQkJfSAjaWYgdW5pcXVlIHBlcm1pc3Npb25zCgkJfSAjZm9yZWFjaCBmb2xkZXIKCX0gI3Byb2Nlc3MKCUVORCB7fSAjZW5kCn0KCmZ1bmN0aW9uIFJlY29yZC1Sb2xlRGVmaW5pdGlvbkJpbmRpbmdzIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRTUE9iamVjdCwgI2NhbiBiZSBsaXN0LGZvbGRlcixpdGVtIHNvIGl0IGlzIG5vdCBzdHJvbmdseSB0eXBlZAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIsCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtzdHJpbmddJExvY2F0aW9uLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSRVcmwsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtzdHJpbmddJElkLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSRwYXJlbnRJZCwKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kcGFyZW50V2ViSWQKICAgICkKCUJFR0lOIHsKCQkkbG9nZmlsZW5hbWU9KCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIlJvbGVBc3NpZ25tZW50cy5jc3YiKQoJCSRyb2xlQXNzaWdubWVudD0kU1BPYmplY3Qucm9sZWFzc2lnbm1lbnRzCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIkxvY2F0aW9uIiwiVXJsIiwiR1VJRCIsIlBhcmVudElEIiwiUGFyZW50V2ViSUQiLCJNZW1iZXIiLCJSb2xlIicKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCX0KCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkcm9sZUFzc2lnbm1lbnQgaW4gJHJvbGVBc3NpZ25tZW50KSB7CgkJCSRtZW1iZXI9JHJvbGVBc3NpZ25tZW50Lk1lbWJlcgoJCQkkUm9sZURlZmluaXRpb249IiIKCQkJJHJvbGVEZWZpbml0aW9uQmluZGluZ3M9JHJvbGVBc3NpZ25tZW50LlJvbGVEZWZpbml0aW9uQmluZGluZ3MKCQkJZm9yZWFjaCAoJHJvbGVEZWZpbml0aW9uQmluZGluZyBpbiAkcm9sZURlZmluaXRpb25CaW5kaW5ncykgewoJCQkJJFJvbGVEZWZpbml0aW9uKz0oJHJvbGVEZWZpbml0aW9uQmluZGluZy5OYW1lICsgIjsiKQoJCQl9ICNmb3JlYWNoIFJvbGVEZWZpbml0aW9uQmluZGluZwoJCQkkcm93PScnCgkJCSRyb3c9JyInKyRMb2NhdGlvbisnIiwiJyskVXJsKyciLCInKyRJZCsnIiwiJyskcGFyZW50SWQrJyIsIicrJHBhcmVudFdlYklkKyciLCInKyRNZW1iZXIrJyIsIicrJFJvbGVEZWZpbml0aW9uKyciJwoJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKCQl9ICNmb3JlYWNoIFJvbGVBc3NpZ25tZW50Cgl9ICNwcm9jZXNzCglFTkQge30gI2VuZAp9CgpmdW5jdGlvbiBJbnZlbnRvcnktU1BMaXN0cyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kd2ViLAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RGaWVsZHMsCgkJW3N3aXRjaF0kSW52ZW50b3J5TGlzdFZpZXdzLAoJCVtzd2l0Y2hdJEludmVudG9yeUxpc3RDb250ZW50VHlwZXMsCgkJW3N3aXRjaF0kSW52ZW50b3J5Q29udGVudFR5cGVXb3JrZmxvd0Fzc29jaWF0aW9ucwoJKSAjcGFyYW0KCUJFR0lOIHsKCQkkQXJlYT0iTGlzdHMiCiAgICAgICAgJG5vdz1nZXQtZGF0ZQoJCVdyaXRlLUhvc3QgIiAgICAgICAgICAgICAgSW52ZW50b3J5aW5nIExpc3RzIGluICQoJHdlYi51cmwpIgoJCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiTGlzdHMuY3N2IikKCQlpZiAoLW5vdCAodGVzdC1wYXRoICRsb2dmaWxlbmFtZSkpIHsKCQkJI3RvZG8gZ2V0IHN5c3RlbWxpc3Rwcm9wZXJ0eSBpZiBwb3NzaWJsZQoJCQkkcm93ID0gJyJMaXN0TmFtZSIsIlJvb3RGb2xkZXIiLCJXZWJVcmwiLCJJdGVtQ291bnQiLCJMaXN0VGVtcGxhdGUiLCJMaXN0TGFzdE1vZGlmaWVkIiwiRW1haWxBbGlhcyIsIkVuYWJsZVZlcnNpb25pbmciLCJFbmFibGVNaW5vclZlcnNpb25zIiwiTWFqb3JWZXJzaW9uTGltaXQiLCJNYWpvcldpdGhNaW5vclZlcnNpb25zTGltaXQiLExpc3RJRCInIAoJCQkkcm93IHwgIG91dC1maWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJfQoJCSRsaXN0cz0kd2ViLmxpc3RzCgl9ICNiZWdpbgoJUFJPQ0VTUyB7CgkJZm9yZWFjaCAoJGxpc3QgaW4gJGxpc3RzKSB7CgkJCXRyeSB7CgkJCQl3cml0ZS1ob3N0ICIgICAgICAgICAgICAgICAgSW52ZW50b3J5aW5nICQoJGxpc3QudGl0bGUpIgoJCQkJJHRoaXNMaXN0VGl0bGU9JGxpc3QudGl0bGUKICAgICAgICAgICAgICAgICRMb2NhdGlvbj0oJHdlYi5VcmwrJGxpc3QuUm9vdEZvbGRlcikKCQkJCSRQYXR0ZXJuID0gJyInCgkJCQkkdGhpc0xpc3RUaXRsZSA9IFtyZWdleF06OnJlcGxhY2UoJHRoaXNMaXN0VGl0bGUsICRQYXR0ZXJuLCAnJykKCQkJCSRyb3c9JyInKyR0aGlzTGlzdFRpdGxlKyciLCInKyRsaXN0LlJvb3RGb2xkZXIrJyIsIicrJHdlYi5VcmwrJyIsIicrJGxpc3QuSXRlbUNvdW50KyciLCInKyRsaXN0LkJhc2VUZW1wbGF0ZSsnIiwiJyskbGlzdC5MYXN0SXRlbU1vZGlmaWVkRGF0ZSsnIiwiJyskbGlzdC5FbWFpbEFsaWFzKyciLCInKyRsaXN0LkVuYWJsZVZlcnNpb25pbmcrJyIsIicrJGxpc3QuRW5hYmxlTWlub3JWZXJzaW9ucysnIiwiJyskbGlzdC5NYWpvclZlcnNpb25MaW1pdCsnIiwiJyskbGlzdC5NYWpvcldpdGhNaW5vclZlcnNpb25zTGltaXQrJyIsIicrJGxpc3QuaWQrJyInCgkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKCQkJCWlmICgkSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zKSB7CgkJCQkJSW52ZW50b3J5LVdvcmtmbG93QXNzb2NpYXRpb25zIC1zcG9iamVjdCAkbGlzdCAtTG9nRmlsZVByZWZpeCAkTG9nRmlsZVByZWZpeCAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyCgkJCQl9ICNpZiBJbnZlbnRvcnlMaXN0V29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCWlmICgkSW52ZW50b3J5TGlzdEZpZWxkcykgewoJCQkJCUludmVudG9yeS1TUExpc3RGaWVsZHMgLWxpc3QgJGxpc3QgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCQkJfSAjaWYgSW52ZW50b3J5TGlzdEZpZWxkcwoJCQkJaWYgKCRJbnZlbnRvcnlMaXN0Vmlld3MpIHsKCQkJCQlJbnZlbnRvcnktU1BMaXN0Vmlld3MgLWxpc3QgJGxpc3QgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCQkJfSAjaWYgSW52ZW50b3J5TGlzdFZpZXdzCgkJCQlpZiAoCgkJCQkJJEludmVudG9yeUxpc3RDb250ZW50VHlwZXMgLW9yCgkJCQkJJEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCSkgewoJCQkJCXdyaXRlLWhvc3QgIiAgICAgICAgICAgICAgICAgIEludmVudG9yeWluZyBDb250ZW50IFR5cGVzIGluICQoJGxpc3QudGl0bGUpIgoJCQkJCUludmVudG9yeS1Db250ZW50VHlwZXMgLVNQT2JqZWN0ICRsaXN0IC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIgLUludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnM6JEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMKCQkJCX0gI2lmIEludmVudG9yeUxpc3Rjb250ZW50VHlwZXMKCQkJfSAjdHJ5CgkJCWNhdGNoIHsKCQkJCVJlY29yZC1FcnJvciAkTG9jYXRpb24gJEFyZWEgJGVycm9yWzBdICRMb2dGaWxlUHJlZml4ICREZXN0aW5hdGlvbkZvbGRlcgoJCQl9ICNjYXRjaAoJCQlmaW5hbGx5IHsKCQkJCSR3ZWIuZGlzcG9zZSgpCgkJCX0gI2ZpbmFsbHkKCQl9ICNmb3JlYWNoIHdlYgoJfSAjcHJvY2VzcwoJRU5EIHsKCQkjJHdlYi5kaXNwb3NlKCkKCX0gI2VuZAogfQoKZnVuY3Rpb24gSW52ZW50b3J5LVNQTGlzdEZpZWxkcyB7CglbY21kbGV0YmluZGluZygpXQoJcGFyYW0gKAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kbGlzdCwKCQlbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJExvZ0ZpbGVQcmVmaXgsCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtzdHJpbmddJERlc3RpbmF0aW9uRm9sZGVyCgkpICNwYXJhbQoJQkVHSU4gewoJCSRBcmVhPSJMaXN0RmllbGRzIgogICAgICAgICRMb2NhdGlvbj0oJGxpc3QucGFyZW50d2ViLlVybCskbGlzdC5Sb290Rm9sZGVyKQogICAgICAgICRub3c9Z2V0LWRhdGUKCQlXcml0ZS1Ib3N0ICIgICAgICAgICAgICAgICAgICBJbnZlbnRvcnlpbmcgZmllbGRzIGluICQoJGxpc3QudGl0bGUpIgoJCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiTGlzdEZpZWxkcy5jc3YiKQoJCWlmICgtbm90ICh0ZXN0LXBhdGggJGxvZ2ZpbGVuYW1lKSkgewoJCQkkcm93ID0gJyJGaWVsZE5hbWUiLCJMaXN0RGVmYXVsdFVybCIsIlZpZXdVcmwiLCJXZWJVcmwiLCJGaWVsZFR5cGUiLCJMaXN0SUQiJyAKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJfQoJCSRmaWVsZHM9JGxpc3QuZmllbGRzCgl9ICNiZWdpbgoJUFJPQ0VTUyB7CgkJZm9yZWFjaCAoJGZpZWxkIGluICRmaWVsZHMpIHsKCQkJdHJ5IHsKCQkJCSRQYXR0ZXJuID0gJyInCgkJCQkkdGhpc0ZpZWxkVGl0bGU9JGZpZWxkLlRpdGxlCgkJCQkkdGhpc0ZpZWxkVGl0bGU9W3JlZ2V4XTo6cmVwbGFjZSgkdGhpc0ZpZWxkVGl0bGUsICRQYXR0ZXJuLCAnJykKCQkJCSRyb3c9JyInKyR0aGlzRmllbGRUaXRsZSsnIiwiJyskbGlzdC5EZWZhdWx0Vmlld1VybCsnIiwiJyskbGlzdC5EZWZhdWx0Vmlld1VybCsnIiwiJyskbGlzdC5wYXJlbnR3ZWIuVXJsKyciLCInKyRmaWVsZC5UeXBlQXNTdHJpbmcrJyIsIicrJGxpc3QuaWQrJyInCgkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKCQkJfSAjdHJ5CgkJCWNhdGNoIHsKCQkJCVJlY29yZC1FcnJvciAkTG9jYXRpb24gJEFyZWEgJGVycm9yWzBdICRMb2dGaWxlUHJlZml4ICREZXN0aW5hdGlvbkZvbGRlcgoJCQl9ICNjYXRjaAoJCQlmaW5hbGx5IHsKCQkJCSMkd2ViLmRpc3Bvc2UoKQoJCQl9ICNmaW5hbGx5CgkJfSAjZm9yZWFjaCB3ZWIKCX0gI3Byb2Nlc3MKCUVORCB7CgkKCX0gI2VuZAogfQoKZnVuY3Rpb24gSW52ZW50b3J5LVNQTGlzdFZpZXdzIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRsaXN0LAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIKCSkgI3BhcmFtCglCRUdJTiB7CgkJJEFyZWE9Ikxpc3RWaWV3cyIKICAgICAgICAkTG9jYXRpb249KCR3ZWIuVXJsKyRsaXN0LlJvb3RGb2xkZXIpCiAgICAgICAgJG5vdz1nZXQtZGF0ZQoJCVdyaXRlLUhvc3QgIiAgICAgICAgICAgICAgICAgIEludmVudG9yeWluZyB2aWV3cyBpbiAkKCRsaXN0LnRpdGxlKSIKCQkkbG9nZmlsZW5hbWU9KCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIkxpc3RWaWV3cy5jc3YiKQoJCWlmICgtbm90ICh0ZXN0LXBhdGggJGxvZ2ZpbGVuYW1lKSkgewoJCQkkcm93ID0gJyJWaWV3TmFtZSIsIkxpc3REZWZhdWx0VXJsIiwiVmlld1VybCIsIldlYlVybCIsIlZpZXdSb3dsaW1pdCIsIlZpZXdQYWdlZCIsIlZpZXdUeXBlIiwiTGlzdElEIicgCgkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUgLWFwcGVuZAoJCX0KCQkkdmlld3M9JGxpc3Qudmlld3MKCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkdmlldyBpbiAkdmlld3MpIHsKCQkJdHJ5IHsKCQkJCSRyb3c9JycKCQkJCSR2aWV3VHlwZT0nJwoJCQkJW3htbF0kdmlld3Byb3A9JHZpZXcucHJvcGVydGllc1htbAoJCQkJJHZpZXdUeXBlPSR2aWV3cHJvcC5WaWV3LlR5cGUKCQkJCSR0aGlzVmlld1RpdGxlPSR2aWV3LlRpdGxlCgkJCQkkUGF0dGVybiA9ICciJwoJCQkJJHRoaXNWaWV3VGl0bGU9W3JlZ2V4XTo6cmVwbGFjZSgkdGhpc1ZpZXdUaXRsZSwgJFBhdHRlcm4sICcnKQoJCQkJJHJvdz0nIicrJHRoaXNWaWV3VGl0bGUrJyIsIicrJGxpc3QuRGVmYXVsdFZpZXdVcmwrJyIsIicrJHZpZXcuVXJsKyciLCInKyR3ZWIuVXJsKyciLCInKyR2aWV3LlJvd0xpbWl0KyciLCInKyR2aWV3LlBhZ2VkKyciLCInKyR2aWV3VHlwZSsnIiwiJyskbGlzdC5pZCsnIicKCQkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUgLWFwcGVuZAoJCQl9ICN0cnkKCQkJY2F0Y2ggewoJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCX0gI2NhdGNoCgkJCWZpbmFsbHkgewoJCQkJIyR3ZWIuZGlzcG9zZSgpCgkJCX0gI2ZpbmFsbHkKCQl9ICNmb3JlYWNoIHdlYgoJfSAjcHJvY2VzcwoJRU5EIHsKCQoJfSAjZW5kCiB9CiAKZnVuY3Rpb24gSW52ZW50b3J5LVNQU2l0ZUZlYXR1cmVzIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSR3ZWIsCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRMb2dGaWxlUHJlZml4LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlcgoJKSAjcGFyYW0KCUJFR0lOIHsKICAgICAgICAkbm93PWdldC1kYXRlCgkJJEFyZWE9IlNpdGUgRmVhdHVyZXMiCgkJJExvY2F0aW9uPSR3ZWIudXJsCgkJV3JpdGUtSG9zdCAiICAgICAgICAgICAgICBJbnZlbnRvcnlpbmcgU2l0ZSBGZWF0dXJlcyBpbiAkKCR3ZWIudXJsKSIKCQkkbG9nZmlsZW5hbWU9KCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIlNpdGVGZWF0dXJlcy5jc3YiKQoJCWlmICgtbm90ICh0ZXN0LXBhdGggJGxvZ2ZpbGVuYW1lKSkgewoJCQkkcm93ID0gJyJTaXRlQ29sbGVjdGlvbiIsIldlYlVybCIsIlNjcmlwdFJ1bkRhdGUiLCJGZWF0dXJlSUQiLCJTZWFyY2hlZFNjb3BlIicKCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCX0KCQkkZmVhdHVyZXM9JHdlYi5GZWF0dXJlcwoJfSAjYmVnaW4KCVBST0NFU1MgewoJCWZvcmVhY2ggKCRmZWF0dXJlIGluICRmZWF0dXJlcykgeyAKCQkJdHJ5IHsKCQkJCSRyb3c9JycgCgkJCQkkcm93PSciJyskd2ViLnNpdGUuVXJsKyciLCInKyR3ZWIudXJsKyciLCInKyRub3crJyIsIicrJGZlYXR1cmUuRGVmaW5pdGlvbklkKyciLCJXZWIiJwoJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJCX0KCQkJY2F0Y2ggewoJCQkJUmVjb3JkLUVycm9yICRMb2NhdGlvbiAkQXJlYSAkZXJyb3JbMF0gJExvZ0ZpbGVQcmVmaXggJERlc3RpbmF0aW9uRm9sZGVyCgkJCX0KCQkJZmluYWxseSB7CQkKCQkJfQoJCX0gI2ZvcmVhY2ggc2l0ZSBhZG1pbgoJfSAjcHJvY2VzcwoJRU5EIHsKCQkkd2ViLmRpc3Bvc2UoKQoJfSAjZW5kCiB9CiAKZnVuY3Rpb24gUmVjb3JkLUVycm9yKCRMb2NhdGlvbiwgJEFyZWEsICRFcnIsICRMb2dGaWxlUHJlZml4LCAkRGVzdGluYXRpb25Gb2xkZXIpIHsKCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiRXJyb3JGaWxlLnR4dCIpCiAgICB3cml0ZS1ob3N0ICJlcnJvciByZWNvcmRlZCIgLWYgcmVkCgkkcm93PSJMb2NhdGlvbjoiKyRMb2NhdGlvbgoJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkkcm93PSJBcmVhOiIrJEFyZWEKCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUgLWFwcGVuZAoJJHJvdz0iRXJyOiIrJEVycgoJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCn0KCmZ1bmN0aW9uIEludmVudG9yeS1TUEZvbGRlcnMgewoJW2NtZGxldGJpbmRpbmcoKV0KICAgIHBhcmFtKAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtNaWNyb3NvZnQuU2hhcmVQb2ludC5TUEZvbGRlcl0gJGZvbGRlciwKCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kZmlsZXByb2Nlc3NmdW5jdGlvbiwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlcgogICAgKSAjUGFyYW0KCUJFR0lOIHsKCQkkc3ViZm9sZGVycz0kZm9sZGVyLlN1YkZvbGRlcnMKCQkkZmlsZXM9JGZvbGRlci5GaWxlcwogICAgICAgICMkcHJvY2Vzc0ZpbGVzID0gKEdldC1jb21tYW5kIC1uYW1lIMOi4oKsxZNJbnZlbnRvcnktV2ViUGFydHPDouKCrMWTIC1Db21tYW5kVHlwZSBGdW5jdGlvbikuU2NyaXB0QmxvY2sKCX0gI2JlZ2luCglQUk9DRVNTIHsKCQkjV3JpdGUtSG9zdCAiICAgICAgICAgICAgICAgICAgQ2hlY2tpbmcgRm9sZGVyICQoJGZvbGRlci5OYW1lKSIKCQlmb3JlYWNoKCRzdWJGb2xkZXIgaW4gJHN1YmZvbGRlcnMpIHsKCQkJSW52ZW50b3J5LVNQRm9sZGVycyBgCiAgICAgICAgICAgICAgICAtZm9sZGVyICRzdWJGb2xkZXIgYAogICAgICAgICAgICAgICAgLWZpbGVwcm9jZXNzZnVuY3Rpb24gJGZpbGVwcm9jZXNzZnVuY3Rpb24gYAogICAgICAgICAgICAgICAgLUxvZ0ZpbGVQcmVmaXggJExvZ0ZpbGVQcmVmaXggYAogICAgICAgICAgICAgICAgLURlc3RpbmF0aW9uRm9sZGVyICREZXN0aW5hdGlvbkZvbGRlcgoJCX0KCQlmb3JlYWNoKCRmaWxlIGluICRmaWxlcykgewogICAgICAgICAgICAjV3JpdGUtSG9zdCAiICAgICAgICAgICAgICAgICAgICBJbnZva2luZyAkZmlsZXByb2Nlc3NmdW5jdGlvbiBmb3IgJCgkZmlsZS5OYW1lKSIKCQkJJiRmaWxlcHJvY2Vzc2Z1bmN0aW9uIC1maWxlICRmaWxlIC1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IC1EZXN0aW5hdGlvbkZvbGRlciAkRGVzdGluYXRpb25Gb2xkZXIKCQl9ICNmb3JlYWNoIGZpbGUKCX0gI3Byb2Nlc3MKCUVORCB7fSAjZW5kCn0KCmZ1bmN0aW9uIEludmVudG9yeS1XZWJQYXJ0cyB7CglbY21kbGV0YmluZGluZygpXQogICAgcGFyYW0oCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXVtNaWNyb3NvZnQuU2hhcmVQb2ludC5TUEZpbGVdICRmaWxlLAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIKICAgICkKCUJFR0lOIHsKCQkkYXNzZW1ibHkgPSBbU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHldOjpMb2FkV2l0aFBhcnRpYWxOYW1lKCJNaWNyb3NvZnQuU2hhcmVQb2ludCIpCiAgICAgICAgJGxpbWl0ZWRTUFdlYlBhcnRNYW5hZ2VyID0gJGFzc2VtYmx5LkdldFR5cGUoIk1pY3Jvc29mdC5TaGFyZVBvaW50LldlYlBhcnRQYWdlcy5TUExpbWl0ZWRXZWJQYXJ0TWFuYWdlciIpOwogICAgICAgICRzcFdlYlBhcnRNYW5hZ2VyID0gJGFzc2VtYmx5LkdldFR5cGUoIk1pY3Jvc29mdC5TaGFyZVBvaW50LldlYlBhcnRQYWdlcy5TUFdlYlBhcnRNYW5hZ2VyIik7CiAgICAgICAgaWYoJGZpbGUuTmFtZS5FbmRzV2l0aCgiLmFzcHgiKSAtYW5kICRmaWxlLkV4aXN0cykgewoJCQkkbGltaXRlZFdQTSA9ICRmaWxlLkdldExpbWl0ZWRXZWJQYXJ0TWFuYWdlcihbU3lzdGVtLldlYi5VSS5XZWJDb250cm9scy5XZWJQYXJ0cy5QZXJzb25hbGl6YXRpb25TY29wZV06OlNoYXJlZCkKCQkJaWYoICRsaW1pdGVkV1BNIC1uZSAkbnVsbCl7CgkJCQkkbG9nZmlsZW5hbWU9KCREZXN0aW5hdGlvbkZvbGRlciArICJcIiArICRMb2dGaWxlUHJlZml4ICsgIldlYlBhcnRzLmNzdiIpCgkJCQlpZiAoLW5vdCAodGVzdC1wYXRoICRsb2dmaWxlbmFtZSkpIHsKCQkJCQkkcm93ID0gJyJXZWJQYXJ0VGl0bGUiLCJXZWJQYXJ0Q2xvc2VkIiwiV2ViVXJsIiwiUGFnZVVybCIsIkJyb3dzZWFibGVPYmplY3QiLCJJbldQWm9uZSInCgkJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZQoJCQkJfQoJCQkJJHdlYnBhcnRzPSRsaW1pdGVkV1BNLldlYlBhcnRzCgkJCX0gI2lmIGxpbWl0ZWQgd2ViIHBhcnQgbWFuYWdlciBpcyBub3QgbnVsbAoJCX0gIyBpZiBhc3B4IGFuZCBleGlzdHMKCX0gI2JlZ2luCglQUk9DRVNTIHsKICAgICAgICBpZiggJGxpbWl0ZWRXUE0gLW5lICRudWxsKXsKICAgIAkJZm9yZWFjaCAoJHdlYnBhcnQgaW4gJHdlYnBhcnRzKSB7CiAgICAgICAgICAgICAgICAjd3JpdGUtaG9zdCAiQ2hlY2tpbmcgJCgkd2VicGFydC50aXRsZSkiCiAgICAJCQkkYmluZGluZ0ZsYWdzID0gW1N5c3RlbS5SZWZsZWN0aW9uLkJpbmRpbmdGbGFnc106OkdldEZpZWxkIC1ib3IgIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpJbnN0YW5jZSAtYm9yIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpOb25QdWJsaWMKICAgIAkJCSR3cE1hbmFnZXIgPSAkbGltaXRlZFNQV2ViUGFydE1hbmFnZXIuSW52b2tlTWVtYmVyKCJtX21hbmFnZXIiLCAkYmluZGluZ0ZsYWdzLCAkbnVsbCwgJGxpbWl0ZWRXUE0sICRudWxsKQogICAgCQkJJGJpbmRpbmdGbGFncyA9IFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpJbnN0YW5jZSAtYm9yIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpJbnZva2VNZXRob2QgLWJvciBbU3lzdGVtLlJlZmxlY3Rpb24uQmluZGluZ0ZsYWdzXTo6Tm9uUHVibGljCiAgICAJCQkkaXNPblBhZ2UgPSAkc3BXZWJQYXJ0TWFuYWdlci5JbnZva2VNZW1iZXIoIklzV2ViUGFydE9uUGFnZSIsICRiaW5kaW5nRmxhZ3MsICRudWxsLCAkd3BNYW5hZ2VyLCAkd2VicGFydCkKICAgIAkJCXRyeSB7CiAgICAJCQkJaWYgKCR3ZWJwYXJ0LkdldFR5cGUoKS5Bc3NlbWJseVF1YWxpZmllZE5hbWUuU3RhcnRzV2l0aCgiTWljcm9zb2Z0LlNoYXJlUG9pbnQuV2ViUGFydFBhZ2VzLkVycm9yV2ViUGFydCIsIFtTeXN0ZW0uU3RyaW5nQ29tcGFyaXNvbl06OkludmFyaWFudEN1bHR1cmVJZ25vcmVDYXNlKSkgewogICAgCQkJCQkjIEJyb2tlbi9NaXNzaW5nIFdlYiBQYXJ0CiAgICAJCQkJCSRhc3NlbWJseVF1YWxpZmllZE5hbWUgPSAibWlzc2luZyI7CiAgICAJCQkJCSR3ZWJQYXJ0VGl0bGUgPSAiRXJyb3IiCiAgICAJCQkJfSAjaWYgZXJyb3Igd2ViIHBhcnQKICAgIAkJCQllbHNlaWYgKCEkd2VicGFydC5HZXRUeXBlKCkuQXNzZW1ibHlRdWFsaWZpZWROYW1lLkVuZHNXaXRoKCJDdWx0dXJlPW5ldXRyYWwsIFB1YmxpY0tleVRva2VuPTcxZTliY2UxMTFlOTQyOWMiLCAgW1N5c3RlbS5TdHJpbmdDb21wYXJpc29uXTo6SW52YXJpYW50Q3VsdHVyZUlnbm9yZUNhc2UpKSB7CiAgICAJCQkJCSMgTm9uLU1pY3Jvc29mdCBhc3NlbWJseQogICAgCQkJCQkkYXNzZW1ibHlRdWFsaWZpZWROYW1lID0gJHdlYnBhcnQuR2V0VHlwZSgpLkFzc2VtYmx5UXVhbGlmaWVkTmFtZTsKICAgIAkJCQkJJHdlYlBhcnRUaXRsZSA9ICR3ZWJwYXJ0LlRpdGxlCiAgICAJCQkJfSAjaWYgbWljcm9zb2Z0IGFzc2VtYmx5CiAgICAJCQkJZWxzZWlmICgkd2VicGFydC5Jc0Nsb3NlZCkgewogICAgCQkJCQkjQ2xvc2VkIFdlYiBQYXJ0CiAgICAJCQkJCSRhc3NlbWJseVF1YWxpZmllZE5hbWUgPSAkd2VicGFydC5HZXRUeXBlKCkuQXNzZW1ibHlRdWFsaWZpZWROYW1lOwogICAgCQkJCQkkd2ViUGFydFRpdGxlID0gJHdlYnBhcnQuVGl0bGUKICAgIAkJCQl9ICN3ZWIgcGFydCBjbG9zZWQKICAgIAkJCQllbHNlaWYgKCEkaXNPblBhZ2UpIHsKICAgIAkJCQkJI1dlYiBQYXJ0IE5vdCBpbiBXUCBNYW5hZ2VyCiAgICAJCQkJCSRhc3NlbWJseVF1YWxpZmllZE5hbWUgPSAkd2VicGFydC5HZXRUeXBlKCkuQXNzZW1ibHlRdWFsaWZpZWROYW1lOwogICAgCQkJCQkkd2ViUGFydFRpdGxlID0gJHdlYnBhcnQuVGl0bGUKICAgIAkJCQl9ICNpZiBub3Qgb24gcGFnZQogICAgCQkJCWlmKCRhc3NlbWJseVF1YWxpZmllZE5hbWUpIHsKICAgIAkJCQkJJHdlYlBhcnRUaXRsZT0kd2VicGFydC5UaXRsZQogICAgCQkJCQkjVE9ETyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgCQkJCQkjZml4IHJlbGF0aXZlIFVSTCB0byBnZXQgdGhlIHdlYiBVUkwKICAgIAkJCQkJJFBhdHRlcm4gPSAnIicKICAgIAkJCQkJJHdlYlBhcnRUaXRsZT0gW3JlZ2V4XTo6cmVwbGFjZSgkd2ViUGFydFRpdGxlLCAnIicsICcnKQogICAgCQkJCQkkcm93ID0gJyInKyR3ZWJQYXJ0VGl0bGUrJyIsIicrJHdlYnBhcnQuSXNDbG9zZWQrJyIsIicrJGZpbGUuUGFyZW50Rm9sZGVyLlBhcmVudFdlYi5VcmwrJyIsIicrJGZpbGUuVXJsKyciLCInKyRhc3NlbWJseVF1YWxpZmllZE5hbWUrJyIsIicrJGlzT25QYWdlKyciJwogICAgCQkJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lIC1hcHBlbmQKICAgIAkJCQl9ICNpZiBhc3NlbWJseXF1YWxpZmllZCBuYW1lCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkd2VicGFydC5HZXRUeXBlKCkuQXNzZW1ibHlRdWFsaWZpZWROYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZW1ibHlRdWFsaWZpZWROYW1lPSR3ZWJwYXJ0LkdldFR5cGUoKS5Bc3NlbWJseVF1YWxpZmllZE5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYXNzZW1ibHlRdWFsaWZpZWROYW1lPSJOb3QgSWRlbnRpZmllZCIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkd2ViUGFydFRpdGxlPSR3ZWJwYXJ0LlRpdGxlCiAgICAJCQkJCSRQYXR0ZXJuID0gJyInCiAgICAJCQkJCSR3ZWJQYXJ0VGl0bGU9IFtyZWdleF06OnJlcGxhY2UoJHdlYlBhcnRUaXRsZSwgJyInLCAnJykKICAgIAkJCQkJJHJvdyA9ICciJyskd2ViUGFydFRpdGxlKyciLCInKyR3ZWJwYXJ0LklzQ2xvc2VkKyciLCInKyRmaWxlLlBhcmVudEZvbGRlci5QYXJlbnRXZWIuVXJsKyciLCInKyRmaWxlLlVybCsnIiwiJyskYXNzZW1ibHlRdWFsaWZpZWROYW1lKyciLCInKyRpc09uUGFnZSsnIicKICAgIAkJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCiAgICAgICAgICAgICAgICAgICAgfSAjZWxzZSBhc3NlbWJseXF1YWxpZmllZG5hbWUKICAgIAkJCX0gI3RyeQogICAgCQkJY2F0Y2ggewogICAgCQkJCSN3cml0ZS1ob3N0ICJlcnIiJGVycm9yWzBdCiAgICAJCQkJIyBOZWVkIHRvIGNhdGNoIHRoaXMgZXJyb3IgCiAgICAJCQkJIyBUaGUgZmllbGQvcHJvcGVydHk6ICJWaWV3SWQiIGZvciB0eXBlOiAiTWljcm9zb2Z0LlNoYXJlUG9pbnQuUG9ydGFsLldlYkNvbnRyb2xzLkNhdGVnb3J5V2ViUGFydCIgZGlmZmVycyBvbmx5IAogICAgCQkJCSMgaW4gY2FzZSBmcm9tIHRoZSBmaWVsZC9wcm9wZXJ0eTogIlZpZXdJRCIuIEZhaWxlZCB0byB1c2Ugbm9uIENMUyBjb21wbGlhbnQgdHlwZS4KICAgIAkJCX0gI2NhdGNoCiAgICAJCQkkYXNzZW1ibHlRdWFsaWZpZWROYW1lID0gJG51bGwKICAgIAkJfSAjZm9yZWFjaCB3ZWJwYXJ0CiAgICAgICAgfSAjaWYgbGltaXRlZHdwbSBpcyBub3QgbnVsbAoJfSAjcHJvY2VzcwoJRU5EIHsKCQlpZiAoJGxpbWl0ZWRXUE0pIHsKCQkJJGxpbWl0ZWRXUE0uRGlzcG9zZSgpCgkJfSAjaWYgbGltaXRlZHdwbQoJfSAjZW5kCn0KCmZ1bmN0aW9uIEdldC1TUFdlYlNpemUgewogICAgcGFyYW0gKAogICAgICAgICR3ZWIsIAogICAgICAgICRpbmRsdWRlc3Vid2VicwogICAgKQoJQkVHSU4gewoJCXdyaXRlLWhvc3QgIiAgICAgICAgICAgICAgQ2FsY3VsYXRpbmcgV2ViIFNpemUgZm9yICQoJHdlYi5VcmwpIgogICAgICAgIFtsb25nXSR0b3RhbCA9IDA7CgkJJGZvbGRlcnM9JHdlYi5Gb2xkZXJzCgl9ICNiZWdpbgogICAgUFJPQ0VTUyB7CiAgICAgICAgZm9yZWFjaCAoJGZvbGRlciBpbiAkZm9sZGVycykgewogICAgICAgICAgICAkdG90YWwgKz0gR2V0LVNQRm9sZGVyU2l6ZSgkZm9sZGVyKQogICAgICAgIH0gI2ZvcmVhY2ggZm9sZGVyCiAgICAgICAgaWYgKCRpbmRsdWRlc3Vid2VicykgewogICAgCQkkd2Vicz0kd2ViLldlYnMKICAgICAgICAgICAgZm9yZWFjaCAoJHN1YndlYiBpbiAkd2VicykgewogICAgICAgICAgICAgICAgJHRvdGFsICs9IChHZXQtU1BXZWJTaXplIC13ZWIgJHN1YndlYiAtaW5jbHVkZXN1YndlYnMgJGluY2x1ZGVzdWJ3ZWJzKQogICAgICAgICAgICAgICAgIyRzdWJ3ZWIuRGlzcG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9ICNpZiBpbmNsdWRlc3Vid2VicwogICAgfSAjcHJvY2VzcwogICAgRU5EIHsKICAgICAgICByZXR1cm4gJHRvdGFsCgkJJHdlYi5kaXNwb3NlKCkKICAgIH0KfQoKZnVuY3Rpb24gR2V0LVNQRm9sZGVyU2l6ZSB7CglbY21kbGV0YmluZGluZygpXQogICAgcGFyYW0gKAogICAgICAgICRmb2xkZXIKICAgICkKICAgIFtsb25nXSRmb2xkZXJTaXplID0gMAogICAgZm9yZWFjaCAoJGZpbGUgaW4gJGZvbGRlci5GaWxlcykgewogICAgICAgICRmb2xkZXJTaXplICs9ICRmaWxlLkxlbmd0aDsgI2J5dGVzCiAgICB9CiAgICBmb3JlYWNoICgkc3ViZm9sZGVyIGluICRmb2xkZXIuU3ViRm9sZGVycykgewogICAgICAgICRmb2xkZXJTaXplICs9IEdldC1TUEZvbGRlclNpemUgLWZvbGRlciAkc3ViZm9sZGVyCiAgICB9ICAgIHJldHVybiAkZm9sZGVyU2l6ZQp9CgpmdW5jdGlvbiBJbnZlbnRvcnktQ29udGVudFR5cGVzIHsKCVtjbWRsZXRiaW5kaW5nKCldCglwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRTUE9iamVjdCwgI2NhbiBiZSBzaXRlLHdlYiBvciBsaXN0IHNvIGl0IGlzIG5vdCBzdHJvbmdseSB0eXBlZAoJCVtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0kTG9nRmlsZVByZWZpeCwKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldW3N0cmluZ10kRGVzdGluYXRpb25Gb2xkZXIsCgkJW3N3aXRjaF0kSW52ZW50b3J5Q29udGVudFR5cGVXb3JrZmxvd0Fzc29jaWF0aW9ucwogICAgKQoJQkVHSU4gewoJCSRBcmVhPSJDb250ZW50IFR5cGVzIgoJCSRMb2NhdGlvbj0kbnVsbAoJCWlmICgkU1BPYmplY3QuVXJsKSB7CgkJCSRMb2NhdGlvbj0kU1BPYmplY3QuVXJsCgkJfSBlbHNlaWYgKCRTUE9iamVjdC5yb290Zm9sZGVyKSB7CgkJCSRMb2NhdGlvbj0oJFNQT2JqZWN0LnBhcmVudHdlYi5VcmwrJFNQT2JqZWN0LlJvb3RGb2xkZXIpCgkJfQoJCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiQ29udGVudFR5cGVzLmNzdiIpCgkJJGNvbnRlbnRUeXBlcz0kU1BPYmplY3QuQ29udGVudFR5cGVzCgkJaWYgKC1ub3QgKHRlc3QtcGF0aCAkbG9nZmlsZW5hbWUpKSB7CgkJCSRyb3cgPSAnIkxvY2F0aW9uIiwiQ29udGVudFR5cGVOYW1lIiwiQ29udGVudFR5cGVHVUlEIiwiUGFyZW50SUQiLCJQYXJlbnRXZWJJRCIsIkhpZGRlbiIsIkdyb3VwIiwiU2NvcGUiJwoJCQkkcm93IHwgT3V0LUZpbGUgJGxvZ2ZpbGVuYW1lCgkJfQoJCSRvYmplY3RUeXBlPSRTUE9iamVjdC5nZXR0eXBlKCkKCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlmb3JlYWNoICgkY29udGVudFR5cGUgaW4gJGNvbnRlbnRUeXBlcykgewoJCQl0cnkgewoJCQkJI1dyaXRlLUhvc3QgIiAgICAgICAgICAgICAgICAgICAgTG9nZ2luZyAkKCRjb250ZW50VHlwZS5OYW1lKSIKCQkJCSRyb3c9JycKCQkJCSRyb3c9JyInKyRvYmplY3RUeXBlKyciLCInKygkY29udGVudFR5cGUuTmFtZSkrJyIsIicrKCRjb250ZW50VHlwZS5pZCkrJyIsIicrKCRjb250ZW50VHlwZS5wYXJlbnQuaWQpKyciLCInKygkY29udGVudFR5cGUucGFyZW50d2ViLmlkKSsnIiwiJysoJGNvbnRlbnRUeXBlLkhpZGRkZW4pKyciLCInKygkY29udGVudFR5cGUuR3JvdXApKyciLCInKygkY29udGVudFR5cGUuU2NvcGUpKyciJwoJCQkJJHJvdyB8IE91dC1GaWxlICRsb2dmaWxlbmFtZSAtYXBwZW5kCgkJCQlpZiAoJEludmVudG9yeUNvbnRlbnRUeXBlV29ya2Zsb3dBc3NvY2lhdGlvbnMpIHsKCQkJCQlJbnZlbnRvcnktV29ya2Zsb3dBc3NvY2lhdGlvbnMgLXNwb2JqZWN0ICRjb250ZW50VHlwZSAtTG9nRmlsZVByZWZpeCAkTG9nRmlsZVByZWZpeCAtRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyCgkJCQl9ICNpZiBJbnZlbnRvcnlDb250ZW50VHlwZVdvcmtmbG93QXNzb2NpYXRpb25zCgkJCX0gI3RyeQoJCQljYXRjaCB7CgkJCQlSZWNvcmQtRXJyb3IgJExvY2F0aW9uICRBcmVhICRlcnJvclswXSAkTG9nRmlsZVByZWZpeCAkRGVzdGluYXRpb25Gb2xkZXIKCQkJfQoJCX0gI2ZvcmVhY2ggY29udGVudCB0eXBlCgkJCgl9ICNwcm9jZXNzCglFTkQge30gI2VuZAp9CgpmdW5jdGlvbiBJbnZlbnRvcnktV29ya2Zsb3dBc3NvY2lhdGlvbnMgewoJW2NtZGxldGJpbmRpbmcoKV0KCXBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kdHJ1ZSldJFNQT2JqZWN0LCAjY2FuIGJlIHdlYixjb250ZW50IHR5cGUsIG9yIGxpc3Qgc28gaXQgaXMgbm90IHN0cm9uZ2x5IHR5cGVkCgkJW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXSRMb2dGaWxlUHJlZml4LAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV1bc3RyaW5nXSREZXN0aW5hdGlvbkZvbGRlcgogICAgKQoJQkVHSU4gewoJCSRsb2dmaWxlbmFtZT0oJERlc3RpbmF0aW9uRm9sZGVyICsgIlwiICsgJExvZ0ZpbGVQcmVmaXggKyAiV29ya2Zsb3dBc3NvY2lhdGlvbnMuY3N2IikKCQlpZiAoLW5vdCAodGVzdC1wYXRoICRsb2dmaWxlbmFtZSkpIHsKCQkJJHJvdyA9ICciT2JqZWN0VHlwZSIsIldvcmtmbG93QXNzb2NpYXRpb25OYW1lIiwiV29ya2Zsb3dBc3NvY2lhdGlvbklEIiwiUGFyZW50QXNzb2NpYXRpb25JZCIsIlBhcmVudENvbnRlbnRUeXBlIiwiUGFyZW50TGlzdElkIiwiUGFyZW50U2l0ZUlkIiwiUGFyZW50V2ViSWQiLCJCYXNlVGVtcGxhdGUiLCJFbmFibGVkIiwiUnVubmluZ0luc3RhbmNlcyIsIldGQVBhcmVudFdlYlVybCInCgkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUKCQl9CgkJJHdvcmtmbG93QXNzb2NpYXRpb25zPSRTUE9iamVjdC5Xb3JrZmxvd0Fzc29jaWF0aW9ucwoJCSRvYmplY3RUeXBlPSRTUE9iamVjdC5nZXR0eXBlKCkKCX0gI2JlZ2luCglQUk9DRVNTIHsKCQlpZiAoJFdvcmtmbG93QXNzb2NpYXRpb25zKSB7CgkJCWZvcmVhY2ggKCR3ZmEgaW4gJFdvcmtmbG93QXNzb2NpYXRpb25zKSB7CgkJCQlXcml0ZS1Ib3N0ICIgICAgICAgICAgICAgICAgICAgIExvZ2dpbmcgJCgkd2ZhLk5hbWUpIgoJCQkJJHJvdz0nJwoJCQkJJHJvdz0nIicrJG9iamVjdFR5cGUrJyIsIicrJHdmYS5OYW1lKyciLCInKyR3ZmEuaWQrJyIsIicrJHdmYS5QYXJlbnRBc3NvY2lhdGlvbklkKyciLCInKyR3ZmEuUGFyZW50Q29udGVudFR5cGUrJyIsIicrJHdmYS5QYXJlbnRMaXN0LklkKyciLCInKyR3ZmEuUGFyZW50U2l0ZS5JZCsnIiwiJyskd2ZhLlBhcmVudFdlYi5JZCsnIiwiJyskd2ZhLkJhc2VUZW1wbGF0ZSsnIiwiJyskd2ZhLkVuYWJsZWQrJyIsIicrJHdmYS5SdW5uaW5nSW5zdGFuY2VzKyciLCInKyR3ZmEucGFyZW50d2ViLnVybCsnIicKCQkJCSRyb3cgfCBPdXQtRmlsZSAkbG9nZmlsZW5hbWUgLWFwcGVuZAoJCQl9ICNmb3JlYWNoIHdvcmtmbG93IGFzc29jaWF0aW9ucwoJCX0gI2lmIFdvcmtmbG93QXNzb2NpYXRpb25zCgl9ICNwcm9jZXNzCglFTkQge30gI2VuZAp9CgpmdW5jdGlvbiBSdW4tRnVsbEludmVudG9yeSB7CglwYXJhbSAoCgkJJExvZ0ZpbGVQcmVmaXg9IlRlc3RfIiwKCQkkRGVzdGluYXRpb25Gb2xkZXI9ImQ6XHRlbXAiLAogICAgICAgIFtzd2l0Y2hdJENsZWFyUHJpb3JMb2dzCgkpCiAgICBpZiAoJENsZWFyUHJpb3JMb2dzKSB7CiAgICAgICAgZ2V0LWNoaWxkaXRlbSAiJERlc3RpbmF0aW9uRm9sZGVyIiAtZmlsdGVyICgkTG9nRmlsZVByZWZpeCsiKi5jc3YiKSB8ICUge3JlbW92ZS1pdGVtICRfLmZ1bGxuYW1lfQoJCWdldC1jaGlsZGl0ZW0gIiREZXN0aW5hdGlvbkZvbGRlciIgLWZpbHRlciAoJExvZ0ZpbGVQcmVmaXgrIioudHh0IikgfCAlIHtyZW1vdmUtaXRlbSAkXy5mdWxsbmFtZX0KICAgIH0KCWludmVudG9yeS1zcGZhcm0gYAoJCS1Mb2dGaWxlUHJlZml4ICRMb2dGaWxlUHJlZml4IGAKCQktRGVzdGluYXRpb25Gb2xkZXIgJERlc3RpbmF0aW9uRm9sZGVyIGAKCQktSW52ZW50b3J5RmFybVNvbHV0aW9ucyBgCgkJLUludmVudG9yeUZhcm1GZWF0dXJlcyBgCgkJLUludmVudG9yeVdlYlRlbXBsYXRlcyBgCgkJLUludmVudG9yeVRpbWVySm9icyBgCgkJLUludmVudG9yeVdlYkFwcGxpY2F0aW9ucyBgCgkJLUludmVudG9yeVNpdGVDb2xsZWN0aW9ucyBgCgkJLUludmVudG9yeVNpdGVDb2xsZWN0aW9uQWRtaW5zIGAKCQktSW52ZW50b3J5U2l0ZUNvbGxlY3Rpb25GZWF0dXJlcyBgCgkJLUludmVudG9yeVdlYlBlcm1pc3Npb25zIGAKCQktSW52ZW50b3J5V2VicyBgCgkJLUludmVudG9yeVNpdGVDb250ZW50VHlwZXMgYAoJCS1JbnZlbnRvcnlXZWJGZWF0dXJlcyBgCgkJLUludmVudG9yeUxpc3RzIGAKCQktSW52ZW50b3J5V2ViV29ya2Zsb3dBc3NvY2lhdGlvbnMgYAoJCS1JbnZlbnRvcnlMaXN0Q29udGVudFR5cGVzIGAKICAgICAgICAtSW52ZW50b3J5TGlzdFdvcmtmbG93QXNzb2NpYXRpb25zIGAKICAgICAgICAtSW52ZW50b3J5Q29udGVudFR5cGVXb3JrZmxvd0Fzc29jaWF0aW9ucyBgCgkJLUludmVudG9yeUNvbnRlbnREYXRhYmFzZXMgYAoJCS1JbnZlbnRvcnlMaXN0RmllbGRzIGAKCQktSW52ZW50b3J5TGlzdFZpZXdzIGAKCQktSW52ZW50b3J5V2ViUGFydHMKfQ==
