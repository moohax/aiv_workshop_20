MSFT_iSCSIVirtualDisk.Tests.ps1,5da450e6083190ea0ec02810302c61b2,Scan result is 1. IsMalware: 0,JEdsb2JhbDpEU0NNb2R1bGVOYW1lICAgPSAnaVNDU0lEc2MnCiRHbG9iYWw6RFNDUmVzb3VyY2VOYW1lID0gJ01TRlRfaVNDU0lWaXJ0dWFsRGlzaycKCiNyZWdpb24gSEVBREVSCiMgVW5pdCBUZXN0IFRlbXBsYXRlIFZlcnNpb246IDEuMS4wCltTdHJpbmddICRtb2R1bGVSb290ID0gU3BsaXQtUGF0aCAtUGFyZW50IChTcGxpdC1QYXRoIC1QYXJlbnQgKFNwbGl0LVBhdGggLVBhcmVudCAkU2NyaXB0Ok15SW52b2NhdGlvbi5NeUNvbW1hbmQuUGF0aCkpCmlmICggKC1ub3QgKFRlc3QtUGF0aCAtUGF0aCAoSm9pbi1QYXRoIC1QYXRoICRtb2R1bGVSb290IC1DaGlsZFBhdGggJ0RTQ1Jlc291cmNlLlRlc3RzJykpKSAtb3IgYAogICAgICgtbm90IChUZXN0LVBhdGggLVBhdGggKEpvaW4tUGF0aCAtUGF0aCAkbW9kdWxlUm9vdCAtQ2hpbGRQYXRoICdEU0NSZXNvdXJjZS5UZXN0c1xUZXN0SGVscGVyLnBzbTEnKSkpICkKewogICAgJiBnaXQgQCgnY2xvbmUnLCdodHRwczovL2dpdGh1Yi5jb20vUG93ZXJTaGVsbC9Ec2NSZXNvdXJjZS5UZXN0cy5naXQnLChKb2luLVBhdGggLVBhdGggJG1vZHVsZVJvb3QgLUNoaWxkUGF0aCAnXERTQ1Jlc291cmNlLlRlc3RzXCcpKQp9CgpJbXBvcnQtTW9kdWxlIChKb2luLVBhdGggLVBhdGggJG1vZHVsZVJvb3QgLUNoaWxkUGF0aCAnRFNDUmVzb3VyY2UuVGVzdHNcVGVzdEhlbHBlci5wc20xJykgLUZvcmNlCiRUZXN0RW52aXJvbm1lbnQgPSBJbml0aWFsaXplLVRlc3RFbnZpcm9ubWVudCBgCiAgICAtRFNDTW9kdWxlTmFtZSAkR2xvYmFsOkRTQ01vZHVsZU5hbWUgYAogICAgLURTQ1Jlc291cmNlTmFtZSAkR2xvYmFsOkRTQ1Jlc291cmNlTmFtZSBgCiAgICAtVGVzdFR5cGUgVW5pdAojZW5kcmVnaW9uIEhFQURFUgoKIyBCZWdpbiBUZXN0aW5nCnRyeQp7CiAgICAjcmVnaW9uIFBlc3RlciBUZXN0cwogICAgSW5Nb2R1bGVTY29wZSAkR2xvYmFsOkRTQ1Jlc291cmNlTmFtZSB7CgogICAgICAgICMgQ3JlYXRlIHRoZSBNb2NrIE9iamVjdHMgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHJ1bm5pbmcgdGVzdHMKICAgICAgICAkVGVzdFZpcnR1YWxEaXNrID0gW1BTT2JqZWN0XUB7CiAgICAgICAgICAgIFBhdGggICAgICAgICAgICAgICAgICAgID0gSm9pbi1QYXRoIC1QYXRoICRFTlY6VGVtcCAtQ2hpbGRQYXRoICdUZXN0aVNDU0lWaXJ0dWFsRGlzay52aGR4JwogICAgICAgICAgICBFbnN1cmUgICAgICAgICAgICAgICAgICA9ICdQcmVzZW50JwogICAgICAgICAgICBEaXNrVHlwZSAgICAgICAgICAgICAgICA9ICdEaWZmZXJlbmNpbmcnCiAgICAgICAgICAgIFNpemVCeXRlcyAgICAgICAgICAgICAgID0gMTAwTUIKICAgICAgICAgICAgRGVzY3JpcHRpb24gICAgICAgICAgICAgPSAnVW5pdCBUZXN0IGlTQ1NJIFZpcnR1YWwgRGlzaycKICAgICAgICAgICAgQmxvY2tTaXplQnl0ZXMgICAgICAgICAgPSAyTUIKICAgICAgICAgICAgUGh5c2ljYWxTZWN0b3JTaXplQnl0ZXMgPSA0MDk2CiAgICAgICAgICAgIExvZ2ljYWxTZWN0b3JTaXplQnl0ZXMgID0gNTEyCiAgICAgICAgICAgIFBhcmVudFBhdGggICAgICAgICAgICAgID0gJ2M6XFBhcmVudC52aGR4JwogICAgICAgIH0KCiAgICAgICAgJE1vY2tWaXJ0dWFsRGlzayA9IFtQU09iamVjdF1AewogICAgICAgICAgICBQYXRoICAgICAgICAgICAgICAgICAgICA9ICRUZXN0VmlydHVhbERpc2suUGF0aAogICAgICAgICAgICBEaXNrVHlwZSAgICAgICAgICAgICAgICA9ICRUZXN0VmlydHVhbERpc2suRGlza1R5cGUKICAgICAgICAgICAgU2l6ZSAgICAgICAgICAgICAgICAgICAgPSAkVGVzdFZpcnR1YWxEaXNrLlNpemVCeXRlcwogICAgICAgICAgICBEZXNjcmlwdGlvbiAgICAgICAgICAgICA9ICRUZXN0VmlydHVhbERpc2suRGVzY3JpcHRpb24KICAgICAgICAgICAgUGFyZW50UGF0aCAgICAgICAgICAgICAgPSAkVGVzdFZpcnR1YWxEaXNrLlBhcmVudFBhdGgKICAgICAgICB9CgogICAgICAgICMgRW5zdXJlIHRoYXQgdGhlIHRlc3RzIGNhbiBiZSBwZXJmb3JtZWQgb24gdGhpcyBjb21wdXRlcgogICAgICAgICRQcm9kdWN0VHlwZSA9IChHZXQtQ2ltSW5zdGFuY2UgV2luMzJfT3BlcmF0aW5nU3lzdGVtKS5Qcm9kdWN0VHlwZQogICAgICAgIERlc2NyaWJlICdFbnZpcm9ubWVudCcgewogICAgICAgICAgICBDb250ZXh0ICdPcGVyYXRpbmcgU3lzdGVtJyB7CiAgICAgICAgICAgICAgICBJdCAnU2hvdWxkIGJlIGEgU2VydmVyIE9TJyB7CiAgICAgICAgICAgICAgICAgICAgJFByb2R1Y3RUeXBlIHwgU2hvdWxkIEJlIDMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJFByb2R1Y3RUeXBlIC1uZSAzKQogICAgICAgIHsKICAgICAgICAgICAgQnJlYWsKICAgICAgICB9CgogICAgICAgICRJbnN0YWxsZWQgPSAoR2V0LVdpbmRvd3NGZWF0dXJlIC1OYW1lIEZTLWlTQ1NJVGFyZ2V0LVNlcnZlcikuSW5zdGFsbGVkCiAgICAgICAgRGVzY3JpYmUgJ0Vudmlyb25tZW50JyB7CiAgICAgICAgICAgIENvbnRleHQgJ1dpbmRvd3MgRmVhdHVyZXMnIHsKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgaGF2ZSB0aGUgaVNDU0kgVGFyZ2V0IEZlYXR1cmUgSW5zdGFsbGVkJyB7CiAgICAgICAgICAgICAgICAgICAgJEluc3RhbGxlZCB8IFNob3VsZCBCZSAkdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICgkSW5zdGFsbGVkIC1lcSAkZmFsc2UpCiAgICAgICAgewogICAgICAgICAgICBCcmVhawogICAgICAgIH0KCiAgICAgICAgRGVzY3JpYmUgIiQoJEdsb2JhbDpEU0NSZXNvdXJjZU5hbWUpXEdldC1UYXJnZXRSZXNvdXJjZSIgewoKICAgICAgICAgICAgQ29udGV4dCAnVmlydHVhbCBEaXNrIGRvZXMgbm90IGV4aXN0JyB7CgogICAgICAgICAgICAgICAgTW9jayBHZXQtaVNDU0lWaXJ0dWFsRGlzawoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgcmV0dXJuIGFic2VudCBWaXJ0dWFsIERpc2snIHsKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0ID0gR2V0LVRhcmdldFJlc291cmNlIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVBhdGggJFRlc3RWaXJ0dWFsRGlzay5QYXRoCiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdC5FbnN1cmUgICAgICAgICAgICAgICAgICB8IFNob3VsZCBCZSAnQWJzZW50JwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCBjYWxsIHRoZSBleHBlY3RlZCBtb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBkb2VzIGV4aXN0JyB7CgogICAgICAgICAgICAgICAgTW9jayBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtTW9ja1dpdGggeyByZXR1cm4gQCgkTW9ja1ZpcnR1YWxEaXNrKSB9CgogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCByZXR1cm4gY29ycmVjdCBWaXJ0dWFsIERpc2snIHsKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0ID0gR2V0LVRhcmdldFJlc291cmNlIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVBhdGggJFRlc3RWaXJ0dWFsRGlzay5QYXRoCiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdC5FbnN1cmUgICAgICAgICAgICAgICAgICB8IFNob3VsZCBCZSAnUHJlc2VudCcKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0LlBhdGggICAgICAgICAgICAgICAgICAgIHwgU2hvdWxkIEJlICRUZXN0VmlydHVhbERpc2suUGF0aAogICAgICAgICAgICAgICAgICAgICRSZXN1bHQuRGlza1R5cGUgICAgICAgICAgICAgICAgfCBTaG91bGQgQmUgJFRlc3RWaXJ0dWFsRGlzay5EaXNrVHlwZQogICAgICAgICAgICAgICAgICAgICRSZXN1bHQuU2l6ZUJ5dGVzICAgICAgICAgICAgICAgfCBTaG91bGQgQmUgJFRlc3RWaXJ0dWFsRGlzay5TaXplQnl0ZXMKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0LkRlc2NyaXB0aW9uICAgICAgICAgICAgIHwgU2hvdWxkIEJlICRUZXN0VmlydHVhbERpc2suRGVzY3JpcHRpb24KICAgICAgICAgICAgICAgICAgICAkUmVzdWx0LlBhcmVudFBhdGggICAgICAgICAgICAgIHwgU2hvdWxkIEJlICRUZXN0VmlydHVhbERpc2suUGFyZW50UGF0aAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCBjYWxsIHRoZSBleHBlY3RlZCBtb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIERlc2NyaWJlICIkKCRHbG9iYWw6RFNDUmVzb3VyY2VOYW1lKVxTZXQtVGFyZ2V0UmVzb3VyY2UiIHsKCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBkb2VzIG5vdCBleGlzdCBidXQgc2hvdWxkJyB7CgogICAgICAgICAgICAgICAgTW9jayBHZXQtaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBOZXctaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBTZXQtaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBSZW1vdmUtaVNDU0lWaXJ0dWFsRGlzawoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgbm90IHRocm93IGVycm9yJyB7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgU2V0LVRhcmdldFJlc291cmNlIEBTcGxhdAogICAgICAgICAgICAgICAgICAgIH0gfCBTaG91bGQgTm90IFRocm93CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIGNhbGwgZXhwZWN0ZWQgTW9ja3MnIHsKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgR2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBOZXctaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIFNldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDAKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgUmVtb3ZlLWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBDb250ZXh0ICdWaXJ0dWFsIERpc2sgZXhpc3RzIGFuZCBzaG91bGQgYnV0IGhhcyBhIGRpZmZlcmVudCBEZXNjcmlwdGlvbicgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQogICAgICAgICAgICAgICAgTW9jayBOZXctaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBTZXQtaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBSZW1vdmUtaVNDU0lWaXJ0dWFsRGlzawoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgbm90IHRocm93IGVycm9yJyB7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgJFNwbGF0LkRlc2NyaXB0aW9uID0gJ0RpZmZlcmVudCcKICAgICAgICAgICAgICAgICAgICAgICAgU2V0LVRhcmdldFJlc291cmNlIEBTcGxhdAogICAgICAgICAgICAgICAgICAgIH0gfCBTaG91bGQgTm90IFRocm93CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIGNhbGwgZXhwZWN0ZWQgTW9ja3MnIHsKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgR2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBOZXctaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAwCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIFNldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDEKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgUmVtb3ZlLWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBDb250ZXh0ICdWaXJ0dWFsIERpc2sgZXhpc3RzIGFuZCBzaG91bGQgYnV0IGhhcyBhIGRpZmZlcmVudCBEaXNrVHlwZScgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQogICAgICAgICAgICAgICAgTW9jayBOZXctaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBTZXQtaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBSZW1vdmUtaVNDU0lWaXJ0dWFsRGlzawoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgdGhyb3cgYW4gaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvciBleGNlcHRpb24nIHsKICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAkU3BsYXQuRGlza1R5cGUgPSAnRml4ZWQnCiAgICAgICAgICAgICAgICAgICAgJFNwbGF0LlBhcmVudFBhdGggPSAkbnVsbAoKICAgICAgICAgICAgICAgICAgICAkZXJyb3JJZCA9ICdpU0NTSVZpcnR1YWxEaXNrUmVxdWlyZXNSZWNyZWF0ZUVycm9yJwogICAgICAgICAgICAgICAgICAgICRlcnJvckNhdGVnb3J5ID0gW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uRXJyb3JDYXRlZ29yeV06OkludmFsaWRBcmd1bWVudAogICAgICAgICAgICAgICAgICAgICRlcnJvck1lc3NhZ2UgPSAkKCRMb2NhbGl6ZWREYXRhLmlTQ1NJVmlydHVhbERpc2tSZXF1aXJlc1JlY3JlYXRlRXJyb3IpIC1mICRTcGxhdC5QYXRoCiAgICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbiA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5JbnZhbGlkT3BlcmF0aW9uRXhjZXB0aW9uIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUFyZ3VtZW50TGlzdCAkZXJyb3JNZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgJGVycm9yUmVjb3JkID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5FcnJvclJlY29yZCBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1Bcmd1bWVudExpc3QgJGV4Y2VwdGlvbiwgJGVycm9ySWQsICRlcnJvckNhdGVnb3J5LCAkbnVsbAoKICAgICAgICAgICAgICAgICAgICB7IFNldC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfSB8IFNob3VsZCBUaHJvdyAkZXJyb3JSZWNvcmQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIE5ldy1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDAKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgU2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMAogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBSZW1vdmUtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBleGlzdHMgYW5kIHNob3VsZCBidXQgaGFzIGEgZGlmZmVyZW50IFNpemVCeXRlcycgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQogICAgICAgICAgICAgICAgTW9jayBOZXctaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBTZXQtaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBSZW1vdmUtaVNDU0lWaXJ0dWFsRGlzawoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgdGhyb3cgYW4gaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvciBleGNlcHRpb24nIHsKICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAkU3BsYXQuU2l6ZUJ5dGVzID0gJFNwbGF0LlNpemVCeXRlcyArIDEwME1CCgogICAgICAgICAgICAgICAgICAgICRlcnJvcklkID0gJ2lTQ1NJVmlydHVhbERpc2tSZXF1aXJlc1JlY3JlYXRlRXJyb3InCiAgICAgICAgICAgICAgICAgICAgJGVycm9yQ2F0ZWdvcnkgPSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5FcnJvckNhdGVnb3J5XTo6SW52YWxpZEFyZ3VtZW50CiAgICAgICAgICAgICAgICAgICAgJGVycm9yTWVzc2FnZSA9ICQoJExvY2FsaXplZERhdGEuaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvcikgLWYgJFNwbGF0LlBhdGgKICAgICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkludmFsaWRPcGVyYXRpb25FeGNlcHRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtQXJndW1lbnRMaXN0ICRlcnJvck1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAkZXJyb3JSZWNvcmQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkVycm9yUmVjb3JkIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUFyZ3VtZW50TGlzdCAkZXhjZXB0aW9uLCAkZXJyb3JJZCwgJGVycm9yQ2F0ZWdvcnksICRudWxsCgogICAgICAgICAgICAgICAgICAgIHsgU2V0LVRhcmdldFJlc291cmNlIEBTcGxhdCB9IHwgU2hvdWxkIFRocm93ICRlcnJvclJlY29yZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCBjYWxsIGV4cGVjdGVkIE1vY2tzJyB7CiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIEdldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDEKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgTmV3LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMAogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBTZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAwCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIFJlbW92ZS1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgQ29udGV4dCAnVmlydHVhbCBEaXNrIGV4aXN0cyBhbmQgc2hvdWxkIGJ1dCBoYXMgYSBkaWZmZXJlbnQgUGFyZW50UGF0aCcgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQogICAgICAgICAgICAgICAgTW9jayBOZXctaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBTZXQtaVNDU0lWaXJ0dWFsRGlzawogICAgICAgICAgICAgICAgTW9jayBSZW1vdmUtaVNDU0lWaXJ0dWFsRGlzawoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgdGhyb3cgYW4gaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvciBleGNlcHRpb24nIHsKICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAkU3BsYXQuUGFyZW50UGF0aCA9ICdjOlxOZXdQYXJlbnQudmhkeCcKCiAgICAgICAgICAgICAgICAgICAgJGVycm9ySWQgPSAnaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvcicKICAgICAgICAgICAgICAgICAgICAkZXJyb3JDYXRlZ29yeSA9IFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkVycm9yQ2F0ZWdvcnldOjpJbnZhbGlkQXJndW1lbnQKICAgICAgICAgICAgICAgICAgICAkZXJyb3JNZXNzYWdlID0gJCgkTG9jYWxpemVkRGF0YS5pU0NTSVZpcnR1YWxEaXNrUmVxdWlyZXNSZWNyZWF0ZUVycm9yKSAtZiAkU3BsYXQuUGF0aAogICAgICAgICAgICAgICAgICAgICRleGNlcHRpb24gPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbiBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1Bcmd1bWVudExpc3QgJGVycm9yTWVzc2FnZQogICAgICAgICAgICAgICAgICAgICRlcnJvclJlY29yZCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uRXJyb3JSZWNvcmQgYAogICAgICAgICAgICAgICAgICAgICAgICAtQXJndW1lbnRMaXN0ICRleGNlcHRpb24sICRlcnJvcklkLCAkZXJyb3JDYXRlZ29yeSwgJG51bGwKCiAgICAgICAgICAgICAgICAgICAgeyBTZXQtVGFyZ2V0UmVzb3VyY2UgQFNwbGF0IH0gfCBTaG91bGQgVGhyb3cgJGVycm9yUmVjb3JkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIGNhbGwgZXhwZWN0ZWQgTW9ja3MnIHsKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgR2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBOZXctaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAwCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIFNldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDAKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgUmVtb3ZlLWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBDb250ZXh0ICdWaXJ0dWFsIERpc2sgZXhpc3RzIGJ1dCBzaG91bGQgbm90JyB7CgogICAgICAgICAgICAgICAgTW9jayBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtTW9ja1dpdGggeyByZXR1cm4gQCgkTW9ja1ZpcnR1YWxEaXNrKSB9CiAgICAgICAgICAgICAgICBNb2NrIE5ldy1pU0NTSVZpcnR1YWxEaXNrCiAgICAgICAgICAgICAgICBNb2NrIFNldC1pU0NTSVZpcnR1YWxEaXNrCiAgICAgICAgICAgICAgICBNb2NrIFJlbW92ZS1pU0NTSVZpcnR1YWxEaXNrCgogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCBub3QgdGhyb3cgZXJyb3InIHsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTcGxhdCA9ICRUZXN0VmlydHVhbERpc2suQ2xvbmUoKQogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQuRW5zdXJlID0gJ0Fic2VudCcKICAgICAgICAgICAgICAgICAgICAgICAgU2V0LVRhcmdldFJlc291cmNlIEBTcGxhdAogICAgICAgICAgICAgICAgICAgIH0gfCBTaG91bGQgTm90IFRocm93CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIGNhbGwgZXhwZWN0ZWQgTW9ja3MnIHsKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgR2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBOZXctaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAwCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIFNldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDAKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgUmVtb3ZlLWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBDb250ZXh0ICdWaXJ0dWFsIERpc2sgZG9lcyBub3QgZXhpc3QgYW5kIHNob3VsZCBub3QnIHsKCiAgICAgICAgICAgICAgICBNb2NrIEdldC1pU0NTSVZpcnR1YWxEaXNrCiAgICAgICAgICAgICAgICBNb2NrIE5ldy1pU0NTSVZpcnR1YWxEaXNrCiAgICAgICAgICAgICAgICBNb2NrIFNldC1pU0NTSVZpcnR1YWxEaXNrCiAgICAgICAgICAgICAgICBNb2NrIFJlbW92ZS1pU0NTSVZpcnR1YWxEaXNrCgogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCBub3QgdGhyb3cgZXJyb3InIHsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTcGxhdCA9ICRUZXN0VmlydHVhbERpc2suQ2xvbmUoKQogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQuRW5zdXJlID0gJ0Fic2VudCcKICAgICAgICAgICAgICAgICAgICAgICAgU2V0LVRhcmdldFJlc291cmNlIEBTcGxhdAogICAgICAgICAgICAgICAgICAgIH0gfCBTaG91bGQgTm90IFRocm93CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIGNhbGwgZXhwZWN0ZWQgTW9ja3MnIHsKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgR2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBOZXctaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAwCiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIFNldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDAKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgUmVtb3ZlLWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBEZXNjcmliZSAiJCgkR2xvYmFsOkRTQ1Jlc291cmNlTmFtZSlcVGVzdC1UYXJnZXRSZXNvdXJjZSIgewoKICAgICAgICAgICAgQ29udGV4dCAnVmlydHVhbCBEaXNrIGRvZXMgbm90IGV4aXN0IGJ1dCBzaG91bGQnIHsKCiAgICAgICAgICAgICAgICBNb2NrIEdldC1pU0NTSVZpcnR1YWxEaXNrCgogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCByZXR1cm4gZmFsc2UnIHsKICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICBUZXN0LVRhcmdldFJlc291cmNlIEBTcGxhdCB8IFNob3VsZCBCZSAkRmFsc2UKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIGNhbGwgZXhwZWN0ZWQgTW9ja3MnIHsKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCAtY29tbWFuZE5hbWUgR2V0LWlTQ1NJVmlydHVhbERpc2sgLUV4YWN0bHkgMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBDb250ZXh0ICdWaXJ0dWFsIERpc2sgZXhpc3RzIGFuZCBzaG91bGQgYnV0IGhhcyBhIGRpZmZlcmVudCBEZXNjcmlwdGlvbicgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgcmV0dXJuIGZhbHNlJyB7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgJFNwbGF0LkRlc2NyaXB0aW9uID0gJ0RpZmZlcmVudCcKICAgICAgICAgICAgICAgICAgICAgICAgVGVzdC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfCBTaG91bGQgQmUgJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSB8IFNob3VsZCBOb3QgVGhyb3cKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBleGlzdHMgYW5kIHNob3VsZCBidXQgaGFzIGEgZGlmZmVyZW50IERpc2tUeXBlJyB7CgogICAgICAgICAgICAgICAgTW9jayBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtTW9ja1dpdGggeyByZXR1cm4gQCgkTW9ja1ZpcnR1YWxEaXNrKSB9CgogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCB0aHJvdyBhbiBpU0NTSVZpcnR1YWxEaXNrUmVxdWlyZXNSZWNyZWF0ZUVycm9yIGV4Y2VwdGlvbicgewogICAgICAgICAgICAgICAgICAgICRTcGxhdCA9ICRUZXN0VmlydHVhbERpc2suQ2xvbmUoKQogICAgICAgICAgICAgICAgICAgICRTcGxhdC5EaXNrVHlwZSA9ICdGaXhlZCcKICAgICAgICAgICAgICAgICAgICAkU3BsYXQuUGFyZW50UGF0aCA9ICRudWxsCgogICAgICAgICAgICAgICAgICAgICRlcnJvcklkID0gJ2lTQ1NJVmlydHVhbERpc2tSZXF1aXJlc1JlY3JlYXRlRXJyb3InCiAgICAgICAgICAgICAgICAgICAgJGVycm9yQ2F0ZWdvcnkgPSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5FcnJvckNhdGVnb3J5XTo6SW52YWxpZEFyZ3VtZW50CiAgICAgICAgICAgICAgICAgICAgJGVycm9yTWVzc2FnZSA9ICQoJExvY2FsaXplZERhdGEuaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvcikgLWYgJFNwbGF0LlBhdGgKICAgICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkludmFsaWRPcGVyYXRpb25FeGNlcHRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtQXJndW1lbnRMaXN0ICRlcnJvck1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAkZXJyb3JSZWNvcmQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkVycm9yUmVjb3JkIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUFyZ3VtZW50TGlzdCAkZXhjZXB0aW9uLCAkZXJyb3JJZCwgJGVycm9yQ2F0ZWdvcnksICRudWxsCgogICAgICAgICAgICAgICAgICAgIHsgVGVzdC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfSB8IFNob3VsZCBUaHJvdyAkZXJyb3JSZWNvcmQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBleGlzdHMgYW5kIHNob3VsZCBidXQgaGFzIGEgZGlmZmVyZW50IFNpemVCeXRlcycgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgdGhyb3cgYW4gaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvciBleGNlcHRpb24nIHsKICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAkU3BsYXQuU2l6ZUJ5dGVzID0gJFNwbGF0LlNpemVCeXRlcyArIDEwME1CCgogICAgICAgICAgICAgICAgICAgICRlcnJvcklkID0gJ2lTQ1NJVmlydHVhbERpc2tSZXF1aXJlc1JlY3JlYXRlRXJyb3InCiAgICAgICAgICAgICAgICAgICAgJGVycm9yQ2F0ZWdvcnkgPSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5FcnJvckNhdGVnb3J5XTo6SW52YWxpZEFyZ3VtZW50CiAgICAgICAgICAgICAgICAgICAgJGVycm9yTWVzc2FnZSA9ICQoJExvY2FsaXplZERhdGEuaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvcikgLWYgJFNwbGF0LlBhdGgKICAgICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkludmFsaWRPcGVyYXRpb25FeGNlcHRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtQXJndW1lbnRMaXN0ICRlcnJvck1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAkZXJyb3JSZWNvcmQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkVycm9yUmVjb3JkIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUFyZ3VtZW50TGlzdCAkZXhjZXB0aW9uLCAkZXJyb3JJZCwgJGVycm9yQ2F0ZWdvcnksICRudWxsCgogICAgICAgICAgICAgICAgICAgIHsgVGVzdC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfSB8IFNob3VsZCBUaHJvdyAkZXJyb3JSZWNvcmQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBleGlzdHMgYW5kIHNob3VsZCBidXQgaGFzIGEgZGlmZmVyZW50IFBhcmVudFBhdGgnIHsKCiAgICAgICAgICAgICAgICBNb2NrIEdldC1pU0NTSVZpcnR1YWxEaXNrIC1Nb2NrV2l0aCB7IHJldHVybiBAKCRNb2NrVmlydHVhbERpc2spIH0KCiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIHRocm93IGFuIGlTQ1NJVmlydHVhbERpc2tSZXF1aXJlc1JlY3JlYXRlRXJyb3IgZXhjZXB0aW9uJyB7CiAgICAgICAgICAgICAgICAgICAgJFNwbGF0ID0gJFRlc3RWaXJ0dWFsRGlzay5DbG9uZSgpCiAgICAgICAgICAgICAgICAgICAgJFNwbGF0LlBhcmVudFBhdGggPSAnYzpcTmV3UGFyZW50LnZoZHgnCgogICAgICAgICAgICAgICAgICAgICRlcnJvcklkID0gJ2lTQ1NJVmlydHVhbERpc2tSZXF1aXJlc1JlY3JlYXRlRXJyb3InCiAgICAgICAgICAgICAgICAgICAgJGVycm9yQ2F0ZWdvcnkgPSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5FcnJvckNhdGVnb3J5XTo6SW52YWxpZEFyZ3VtZW50CiAgICAgICAgICAgICAgICAgICAgJGVycm9yTWVzc2FnZSA9ICQoJExvY2FsaXplZERhdGEuaVNDU0lWaXJ0dWFsRGlza1JlcXVpcmVzUmVjcmVhdGVFcnJvcikgLWYgJFNwbGF0LlBhdGgKICAgICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkludmFsaWRPcGVyYXRpb25FeGNlcHRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtQXJndW1lbnRMaXN0ICRlcnJvck1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAkZXJyb3JSZWNvcmQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkVycm9yUmVjb3JkIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUFyZ3VtZW50TGlzdCAkZXhjZXB0aW9uLCAkZXJyb3JJZCwgJGVycm9yQ2F0ZWdvcnksICRudWxsCgogICAgICAgICAgICAgICAgICAgIHsgVGVzdC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfSB8IFNob3VsZCBUaHJvdyAkZXJyb3JSZWNvcmQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBleGlzdHMgYW5kIHNob3VsZCBhbmQgYWxsIHBhcmFtZXRlcnMgbWF0Y2gnIHsKCiAgICAgICAgICAgICAgICBNb2NrIEdldC1pU0NTSVZpcnR1YWxEaXNrIC1Nb2NrV2l0aCB7IHJldHVybiBAKCRNb2NrVmlydHVhbERpc2spIH0KCiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIHJldHVybiB0cnVlJyB7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgVGVzdC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfCBTaG91bGQgQmUgJFRydWUKICAgICAgICAgICAgICAgICAgICB9IHwgU2hvdWxkIE5vdCBUaHJvdwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCBjYWxsIGV4cGVjdGVkIE1vY2tzJyB7CiAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLWNvbW1hbmROYW1lIEdldC1pU0NTSVZpcnR1YWxEaXNrIC1FeGFjdGx5IDEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgQ29udGV4dCAnVmlydHVhbCBEaXNrIGV4aXN0cyBidXQgc2hvdWxkIG5vdCcgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sgLU1vY2tXaXRoIHsgcmV0dXJuIEAoJE1vY2tWaXJ0dWFsRGlzaykgfQoKICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgcmV0dXJuIGZhbHNlJyB7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgJFNwbGF0LkVuc3VyZSA9ICdBYnNlbnQnCiAgICAgICAgICAgICAgICAgICAgVGVzdC1UYXJnZXRSZXNvdXJjZSBAU3BsYXQgfCBTaG91bGQgQmUgJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSB8IFNob3VsZCBOb3QgVGhyb3cKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBkb2VzIG5vdCBleGlzdCBhbmQgc2hvdWxkIG5vdCcgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sKCiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIHJldHVybiB0cnVlJyB7CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkU3BsYXQgPSAkVGVzdFZpcnR1YWxEaXNrLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgJFNwbGF0LkVuc3VyZSA9ICdBYnNlbnQnCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3QtVGFyZ2V0UmVzb3VyY2UgQFNwbGF0IHwgU2hvdWxkIEJlICRUcnVlCiAgICAgICAgICAgICAgICAgICAgfSB8IFNob3VsZCBOb3QgVGhyb3cKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIERlc2NyaWJlICIkKCRHbG9iYWw6RFNDUmVzb3VyY2VOYW1lKVxHZXQtVmlydHVhbERpc2siIHsKCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBkb2VzIG5vdCBleGlzdCcgewoKICAgICAgICAgICAgICAgIE1vY2sgR2V0LWlTQ1NJVmlydHVhbERpc2sKCiAgICAgICAgICAgICAgICBJdCAnc2hvdWxkIHJldHVybiBudWxsJyB7CiAgICAgICAgICAgICAgICAgICAgJFNwbGF0ID0gJFRlc3RWaXJ0dWFsRGlzay5DbG9uZSgpCiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdCA9IEdldC1WaXJ0dWFsRGlzayAtUGF0aCAkU3BsYXQuUGF0aAogICAgICAgICAgICAgICAgICAgICRSZXN1bHQgfCBTaG91bGQgQmUgJG51bGwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1ZpcnR1YWwgRGlzayBkb2VzIGV4aXN0JyB7CgogICAgICAgICAgICAgICAgTW9jayBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtTW9ja1dpdGggeyByZXR1cm4gQCgkTW9ja1ZpcnR1YWxEaXNrKSB9CgogICAgICAgICAgICAgICAgSXQgJ3Nob3VsZCByZXR1cm4gZXhwZWN0ZWQgcGFyYW1ldGVycycgewogICAgICAgICAgICAgICAgICAgICRTcGxhdCA9ICRUZXN0VmlydHVhbERpc2suQ2xvbmUoKQogICAgICAgICAgICAgICAgICAgICRSZXN1bHQgPSBHZXQtVmlydHVhbERpc2sgLVBhdGggJFNwbGF0LlBhdGgKICAgICAgICAgICAgICAgICAgICAkUmVzdWx0LlBhdGggICAgICAgICAgICAgICAgICAgIHwgU2hvdWxkIEJlICRNb2NrVmlydHVhbERpc2suUGF0aAogICAgICAgICAgICAgICAgICAgICRSZXN1bHQuRGlza1R5cGUgICAgICAgICAgICAgICAgfCBTaG91bGQgQmUgJE1vY2tWaXJ0dWFsRGlzay5EaXNrVHlwZQogICAgICAgICAgICAgICAgICAgICRSZXN1bHQuU2l6ZSAgICAgICAgICAgICAgICAgICAgfCBTaG91bGQgQmUgJE1vY2tWaXJ0dWFsRGlzay5TaXplCiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdC5EZXNjcmlwdGlvbiAgICAgICAgICAgICB8IFNob3VsZCBCZSAkTW9ja1ZpcnR1YWxEaXNrLkRlc2NyaXB0aW9uCiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdC5QYXJlbnRQYXRoICAgICAgICAgICAgICB8IFNob3VsZCBCZSAkTW9ja1ZpcnR1YWxEaXNrLlBhcmVudFBhdGgKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEl0ICdzaG91bGQgY2FsbCBleHBlY3RlZCBNb2NrcycgewogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1jb21tYW5kTmFtZSBHZXQtaVNDU0lWaXJ0dWFsRGlzayAtRXhhY3RseSAxCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAjZW5kcmVnaW9uCn0KZmluYWxseQp7CiAgICAjcmVnaW9uIEZPT1RFUgogICAgUmVzdG9yZS1UZXN0RW52aXJvbm1lbnQgLVRlc3RFbnZpcm9ubWVudCAkVGVzdEVudmlyb25tZW50CiAgICAjZW5kcmVnaW9uCn0K
