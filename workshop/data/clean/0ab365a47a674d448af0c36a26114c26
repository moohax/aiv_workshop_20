MSFT_xPackageResource.Tests.ps1,ffaa3771b9ab153638e8f8695f7d2d73,Scan result is 1. IsMalware: 0,SW1wb3J0LU1vZHVsZSAiJFBTU2NyaXB0Um9vdFwuLlxDb21tb25UZXN0SGVscGVyLnBzbTEiIC1Gb3JjZQoKJHNjcmlwdDp0ZXN0RW52aXJvbm1lbnQgPSBFbnRlci1Ec2NSZXNvdXJjZVRlc3RFbnZpcm9ubWVudCBgCiAgICAtRHNjUmVzb3VyY2VNb2R1bGVOYW1lICd4UFNEZXNpcmVkU3RhdGVDb25maWd1cmF0aW9uJyBgCiAgICAtRHNjUmVzb3VyY2VOYW1lICdNU0ZUX3hQYWNrYWdlUmVzb3VyY2UnIGAKICAgIC1UZXN0VHlwZSAnVW5pdCcKCnRyeQp7CiAgICBJbk1vZHVsZVNjb3BlICdNU0ZUX3hQYWNrYWdlUmVzb3VyY2UnIHsKICAgICAgICBEZXNjcmliZSAnTVNGVF94UGFja2FnZVJlc291cmNlIFVuaXQgVGVzdHMnIHsKICAgICAgICAgICAgQmVmb3JlQWxsIHsKICAgICAgICAgICAgICAgIEltcG9ydC1Nb2R1bGUgIiRQU1NjcmlwdFJvb3RcTVNGVF94UGFja2FnZVJlc291cmNlLlRlc3RIZWxwZXIucHNtMSIgLUZvcmNlCiAgICAgICAgICAgICAgICBJbXBvcnQtTW9kdWxlICIkUFNTY3JpcHRSb290XC4uXENvbW1vblRlc3RIZWxwZXIucHNtMSIKCiAgICAgICAgICAgICAgICAkc2NyaXB0OnNraXBIdHRwc1Rlc3QgPSAkdHJ1ZQoKICAgICAgICAgICAgICAgICRzY3JpcHQ6dGVzdERpcmVjdG9yeVBhdGggPSBKb2luLVBhdGggLVBhdGggJFBTU2NyaXB0Um9vdCAtQ2hpbGRQYXRoICdNU0ZUX3hQYWNrYWdlUmVzb3VyY2VUZXN0cycKCiAgICAgICAgICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRzY3JpcHQ6dGVzdERpcmVjdG9yeVBhdGgpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJG51bGwgPSBSZW1vdmUtSXRlbSAtUGF0aCAkc2NyaXB0OnRlc3REaXJlY3RvcnlQYXRoIC1SZWN1cnNlIC1Gb3JjZQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRudWxsID0gTmV3LUl0ZW0gLVBhdGggJHNjcmlwdDp0ZXN0RGlyZWN0b3J5UGF0aCAtSXRlbVR5cGUgJ0RpcmVjdG9yeScKCiAgICAgICAgICAgICAgICAkc2NyaXB0Om1zaU5hbWUgPSAnRFNDU2V0dXBQcm9qZWN0Lm1zaScKICAgICAgICAgICAgICAgICRzY3JpcHQ6bXNpTG9jYXRpb24gPSBKb2luLVBhdGggLVBhdGggJHNjcmlwdDp0ZXN0RGlyZWN0b3J5UGF0aCAtQ2hpbGRQYXRoICRzY3JpcHQ6bXNpTmFtZQogICAgICAgICAgICAgICAgJHNjcmlwdDptc2lBcmd1bWVudHMgPSAnL05vUmVib290JwoKICAgICAgICAgICAgICAgICRzY3JpcHQ6cGFja2FnZU5hbWUgPSAnRFNDVW5pdFRlc3RQYWNrYWdlJwogICAgICAgICAgICAgICAgJHNjcmlwdDpwYWNrYWdlSWQgPSAne2RlYWRiZWVmLTgwYzYtNDFlNi1hMWI5LThiZGI4YTA1MDI3Zn0nCgogICAgICAgICAgICAgICAgJG51bGwgPSBOZXctVGVzdE1zaSAtRGVzdGluYXRpb25QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24KCiAgICAgICAgICAgICAgICAkc2NyaXB0OnRlc3RFeGVjdXRhYmxlUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAkc2NyaXB0OnRlc3REaXJlY3RvcnlQYXRoIC1DaGlsZFBhdGggJ1Rlc3RFeGVjdXRhYmxlLmV4ZScKCiAgICAgICAgICAgICAgICAkbnVsbCA9IE5ldy1UZXN0RXhlY3V0YWJsZSAtRGVzdGluYXRpb25QYXRoICRzY3JpcHQ6dGVzdEV4ZWN1dGFibGVQYXRoCgogICAgICAgICAgICAgICAgJG51bGwgPSBDbGVhci14UGFja2FnZUNhY2hlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEJlZm9yZUVhY2ggewogICAgICAgICAgICAgICAgJG51bGwgPSBDbGVhci14UGFja2FnZUNhY2hlCgogICAgICAgICAgICAgICAgaWYgKFRlc3QtUGFja2FnZUluc3RhbGxlZEJ5TmFtZSAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRudWxsID0gU3RhcnQtUHJvY2VzcyAtRmlsZVBhdGggJ21zaWV4ZWMuZXhlJyAtQXJndW1lbnRMaXN0IEAoIi94JHNjcmlwdDpwYWNrYWdlSWQiLCAnL3Bhc3NpdmUnKSAtV2FpdAogICAgICAgICAgICAgICAgICAgICRudWxsID0gU3RhcnQtU2xlZXAgLVNlY29uZHMgMQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChUZXN0LVBhY2thZ2VJbnN0YWxsZWRCeU5hbWUgLU5hbWUgJHNjcmlwdDpwYWNrYWdlTmFtZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAnUGFja2FnZSBjb3VsZCBub3QgYmUgcmVtb3ZlZC4nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEFmdGVyQWxsIHsKICAgICAgICAgICAgICAgIGlmIChUZXN0LVBhdGggLVBhdGggJHNjcmlwdDp0ZXN0RGlyZWN0b3J5UGF0aCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbnVsbCA9IFJlbW92ZS1JdGVtIC1QYXRoICRzY3JpcHQ6dGVzdERpcmVjdG9yeVBhdGggLVJlY3Vyc2UgLUZvcmNlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJG51bGwgPSBDbGVhci14UGFja2FnZUNhY2hlCgogICAgICAgICAgICAgICAgaWYgKFRlc3QtUGFja2FnZUluc3RhbGxlZEJ5TmFtZSAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRudWxsID0gU3RhcnQtUHJvY2VzcyAtRmlsZVBhdGggJ21zaWV4ZWMuZXhlJyAtQXJndW1lbnRMaXN0IEAoIi94JHNjcmlwdDpwYWNrYWdlSWQiLCAnL3Bhc3NpdmUnKSAtV2FpdAogICAgICAgICAgICAgICAgICAgICRudWxsID0gU3RhcnQtU2xlZXAgLVNlY29uZHMgMQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChUZXN0LVBhY2thZ2VJbnN0YWxsZWRCeU5hbWUgLU5hbWUgJHNjcmlwdDpwYWNrYWdlTmFtZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAnVGVzdCBvdXRwdXQgd2lsbCBub3QgYmUgdmFsaWQgLSBwYWNrYWdlIGNvdWxkIG5vdCBiZSByZW1vdmVkLicKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgQ29udGV4dCAnR2V0LVRhcmdldFJlc291cmNlJyB7CiAgICAgICAgICAgICAgICBJdCAnU2hvdWxkIHJldHVybiBvbmx5IGJhc2ljIHByb3BlcnRpZXMgZm9yIGFic2VudCBwYWNrYWdlJyB7CiAgICAgICAgICAgICAgICAgICAgJHBhY2thZ2VQYXJhbWV0ZXJzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgUGF0aCA9ICRzY3JpcHQ6bXNpTG9jYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9ICRzY3JpcHQ6cGFja2FnZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdElkID0gJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IEdldC1UYXJnZXRSZXNvdXJjZSBAcGFja2FnZVBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHRQcm9wZXJ0aWVzID0gQCggJ0Vuc3VyZScsICdOYW1lJywgJ1Byb2R1Y3RJZCcsICdJbnN0YWxsZWQnICkKCiAgICAgICAgICAgICAgICAgICAgVGVzdC1HZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCAtR2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgJGdldFRhcmdldFJlc291cmNlUmVzdWx0IC1HZXRUYXJnZXRSZXNvdXJjZVJlc3VsdFByb3BlcnRpZXMgJGdldFRhcmdldFJlc291cmNlUmVzdWx0UHJvcGVydGllcwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgcmV0dXJuIGJhc2ljIGFuZCByZWdpc3RyeSBwcm9wZXJ0aWVzIGZvciBwcmVzZW50IHBhY2thZ2Ugd2l0aCByZWdpc3RyeSBjaGVjayBwYXJhbWV0ZXJzIHNwZWNpZmllZCBhbmQgQ3JlYXRlQ2hlY2tSZWdWYWx1ZSB0cnVlJyB7CiAgICAgICAgICAgICAgICAgICAgJHBhY2thZ2VQYXJhbWV0ZXJzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgUGF0aCA9ICRzY3JpcHQ6bXNpTG9jYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9ICRzY3JpcHQ6cGFja2FnZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdElkID0gJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQ2hlY2tSZWdWYWx1ZSA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnSGl2ZSA9ICdMb2NhbE1hY2hpbmUnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnS2V5ID0gJ1NPRlRXQVJFXHhQYWNrYWdlVGVzdEtleScKICAgICAgICAgICAgICAgICAgICAgICAgSW5zdGFsbGVkQ2hlY2tSZWdWYWx1ZU5hbWUgPSAneFBhY2thZ2VUZXN0VmFsdWUnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhID0gJ2luc3RhbGxlZCcKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKCiAgICAgICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDbGVhci14UGFja2FnZUNhY2hlCgogICAgICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBHZXQtVGFyZ2V0UmVzb3VyY2UgQHBhY2thZ2VQYXJhbWV0ZXJzCiAgICAgICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdFByb3BlcnRpZXMgPSBAKCAnRW5zdXJlJywgJ05hbWUnLCAnUHJvZHVjdElkJywgJ0luc3RhbGxlZCcsICdDcmVhdGVDaGVja1JlZ1ZhbHVlJywgJ0luc3RhbGxlZENoZWNrUmVnSGl2ZScsICdJbnN0YWxsZWRDaGVja1JlZ0tleScsICdJbnN0YWxsZWRDaGVja1JlZ1ZhbHVlTmFtZScsICdJbnN0YWxsZWRDaGVja1JlZ1ZhbHVlRGF0YScgKQoKICAgICAgICAgICAgICAgICAgICAgICAgVGVzdC1HZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCAtR2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgJGdldFRhcmdldFJlc291cmNlUmVzdWx0IC1HZXRUYXJnZXRSZXNvdXJjZVJlc3VsdFByb3BlcnRpZXMgJGdldFRhcmdldFJlc291cmNlUmVzdWx0UHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmaW5hbGx5CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkYmFzZVJlZ2lzdHJ5S2V5ID0gW01pY3Jvc29mdC5XaW4zMi5SZWdpc3RyeUtleV06Ok9wZW5CYXNlS2V5KFtNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlIaXZlXTo6TG9jYWxNYWNoaW5lLCBbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5Vmlld106OkRlZmF1bHQpCiAgICAgICAgICAgICAgICAgICAgICAgICRiYXNlUmVnaXN0cnlLZXkuRGVsZXRlU3ViS2V5VHJlZSgkcGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdLZXkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgcmV0dXJuIGZ1bGwgcGFja2FnZSBwcm9wZXJ0aWVzIGZvciBwcmVzZW50IHBhY2thZ2Ugd2l0aCByZWdpc3RyeSBjaGVjayBwYXJhbWV0ZXJzIHNwZWNpZmllZCBhbmQgQ3JlYXRlQ2hlY2tSZWdWYWx1ZSBmYWxzZScgewogICAgICAgICAgICAgICAgICAgICRwYWNrYWdlUGFyYW1ldGVycyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgIFBhdGggPSAkc2NyaXB0Om1zaUxvY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSAkc2NyaXB0OnBhY2thZ2VOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIFByb2R1Y3RJZCA9ICRzY3JpcHQ6cGFja2FnZUlkCiAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZUNoZWNrUmVnVmFsdWUgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgSW5zdGFsbGVkQ2hlY2tSZWdLZXkgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICBJbnN0YWxsZWRDaGVja1JlZ1ZhbHVlTmFtZSA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhID0gJycKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICBDbGVhci14UGFja2FnZUNhY2hlCgogICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IEdldC1UYXJnZXRSZXNvdXJjZSBAcGFja2FnZVBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHRQcm9wZXJ0aWVzID0gQCggJ0Vuc3VyZScsICdOYW1lJywgJ1Byb2R1Y3RJZCcsICdJbnN0YWxsZWQnLCAnUGF0aCcsICdJbnN0YWxsZWRPbicsICdTaXplJywgJ1ZlcnNpb24nLCAnUGFja2FnZURlc2NyaXB0aW9uJywgJ1B1Ymxpc2hlcicgKQoKICAgICAgICAgICAgICAgICAgICBUZXN0LUdldFRhcmdldFJlc291cmNlUmVzdWx0IC1HZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgLUdldFRhcmdldFJlc291cmNlUmVzdWx0UHJvcGVydGllcyAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHRQcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSXQgJ1Nob3VsZCByZXR1cm4gZnVsbCBwYWNrYWdlIHByb3BlcnRpZXMgZm9yIHByZXNlbnQgcGFja2FnZSB3aXRob3V0IHJlZ2lzdHJ5IGNoZWNrIHBhcmFtZXRlcnMgc3BlY2lmaWVkJyB7CiAgICAgICAgICAgICAgICAgICAgJHBhY2thZ2VQYXJhbWV0ZXJzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgUGF0aCA9ICRzY3JpcHQ6bXNpTG9jYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9ICRzY3JpcHQ6cGFja2FnZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdElkID0gJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICBDbGVhci14UGFja2FnZUNhY2hlCgogICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IEdldC1UYXJnZXRSZXNvdXJjZSBAcGFja2FnZVBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHRQcm9wZXJ0aWVzID0gQCggJ0Vuc3VyZScsICdOYW1lJywgJ1Byb2R1Y3RJZCcsICdJbnN0YWxsZWQnLCAnUGF0aCcsICdJbnN0YWxsZWRPbicsICdTaXplJywgJ1ZlcnNpb24nLCAnUGFja2FnZURlc2NyaXB0aW9uJywgJ1B1Ymxpc2hlcicgKQoKICAgICAgICAgICAgICAgICAgICBUZXN0LUdldFRhcmdldFJlc291cmNlUmVzdWx0IC1HZXRUYXJnZXRSZXNvdXJjZVJlc3VsdCAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgLUdldFRhcmdldFJlc291cmNlUmVzdWx0UHJvcGVydGllcyAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHRQcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1Rlc3QtVGFyZ2V0UmVzb3VyY2UnIHsKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgcmV0dXJuIGNvcnJlY3QgdmFsdWUgd2hlbiBwYWNrYWdlIGlzIGFic2VudCcgewogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUVuc3VyZSAnUHJlc2VudCcgYAogICAgICAgICAgICAgICAgICAgICAgICAtUGF0aCAkc2NyaXB0Om1zaUxvY2F0aW9uIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVByb2R1Y3RJZCAkc2NyaXB0OnBhY2thZ2VJZCBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1OYW1lIChbU3RyaW5nXTo6RW1wdHkpCgogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgfCBTaG91bGQgQmUgJGZhbHNlCgogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUVuc3VyZSAnUHJlc2VudCcgYAogICAgICAgICAgICAgICAgICAgICAgICAtUGF0aCAkc2NyaXB0Om1zaUxvY2F0aW9uIGAKICAgICAgICAgICAgICAgICAgICAgICAgLU5hbWUgJHNjcmlwdDpwYWNrYWdlTmFtZSBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1Qcm9kdWN0SWQgKFtTdHJpbmddOjpFbXB0eSkKCiAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCB8IFNob3VsZCBCZSAkZmFsc2UKCiAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IFRlc3QtVGFyZ2V0UmVzb3VyY2UgYAogICAgICAgICAgICAgICAgICAgICAgICAtRW5zdXJlICdBYnNlbnQnIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVBhdGggJHNjcmlwdDptc2lMb2NhdGlvbiBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQgYAogICAgICAgICAgICAgICAgICAgICAgICAtTmFtZSAoW1N0cmluZ106OkVtcHR5KQoKICAgICAgICAgICAgICAgICAgICAkdGVzdFRhcmdldFJlc291cmNlUmVzdWx0IHwgU2hvdWxkIEJlICR0cnVlCgogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUVuc3VyZSAnQWJzZW50JyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVByb2R1Y3RJZCAoW1N0cmluZ106OkVtcHR5KQoKICAgICAgICAgICAgICAgICAgICAkdGVzdFRhcmdldFJlc291cmNlUmVzdWx0IHwgU2hvdWxkIEJlICR0cnVlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSXQgJ1Nob3VsZCByZXR1cm4gY29ycmVjdCB2YWx1ZSB3aGVuIHBhY2thZ2UgaXMgcHJlc2VudCB3aXRob3V0IHJlZ2lzdHJ5IHBhcmFtZXRlcnMnIHsKICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnUHJlc2VudCcgLVBhdGggJHNjcmlwdDptc2lMb2NhdGlvbiAtUHJvZHVjdElkICRzY3JpcHQ6cGFja2FnZUlkIC1OYW1lIChbU3RyaW5nXTo6RW1wdHkpCgogICAgICAgICAgICAgICAgICAgIENsZWFyLXhQYWNrYWdlQ2FjaGUKCiAgICAgICAgICAgICAgICAgICAgVGVzdC1QYWNrYWdlSW5zdGFsbGVkQnlOYW1lIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgfCBTaG91bGQgQmUgJHRydWUKCiAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IFRlc3QtVGFyZ2V0UmVzb3VyY2UgYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLUVuc3VyZSAnUHJlc2VudCcgYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLVBhdGggJHNjcmlwdDptc2lMb2NhdGlvbiBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtUHJvZHVjdElkICRzY3JpcHQ6cGFja2FnZUlkIGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC1OYW1lIChbU3RyaW5nXTo6RW1wdHkpCgogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgfCBTaG91bGQgQmUgJHRydWUKCiAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IFRlc3QtVGFyZ2V0UmVzb3VyY2UgYAogICAgICAgICAgICAgICAgICAgICAgICAtRW5zdXJlICdQcmVzZW50JyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVByb2R1Y3RJZCAoW1N0cmluZ106OkVtcHR5KQoKICAgICAgICAgICAgICAgICAgICAkdGVzdFRhcmdldFJlc291cmNlUmVzdWx0IHwgU2hvdWxkIEJlICR0cnVlCgogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIGAKICAgICAgICAgICAgICAgICAgICAgICAgLUVuc3VyZSAnQWJzZW50JyBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gYAogICAgICAgICAgICAgICAgICAgICAgICAtUHJvZHVjdElkICRzY3JpcHQ6cGFja2FnZUlkIGAKICAgICAgICAgICAgICAgICAgICAgICAgLU5hbWUgKFtTdHJpbmddOjpFbXB0eSkKCiAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCB8IFNob3VsZCBCZSAkZmFsc2UKCiAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IFRlc3QtVGFyZ2V0UmVzb3VyY2UgYAogICAgICAgICAgICAgICAgICAgICAgICAtRW5zdXJlICdBYnNlbnQnIGAKICAgICAgICAgICAgICAgICAgICAgICAgLVBhdGggJHNjcmlwdDptc2lMb2NhdGlvbiBgCiAgICAgICAgICAgICAgICAgICAgICAgIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgYAogICAgICAgICAgICAgICAgICAgICAgICAtUHJvZHVjdElkIChbU3RyaW5nXTo6RW1wdHkpCgogICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgfCBTaG91bGQgQmUgJGZhbHNlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJGV4aXN0aW5nUGFja2FnZVBhcmFtZXRlcnMgPSBAewogICAgICAgICAgICAgICAgICAgIFBhdGggPSAkc2NyaXB0OnRlc3RFeGVjdXRhYmxlUGF0aAogICAgICAgICAgICAgICAgICAgIE5hbWUgPSBbU3RyaW5nXTo6RW1wdHkKICAgICAgICAgICAgICAgICAgICBQcm9kdWN0SWQgPSBbU3RyaW5nXTo6RW1wdHkKICAgICAgICAgICAgICAgICAgICBDcmVhdGVDaGVja1JlZ1ZhbHVlID0gJHRydWUKICAgICAgICAgICAgICAgICAgICBJbnN0YWxsZWRDaGVja1JlZ0hpdmUgPSAnTG9jYWxNYWNoaW5lJwogICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnS2V5ID0gJ1NPRlRXQVJFXHhQYWNrYWdlVGVzdEtleScKICAgICAgICAgICAgICAgICAgICBJbnN0YWxsZWRDaGVja1JlZ1ZhbHVlTmFtZSA9ICd4UGFja2FnZVRlc3RWYWx1ZScKICAgICAgICAgICAgICAgICAgICBJbnN0YWxsZWRDaGVja1JlZ1ZhbHVlRGF0YSA9ICdpbnN0YWxsZWQnCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSXQgJ1Nob3VsZCByZXR1cm4gcHJlc2VudCB3aXRoIGV4aXN0aW5nIGV4ZSBhbmQgbWF0Y2hpbmcgcmVnaXN0cnkgcGFyYW1ldGVycycgewogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAZXhpc3RpbmdQYWNrYWdlUGFyYW1ldGVycwoKICAgICAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIEBleGlzdGluZ1BhY2thZ2VQYXJhbWV0ZXJzCiAgICAgICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgfCBTaG91bGQgQmUgJHRydWUKCiAgICAgICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ0Fic2VudCcgQGV4aXN0aW5nUGFja2FnZVBhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCB8IFNob3VsZCBCZSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmluYWxseQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGJhc2VSZWdpc3RyeUtleSA9IFtNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlLZXldOjpPcGVuQmFzZUtleShbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5SGl2ZV06OkxvY2FsTWFjaGluZSwgW01pY3Jvc29mdC5XaW4zMi5SZWdpc3RyeVZpZXddOjpEZWZhdWx0KQogICAgICAgICAgICAgICAgICAgICAgICAkYmFzZVJlZ2lzdHJ5S2V5LkRlbGV0ZVN1YktleVRyZWUoJGV4aXN0aW5nUGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdLZXkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRwYXJhbWV0ZXJzVG9NaXNtYXRjaENoZWNrID0gQCggJ0luc3RhbGxlZENoZWNrUmVnS2V5JywgJ0luc3RhbGxlZENoZWNrUmVnVmFsdWVOYW1lJywgJ0luc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhJyApCgogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHBhcmFtZXRlclRvTWlzbWF0Y2hDaGVjayBpbiAkcGFyYW1ldGVyc1RvTWlzbWF0Y2hDaGVjaykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBJdCAiU2hvdWxkIHJldHVybiBub3QgcHJlc2VudCB3aXRoIGV4aXN0aW5nIGV4ZSBhbmQgbWlzbWF0Y2hpbmcgcGFyYW1ldGVyICRwYXJhbWV0ZXJUb01pc21hdGNoQ2hlY2siIHsKICAgICAgICAgICAgICAgICAgICAgICAgU2V0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIEBleGlzdGluZ1BhY2thZ2VQYXJhbWV0ZXJzCgogICAgICAgICAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1pc21hdGNoaW5nUGFyYW1ldGVycyA9ICRleGlzdGluZ1BhY2thZ2VQYXJhbWV0ZXJzLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtaXNtYXRjaGluZ1BhcmFtZXRlcnNbJHBhcmFtZXRlclRvTWlzbWF0Y2hDaGVja10gPSAnbm90IG9yaWdpbmFsIHZhbHVlJwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgLU1lc3NhZ2UgIlRlc3QgdGFyZ2V0IHJlc291cmNlIHBhcmFtZXRlcnM6ICQoIE91dC1TdHJpbmcgLUlucHV0T2JqZWN0ICRtaXNtYXRjaGluZ1BhcmFtZXRlcnMpIgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgPSBUZXN0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIEBtaXNtYXRjaGluZ1BhcmFtZXRlcnMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0ZXN0VGFyZ2V0UmVzb3VyY2VSZXN1bHQgfCBTaG91bGQgQmUgJGZhbHNlCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRlc3RUYXJnZXRSZXNvdXJjZVJlc3VsdCA9IFRlc3QtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyBAbWlzbWF0Y2hpbmdQYXJhbWV0ZXJzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGVzdFRhcmdldFJlc291cmNlUmVzdWx0IHwgU2hvdWxkIEJlICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYmFzZVJlZ2lzdHJ5S2V5ID0gW01pY3Jvc29mdC5XaW4zMi5SZWdpc3RyeUtleV06Ok9wZW5CYXNlS2V5KFtNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlIaXZlXTo6TG9jYWxNYWNoaW5lLCBbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5Vmlld106OkRlZmF1bHQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYmFzZVJlZ2lzdHJ5S2V5LkRlbGV0ZVN1YktleVRyZWUoJGV4aXN0aW5nUGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdLZXkpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIENvbnRleHQgJ1NldC1UYXJnZXRSZXNvdXJjZScgewogICAgICAgICAgICAgICAgSXQgJ1Nob3VsZCBjb3JyZWN0bHkgaW5zdGFsbCBhbmQgcmVtb3ZlIGEgLm1zaSBwYWNrYWdlIHdpdGhvdXQgcmVnaXN0cnkgcGFyYW1ldGVycycgewogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyAtUGF0aCAkc2NyaXB0Om1zaUxvY2F0aW9uIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQgLU5hbWUgKFtTdHJpbmddOjpFbXB0eSkKCiAgICAgICAgICAgICAgICAgICAgVGVzdC1QYWNrYWdlSW5zdGFsbGVkQnlOYW1lIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgfCBTaG91bGQgQmUgJHRydWUKCiAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0ID0gR2V0LVRhcmdldFJlc291cmNlIC1QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gLVByb2R1Y3RJZCAkc2NyaXB0OnBhY2thZ2VJZCAtTmFtZSAoW1N0cmluZ106OkVtcHR5KQoKICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuVmVyc2lvbiB8IFNob3VsZCBCZSAnMS4yLjMuNCcKICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuSW5zdGFsbGVkT24gfCBTaG91bGQgQmUgKCJ7MDpkfSIgLWYgW0RhdGVUaW1lXTo6Tm93LkRhdGUpCiAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZCB8IFNob3VsZCBCZSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdC5Qcm9kdWN0SWQgfCBTaG91bGQgQmUgJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuUGF0aCB8IFNob3VsZCBCZSAkc2NyaXB0Om1zaUxvY2F0aW9uCgogICAgICAgICAgICAgICAgICAgICMgQ2FuJ3QgZmlndXJlIG91dCBob3cgdG8gc2V0IHRoaXMgd2l0aGluIHRoZSBNU0kuCiAgICAgICAgICAgICAgICAgICAgIyAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuUGFja2FnZURlc2NyaXB0aW9uIHwgU2hvdWxkIEJlICdBIHBhY2thZ2UgZm9yIHVuaXQgdGVzdGluZycKCiAgICAgICAgICAgICAgICAgICAgW01hdGhdOjpSb3VuZCgkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuU2l6ZSwgMikgfCBTaG91bGQgQmUgMC4wMwoKICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyAtUGF0aCAkc2NyaXB0Om1zaUxvY2F0aW9uIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQgLU5hbWUgKFtTdHJpbmddOjpFbXB0eSkKCiAgICAgICAgICAgICAgICAgICAgVGVzdC1QYWNrYWdlSW5zdGFsbGVkQnlOYW1lIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgfCBTaG91bGQgQmUgJGZhbHNlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSXQgJ1Nob3VsZCBjb3JyZWN0bHkgaW5zdGFsbCBhbmQgcmVtb3ZlIGEgLm1zaSBwYWNrYWdlIHdpdGggcmVnaXN0cnkgcGFyYW1ldGVycycgewogICAgICAgICAgICAgICAgICAgICRwYWNrYWdlUGFyYW1ldGVycyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgIFBhdGggPSAkc2NyaXB0Om1zaUxvY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBbU3RyaW5nXTo6RW1wdHkKICAgICAgICAgICAgICAgICAgICAgICAgUHJvZHVjdElkID0gJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQ2hlY2tSZWdWYWx1ZSA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnSGl2ZSA9ICdMb2NhbE1hY2hpbmUnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnS2V5ID0gJ1NPRlRXQVJFXHhQYWNrYWdlVGVzdEtleScKICAgICAgICAgICAgICAgICAgICAgICAgSW5zdGFsbGVkQ2hlY2tSZWdWYWx1ZU5hbWUgPSAneFBhY2thZ2VUZXN0VmFsdWUnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhID0gJ2luc3RhbGxlZCcKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKCiAgICAgICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBUZXN0LVBhY2thZ2VJbnN0YWxsZWRCeU5hbWUgLU5hbWUgJHNjcmlwdDpwYWNrYWdlTmFtZSB8IFNob3VsZCBCZSAkdHJ1ZQoKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0ID0gR2V0LVRhcmdldFJlc291cmNlIEBwYWNrYWdlUGFyYW1ldGVycwoKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZCB8IFNob3VsZCBCZSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuUHJvZHVjdElkIHwgU2hvdWxkIEJlICRwYWNrYWdlUGFyYW1ldGVycy5Qcm9kdWN0SWQKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0LlBhdGggfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLlBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lk5hbWUgfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0LkNyZWF0ZUNoZWNrUmVnVmFsdWUgfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLkNyZWF0ZUNoZWNrUmVnVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZENoZWNrUmVnSGl2ZSB8IFNob3VsZCBCZSAkcGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdIaXZlCiAgICAgICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdC5JbnN0YWxsZWRDaGVja1JlZ0tleSB8IFNob3VsZCBCZSAkcGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdLZXkKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZENoZWNrUmVnVmFsdWVOYW1lIHwgU2hvdWxkIEJlICRwYWNrYWdlUGFyYW1ldGVycy5JbnN0YWxsZWRDaGVja1JlZ1ZhbHVlTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuSW5zdGFsbGVkQ2hlY2tSZWdWYWx1ZURhdGEgfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLkluc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhCgogICAgICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3QtUGFja2FnZUluc3RhbGxlZEJ5TmFtZSAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIHwgU2hvdWxkIEJlICRmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBmaW5hbGx5CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkYmFzZVJlZ2lzdHJ5S2V5ID0gW01pY3Jvc29mdC5XaW4zMi5SZWdpc3RyeUtleV06Ok9wZW5CYXNlS2V5KFtNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlIaXZlXTo6TG9jYWxNYWNoaW5lLCBbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5Vmlld106OkRlZmF1bHQpCiAgICAgICAgICAgICAgICAgICAgICAgICRiYXNlUmVnaXN0cnlLZXkuRGVsZXRlU3ViS2V5VHJlZSgkcGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdLZXkpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgY29ycmVjdGx5IGluc3RhbGwgYW5kIHJlbW92ZSBhIC5leGUgcGFja2FnZSB3aXRoIHJlZ2lzdHJ5IHBhcmFtZXRlcnMnIHsKICAgICAgICAgICAgICAgICAgICAkcGFja2FnZVBhcmFtZXRlcnMgPSBAewogICAgICAgICAgICAgICAgICAgICAgICBQYXRoID0gJHNjcmlwdDp0ZXN0RXhlY3V0YWJsZVBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IFtTdHJpbmddOjpFbXB0eQogICAgICAgICAgICAgICAgICAgICAgICBQcm9kdWN0SWQgPSBbU3RyaW5nXTo6RW1wdHkKICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlQ2hlY2tSZWdWYWx1ZSA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnSGl2ZSA9ICdMb2NhbE1hY2hpbmUnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnS2V5ID0gJ1NPRlRXQVJFXHhQYWNrYWdlVGVzdEtleScKICAgICAgICAgICAgICAgICAgICAgICAgSW5zdGFsbGVkQ2hlY2tSZWdWYWx1ZU5hbWUgPSAneFBhY2thZ2VUZXN0VmFsdWUnCiAgICAgICAgICAgICAgICAgICAgICAgIEluc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhID0gJ2luc3RhbGxlZCcKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKCiAgICAgICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBUZXN0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIEBwYWNrYWdlUGFyYW1ldGVycyB8IFNob3VsZCBCZSAkdHJ1ZQoKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0ID0gR2V0LVRhcmdldFJlc291cmNlIEBwYWNrYWdlUGFyYW1ldGVycwoKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZCB8IFNob3VsZCBCZSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuUHJvZHVjdElkIHwgU2hvdWxkIEJlICRwYWNrYWdlUGFyYW1ldGVycy5Qcm9kdWN0SWQKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0LlBhdGggfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLlBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lk5hbWUgfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0LkNyZWF0ZUNoZWNrUmVnVmFsdWUgfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLkNyZWF0ZUNoZWNrUmVnVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZENoZWNrUmVnSGl2ZSB8IFNob3VsZCBCZSAkcGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdIaXZlCiAgICAgICAgICAgICAgICAgICAgICAgICRnZXRUYXJnZXRSZXNvdXJjZVJlc3VsdC5JbnN0YWxsZWRDaGVja1JlZ0tleSB8IFNob3VsZCBCZSAkcGFja2FnZVBhcmFtZXRlcnMuSW5zdGFsbGVkQ2hlY2tSZWdLZXkKICAgICAgICAgICAgICAgICAgICAgICAgJGdldFRhcmdldFJlc291cmNlUmVzdWx0Lkluc3RhbGxlZENoZWNrUmVnVmFsdWVOYW1lIHwgU2hvdWxkIEJlICRwYWNrYWdlUGFyYW1ldGVycy5JbnN0YWxsZWRDaGVja1JlZ1ZhbHVlTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkZ2V0VGFyZ2V0UmVzb3VyY2VSZXN1bHQuSW5zdGFsbGVkQ2hlY2tSZWdWYWx1ZURhdGEgfCBTaG91bGQgQmUgJHBhY2thZ2VQYXJhbWV0ZXJzLkluc3RhbGxlZENoZWNrUmVnVmFsdWVEYXRhCgogICAgICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMKCiAgICAgICAgICAgICAgICAgICAgICAgIFRlc3QtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMgfCBTaG91bGQgQmUgJHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZmluYWxseQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGJhc2VSZWdpc3RyeUtleSA9IFtNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlLZXldOjpPcGVuQmFzZUtleShbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5SGl2ZV06OkxvY2FsTWFjaGluZSwgW01pY3Jvc29mdC5XaW4zMi5SZWdpc3RyeVZpZXddOjpEZWZhdWx0KQogICAgICAgICAgICAgICAgICAgICAgICAkYmFzZVJlZ2lzdHJ5S2V5LkRlbGV0ZVN1YktleVRyZWUoJHBhY2thZ2VQYXJhbWV0ZXJzLkluc3RhbGxlZENoZWNrUmVnS2V5KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBJdCAnU2hvdWxkIHRocm93IHdpdGggaW5jb3JyZWN0IHByb2R1Y3QgaWQnIHsKICAgICAgICAgICAgICAgICAgICAkd3JvbmdQYWNrYWdlSWQgPSAne2RlYWRiZWVmLTgwYzYtNDFlNi1hMWI5LThiZGI4YTA1MDI3Mn0nCgogICAgICAgICAgICAgICAgICAgIHsgU2V0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIC1QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gLVByb2R1Y3RJZCAkd3JvbmdQYWNrYWdlSWQgLU5hbWUgKFtTdHJpbmddOjpFbXB0eSkgfSB8IFNob3VsZCBUaHJvdwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgdGhyb3cgd2l0aCBpbmNvcnJlY3QgbmFtZScgewogICAgICAgICAgICAgICAgICAgICR3cm9uZ1BhY2thZ2VOYW1lID0gJ1dyb25nUGFja2FnZU5hbWUnCgogICAgICAgICAgICAgICAgICAgIHsgU2V0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIC1QYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gLVByb2R1Y3RJZCAoW1N0cmluZ106OkVtcHR5KSAtTmFtZSAkd3JvbmdQYWNrYWdlTmFtZSB9IHwgU2hvdWxkIFRocm93CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSXQgJ1Nob3VsZCBjb3JyZWN0bHkgaW5zdGFsbCBhbmQgcmVtb3ZlIGEgcGFja2FnZSBmcm9tIGEgSFRUUCBVUkwnIHsKICAgICAgICAgICAgICAgICAgICAkYmFzZVVybCA9ICdodHRwOi8vbG9jYWxob3N0OjEyNDIvJwogICAgICAgICAgICAgICAgICAgICRtc2lVcmwgPSAiJGJhc2VVcmwiICsgInBhY2thZ2UubXNpIgogICAgICAgICAgICAgICAgICAgIE5ldy1Nb2NrRmlsZVNlcnZlciAtRmlsZVBhdGggJHNjcmlwdDptc2lMb2NhdGlvbgoKICAgICAgICAgICAgICAgICAgICAjIFRlc3QgcGlwZSBjb25uZWN0aW9uIGFzIHRlc3Rpbmcgc2VydmVyIHJlYWRpbmVzcwogICAgICAgICAgICAgICAgICAgICRwaXBlID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgJ1N5c3RlbS5JTy5QaXBlcy5OYW1lZFBpcGVTZXJ2ZXJTdHJlYW0nIC1Bcmd1bWVudExpc3QgQCggJ1xcLlxwaXBlXGRzY3Rlc3QxJyApCiAgICAgICAgICAgICAgICAgICAgJHBpcGUuV2FpdEZvckNvbm5lY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICRwaXBlLkRpc3Bvc2UoKQoKICAgICAgICAgICAgICAgICAgICB7IFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyAtUGF0aCAkYmFzZVVybCAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQgfSB8IFNob3VsZCBUaHJvdwoKICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnUHJlc2VudCcgLVBhdGggJG1zaVVybCAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICBUZXN0LVBhY2thZ2VJbnN0YWxsZWRCeU5hbWUgLU5hbWUgJHNjcmlwdDpwYWNrYWdlTmFtZSB8IFNob3VsZCBCZSAkdHJ1ZQoKICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyAtUGF0aCAkbXNpVXJsIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgLVByb2R1Y3RJZCAkc2NyaXB0OnBhY2thZ2VJZAogICAgICAgICAgICAgICAgICAgIFRlc3QtUGFja2FnZUluc3RhbGxlZEJ5TmFtZSAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIHwgU2hvdWxkIEJlICRmYWxzZQoKICAgICAgICAgICAgICAgICAgICAkcGlwZSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lICdTeXN0ZW0uSU8uUGlwZXMuTmFtZWRQaXBlQ2xpZW50U3RyZWFtJyAtQXJndW1lbnRMaXN0IEAoICdcXC5ccGlwZVxkc2N0ZXN0MicgKQogICAgICAgICAgICAgICAgICAgICRwaXBlLkNvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICRwaXBlLkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgY29ycmVjdGx5IGluc3RhbGwgYW5kIHJlbW92ZSBhIHBhY2thZ2UgZnJvbSBhIEhUVFBTIFVSTCcgLVNraXA6JHNjcmlwdDpza2lwSHR0cHNUZXN0IHsKICAgICAgICAgICAgICAgICAgICAkYmFzZVVybCA9ICdodHRwczovL2xvY2FsaG9zdDoxMjQzLycKICAgICAgICAgICAgICAgICAgICAkbXNpVXJsID0gIiRiYXNlVXJsIiArICJwYWNrYWdlLm1zaSIKICAgICAgICAgICAgICAgICAgICBOZXctTW9ja0ZpbGVTZXJ2ZXIgLUZpbGVQYXRoICRzY3JpcHQ6bXNpTG9jYXRpb24gLUh0dHBzCgogICAgICAgICAgICAgICAgICAgICMgVGVzdCBwaXBlIGNvbm5lY3Rpb24gYXMgdGVzdGluZyBzZXJ2ZXIgcmVhc2RpbmVzcwogICAgICAgICAgICAgICAgICAgICRwaXBlID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgJ1N5c3RlbS5JTy5QaXBlcy5OYW1lZFBpcGVTZXJ2ZXJTdHJlYW0nIC1Bcmd1bWVudExpc3QgQCggJ1xcLlxwaXBlXGRzY3Rlc3QxJyApCiAgICAgICAgICAgICAgICAgICAgJHBpcGUuV2FpdEZvckNvbm5lY3Rpb24oKQogICAgICAgICAgICAgICAgICAgICRwaXBlLkRpc3Bvc2UoKQoKICAgICAgICAgICAgICAgICAgICB7IFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyAtUGF0aCAkYmFzZVVybCAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQgfSB8IFNob3VsZCBUaHJvdwoKICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnUHJlc2VudCcgLVBhdGggJG1zaVVybCAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIC1Qcm9kdWN0SWQgJHNjcmlwdDpwYWNrYWdlSWQKICAgICAgICAgICAgICAgICAgICBUZXN0LVBhY2thZ2VJbnN0YWxsZWRCeU5hbWUgLU5hbWUgJHNjcmlwdDpwYWNrYWdlTmFtZSB8IFNob3VsZCBCZSAkdHJ1ZQoKICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnQWJzZW50JyAtUGF0aCAkbXNpVXJsIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgLVByb2R1Y3RJZCAkc2NyaXB0OnBhY2thZ2VJZAogICAgICAgICAgICAgICAgICAgIFRlc3QtUGFja2FnZUluc3RhbGxlZEJ5TmFtZSAtTmFtZSAkc2NyaXB0OnBhY2thZ2VOYW1lIHwgU2hvdWxkIEJlICRmYWxzZQoKICAgICAgICAgICAgICAgICAgICAkcGlwZSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lICdTeXN0ZW0uSU8uUGlwZXMuTmFtZWRQaXBlQ2xpZW50U3RyZWFtJyAtQXJndW1lbnRMaXN0IEAoICdcXC5ccGlwZVxkc2N0ZXN0MicgKQogICAgICAgICAgICAgICAgICAgICRwaXBlLkNvbm5lY3QoKQogICAgICAgICAgICAgICAgICAgICRwaXBlLkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgd3JpdGUgdG8gdGhlIHNwZWNpZmllZCBsb2cgcGF0aCcgewogICAgICAgICAgICAgICAgICAgICRsb2dQYXRoID0gSm9pbi1QYXRoIC1QYXRoICRzY3JpcHQ6dGVzdERpcmVjdG9yeVBhdGggLUNoaWxkUGF0aCAnVGVzdE1zaUxvZy50eHQnCgogICAgICAgICAgICAgICAgICAgIGlmIChUZXN0LVBhdGggLVBhdGggJGxvZ1BhdGgpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmUtSXRlbSAtUGF0aCAkbG9nUGF0aCAtRm9yY2UKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyAtUGF0aCAkc2NyaXB0Om1zaUxvY2F0aW9uIC1OYW1lICRzY3JpcHQ6cGFja2FnZU5hbWUgLUxvZ1BhdGggJGxvZ1BhdGggLVByb2R1Y3RJZCAoW3N0cmluZ106OkVtcHR5KQoKICAgICAgICAgICAgICAgICAgICBUZXN0LVBhdGggLVBhdGggJGxvZ1BhdGggfCBTaG91bGQgQmUgJHRydWUKICAgICAgICAgICAgICAgICAgICBHZXQtQ29udGVudCAtUGF0aCAkbG9nUGF0aCB8IFNob3VsZCBOb3QgQmUgJG51bGwKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBJdCAnU2hvdWxkIGFkZCBzcGFjZSBhZnRlciAuTVNJIGluc3RhbGxhdGlvbiBhcmd1bWVudHMgKCMxOTUpJyB7CiAgICAgICAgICAgICAgICAgICAgTW9jayBJbnZva2UtUHJvY2VzcyAtUGFyYW1ldGVyRmlsdGVyIHsgJFByb2Nlc3MuU3RhcnRJbmZvLkFyZ3VtZW50cy5FbmRzV2l0aCgkc2NyaXB0Om1zaUFyZ3VtZW50cykgfSB7IHJldHVybiBAeyBFeGl0Q29kZSA9IDAgfSB9CiAgICAgICAgICAgICAgICAgICAgTW9jayBUZXN0LVRhcmdldFJlc291cmNlIHsgcmV0dXJuICRmYWxzZSB9CiAgICAgICAgICAgICAgICAgICAgTW9jayBHZXQtUHJvZHVjdEVudHJ5IHsgcmV0dXJuICRzY3JpcHQ6cGFja2FnZUlkIH0KCiAgICAgICAgICAgICAgICAgICAgJHBhY2thZ2VQYXJhbWV0ZXJzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgUGF0aCA9ICRzY3JpcHQ6bXNpTG9jYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IFtTdHJpbmddOjpFbXB0eQogICAgICAgICAgICAgICAgICAgICAgICBQcm9kdWN0SWQgPSAkc2NyaXB0OnBhY2thZ2VJZAogICAgICAgICAgICAgICAgICAgICAgICBBcmd1bWVudHMgPSAkc2NyaXB0Om1zaUFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU2V0LVRhcmdldFJlc291cmNlIC1FbnN1cmUgJ1ByZXNlbnQnIEBwYWNrYWdlUGFyYW1ldGVycwoKICAgICAgICAgICAgICAgICAgICBBc3NlcnQtTW9ja0NhbGxlZCBJbnZva2UtUHJvY2VzcyAtUGFyYW1ldGVyRmlsdGVyIHsgJFByb2Nlc3MuU3RhcnRJbmZvLkFyZ3VtZW50cy5FbmRzV2l0aCgiICRzY3JpcHQ6bXNpQXJndW1lbnRzIikgfSAtU2NvcGUgSXQKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBJdCAnU2hvdWxkIG5vdCBjaGVjayBmb3IgcHJvZHVjdCBpbnN0YWxsYXRpb24gd2hlbiByZWJvb3RlZCBpcyByZXF1aXJlZCAoIzUyKScgewogICAgICAgICAgICAgICAgICAgIE1vY2sgSW52b2tlLVByb2Nlc3MgeyByZXR1cm4gW1BTQ3VzdG9tT2JqZWN0XSBAeyBFeGl0Q29kZSA9IDMwMTAgfSB9CiAgICAgICAgICAgICAgICAgICAgTW9jayBUZXN0LVRhcmdldFJlc291cmNlIHsgcmV0dXJuICRmYWxzZSB9CiAgICAgICAgICAgICAgICAgICAgTW9jayBHZXQtUHJvZHVjdEVudHJ5IHsgfQoKICAgICAgICAgICAgICAgICAgICAkcGFja2FnZVBhcmFtZXRlcnMgPSBAewogICAgICAgICAgICAgICAgICAgICAgICBQYXRoID0gJHNjcmlwdDptc2lMb2NhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gW1N0cmluZ106OkVtcHR5CiAgICAgICAgICAgICAgICAgICAgICAgIFByb2R1Y3RJZCA9ICRzY3JpcHQ6cGFja2FnZUlkCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB7IFNldC1UYXJnZXRSZXNvdXJjZSAtRW5zdXJlICdQcmVzZW50JyBAcGFja2FnZVBhcmFtZXRlcnMgfSB8IFNob3VsZCBOb3QgVGhyb3cKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBJdCAnU2hvdWxkIGluc3RhbGwgcGFja2FnZSB1c2luZyB1c2VyIGNyZWRlbnRpYWxzIHdoZW4gc3BlY2lmaWVkJyB7CiAgICAgICAgICAgICAgICAgICAgTW9jayBJbnZva2UtUEludm9rZSB7IH0KICAgICAgICAgICAgICAgICAgICBNb2NrIFRlc3QtVGFyZ2V0UmVzb3VyY2UgeyByZXR1cm4gJGZhbHNlIH0KCiAgICAgICAgICAgICAgICAgICAgJHBhY2thZ2VDcmVkZW50aWFsID0gW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICAgICAgICAgICAgICAgICAkcGFja2FnZVBhcmFtZXRlcnMgPSBAewogICAgICAgICAgICAgICAgICAgICAgICBQYXRoID0gJHNjcmlwdDptc2lMb2NhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gW1N0cmluZ106OkVtcHR5CiAgICAgICAgICAgICAgICAgICAgICAgIFByb2R1Y3RJZCA9ICRzY3JpcHQ6cGFja2FnZUlkCiAgICAgICAgICAgICAgICAgICAgICAgIFJ1bkFzQ3JlZGVudGlhbCA9ICRwYWNrYWdlQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBTZXQtVGFyZ2V0UmVzb3VyY2UgLUVuc3VyZSAnUHJlc2VudCcgQHBhY2thZ2VQYXJhbWV0ZXJzCgogICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIEludm9rZS1QSW52b2tlIC1QYXJhbWV0ZXJGaWx0ZXIgeyAkQ3JlZGVudGlhbCAtZXEgJHBhY2thZ2VDcmVkZW50aWFsfSAtU2NvcGUgSXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgQ29udGV4dCAnR2V0LU1zaVRvb2wnIHsKICAgICAgICAgICAgICAgIEl0ICdTaG91bGQgYWRkIE1TSSB0b29scyBpbiB0aGUgTWljcm9zb2Z0LldpbmRvd3MuRGVzaXJlZFN0YXRlQ29uZmlndXJhdGlvbi54UGFja2FnZVJlc291cmNlIG5hbWVzcGFjZScgewogICAgICAgICAgICAgICAgICAgICRhZGRUeXBlUmVzdWx0ID0gQHsgTmFtZXNwYWNlID0gJ01vY2sgbm90IGNhbGxlZCcgfQogICAgICAgICAgICAgICAgICAgIE1vY2sgLUNvbW1hbmROYW1lICdBZGQtVHlwZScgLU1vY2tXaXRoIHsgJGFkZFR5cGVSZXN1bHRbJ05hbWVzcGFjZSddID0gJE5hbWVzcGFjZSB9CgogICAgICAgICAgICAgICAgICAgICRtc2lUb29sID0gR2V0LU1zaVRvb2wKCiAgICAgICAgICAgICAgICAgICAgaWYgKChbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU1R5cGVOYW1lXSdNaWNyb3NvZnQuV2luZG93cy5EZXNpcmVkU3RhdGVDb25maWd1cmF0aW9uLnhQYWNrYWdlUmVzb3VyY2UuTXNpVG9vbHMnKS5UeXBlKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgQXNzZXJ0LU1vY2tDYWxsZWQgLUNvbW1hbmROYW1lICdBZGQtVHlwZScgLVRpbWVzIDAKCiAgICAgICAgICAgICAgICAgICAgICAgICRtc2lUb29sIHwgU2hvdWxkIEJlIChbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU1R5cGVOYW1lXSdNaWNyb3NvZnQuV2luZG93cy5EZXNpcmVkU3RhdGVDb25maWd1cmF0aW9uLnhQYWNrYWdlUmVzb3VyY2UuTXNpVG9vbHMnKS5UeXBlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFzc2VydC1Nb2NrQ2FsbGVkIC1Db21tYW5kTmFtZSAnQWRkLVR5cGUnIC1UaW1lcyAxCgogICAgICAgICAgICAgICAgICAgICAgICAkYWRkVHlwZVJlc3VsdFsnTmFtZXNwYWNlJ10gfCBTaG91bGQgQmUgJ01pY3Jvc29mdC5XaW5kb3dzLkRlc2lyZWRTdGF0ZUNvbmZpZ3VyYXRpb24ueFBhY2thZ2VSZXNvdXJjZScKICAgICAgICAgICAgICAgICAgICAgICAgJG1zaVRvb2wgfCBTaG91bGQgQmUgJG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KZmluYWxseQp7CiAgICBFeGl0LURzY1Jlc291cmNlVGVzdEVudmlyb25tZW50IC1UZXN0RW52aXJvbm1lbnQgJHNjcmlwdDp0ZXN0RW52aXJvbm1lbnQKfQo=
