backup_email_shutdownoffsite_restartvsphere.ps1,e325f8a51ad0fb33fdb9717d787cf876,Scan result is 1. IsMalware: 0,RnVuY3Rpb24gTG9nZ2VyKFtzdHJpbmddJGxvZ19kYXRhKSB7CiAgJHRpbWVzdGFtcCA9IEdldC1EYXRlCiAgJGRhdGVfc3RyaW5nID0gW3N0cmluZ10kdGltZXN0YW1wCiAgQWRkLUNvbnRlbnQgQzpcVXNlcnNcQWRtaW5pc3RyYXRvclxEcm9wYm94XHZtX2JhY2t1cFxsb2cudHh0ICJgbiRkYXRlX3N0cmluZyAkbG9nX2RhdGEiCn0KCiMgQ2xlYXIgYWxsIHZhcmlhYmxlcyB1c2VkIGluIHRoaXMgc2NyaXB0LgpGdW5jdGlvbiBDbGVhclZhcnMgewogICMgVmFyaWFibGVzIHNob3VsZCBiZSBjbGVhcmVkIGZyb20gdGhlIGVudmlvcm5tZW50IGZvciBtYW55IHJlYXNvbnM6CiAgIyAqU2VjdXJpdHkgLSB3ZSBzaG91bGRuJ3QgbGVhdmUgYW55dGhpbmcgbHlpbmcgYXJvdW5kCiAgIyAqRGVidWdnaW5nIC0gQmVzdCB0byBrbm93IGFsbCB2YXJpYWJsZXMgYXJlIHJlc2V0IHNvIHRoYXQgcHJldmlvdXNseSBmYWlsZWQgcnVucyBkb24ndCBpbnRlcmZlcmUKCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOmJhY2t1cF9saXN0IiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTp2Y2VudGVyX3NlcnZlciIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6YmFja3VwX3NlYXJjaF9zdHJpbmciIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOm9sZF9iYWNrdXBzIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpvbGRfYmFja3VwX2NvdW50IiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTp0YXJnZXRfaG9zdCIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6dGFyZ2V0X2hvc3RfdmlldyIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6dGFyZ2V0X2RzIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTp0YXJnZXRfZHNfdmlldyIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6c291cmNlX3ZtIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpzb3VyY2Vfdm1fdmlldyIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6YmFja3VwX2RhdGUiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOnNuYXBzaG90X25hbWUiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOnNuYXBzaG90IiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpzbmFwc2hvdF92aWV3IiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpjbG9uZUZvbGRlciIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6Y2xvbmVTcGVjIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpjbG9uZU5hbWUiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOmNsb25lIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpjbG9uZUZvbGRlciIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6bnVtYmVyX29mX2JhY2t1cHNfcmV0YWluZWQiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOmN1cnJlbnRfYmFja3VwX2NvdW50IiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpjdXN0b21lciIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6bnVtYmVyX29mX2JhY2t1cHNfZXhwaXJlZCIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICByZW1vdmUtaXRlbSAtUGF0aCAidmFyaWFibGU6c29ydGVkX29sZF9iYWNrdXBzIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpleHBpcmVkX2JhY2t1cHMiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgcmVtb3ZlLWl0ZW0gLVBhdGggInZhcmlhYmxlOmV4cGlyZWRfYmFja3VwX3ZtIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogIHJlbW92ZS1pdGVtIC1QYXRoICJ2YXJpYWJsZTpzb3J0ZWRfb2xkX2JhY2t1cHMiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCn0KCkNsZWFyVmFycwoKJGJhY2t1cF9saXN0ID0gIEltcG9ydC1Dc3YgQzpcVXNlcnNcQWRtaW5pc3RyYXRvclxEcm9wYm94XHZtX2JhY2t1cFxzYWZlX2JhY2t1cF9saXN0LmNzdgokdmNlbnRlcl9zZXJ2ZXIgPSAidmNlbnRlciIKCgojIENoZWNrIGlmIFZNd2FyZSBzbmFwaW4gaXMgbG9hZGVkIGJlZm9yZSBsb2FkaW5nCmlmICggKEdldC1QU1NuYXBpbiAtTmFtZSBWTXdhcmUuVmltQXV0b21hdGlvbi5Db3JlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKSAtZXEgJG51bGwgKSB7CiAgICBMb2dnZXIoIkxvYWRpbmcgVk13YXJlIHNuYXAgaW4iKQogICAgQWRkLVBzU25hcGluIFZNd2FyZS5WaW1BdXRvbWF0aW9uLkNvcmUKfQoKIyBBc3N1bWVzIHNjcmlwdCBpcyBiZWluZyBydW4gYXMgYSB1c2VyIHdpdGggdlNwaGVyZSBwcml2aWxlZ2VzCkxvZ2dlcigiQ29ubmVjdGluZyB0byBWSVNlcnZlciAkdmNlbnRlcl9zZXJ2ZXIiKQpDb25uZWN0LVZJU2VydmVyICR2Y2VudGVyX3NlcnZlcgoKZm9yZWFjaCAoJGN1c3RvbWVyIGluICRiYWNrdXBfbGlzdCkgewoKICAgIExvZ2dlcigiUHJvY2Vzc2luZyBiYWNrdXAgZm9yICRjdXN0b21lciIpCgogICAgJHRhcmdldF9ob3N0ID0gR2V0LVZNSG9zdCAtTmFtZSAkY3VzdG9tZXIuVGFyZ2V0SG9zdAogICAgJHRhcmdldF9ob3N0X3N0YXRlID0gJHRhcmdldF9ob3N0LnN0YXRlCiAgICBMb2dnZXIoIlRhcmdldCBIb3N0OiAkdGFyZ2V0X2hvc3QgKCR0YXJnZXRfaG9zdF9zdGF0ZSkiKQogICAgaWYoJHRhcmdldF9ob3N0X3N0YXRlIC1lcSAiQ29ubmVjdGVkIikgewoKICAgICAgICAjIE11c3QgZ2V0IG9sZCBiYWNrdXBzIGJlZm9yZSBjcmVhdGluZyBuZXcgb25lIAogICAgICAgICMgVG8gbWFrZSBzdXJlIHdlIG5ldmVyIGFjY2lkZW50bHkgZXhwaXJlIChhLmsuYS4gZGVsZXRlKSB0aGUgY3VycmVudCBiYWNrdXAKICAgICAgICAkYmFja3VwX3NlYXJjaF9zdHJpbmcgPSAkY3VzdG9tZXIuU291cmNlVk0gKyAiLSotYmFja3VwIgogICAgICAgIExvZ2dlcigiU2VhcmNoaW5nIGZvciBvbGQgYmFja3VwcyBtYXRjaGluZyAkYmFja3VwX3NlYXJjaF9zdHJpbmciKQogICAgICAgIAogICAgICAgICRvbGRfYmFja3VwcyA9IEdldC1WTSAtRGF0YXN0b3JlICRjdXN0b21lci5UYXJnZXREUyAtTmFtZSAkYmFja3VwX3NlYXJjaF9zdHJpbmcKICAgICAgICAjIE11c3QgZHVwbGljYXRlICRvbGRfYmFja3VwcyB0byBub3QgYWZmZWN0IGl0IHdoZW4gY2FzdGluZyBiZWxvdwogICAgICAgICRvbGRfYmFja3VwX2NvdW50ID0gJG9sZF9iYWNrdXBzCiAgICAgICAgIyBNdXN0IGV4cGxpY2l0bHkgY2FzdCByZXN1bHRzIGludG8gYXJyYXkgdG8gcmV0dXJuIGEgdmFsaWQgY291bnQgd2hlbiBvbmx5IG9uZSBpdGVtIGlzIHJldHVybmVkCiAgICAgICAgIyBBbHNvLCBjYW5ub3QgY2FzdCBvbiAkb2xkX2JhY2t1cHMsIGRlc3RydWN0aXZlCiAgICAgICAgJG9sZF9iYWNrdXBfY291bnQgPSAoW2FycmF5XSRvbGRfYmFja3VwX2NvdW50KS5Db3VudAogICAgICAgIAogICAgICAgIExvZ2dlcigiRm91bmQgJG9sZF9iYWNrdXBfY291bnQgb2xkIGJhY2t1cHMiKQogICAgICAgIAogICAgICAgIAogICAgICAgICR0YXJnZXRfaG9zdF92aWV3ID0gJHRhcmdldF9ob3N0IHwgR2V0LVZpZXcKICAgICAgICAkdGFyZ2V0X2RzID0gR2V0LURhdGFzdG9yZSAtTmFtZSAkY3VzdG9tZXIuVGFyZ2V0RFMKICAgICAgICAkdGFyZ2V0X2RzX3ZpZXcgPSAkdGFyZ2V0X2RzIHwgR2V0LVZpZXcKICAgICAgICAkc291cmNlX3ZtID0gR2V0LVZNICRjdXN0b21lci5Tb3VyY2VWTQogICAgICAgICRzb3VyY2Vfdm1fdmlldyA9ICRzb3VyY2Vfdm0gfCBHZXQtVmlldwogICAgICAgIAogICAgICAgICRiYWNrdXBfZGF0ZSA9IEdldC1EYXRlIC1Gb3JtYXQgInl5eXktTU0tZGQtSEg6bW0iCgogICAgICAgIElmICgkdGFyZ2V0X2hvc3QpIHsKCiAgICAgICAgICAgICRzbmFwc2hvdF9uYW1lID0gIiRiYWNrdXBfZGF0ZSBiYWNrdXAiCiAgICAgICAgICAgIExvZ2dlcigiU3RhcnRpbmcgc25hcHNob3QiKQogICAgICAgICAgICAkc25hcHNob3QgPSBOZXctU25hcHNob3QgLVZNICRzb3VyY2Vfdm0gLU5hbWUgJHNuYXBzaG90X25hbWUKICAgICAgICAgICAgTG9nZ2VyKCJTbmFwc2hvdCBkb25lIikKICAgICAgICAgICAgJHNuYXBzaG90X3ZpZXcgPSAkc25hcHNob3QgfCBHZXQtVmlldwogICAgICAgICAgICAKICAgICAgICAgICAgaWYoJHNuYXBzaG90X3ZpZXcpIHsKICAgICAgICAgICAgICBMb2dnZXIoIlNuYXBzaG90IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5IikKICAgICAgICAgICAgCiAgICAgICAgICAgICAgIyBHZXQgZm9sZGVyIG9mIFZNCiAgICAgICAgICAgICAgJGNsb25lRm9sZGVyID0gJHNvdXJjZV92bV92aWV3LnBhcmVudAogICAgICAgICAgICAKICAgICAgICAgICAgICAjIEJ1aWxkIGNsb25lIHNwZWNpZmljYXRpb24KICAgICAgICAgICAgICAkY2xvbmVTcGVjID0gbmV3LW9iamVjdCBWbXdhcmUuVmltLlZpcnR1YWxNYWNoaW5lQ2xvbmVTcGVjCiAgICAgICAgICAgICAgJGNsb25lU3BlYy5TbmFwc2hvdCA9ICRzbmFwc2hvdF92aWV3Lk1vUmVmCiAgICAgICAgICAgICAgJGNsb25lU3BlYy5Mb2NhdGlvbiA9IG5ldy1vYmplY3QgVm13YXJlLlZpbS5WaXJ0dWFsTWFjaGluZVJlbG9jYXRlU3BlYwogICAgICAgICAgICAgICMgIFRoaW4gcHJvdmlzaW9uaW5nCiAgICAgICAgICAgICAgJGNsb25lU3BlYy5Mb2NhdGlvbi5UcmFuc2Zvcm0gPSAgW1Ztd2FyZS5WaW0uVmlydHVhbE1hY2hpbmVSZWxvY2F0ZVRyYW5zZm9ybWF0aW9uXTo6c3BhcnNlCiAgICAgICAgICAgICAgJGNsb25lU3BlYy5Mb2NhdGlvbi5EYXRhc3RvcmUgPSAkdGFyZ2V0X2RzX3ZpZXcuTW9SZWYKICAgICAgICAgICAgICAkY2xvbmVTcGVjLkxvY2F0aW9uLkhvc3QgPSAkdGFyZ2V0X2hvc3Rfdmlldy5Nb1JlZgogICAgICAgICAgICAgICMgVGFyZ2V0IFJlc291cmNlIFBvb2wsIGJhc2VkIG9uIGZpcnN0IFZNIGluIFRhcmdldEhvc3QKICAgICAgICAgICAgICAjIFRPRE86IEhhbmRsZSBjYXNzIHdoZXJlIG5vIFZNcyBleGlzdCBvbiBWTUhvc3QKICAgICAgICAgICAgICAkY2xvbmVTcGVjLkxvY2F0aW9uLlBvb2wgPSAoJHRhcmdldF9ob3N0IHwgR2V0LVZNIHwgU2VsZWN0LU9iamVjdCAtRmlyc3QgMSB8IEdldC1WaWV3KS5SZXNvdXJjZVBvb2wKICAgICAgICAgICAgICAKICAgICAgICAgICAgICAjIEZ1bGwgY2xvbmUsIGZsYXR0ZW4gYWxsIGNoaWxkcmVuIHNuYXBzaG90cwogICAgICAgICAgICAgICMgU2VlIGh0dHA6Ly93d3cudm1kZXYuaW5mby8/cD0yMDIKICAgICAgICAgICAgICAkY2xvbmVTcGVjLkxvY2F0aW9uLkRpc2tNb3ZlVHlwZSA9IFtWbXdhcmUuVmltLlZpcnR1YWxNYWNoaW5lUmVsb2NhdGVEaXNrTW92ZU9wdGlvbnNdOjptb3ZlQWxsRGlza0JhY2tpbmdzQW5kRGlzYWxsb3dTaGFyaW5nCiAgICAgICAgICAgIAogICAgICAgICAgICAgICRjbG9uZU5hbWUgPSAiJHNvdXJjZV92bS0kYmFja3VwX2RhdGUtYmFja3VwIgogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgICAgIyBDcmVhdGUgY2xvbmUKICAgICAgICAgICAgICAjIFRoaXMgbWV0aG9kIHJldHVybnMgYSBUYXNrIG9iamVjdCB3aXRoIHdoaWNoIHRvIG1vbml0b3IgdGhlIG9wZXJhdGlvbgogICAgICAgICAgICAgICMgVGhlIGluZm8ucmVzdWx0IHByb3BlcnR5IGluIHRoZSBUYXNrIGNvbnRhaW5zIHRoZSBuZXdseSBhZGRlZCBWaXJ0dWFsTWFjaGluZSB1cG9uIHN1Y2Nlc3MuCiAgICAgICAgICAgICAgTG9nZ2VyKCJTdGFyaW5nIGNsb25lIGludG8gJGNsb25lTmFtZSIpCiAgICAgICAgICAgICAgJGNsb25lID0gJHNvdXJjZV92bV92aWV3LkNsb25lVk0oICRjbG9uZUZvbGRlciwgJGNsb25lTmFtZSwgJGNsb25lU3BlYyApCiAgICAgICAgICAgICAgTG9nZ2VyKCJDbG9uZSBjb21wbGV0ZS4gUmVtb3Zpbmcgc25hcHNob3QuIikKICAgICAgICAgICAgCiAgICAgICAgICAgICAgIyBSZW1vdmUgU25hcHNob3QgY3JlYXRlZCBmb3IgY2xvbmUsIHdpbGwgcXVldWUgYXV0b21hdGljYWxseQogICAgICAgICAgICAgICRzbmFwc2hvdCB8IFJlbW92ZS1TbmFwc2hvdCAtY29uZmlybTokRmFsc2UKICAgICAgICAgICAgICBMb2dnZXIoIlNuYXBzaG90IGRlbGV0ZWQuIikKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBpZigkY2xvbmUpIHsKICAgICAgICAgICAgICAgICNDbG9uZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseQogICAgICAgICAgICAgICAgTG9nZ2VyKCJDbG9uZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LiIpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgJG51bWJlcl9vZl9iYWNrdXBzX3JldGFpbmVkID0gW2ludF0kY3VzdG9tZXIuQmFja3Vwc1JldGFpbmVkCiAgICAgICAgICAgICAgICAkY3VycmVudF9iYWNrdXBfY291bnQgPSAkb2xkX2JhY2t1cF9jb3VudCArIDEgI0FkZCAxIHRvIGFjY291bnQgZm9yIG5ldyBiYWNrdXAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkbnVtYmVyX29mX2JhY2t1cHNfZXhwaXJlZCA9ICRjdXJyZW50X2JhY2t1cF9jb3VudCAtICRudW1iZXJfb2ZfYmFja3Vwc19yZXRhaW5lZAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBMb2dnZXIoIk51bWJlciBvZiBiYWNrdXBzIGV4cGlyZWQ6ICRudW1iZXJfb2ZfYmFja3Vwc19leHBpcmVkIikKICAgICAgICAgICAgICAgIExvZ2dlcigiTnVtYmVyIG9mIGJhY2t1cHMgcmV0YWluZWQ6ICRudW1iZXJfb2ZfYmFja3Vwc19yZXRhaW5lZCIpCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICMgQ2hlY2sgdG8gbWFrZSBzdXJlIHdlIG5lZWQgdG8gZGVsZXRlIGV4cGlyZWQgYmFja3VwcyBBTkQKICAgICAgICAgICAgICAgICMgVGhhdCB3ZSB3aWxsIGJlIGtlZXBpbmcgYXQgbGVhc3Qgb25lIGJhY2t1cAogICAgICAgICAgICAgICAgaWYgKCAoJG51bWJlcl9vZl9iYWNrdXBzX2V4cGlyZWQgLWd0IDApIC1hbmQgKCRudW1iZXJfb2ZfYmFja3Vwc19yZXRhaW5lZCAtZ3QgMCkgKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgaWYgKCAkb2xkX2JhY2t1cF9jb3VudCAtZXEgMSkgewogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAjIFdoZW4gaXQncyBqdXN0IGEgc2luZ2xlIG9sZCBiYWNrdXAsIGRvbid0IGxvb3AsIHNvcnQsIGV0Yy4uLgogICAgICAgICAgICAgICAgICAgICMgSW4gYWRkaXRpb24gdG8gYmVpbmcgbW9yZSBlZmZlY2llbnQsIHlvdSBjYW4ndCBhY2Nlc3MgYW4gaW5kZXggb2YKICAgICAgICAgICAgICAgICAgICAjICRvbGRfYmFja3VwcyB3aGVuIGl0IGhhcyBvbmx5IG9uZSBlbGVtZW50IQogICAgICAgICAgICAgICAgICAgIExvZ2dlcigiRGVsZXRpbmcgb2xkIGJhY2t1cDogJG9sZF9iYWNrdXBzIikKICAgICAgICAgICAgICAgICAgICBSZW1vdmUtVk0gLVZNICRvbGRfYmFja3VwcyAtRGVsZXRlRnJvbURpc2sgLUNvbmZpcm06JGZhbHNlCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICMgTXVsdGlwbGUgb2xkIGJhY2t1cHMKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAjIEJlY2F1c2UgdGhlIGRhdGUgaXMgaW4gdGhlIE5hbWUsIHdlIGNhbiBzb3J0IGluIGFzY2VuZGluZyBvcmRlciAoZGVmYXVsdCBiZWhhdmlvcikgdG8gZ2V0IG9sZGVzdCBiYWNrdXBzIGZpcnN0LgogICAgICAgICAgICAgICAgICAgICRzb3J0ZWRfb2xkX2JhY2t1cHMgPSAkb2xkX2JhY2t1cHMgfCBTb3J0LU9iamVjdCBOYW1lCiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgJGV4cGlyZWRfYmFja3VwcyA9ICRzb3J0ZWRfb2xkX2JhY2t1cHNbMC4uJG51bWJlcl9vZl9iYWNrdXBzX2V4cGlyZWRdCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkZXhwaXJlZF9iYWNrdXBfdm0gaW4gJGV4cGlyZWRfYmFja3VwcykgewogICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyKCJEZWxldGluZyBvbGQgYmFja3VwICRleHBpcmVkX2JhY2t1cF92bSIpCiAgICAgICAgCQkgICAgICBSZW1vdmUtVk0gLVZNICRleHBpcmVkX2JhY2t1cF92bSAtRGVsZXRlRnJvbURpc2sgLUNvbmZpcm06JGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSAgI2ZvciBlYWNoIGV4cGlyZWQgYmFja3VwCiAgICAgICAgICAgICAgICAgIH0gIyBpZiBvbGRfYmFja3VwX2NvdW50ID09IDEKICAgICAgICAgICAgICAgIH0gIyBpZiBudW1iZXIgb2YgZXhwaXJlZCBiYWNrdXBzIGd0IDAKICAgICAgICAgICAgICB9ICNpZiBjbG9uZQogICAgICAgICAgICB9ICNpZiBzbmFwc2hvdAogICAgICAgICAgfSAjaWYgdGFyZ2V0IGhvc3QKICAgICAgICB9ICNpZiB0YXJnZXRfaG9zdCBjb25uZWN0ZWQKICAgICAgICBMb2dnZXIoIkJhY2t1cCBjb21wbGV0ZSBmb3IgJGN1c3RvbWVyIikKICAgICAgICBMb2dnZXIoIj09PT09PT09PT09PT09PT0iKQogICAgICAgIExvZ2dlcigiPT09PT09PT09PT09PT09PSIpCiAgICAgICAgTG9nZ2VyKCI9PT09PT09PT09PT09PT09IikKICAgIH0gI2ZvciBlYWNoIGN1c3RvbWVyCgoKCkNsZWFyVmFycwoKIz09PT09PT09PT09PT09PT09PT09PT09PQojIEVNQUlMIFJFUE9SVAojPT09PT09PT09PT09PT09PT09PT09PT09CgpGdW5jdGlvbiBXcml0ZVZNU3RhdHVzVG9GaWxlCnsKICAgIHBhcmFtIChbc3RyaW5nXSRteWhvc3QsIFtzdHJpbmddJGZpbGVfcGF0aCkKICAgIAogICAgJFZNcyA9IEdldC1WTUhvc3QgJG15aG9zdCB8IEdldC1WTQogICAgCiAgICBpZigkVk1zKXsKICAgICAgICBmb3JlYWNoKCR2bSBpbiAkVk1zKSB7CiAgICAgICAgICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkZmlsZV9wYXRoIC1JbnB1dE9iamVjdCAkdm0ubmFtZSAtQXBwZW5kCiAgICAgICAgICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkZmlsZV9wYXRoIC1JbnB1dE9iamVjdCAkdm0ucG93ZXJzdGF0ZSAtQXBwZW5kCiAgICAgICAgICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkZmlsZV9wYXRoIC1JbnB1dE9iamVjdCAiLS0tLS0tLS0tLS0tLS0tLS0tLS0iIC1BcHBlbmQKICAgICAgICAgICAgT3V0LUZpbGUgLUZpbGVQYXRoICRmaWxlX3BhdGggLUlucHV0T2JqZWN0ICIiIC1BcHBlbmQKICAgICAgICB9CiAgICB9IAogICAgZWxzZSB7CiAgICAgICAgT3V0LUZpbGUgLUZpbGVQYXRoICRmaWxlX3BhdGggLUlucHV0T2JqZWN0ICJTZXJ2ZXIgbm90IGF2YWlsYWJsZS4iIC1BcHBlbmQKICAgIH0KICAgIAp9CgoKCiNSZXBvcnQgcGF0aAokcmVwb3J0X3BhdGggPSAiQzpcVXNlcnNcQWRtaW5pc3RyYXRvclxEcm9wYm94XHZtX2JhY2t1cFxyZXBvcnQudHh0IgoKJExhc3REYXlzID0gMQoKTG9nZ2VyKCJXcml0dGluZyByZXBvcnQgZm9yIGxhc3QgJExhc3REYXlzIGRheXMgaW50byAkcmVwb3J0X3BhdGgiKQoKICAgICRFdmVudEZpbHRlclNwZWNCeVRpbWUgPSBOZXctT2JqZWN0IFZNd2FyZS5WaW0uRXZlbnRGaWx0ZXJTcGVjQnlUaW1lCiAgICBJZiAoJExhc3REYXlzKQogICAgewogICAgICAgICRFdmVudEZpbHRlclNwZWNCeVRpbWUuQmVnaW5UaW1lID0gKGdldC1kYXRlKS5BZGREYXlzKC0kKCRMYXN0RGF5cykpCiAgICB9CiAgICAkRXZlbnRGaWx0ZXJTcGVjID0gTmV3LU9iamVjdCBWTXdhcmUuVmltLkV2ZW50RmlsdGVyU3BlYwogICAgJEV2ZW50RmlsdGVyU3BlYy5UaW1lID0gJEV2ZW50RmlsdGVyU3BlY0J5VGltZQogICAgJEV2ZW50RmlsdGVyU3BlYy5EaXNhYmxlRnVsbE1lc3NhZ2UgPSAkRmFsc2UKICAgICRFdmVudEZpbHRlclNwZWMuVHlwZSA9ICJWbUNsb25lRmFpbGVkRXZlbnQiCiAgICAkRXZlbnRNYW5hZ2VyID0gR2V0LVZpZXcgRXZlbnRNYW5hZ2VyCiAgICAkTmV3Q2xvbmVUYXNrcyA9ICRFdmVudE1hbmFnZXIuUXVlcnlFdmVudHMoJEV2ZW50RmlsdGVyU3BlYykKCiAgICBPdXQtRmlsZSAtRmlsZVBhdGggJHJlcG9ydF9wYXRoIC1JbnB1dE9iamVjdCAiQ0xPTkUgRkFJTFVSRVM6IgogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIj09PT09PT09PT09PT09PT09PSIgLUFwcGVuZAogCiBpZigkTmV3Q2xvbmVUYXNrcykgewogICAgRm9yZWFjaCAoJFRhc2sgaW4gJE5ld0Nsb25lVGFza3MpCiAgICB7CiAgICAgICAgCiAgICAgICAgJGl0ZW0gPSAiRGVzdGluYXRpb24gaG9zdDogIiArICRUYXNrLmRlc3RIb3N0Lm5hbWUKICAgICAgICBPdXQtRmlsZSAtRmlsZVBhdGggJHJlcG9ydF9wYXRoIC1JbnB1dE9iamVjdCAkaXRlbSAtQXBwZW5kCiAgICAgICAgJGl0ZW0gPSAiVk0gTmFtZTogIiArICRUYXNrLmRlc3ROYW1lCiAgICAgICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgJGl0ZW0gLUFwcGVuZAogICAgICAgICRpdGVtID0gIkVycm9yczogIiArICRUYXNrLnJlYXNvbi5sb2NhbGl6ZWRNZXNzYWdlCiAgICAgICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgJGl0ZW0gLUFwcGVuZAogICAgICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkcmVwb3J0X3BhdGggLUlucHV0T2JqZWN0ICIiIC1BcHBlbmQKICAgIH0KIH0gZWxzZSB7CiAgIE91dC1GaWxlIC1GaWxlUGF0aCAkcmVwb3J0X3BhdGggLUlucHV0T2JqZWN0ICJUaGVyZSB3ZXJlIG5vIGNsb25lIGZhaWx1cmVzIGluIHRoZSBsYXN0IDI0IGhvdXJzLiIgLUFwcGVuZAogfQogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIiIgLUFwcGVuZAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIiIgLUFwcGVuZAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIlZNcyBvbiAyOTUwOiIgLUFwcGVuZAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIj09PT09PT09PT09PT09PT09PT09PSIgLUFwcGVuZAogICAgV3JpdGVWTVN0YXR1c1RvRmlsZSAiMTkyLjE2OC4xLjI0MCIgJHJlcG9ydF9wYXRoCiAgIAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIiIgLUFwcGVuZAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIiIgLUFwcGVuZAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIlZNcyBvbiBUNjEwOiIgLUFwcGVuZAogICAgT3V0LUZpbGUgLUZpbGVQYXRoICRyZXBvcnRfcGF0aCAtSW5wdXRPYmplY3QgIj09PT09PT09PT09PT09PT09PT09PSIgLUFwcGVuZAogICAgV3JpdGVWTVN0YXR1c1RvRmlsZSAiMTkyLjE2OC4xLjI0NCIgJHJlcG9ydF9wYXRoCiAgICAKICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkcmVwb3J0X3BhdGggLUlucHV0T2JqZWN0ICIiIC1BcHBlbmQKICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkcmVwb3J0X3BhdGggLUlucHV0T2JqZWN0ICIiIC1BcHBlbmQKICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkcmVwb3J0X3BhdGggLUlucHV0T2JqZWN0ICJWTXMgb24gT2Zmc2l0ZToiIC1BcHBlbmQKICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkcmVwb3J0X3BhdGggLUlucHV0T2JqZWN0ICI9PT09PT09PT09PT09PT09PT09PT0iIC1BcHBlbmQKICAgIFdyaXRlVk1TdGF0dXNUb0ZpbGUgIjE5Mi4xNjguMS4yMzkiICRyZXBvcnRfcGF0aAogICAgCiAgICAKICAgIAojKiA9PT09PT09PT09PT09PT09PT09PT09PT09CiMqIFNNVFAgTWFpbCBBbGVydAojKiA9PT09PT09PT09PT09PT09PT09PT09PT09CgojKiBDcmVhdGUgbmV3IC5ORVQgb2JqZWN0IGFuZCBhc3NpZ24gdG8gdmFyaWFibGUKJG1haWwgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuTWFpbC5NYWlsTWVzc2FnZQoKIyogU2VuZGVyIEFkZHJlc3MKJG1haWwuRnJvbSA9ICJ2c3BoZXJlQGNvb2dsZS5hbGV4Y29vcGVyLmNvbSI7CgojKiBSZWNpcGllbnQgQWRkcmVzcwokbWFpbC5Uby5BZGQoImFsZXhjb29wZXJAZW5kcG9pbnQuY29tIik7CiRtYWlsLlRvLkFkZCgibWF0dEBhbGV4Y29vcGVyLmNvbSIpOwoKIyogTWVzc2FnZSBTdWJqZWN0CiRtYWlsLlN1YmplY3QgPSAiQWxleCBDb29wZXIgVk0gQmFja3VwIFJlcG9ydCI7CgojKiBNZXNzYWdlIEJvZHkKJG1haWwuQm9keSA9IChHZXQtQ29udGVudCAkcmVwb3J0X3BhdGggfCBvdXQtc3RyaW5nKQoKIyogQ29ubmVjdCB0byB5b3VyIG1haWwgc2VydmVyCiRzbXRwID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0Lk1haWwuU210cENsaWVudCgiMTkyLjE2OC4xLjI1MiIpOwoKIyogU2VuZCBFbWFpbApMb2dnZXIoIkVtYWlsaW5nIHJlcG9ydCIpCiRzbXRwLlNlbmQoJG1haWwpOwpMb2dnZXIoIkVtYWlsIHNlbnQiKQoKCiM9PT09PT09PT09PT09PT09PT09PT09CiMgU0hVVERPV04KIz09PT09PT09PT09PT09PT09PT09PT0KCiRvZmZzaXRlID0gR2V0LVZNSG9zdCAxOTIuMTY4LjEuMjM5CgppZigkb2Zmc2l0ZSkgewogICAgTG9nZ2VyKCJCZWdpbiBtb25pdG9yaW5nIG9mIG9mZnNpdGUgZmlsZSBzZXJ2ZXIgc3luYyBjb21wbGV0aXRpb24gZm9yIG9mZnNpdGUgaG9zdCBzaHV0ZG93biIpCiAgICAkb2Zmc2l0ZV9maWxlc2VydmVyID0gR2V0LVZNIC1OYW1lICJmc29mZnNpdGUiIAogICAgd2hpbGUoJG9mZnNpdGVfZmlsZXNlcnZlci5wb3dlcnN0YXRlIC1lcSAiUG93ZXJlZE9uIikgewogICAgICAgIExvZ2dlcigiV2FpdGluZyBmb3Igb2Zmc2l0ZSBmaWxlc2VydmVyIHRvIHNodXQgZG93bi4iKQogICAgICAgIFN0YXJ0LVNsZWVwIC1zIDYwCiAgICAgICAgJG9mZnNpdGVfZmlsZXNlcnZlciA9IEdldC1WTSAtTmFtZSAiZnNvZmZzaXRlIiAKICAgIH0KICAgICRvZmZzaXRlX2ZpbGVzZXJ2ZXJfcG93ZXJzdGF0ZSA9ICRvZmZzaXRlX2ZpbGVzZXJ2ZXIucG93ZXJzdGF0ZQogICAgTG9nZ2VyKCJPZmZzaXRlIGZpbGUgc2VydmVyIG5vdyAkb2Zmc2l0ZV9maWxlc2VydmVyX3Bvd2Vyc3RhdGUiKQogICAgTG9nZ2VyKCJTaHV0dGluZyBkb3duIG9mZnNpdGUgaG9zdCIpCiAgICAkb2Zmc2l0ZSB8ICV7R2V0LVZpZXcgJF8uSUR9IHwgJXskXy5TaHV0ZG93bkhvc3RfVGFzaygkVFJVRSl9Cn0KCiNEaXNjb25uZWN0IGZyb20gdlNwaGVyZQpMb2dnZXIoIkRpc2Nvbm5lY3RpbmcgZnJvbSB2U3BoZXJlIikKRGlzY29ubmVjdC1WSVNlcnZlciAtQ29uZmlybTokZmFsc2UKCiNCZWNhdXNlIHRoZSBsb2NhbCB2U3BoZXJlIHNlcnZlciBjYW4gc29tZXRpbWVzIAojc3RvcCByZWFkaW5nIHRoZSBzdGF0ZSBvZiBob3N0cyBwcm9wZXJseQojYSByZXN0YXJ0IGFmdGVyIGVhY2ggYmFja3VwIGlucmVhc2VzIGNoYW5jZXMgb2YKIyBhIHN1Y2Nlc3NmdWwgYmFja3VwCkxvZ2dlcigiUmVzdGFydGluZyB2Q2VudGVyIHNlcnZlciIpClJlc3RhcnQtQ29tcHV0ZXIKTG9nZ2VyKCIiKQpMb2dnZXIoIiIpCkxvZ2dlcigiIikKTG9nZ2VyKCIiKQpMb2dnZXIoIiIp
