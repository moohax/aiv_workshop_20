Invoke-DockerCI.ps1,a49a7116b58d8934d1755c27e5a89703,Scan result is 1. IsMalware: 0,PCMKLk5PVEVTCiAgICBBdXRob3I6ICBKb2huIEhvd2FyZCwgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiAoR2l0aHViIEBqaG93YXJkbXNmdCkKCiAgICBDcmVhdGVkOiBGZWJydWFyeSAyMDE2CgogICAgU3VtbWFyeTogSW52b2tlcyBXaW5kb3dzIHRvIFdpbmRvd3MgRG9ja2VyIENJIHRlc3Rpbmcgb24gYW4gYXJiaXRyYXJ5CiAgICAgICAgICAgICBidWlsZCBvZiBXaW5kb3dzIGNvbmZpZ3VyZWQgZm9yIHJ1bm5pbmcgY29udGFpbmVycywgYWdhaW5zdAogICAgICAgICAgICAgYW4gYXJiaXRyYXJ5IGdpdCBicmFuY2ggKG1vYnkvbW9ieSBtYXN0ZXIgaXMgZGVmYXVsdCkKCiAgICBMaWNlbnNlOiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pob3dhcmRtc2Z0L2RvY2tlci13MndDSVNjcmlwdHMvYmxvYi9tYXN0ZXIvTElDRU5TRQoKICAgIFByZS1yZXF1aXNpdGVzOgoKICAgICAtIE11c3QgYmUgZWxldmF0ZWQKICAgICAtIEh5cGVyLVYgcm9sZSBpcyBpbnN0YWxsZWQKICAgICAtIENvbnRhaW5lcnMgcm9sZSBpcyBpbnN0YWxsZWQKICAgICAtIChGb3Igbm9uLXB1YmxpYyBXaW5kb3dzIGJ1aWxkcy9icmFuY2hlcywgZWl0aGVyIE1pY3Jvc29mdCBjb3JwbmV0IGFjY2Vzcywgb3IgYmFzZSBpbWFnZXMgY29waWVkIHRvIGM6XGJhc2VpbWFnZXMpCgogICAgSWYgbm8gcGFyYW1ldGVycyBhcmUgc3VwcGxpZWQsIHRoZSBzeXN0ZW0gZHJpdmUgd2lsbCBiZSB1c2VkIGZvcgogICAgZXZlcnl0aGluZzsgdGhlIGxhdGVzdCBiaW5hcnkgZnJvbSBtYXN0ZXIuZG9ja2VycHJvamVjdC5vcmcgd2lsbCBiZQogICAgdXNlZCBhcyB0aGUgY29udHJvbCBkYWVtb24sIGFuZCB0aGUgc291cmNlcyB3aWxsIGJlIHRoZSBjdXJyZW50IG1hc3RlcgogICAgYXZhaWxhYmxlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9tb2J5L21vYnkuCgogICAgVEhJUyBUQUtFUyBBR0VTIFRPIFJVTiEhIQogICAgICBFeHBlY3QgdGhpcyBlbnRpcmUgc2NyaXB0IHRvIHRha2UgKGFzIGF0IHRpbWUgb2Ygd3JpdGluZyBiYXNlZCBvbiBhcm91bmQKICAgICAgNTQwIGludGVncmF0aW9uIHRlc3RzIGFuZCBSUzEgMTBCKSB+NDggbWlucyBvbiBhIFo0MjAgaW4gYSBWTSBydW5uaW5nIHdpdGgKICAgICAgOCBjb3JlcywgNEdCIFJBTSBhbmQgYmFja2VkIGJ5IGEgZmFzdCAoU2Ftc3VuZyBFdm8gODUwIFBybykgU1NELgogICAgICBJIHdvdWxkIGV4cGVjdCBIREQgdG8gdGFrZSBzaWduaWZpY2FudGx5IGxvbmdlciAobm90IHJlY29tbWVuZGVkLi4uKS4gCgouUEFSQU1FVEVSIFNvdXJjZXNEcml2ZQogICAgIEZvciBleGFtcGxlICJjIi4gRHJpdmUgd2hlcmUgdGhlIHNvdXJjZXMgd2lsbCBiZSBjbG9uZWQuCiAgICAgSWYgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBzeXN0ZW0gZHJpdmUuIElmIHlvdSBoYXZlIGEKICAgICBzZWNvbmRhcnkgZmFzdCBkcml2ZSBzdWNoIGFzIFNTRC9OVk1FIFBDSWUgYWRhcHRlciwgdXNpbmcKICAgICBpdHMgZHJpdmUgd291bGQgbWFrZSB0aGlzIHdob2xlIHNjcmlwdCBydW4gYSBsb3QgZmFzdGVyCgouUEFSQU1FVEVSIFNvdXJjZXNTdWJkaXIKICAgICBGb3IgZXhhbXBsZSAiZ29wYXRoIi4gU3ViZGlyIG9uIFNvdXJjZXNEcml2ZSB3aGVyZSB0aGUgc291cmNlcwogICAgIGFyZSBjbG9uZWQgdG8gc3VjaCBhcyBjOlxnb3BhdGhcc3JjXGdpdGh1Yi5jb21cbW9ieVxtb2J5LiAKICAgICBJZiBub3Qgc2V0LCBkZWZhdWx0cyB0byAnZ29wYXRoJwoKLlBBUkFNRVRFUiBUZXN0cnVuRHJpdmUKICAgICBGb3IgZXhhbXBsZSAiYyIuIERyaXZlIHdoZXJlIHRoZSBkYWVtb24gdW5kZXIgdGVzdCBpcyBydW4uCiAgICAgSWYgbm90IHNldCwgaXQgd2lsbCBkZWZhdWx0IHRvIHRoZSBzeXN0ZW0gZHJpdmUuIElmIHlvdSBoYXZlIGEKICAgICBzZWNvbmRhcnkgZmFzdCBkcml2ZSBzdWNoIGFzIFNTRC9OVk1FIFBDSWUgYWRhcHRlciwgdXNpbmcKICAgICBpdHMgZHJpdmUgd291bGQgbWFrZSB0aGlzIHdob2xlIHNjcmlwdCBydW4gYSBsb3QgZmFzdGVyCgouUEFSQU1FVEVSIFRlc3RydW5TdWJkaXIKICAgIEZvciBleGFtcGxlICJDSSIuIFN1YmRpciBvbiBUZXN0cnVuRHJpdmUgd2hlcmUgbG9ncyBmb3IgdGhlIGRhZW1vbiB1bmRlcgogICAgdGVzdCBhcmUgcGxhY2VkLiBUaGUgbG9ncyB3aWxsIGJlIHVuZGVyIFRlc3RydW5Ecml2ZTpcVGVzdHJ1blN1YmRpclxDSS1ubm5ubm4sCiAgICB3aGVyZSBubm5ubiBpcyB0aGUgY29tbWl0IElEIG9mIHRoZSBnaXQgcmVwbyBhbmQgYnJhbmNoIGJlaW5nIHRlc3RlZC4KICAgIElmIG5vdCBzZXQsIGRlZmF1bHRzIHRvICdDSScuCgouUEFSQU1FVEVSIEdpdFJlbW90ZQogICAgQWxsb3dzIGEgZ2l0IHJlcG8gdG8gYmUgdGVzdGVkLiBJZiBzZXQsIGl0IGRvZXMgdGhlIGZvbGxvd2luZwogICAgc3RlcHM6ICBnaXQgcmVtb3RlIGFkZCByZW1vdGUgJEdpdFJlbW90ZQogICAgICAgICAgICBnaXQgZmV0Y2ggJEdpdFJlbW90ZSAodG8gZ2V0IHRoZSBicmFuY2hlcyBmb3IgR2l0Q2hlY2tvdXQpCgouUEFSQU1FVEVSIEdpdENoZWNrb3V0CiAgICBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggR2l0UmVtb3RlLiBJZiBub3Qgc3BlY2lmaWVkLCBubwogICAgYGdpdCBjaGVja291dGAgYWZ0ZXIgY2xvbmluZyB0aGUgc291cmNlcyBpcyBkb25lLiBUaGlzIHBhcmFtZXRlcgogICAgYWxsb3dzIGEgZmV3IHRoaW5ncy4gCgogICAgLSAgV2FudCB2ZXJzaW9uIDEuMTIuMCBvbiBtYXN0ZXI/ICBVc2UgYHYxLjEyLjBgIHdpdGggbm8gR2l0UmVtb3RlCgogICAgLSAgV2FudCB0byB0ZXN0IGEgZmVhdHVyZSBicmFuY2ggYGpqaC9idWlsZHBhdGhoYWNrYD8gVXNlIHRoZQogICAgICAgbmFtZSBvZiB0aGUgZmVhdHVyZSBicmFuY2guIFRoaXMgaXMgZ2VuZXJhbGx5IG9ubHkgdXNlZnVsIGlmCiAgICAgICB5b3UgYWxzbyBzcGVjaWZ5IGEgR2l0UmVtb3RlIGFzIHRoYXQncyB3aGVyZSBmZWF0dXJlIGJyYW5jaGVzCiAgICAgICBhcmUgZXhwZWN0ZWQgdG8gYmUgY29tbWl0dGVkIGFuZCBwdXNoZWQgdG8uCgogICAgLSAgV2FudCB0byB0ZXN0IGEgc3BlY2lmaWMgY29tbWl0PyBKdXN0IHB1dCBpdCBpbi4gRm9yIHJlZmVyZW5jZQogICAgICAgdGhlIFRQNCBkb2NrZXIgaXMgb24gbW9ieS9tb2J5IG1hc3RlciwgY29tbWl0IDE4YzlmZTAsCiAgICAgICBidWlsZCBkYXRlIE5vdiAyMyAyMDE1IDIyOjMyOjUwIFVUQy4gSW4gdGhpcyBleGFtcGxlLCB5b3Ugd291bGRuJ3QKICAgICAgIHNldCBHaXRSZW1vdGUgYXMgaXQncyBvbiBtYXN0ZXIuCgouUEFSQU1FVEVSIERlc3Ryb3lDYWNoZQogICAgV2hlbiAkVHJ1ZSB3aWxsIHJlbW92ZSB0aGUgY29udHJvbCBkYWVtb25zIGNhY2hlLiBUaGlzIG1ha2VzIGEgc2Vjb25kIAogICAgcnVuIGEgbG90IHNsb3dlci4gRGVmYXVsdHMgdG8gJEZhbHNlLgoKLlBBUkFNRVRFUiBEb2NrZXJCYXNlUGF0aAogICAgVGhlIGJhc2UgcGF0aCBvZiB0aGUgYmluYXJ5IHRvIHVzZSBmb3IgdGhlIGNvbnRyb2wgYmluYXJpZXMuCiAgICBDYW4gYmUgYW4gaHR0cDogcGF0aCwgb3IgYSBmaWxlLXBhdGggKGxvY2FsIG9yIFVOQykuIElmIG5vdCBzdXBwbGllZCwKICAgIHRoZSBsYXRlc3QgNjQtYml0IFdpbmRvd3MgYmluYXJ5IChiaW5hcmllcykgZnJvbSBtYXN0ZXIuZG9ja2VycHJvamVjdC5vcmcKICAgIHdpbGwgYmUgdXNlZC4gTm90ZSB0aGF0IHRoaXMgaXMgYSBwYXRoLiBUaGUgc2NyaXB0IHdpbGwgYXV0b21hdGljYWxseQogICAgYWRkIC9kb2NrZXIuZXhlIGFuZCBvcHRpb25hbGx5IC9kb2NrZXJkLmV4ZSBhcyBuZWVkZWQuIERvbid0IGluY2x1ZGUKICAgIHRoZSB0cmFpbGluZyAvIG9yIFwgb24gdGhpcyBwYXJhbWV0ZXIhCgouUEFSQU1FVEVSIEdpdExvY2F0aW9uCiAgICBUaGUgbG9jYXRpb24gb2YgdGhlIGdpdCBpbnN0YWxsZXIgYmluYXJ5LiBDYW4gYmUgYW4gaHR0cDogcGF0aCwgb3IgYQogICAgZmlsZSBwYXRoIChsb2NhbCBvciBVTkMpLiAKCi5QQVJBTUVURVIgQ0lTY3JpcHRMb2NhdGlvbgogICAgVGhlIGxvY2F0aW9uIG9mIHRoZSBiYXNoIENJIHNjcmlwdCB0byBhY3R1YWxseSBkbyB0aGUgQ0kgd29yay4gVGhpcwogICAgaXMgYSB0ZW1wb3JhcnkgcGFyYW1ldGVyIGFuZCB3aWxsIGV2ZW50dWFsbHkgYmUgcmVkdW5kYW50IG9uY2UgdGhlCiAgICBKZW5raW5zIHNjcmlwdCBpcyBpbiB0aGUgZG9ja2VyIHNvdXJjZXMuIENhbiBiZSBhbiBodHRwOiBwYXRoLCBvciBhCiAgICBmaWxlIHBhdGggKGxvY2FsIG9yIFVOQykuCgouUEFSQU1FVEVSIERVVERlYnVnTW9kZQogICAgV2hldGhlciB0byBydW4gdGhlIGRhZW1vbiB1bmRlciB0ZXN0IGluIGRlYnVnIG1vZGUuIERlZmF1bHQgaXMgZmFsc2UuCgouUEFSQU1FVEVSIENvbnRyb2xEZWJ1Z01vZGUKICAgIFdoZXRoZXIgdG8gcnVuIHRoZSBjb250cm9sIGRhZW1vbiBpbiBkZWJ1ZyBtb2RlLiBEZWZhdWx0IGlzIGZhbHNlLgoKLlBBUkFNRVRFUiBTa2lwVmFsaWRhdGlvblRlc3RzCiAgICBXaGV0aGVyIHRvIHNraXAgdGhlIHZhbGlkYXRpb24gdGVzdHMgKGZtdCwgbGludCBldGMpLiBUaGV5IGFyZSBydW4gYnkgZGVmYXVsdAoKLlBBUkFNRVRFUiBTa2lwVW5pdFRlc3RzCiAgICBXaGV0aGVyIHRvIHNraXAgdGhlIHVuaXQgdGVzdHMuIFRoZXkgYXJlIHJ1biBieSBkZWZhdWx0LgoKLlBBUkFNRVRFUiBTa2lwSW50ZWdyYXRpb25UZXN0cwogICAgV2hldGhlciB0byBza2lwIHRoZSBpbnRlZ3JhdGlvbiB0ZXN0cy4gVGhleSBhcmUgcnVuIGJ5IGRlZmF1bHQuCgouUEFSQU1FVEVSIFNraXBDb3B5R28KICAgIFdoZXRoZXIgdG8gc2tpcCB0aGUgY29weWluZyBnbyBmcm9tIHRoZSBjb250YWluZXIgKGVnIG9uIGEgaG90IGNhY2hlKS4KCi5QQVJBTUVURVIgSHlwZXJWQ29udHJvbAogICAgV2hldGhlciB0byBydW4gdGhlIGNvbnRyb2wgZGFlbW9uIGNvbmZpZ3VyZWQgdG8gcnVuIGNvbnRhaW5lcnMgYXMKICAgIEh5cGVyLVYgY29udGFpbmVycy4gQnkgZGVmYXVsdCBpdCBpcyBub3QKCi5QQVJBTUVURVIgSHlwZXJWRFVUCiAgICBXaGV0aGVyIHRvIHJ1biB0aGUgZGFlbW9uIHVuZGVyIHRlc3QgY29uZmlndXJlZCB0byBydW4gY29udGFpbmVycyBhcwogICAgYSBIeXBlci1WIGNvbnRhaW5lci4gQnkgZGVmYXVsdCBpdCBpcyBub3QKCi5QQVJBTUVURVIgU2tpcENsb25lCiAgICBEb2Vzbid0IGRvIHRoZSBnaXQgY2xvbmUgYW5kIGNoZWNrb3V0IGFuZCBhc3N1bWVzIHRoYXQgdGhlIFNvdXJjZXMKICAgIGFscmVhZHkgZXhpc3QKCi5QQVJBTUVURVIgSW50ZWdyYXRpb25UZXN0TmFtZQogICBOYW1lIG1hdGNoIGZvciB0aGUgc2V0IG9mIGludGVncmF0aW9uIHRlc3RzIHRvIHJ1bi4gRm9yIGV4YW1wbGUgJ1Rlc3RJbmZvKicKCi5QQVJBTUVURVIgU2tpcEJpbmFyeUJ1aWxkCiAgIFRoZSBiaW5hcnkgaXMgbm90IGJ1aWx0LiAKCi5QQVJBTUVURVIgU2tpcFphcERVVAogICBEb2Vzbid0IHphcCB0aGUgZGFlbW9uIHVuZGVyIHRlc3QgZGlyZWN0b3J5IG9uY2UgZG9uZS4KCi5QQVJBTUVURVIgU2tpcEltYWdlQnVpbGQKICAgVGhlIGRvY2tlciBpbWFnZSBpcyBub3QgYnVpbHQuIAoKLlBBUkFNRVRFUiBTa2lwQWxsQ2xlYW51cAogICBEb2Vzbid0IGRvIGFueSBjbGVhbnVwIGF0IHRoZSBlbmQgb2YgdGhlIHRlc3RzCgouUGFyYW1ldGVyIFdpbmRvd3NCYXNlSW1hZ2UKICAgVGhlIG5hbWUgb2YgdGhlIGRlZmF1bHQgYmFzZSBpbWFnZS4gSWYgbm90IHNldCwgZGVmYXVsdHMgdG8gd2luZG93c3NlcnZlcmNvcmUuCiAgIFRoaXMgaXMgdGhlIGJhc2UgaW1hZ2UgdXNlZCBieSB0aGUgaW50ZWdyYXRpb24gdGVzdHMsIG5vdCB0aGUgb25lIHVzZWQgYnkgdGhlCiAgICJkb2NrZXIiIGltYWdlLgoKLlBhcmFtZXRlciBTa2lwQ29udHJvbERvd25sb2FkCiAgIFNraXBzIHRoZSBkb3dubG9hZCBvZiBkb2NrZXIuZXhlIGFuZCBkb2NrZXJkLmV4ZQoKLlBhcmFtZXRlciBJbnRlZ3JhdGlvbkluQ29udGFpbmVyCiAgIFNraXBzIHRoZSBkb3dubG9hZCBvZiBkb2NrZXIuZXhlIGFuZCBkb2NrZXJkLmV4ZQoKLlBhcmFtZXRlciBMQ09XCiAgIEVuYWJsZXMgTGludXgtQ29udGFpbmVycy1Pbi1XaW5kb3dzIChMQ09XKSBtb2RlIGZvciBkYWVtb24gdW5kZXIgdGVzdAoKIz4KCiMgTm90ZTogVGhlIGZpcnN0IGZvdXIgcGFyYW1ldGVycyBhcmUgdGhlIG9uZXMgd2hpY2ggZHJpdmUgdGhlIGJhc2ggc2NyaXB0CiMgICBmb3IgQ0ksIGFuZCBhcmUgaW4gY2FwaXRhbHMgZm9yIGJhc2ggY29udmVudGlvbnMgaW4gZG9ja2VyIGJhc2ggc2NyaXB0cy4KIyAgIFN1YnNlcXVlbnQgdmFyaWFibGVzIGFyZSB1c2VkIGp1c3QgYnkgdGhpcyBzY3JpcHQgdG8gY29uZmlndXJlCiMgICB0aGUgbWFjaGluZSB0byBiZSBhYmxlIHRvIHJ1biB0aGUgYmFzaCBDSSBzY3JpcHQsIGluc3RhbGwgc3R1ZmYsIAojICAgY2hlY2tvdXQgdGhlIHNvdXJjZXMgYW5kIHNvIG9uLiBUaGVzZSBhcmUgc2V0IGluIHRoZSBlbnZpcm9ubWVudCBhcwojICAgdGhhdCBpcyB3aGVyZSB0aGUgYmFzaCBzY3JpcHQgZXhwZWN0cyB0byBwaWNrIHRoZW0gdXAgZnJvbS4KCgpwYXJhbSgKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N0cmluZ10kU291cmNlc0RyaXZlLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3RyaW5nXSRTb3VyY2VTdWJkaXIsIAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3RyaW5nXSRUZXN0cnVuRHJpdmUsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzdHJpbmddJFRlc3RydW5TdWJkaXIsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzdHJpbmddJEdpdFJlbW90ZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N0cmluZ10kR2l0Q2hlY2tvdXQsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzd2l0Y2hdJERlc3Ryb3lDYWNoZT0kRmFsc2UsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzdHJpbmddJERvY2tlckJhc2VQYXRoID0gJERPQ0tFUl9ERUZBVUxUX0JBU0VQQVRILAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3RyaW5nXSRHaXRMb2NhdGlvbiA9ICRHSVRfREVGQVVMVF9MT0NBVElPTiwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N0cmluZ10kQ0lTY3JpcHRMb2NhdGlvbiA9ICRDSVNDUklQVF9ERUZBVUxUX0xPQ0FUSU9OLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3dpdGNoXSREVVREZWJ1Z01vZGU9JEZhbHNlLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3dpdGNoXSRDb250cm9sRGVidWdNb2RlPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kU2tpcFZhbGlkYXRpb25UZXN0cz0kRmFsc2UsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzd2l0Y2hdJFNraXBVbml0VGVzdHM9JEZhbHNlLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3dpdGNoXSRTa2lwSW50ZWdyYXRpb25UZXN0cz0kRmFsc2UsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzd2l0Y2hdJFNraXBDb3B5R289JEZhbHNlLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3dpdGNoXSRIeXBlclZDb250cm9sPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kSHlwZXJWRFVUPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kU2tpcENsb25lPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N0cmluZ10kSW50ZWdyYXRpb25UZXN0TmFtZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kU2tpcEJpbmFyeUJ1aWxkPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kU2tpcFphcERVVD0kRmFsc2UsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzd2l0Y2hdJFNraXBJbWFnZUJ1aWxkPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kU2tpcEFsbENsZWFudXA9JEZhbHNlLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3RyaW5nXSRXaW5kb3dzQmFzZUltYWdlPSIiLAogICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bc3dpdGNoXSRTa2lwQ29udHJvbERvd25sb2FkPSRGYWxzZSwKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW3N3aXRjaF0kSW50ZWdyYXRpb25JbkNvbnRhaW5lcj0kRmFsc2UsCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtzd2l0Y2hdJExDT1c9JEZhbHNlCikKCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU3RvcCcKJEZpbmFsbHlDb2xvdXI9IkN5YW4iCiRET0NLRVJfREVGQVVMVF9CQVNFUEFUSD0iaHR0cHM6Ly9tYXN0ZXIuZG9ja2VycHJvamVjdC5vcmcvd2luZG93cy94ODZfNjQiCiRHSVRfREVGQVVMVF9MT0NBVElPTj0iaHR0cHM6Ly9naXRodWIuY29tL2dpdC1mb3Itd2luZG93cy9naXQvcmVsZWFzZXMvZG93bmxvYWQvdjIuMTAuMS53aW5kb3dzLjEvR2l0LTIuMTAuMS02NC1iaXQuZXhlIgokQ29uZmlnSlNPTkJhY2tlZFVwPSRGYWxzZQokQ0lTQ1JJUFRfREVGQVVMVF9MT0NBVElPTiA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vamhvd2FyZG1zZnQvZG9ja2VyLXcyd0NJU2NyaXB0cy9tYXN0ZXIvcnVuQ0kvZXhlY3V0ZUNJLnBzMSIKJHB1c2hlZD0kRmFsc2UgICMgVG8gcmVzdG9yZSB0aGUgZGlyZWN0b3J5IGlmIHdlIGhhdmUgdGVtcG9yYXJpbHkgcHVzaGVkIHRvIG9uZS4KCiMgRG93bmxvYWQtRmlsZSBpcyBhIHNpbXBsZSB3cmFwcGVyIHRvIGdldCBhIGZpbGUgZnJvbSBzb21ld2hlcmUgKEhUVFAsIFNNQiBvciBsb2NhbCBmaWxlIHBhdGgpCiMgSWYgZmlsZSBpcyBzdXBwbGllZCwgdGhlIHNvdXJjZSBpcyBhc3N1bWVkIHRvIGJlIGEgYmFzZSBwYXRoLiBSZXR1cm5zIC0xIGlmIGRvZXMgbm90IGV4aXN0LCAKIyAwIGlmIHN1Y2Nlc3MuIFRocm93cyBlcnJvciBvbiBvdGhlciBlcnJvcnMuCkZ1bmN0aW9uIERvd25sb2FkLUZpbGUoW3N0cmluZ10gJHNvdXJjZSwgW3N0cmluZ10gJGZpbGUsIFtzdHJpbmddICR0YXJnZXQpIHsKICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAnU2lsZW50bHlDb250aW51ZScKCiAgICAjIEVuc3VyZSB0aGF0IGFsbCBzZWN1cmUgcHJvdG9jb2xzIGFyZSBlbmFibGVkIChUTFMgMS4yIGlzIG5vdCBieSBkZWZhdWx0IGluIHNvbWUgY2FzZXMpLgogICAgJHNlY3VyZVByb3RvY29scyA9IEAoKQogICAgJGluc2VjdXJlUHJvdG9jb2xzID0gQChbU3lzdGVtLk5ldC5TZWN1cml0eVByb3RvY29sVHlwZV06OlN5c3RlbURlZmF1bHQsIFtTeXN0ZW0uTmV0LlNlY3VyaXR5UHJvdG9jb2xUeXBlXTo6U3NsMykKICAgIGZvcmVhY2ggKCRwcm90b2NvbCBpbiBbU3lzdGVtLkVudW1dOjpHZXRWYWx1ZXMoW1N5c3RlbS5OZXQuU2VjdXJpdHlQcm90b2NvbFR5cGVdKSkgewogICAgICAgIGlmICgkaW5zZWN1cmVQcm90b2NvbHMgLW5vdGNvbnRhaW5zICRwcm90b2NvbCkgeyAkc2VjdXJlUHJvdG9jb2xzICs9ICRwcm90b2NvbCB9CiAgICB9CiAgICBbU3lzdGVtLk5ldC5TZXJ2aWNlUG9pbnRNYW5hZ2VyXTo6U2VjdXJpdHlQcm90b2NvbCA9ICRzZWN1cmVQcm90b2NvbHMKCiAgICBpZiAoKCRzb3VyY2UpLlRvTG93ZXIoKS5TdGFydHNXaXRoKCJodHRwIikpIHsKICAgICAgICBpZiAoJGZpbGUgLW5lICIiKSB7CiAgICAgICAgICAgICRzb3VyY2UrPSIvJGZpbGUiCiAgICAgICAgfQogICAgICAgICMgbmV0LndlYmNsaWVudCBpcyBXQVkgZmFzdGVyIHRoYW4gSW52b2tlLVdlYlJlcXVlc3QKICAgICAgICAkd2MgPSBOZXctT2JqZWN0IG5ldC53ZWJjbGllbnQKICAgICAgICB0cnkgewogICAgICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IERvd25sb2FkaW5nICRzb3VyY2UuLi4iCiAgICAgICAgICAgICR3Yy5Eb3dubG9hZGZpbGUoJHNvdXJjZSwgJHRhcmdldCkKICAgICAgICB9IAogICAgICAgIGNhdGNoIFtTeXN0ZW0uTmV0LldlYkV4Y2VwdGlvbl0KICAgICAgICB7CiAgICAgICAgICAgICRzdGF0dXNDb2RlID0gW2ludF0kXy5FeGNlcHRpb24uUmVzcG9uc2UuU3RhdHVzQ29kZQogICAgICAgICAgICBpZiAoKCRzdGF0dXNDb2RlIC1lcSA0MDQpIC1vciAoJHN0YXR1c0NvZGUgLWVxIDQwMykpIHsgIyBtYXN0ZXIuZG9ja2VycHJvamVjdC5vcmcgcmV0dXJucyA0MDMgZm9yIHNvbWUgcmVhc29uIQogICAgICAgICAgICAgICAgcmV0dXJuIC0xCiAgICAgICAgICAgIH0KICAgICAgICAgICAgVGhyb3cgKCJGYWlsZWQgdG8gZG93bmxvYWQgJHNvdXJjZSAtICRfIikKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIGlmICgkZmlsZSAtbmUgIiIpIHsKICAgICAgICAgICAgJHNvdXJjZSs9IlwkZmlsZSIKICAgICAgICB9CiAgICAgICAgaWYgKChUZXN0LVBhdGggJHNvdXJjZSkgLWVxICRmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gLTEKICAgICAgICB9CiAgICAgICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZT0nU3RvcCcKICAgICAgICBDb3B5LUl0ZW0gIiRzb3VyY2UiICIkdGFyZ2V0IgogICAgfQogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZT0nU3RvcCcKICAgIHJldHVybiAwCn0KCiMgVGVzdC1Db21tYW5kRXhpc3RzIHJldHVybnMgJHRydWUgaWYgYSBjb21tYW5kIGV4aXN0cy9pcyBpbnN0YWxsZWQgb24gdGhlIHN5c3RlbQpGdW5jdGlvbiBUZXN0LUNvbW1hbmRFeGlzdHMKewogICAgUGFyYW0gKCRjb21tYW5kKQogICAgJG9sZFByZWZlcmVuY2UgPSAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlCiAgICAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gJ3N0b3AnCiAgICB0cnkge2lmKEdldC1Db21tYW5kICRjb21tYW5kKXtSRVRVUk4gJHRydWV9fQogICAgQ2F0Y2gge1JFVFVSTiAkZmFsc2V9CiAgICBGaW5hbGx5IHskRXJyb3JBY3Rpb25QcmVmZXJlbmNlPSRvbGRQcmVmZXJlbmNlfQp9IAoKIyBTdG9wLURvY2tlclNlcnZpY2Ugc3RvcHMgYW55IGRvY2tlciBkYWVtb24gc2VydmljZQpGdW5jdGlvbiBTdG9wLURvY2tlclNlcnZpY2UgewogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdTdG9wJwogICAgdHJ5IHsKICAgICAgICAkc2VydmljZT1nZXQtc2VydmljZSBkb2NrZXIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICBpZiAoJHNlcnZpY2UgLW5lICRudWxsKSB7CiAgICAgICAgICAgIGlmICgkc2VydmljZS5zdGF0dXMgLWVxICJydW5uaW5nIikgewogICAgICAgICAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBTdG9wcGluZyB0aGUgZG9ja2VyIHNlcnZpY2UuLi4iCiAgICAgICAgICAgICAgICBzdG9wLXNlcnZpY2UgJHNlcnZpY2UgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGNhdGNoIHsKICAgICAgICB0aHJvdyAkXwogICAgfQp9CgojIERpc21vdW50LU1vdW50ZWRWSERzIHVubW91bnRzIGFueSBWSERzIHdoaWNoIG1heSBiZSBzdGlsbCBtb3VudGVkIGZyb20gYSBwcmV2aW91cyBydW4KRnVuY3Rpb24gRGlzbW91bnQtTW91bnRlZFZIRHMgewogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdTdG9wJwogICAgdHJ5IHsKICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IERldGFjaGluZyBsaW5nZXJpbmcgVkhEcy4uLiIKICAgICAgICBnd21pIG1zdm1fbW91bnRlZHN0b3JhZ2VpbWFnZSAtbmFtZXNwYWNlIHJvb3RcdmlydHVhbGl6YXRpb25cdjIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgfCBmb3JlYWNoLW9iamVjdCB7JF8uRGV0YWNoVmlydHVhbEhhcmREaXNrKCkgfQogICAgfSBjYXRjaCB7CiAgICAgICAgVGhyb3cgJF8KICAgIH0KfQoKIyBLaWxsLVByb2Nlc3NlcyBraWxscyBhbnkgcHJvY2Vzc2VzIHdoaWNoIG1pZ2h0IGJlIGxvY2tpbmcgZmlsZXMuCkZ1bmN0aW9uIEtpbGwtUHJvY2Vzc2VzCnsKICAgIEdldC1Qcm9jZXNzIC1OYW1lIHRhaWwsIGRvY2tlciwgZG9ja2VyZCosIGRvY2tlcmNvbnRyb2wsIGRvY2tlcmRjb250cm9sLCBjYzEsIGxpbmssIGNvbXBpbGUsIGxkLCBnbywgZ2l0LCBnaXQtcmVtb3RlLWh0dHBzLCBpbnRlZ3JhdGlvbi1jbGkudGVzdCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSB8IGAKICAgICAgICBTdG9wLVByb2Nlc3MgLUZvcmNlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlIHwgV2FpdC1Qcm9jZXNzIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCn0KCiMgR2V0LVNvdXJjZXMgZG9lcyB0aGUgZ2l0IHdvcmsgdG8gZ2V0IHRoZSBzb3VyY2VzIGJlaW5nIHRlc3RlZApGdW5jdGlvbiBHZXQtU291cmNlcwp7CiAgICBQYXJhbShbc3RyaW5nXSRXb3Jrc3BhY2UsCiAgICAgICAgICBbc3RyaW5nXSRHaXRSZW1vdGUsCiAgICAgICAgICBbc3RyaW5nXSRHaXRDaGVja291dCkKCiAgICBTZXQtUFNEZWJ1ZyAtVHJhY2UgMAogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdTdG9wJwoKICAgIHRyeSB7CgogICAgICAgICAgCiAgICAgICAgIyBDbG9uZSB0aGUgc291cmNlcyBpbnRvIHRoZSB3b3Jrc3BhY2UuCiAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBDbG9uaW5nIGRvY2tlciBzb3VyY2VzIGludG8gJFdvcmtzcGFjZS4uLiIKICAgICAgICAjJGVudjpHSVRfVEVSTUlOQUxfUFJPTVBUPTAgIyBNYWtlIGdpdCBub3QgcHJvbXB0CiAgICAgICAgJHJldHJ5Q291bnQgPSAwCiAgICAgICAgd2hpbGUgKCR0cnVlKSB7CiAgICAgICAgICAgICMgV2lwZSB0aGUgd29ya3NwYWNlIHdoZXJlIHRoZSBzb3VyY2VzIGV4aXN0CiAgICAgICAgICAgIGlmICggVGVzdC1QYXRoICRXb3Jrc3BhY2UgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IFdpcGluZyAkV29ya3NwYWNlLi4uIgogICAgICAgICAgICAgICAgUmVtb3ZlLUl0ZW0gLVJlY3Vyc2UgLUZvcmNlICRXb3Jrc3BhY2UKICAgICAgICAgICAgfQogICAgICAgICAgICAkcHJvYyA9IFN0YXJ0LVByb2Nlc3MgZ2l0LmV4ZSAtQXJndW1lbnRMaXN0ICJjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vbW9ieS9tb2J5ICRXb3Jrc3BhY2UiIC1Ob05ld1dpbmRvdyAtUGFzc1RocnUgCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcHJvYyB8IFdhaXQtUHJvY2VzcyAtVGltZW91dCAzMDAgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgIGlmICgkcHJvYy5FeGl0Q29kZSAtbmUgMCkgewogICAgICAgICAgICAgICAgICAgIFRocm93ICJDbG9uZSBmYWlsZWQiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IENsb25lZCBzdWNjZXNzZnVsbHkiCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9IGNhdGNoIHsKICAgICAgICAgICAgICAgICMgTm8gcG9pbnQgdXNpbmcgU3RvcC1Qcm9jZXNzIGFzIGdpdCBsYXVuY2hlcyBzZXZlcmFsIHN1Yi1wcm9jZXNzZXMKICAgICAgICAgICAgICAgIEtpbGwtUHJvY2Vzc2VzCiAgICAgICAgICAgICAgICBpZiAoJHJldHJ5Q291bnQgLWx0IDMpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJGYWlsZWQgdG8gY2xvbmUsIHNvIHJldHJ5aW5nIgogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBUaHJvdyAiVGltZW91dCBjbG9uaW5nIHRoZSBkb2NrZXIgc291cmNlcyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkcmV0cnlDb3VudCsrCiAgICAgICAgfQoKICAgICAgICAjIENoYW5nZSB0byBvdXIgd29ya3NwYWNlIGRpcmVjdG9yeQogICAgICAgIFNldC1Mb2NhdGlvbiAiJFdvcmtzcGFjZSIgLUVycm9yQWN0aW9uIHN0b3AKCiAgICAgICAgIyBBZGQgYSByZW1vdGUgaWYgc3VwcGxpZWQKICAgICAgICBpZiAoLW5vdCBbc3RyaW5nXTo6SXNOdWxsT3JXaGl0ZVNwYWNlKCRHaXRSZW1vdGUpKSB7CiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogQWRkaW5nIGEgcmVtb3RlIHRvICRHaXRSZW1vdGUiCiAgICAgICAgICAgICRwcm9jID0gU3RhcnQtUHJvY2VzcyBnaXQuZXhlIC1Bcmd1bWVudExpc3QgInJlbW90ZSBhZGQgcmVtb3RlICRHaXRSZW1vdGUiIC1Ob05ld1dpbmRvdyAtUGFzc1RocnUgCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcHJvYyB8IFdhaXQtUHJvY2VzcyAtVGltZW91dCAxODAgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgIGlmICgkcHJvYy5FeGl0Q29kZSAtbmUgMCkgewogICAgICAgICAgICAgICAgICAgIFRocm93ICJBZGRpbmcgcmVtb3RlIGZhaWxlZCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogUmVtb3RlIGFkZGVkIHN1Y2Nlc3NmdWxseSIKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICAjIE5vIHBvaW50IHVzaW5nIFN0b3AtUHJvY2VzcyBhcyBnaXQgbGF1bmNoZXMgc2V2ZXJhbCBzdWItcHJvY2Vzc2VzCiAgICAgICAgICAgICAgICBLaWxsLVByb2Nlc3NlcwogICAgICAgICAgICAgICAgVGhyb3cgIlRpbWVvdXQgYWRkaW5nIGEgcmVtb3RlIHRvICRHaXRSZW1vdGUiCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICMgRmV0Y2ggZnJvbSB0aGUgcmVtb3RlCiAgICAgICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkR2l0UmVtb3RlKSkgewogICAgICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IEZldGNoaW5nIGZyb20gcmVtb3RlICRHaXRSZW1vdGUiCiAgICAgICAgICAgICRwcm9jID0gU3RhcnQtUHJvY2VzcyBnaXQuZXhlIC1Bcmd1bWVudExpc3QgImZldGNoIHJlbW90ZSIgLU5vTmV3V2luZG93IC1QYXNzVGhydSAKICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRwcm9jIHwgV2FpdC1Qcm9jZXNzIC1UaW1lb3V0IDE4MCAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgICAgICAgICAgaWYgKCRwcm9jLkV4aXRDb2RlIC1uZSAwKSB7CiAgICAgICAgICAgICAgICAgICAgVGhyb3cgIkZldGNoaW5nIGZyb20gcmVtb3RlIGZhaWxlZCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogRmV0Y2hlZCBmcm9tIHJlbW90ZSIKICAgICAgICAgICAgfSBjYXRjaCB7CiAgICAgICAgICAgICAgICAjIE5vIHBvaW50IHVzaW5nIFN0b3AtUHJvY2VzcyBhcyBnaXQgbGF1bmNoZXMgc2V2ZXJhbCBzdWItcHJvY2Vzc2VzCiAgICAgICAgICAgICAgICBLaWxsLVByb2Nlc3NlcwogICAgICAgICAgICAgICAgVGhyb3cgIlRpbWVvdXQgZmV0Y2hpbmcgZnJvbSAkR2l0UmVtb3RlIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgCiAgICAgICAgIyBQZXJmb3JtIGEgY2hlY2tvdXQgaWYgcmVxdWVzdGVkCiAgICAgICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkR2l0Q2hlY2tvdXQpKSB7CiAgICAgICAgICAgIGlmICgtbm90IFtzdHJpbmddOjpJc051bGxPcldoaXRlU3BhY2UoJEdpdFJlbW90ZSkpIHsgJEdpdENoZWNrb3V0ID0gInJlbW90ZS8kR2l0Q2hlY2tvdXQiIH0KICAgICAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBDaGVja2luZyBvdXQgJEdpdENoZWNrb3V0IgogICAgICAgICAgICAkcHJvYyA9IFN0YXJ0LVByb2Nlc3MgZ2l0LmV4ZSAtQXJndW1lbnRMaXN0ICJjaGVja291dCAkR2l0Q2hlY2tvdXQiIC1Ob05ld1dpbmRvdyAtUGFzc1RocnUgCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcHJvYyB8IFdhaXQtUHJvY2VzcyAtVGltZW91dCAxODAgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgIGlmICgkcHJvYy5FeGl0Q29kZSAtbmUgMCkgewogICAgICAgICAgICAgICAgICAgIFRocm93ICJGYWlsZWQgdG8gY2hlY2tvdXQgJEdpdENoZWNrb3V0IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBDaGVja2VkIG91dCAkR2l0Q2hlY2tvdXQiCiAgICAgICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICAgICAgIyBObyBwb2ludCB1c2luZyBTdG9wLVByb2Nlc3MgYXMgZ2l0IGxhdW5jaGVzIHNldmVyYWwgc3ViLXByb2Nlc3NlcwogICAgICAgICAgICAgICAgS2lsbC1Qcm9jZXNzZXMKICAgICAgICAgICAgICAgIFRocm93ICJUaW1lb3V0IGNoZWNraW5nIG91dCAkR2l0Q2hlY2tvdXQiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAKICAgICAgICAjIFVzZWZ1bCB0byBzaG93IHRoZSBsYXN0IGNvdXBsZSBvZiBjb21taXRzIGluIHRoZSBvdmVyYWxsIGxvZwogICAgICAgIFdyaXRlLUhvc3QgImByYG4iCiAgICAgICAgZ2l0IGxvZyAtMgogICAgICAgIFdyaXRlLUhvc3QgImByYG4iCiAgICB9CiAgICBjYXRjaCB7CiAgICAgICAgVGhyb3cgJF8KICAgIH0KfQoKIyBHZXQtSW1hZ2VUYXIgZ2VuZXJhdGVzIHRoZSB0YXIgZnJvbSB0aGUgYnVpbGQgc2hhcmUgaWYgbm90IGFscmVhZHkgcHJlc2VudCB1bmRlciBcYmFzZWltYWdlcywgYW5kIAojIHN1YnNlcXVlbnRseSBsb2FkcyBpdCBpbnRvIHRoZSBjb250cm9sIGRhZW1vbi4gTm90ZSBpZiB0aGUgbG9jYXRpb24gY2FuJ3QgYmUgcmVhY2hlZCwgc3VjaCBhcyBpcwojIHRoZSBjYXNlIGZvciBwdWJsaWMgdXNlcnMgb2ZmIE1pY3Jvc29mdCBjb3JwbmV0LCBubyBlcnJvciBpcyBnZW5lcmF0ZWQuIEluc3RlYWQsIHdlIGFzc3VtZSB0aGF0CiMgdGhlIGltYWdlIGNhbiBiZSBkb2NrZXIgcHVsbGVkLCB3aGljaCBpcyBnZW5lcmFsbHkgdHJ1ZSBmb3IgcHVibGljIHVzZXJzLiBOb3Qgc28gZm9yIGFyYml0cmFyeQojIG5pZ2h0bHkgV2luZG93cyBidWlsZHMgb2YgYW55IGJyYW5jaCB0aG91Z2guIFRoZXNlIG11c3QgY29tZSBvZmYgdGhlIGJ1aWxkIHNoYXJlLgpGdW5jdGlvbiBHZXQtSW1hZ2VUYXIgewogICAgUGFyYW0oW3N0cmluZ10kVHlwZSwKICAgICAgICAgIFtzdHJpbmddJEJ1aWxkTmFtZSkKICAgICAgICAgIAogICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICdTdG9wJwogICAgdHJ5IHsKICAgICAgICBpZiAoVGVzdC1QYXRoIGM6XGJhc2VpbWFnZXNcJHR5cGUudGFyKSB7CiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogYzpcYmFzZWltYWdlc1wkdHlwZS50YXIgYWxyZWFkeSBleGlzdHMgLSBubyBuZWVkIHRvIGdyYWIgdGhlIC50YXIgZmlsZSIKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgfQoKICAgICAgICAkTG9jYXRpb249Ilxcd2luYnVpbGRzXHJlbGVhc2VcJEJyYW5jaFwkQnVpbGRcYW1kNjRmcmVcQ29udGFpbmVyQmFzZU9zUGtncyIKICAgICAgICBpZiAoJChUZXN0LVBhdGggJExvY2F0aW9uKSAtZXEgJEZhbHNlKSB7CiAgICAgICAgICAgIFdyaXRlLUhvc3QgLWZvcmVncm91bmRjb2xvciBncmVlbiAkKCJJTkZPOiBTa2lwcGluZyBpbWFnZSBjb252ZXJzaW9uIHRvIGM6XEJhc2VJbWFnZXNcIiskdHlwZSsiLnRhciIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIH0KCiAgICAgICAgIyBOZWVkZWQgb24gV2luZG93cyBTZXJ2ZXIgMjAxNiAxMEIgKE9jdCAyMDE2KSBhbmQgbGF0ZXIKICAgICAgICAjSW5zdGFsbC1QYWNrYWdlUHJvdmlkZXIgLU5hbWUgTnVHZXQgLU1pbmltdW1WZXJzaW9uIDIuOC41LjIwMSAtRm9yY2UKICAgICAgICBJbnN0YWxsLVBhY2thZ2VQcm92aWRlciAtTmFtZSBOdUdldCAtRm9yY2UKCiAgICAgICAgIyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3dpbTJpbWcgKE1pY3Jvc29mdCBJbnRlcm5hbCkKICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IEluc3RhbGxpbmcgY29udGFpbmVycyBtb2R1bGUgZm9yIGltYWdlIGNvbnZlcnNpb24iCiAgICAgICAgUmVnaXN0ZXItUGFja2FnZVNvdXJjZSAtTmFtZSBIeXBlclZEZXYgLVByb3ZpZGVyIFBvd2VyU2hlbGxHZXQgLUxvY2F0aW9uIFxccmVkbW9uZFwxV2luZG93c1xUZXN0Q29udGVudFxDT1JFXEJhc2VcSFlQXEhBVFxwYWNrYWdlcyAtVHJ1c3RlZCAtRm9yY2UgfCBPdXQtTnVsbAogICAgICAgIEluc3RhbGwtTW9kdWxlIC1OYW1lIENvbnRhaW5lcnMuTGF5ZXJzIC1SZXBvc2l0b3J5IEh5cGVyVkRldiB8IE91dC1OdWxsCiAgICAgICAgSW1wb3J0LU1vZHVsZSBDb250YWluZXJzLkxheWVycyB8IE91dC1OdWxsCiAgICAgICAgICAgIAogICAgICAgICRTb3VyY2VUYXI9JExvY2F0aW9uKyJcY2Jhc2Vvc3BrZ18iKyRCdWlsZE5hbWUrIl9lbi11c1xDQmFzZU9TXyIrJEJyYW5jaCsiXyIrJEJ1aWxkKyJfYW1kNjRmcmVfIiskQnVpbGROYW1lKyJfZW4tdXMudGFyLmd6IgogICAgICAgIFdyaXRlLUhvc3QgLWZvcmVncm91bmRjb2xvciBncmVlbiAiSU5GTzogQ29udmVydGluZyAkU291cmNlVGFyLiBUaGlzIG1heSB0YWtlIGEgZmV3IG1pbnV0ZXMuLi4iCgogICAgICAgIGlmICgtbm90KFRlc3QtUGF0aCAiQzpcQmFzZUltYWdlcyIpKSB7IG1rZGlyICJDOlxCYXNlSW1hZ2VzIiB9CiAgICAgICAgRXhwb3J0LUNvbnRhaW5lckxheWVyIC1Tb3VyY2VGaWxlUGF0aCAkU291cmNlVGFyIC1EZXN0aW5hdGlvbkZpbGVQYXRoIGM6XEJhc2VJbWFnZXNcJHR5cGUudGFyIC1SZXBvc2l0b3J5ICQoIm1pY3Jvc29mdC8iKyRUeXBlKSAtbGF0ZXN0CgogICAgICAgIFdyaXRlLUhvc3QgLWZvcmVncm91bmRjb2xvciBncmVlbiAiSU5GTzogTG9hZGluZyAkdHlwZS50YXIgaW50byB0aGUgY29udHJvbCBkYWVtb24uIFRoaXMgbWF5IHRha2UgYSBmZXcgbWludXRlcy4uLiIKICAgICAgICBkb2NrZXIgbG9hZCAtaSBjOlxCYXNlSW1hZ2VzXCR0eXBlLnRhcgogICAgfSBjYXRjaCB7CiAgICAgICAgVGhyb3cgJF8KICAgIH0KfQoKIyBTdGFydCBvZiB0aGUgbWFpbiBzY3JpcHQuIEluIGEgdHJ5IGJsb2NrIHRvIGNhdGNoIGFueSBleGNlcHRpb24KVHJ5IHsKICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBDeWFuICJJTkZPOiBJbnZva2UtRG9ja2VyQ0kucHMxIHN0YXJ0aW5nIGF0ICQoZGF0ZSlgbiIKICAgIHNldC1QU0RlYnVnIC1UcmFjZSAwICAjIDEgdG8gdHVybiBvbgogICAgJGNvbnRyb2xEYWVtb25TdGFydGVkPSRmYWxzZQoKICAgICMgU2F2ZSBlbnZpcm9ubWVudCBURU1QIAogICAgJE9SSUdURU1QPSRlbnY6VEVNUAoKICAgICMgU3RhcnQgaW4gdGhlIHJvb3Qgb2YgdGhlIHN5c3RlbSBkcml2ZQogICAgUHVzaC1Mb2NhdGlvbiAiJGVudjpTeXN0ZW1Ecml2ZVwiOyAkZ2xvYmFsOnB1c2hlZD0kVHJ1ZQoKICAgICMgU2V0IHNvbWUgZGVmYXVsdHMgaWYgdGhleSBhcmUgbm90IGRlZmluZWQgaW4gdGhlIGVudmlyb25tZW50CiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkU291cmNlc0RyaXZlKSkgewogICAgICAgIGlmICgtbm90IFtzdHJpbmddOjpJc051bGxPcldoaXRlU3BhY2UoJGVudjpTT1VSQ0VTX0RSSVZFKSkgewogICAgICAgICAgICAkU291cmNlc0RyaXZlID0gJGVudjpTT1VSQ0VTX0RSSVZFCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJFNvdXJjZXNEcml2ZSA9JEVudjpTeXN0ZW1Ecml2ZS5TdWJzdHJpbmcoMCwxKQogICAgICAgICAgICAkZW52OlNPVVJDRVNfRFJJVkUgPSAkU291cmNlc0RyaXZlCiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogRGVmYXVsdGVkIFNvdXJjZXNEcml2ZSB0byAkU291cmNlc0RyaXZlIgogICAgICAgIH0KICAgIH0gCgogICAgaWYgKFtzdHJpbmddOjpJc051bGxPcldoaXRlU3BhY2UoJFNvdXJjZXNTdWJkaXIpKSB7CiAgICAgICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkZW52OlNPVVJDRVNfU1VCRElSKSkgewogICAgICAgICAgICAkU291cmNlc1N1YmRpciA9ICRlbnY6U09VUkNFU19TVUJESVIKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkU291cmNlc1N1YmRpcj0gImdvcGF0aCIKICAgICAgICAgICAgJGVudjpTT1VSQ0VTX1NVQkRJUiA9ICRTb3VyY2VzU3ViZGlyCiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogRGVmYXVsdGVkIFNvdXJjZXNTdWJkaXIgdG8gJFNvdXJjZXNTdWJkaXIiCiAgICAgICAgfQogICAgfQoKICAgIGlmIChbc3RyaW5nXTo6SXNOdWxsT3JXaGl0ZVNwYWNlKCRUZXN0cnVuRHJpdmUpKSB7CiAgICAgICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkZW52OlRFU1RSVU5fRFJJVkUpKSB7CiAgICAgICAgICAgICRUZXN0cnVuRHJpdmUgPSAkZW52OlRFU1RSVU5fRFJJVkUKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkVGVzdHJ1bkRyaXZlID0gJEVudjpTeXN0ZW1Ecml2ZS5TdWJzdHJpbmcoMCwxKQogICAgICAgICAgICAkZW52OlRFU1RSVU5fRFJJVkUgPSAkVGVzdHJ1bkRyaXZlCiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogRGVmYXVsdGVkIFRlc3RydW5Ecml2ZSB0byAkVGVzdHJ1bkRyaXZlIgogICAgICAgIH0KICAgIH0KCiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkVGVzdHJ1blN1YmRpcikpIHsKICAgICAgICBpZiAoLW5vdCBbc3RyaW5nXTo6SXNOdWxsT3JXaGl0ZVNwYWNlKCRlbnY6VEVTVFJVTl9TVUJESVIpKSB7CiAgICAgICAgICAgICRUZXN0cnVuU3ViZGlyID0gJGVudjpURVNUUlVOX1NVQkRJUgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRUZXN0cnVuU3ViZGlyPSJDSSIKICAgICAgICAgICAgJGVudjpURVNUUlVOX1NVQkRJUiA9ICRUZXN0cnVuU3ViZGlyCiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogRGVmYXVsdGVkIFRlc3RydW5TdWJkaXIgdG8gJFRlc3RydW5TdWJkaXIiCiAgICAgICAgfQogICAgfQogICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkSW50ZWdyYXRpb25UZXN0TmFtZSkpIHsKICAgICAgICAkZW52OklOVEVHUkFUSU9OX1RFU1RfTkFNRSA9ICRJbnRlZ3JhdGlvblRlc3ROYW1lCiAgICB9CiAgICAkZW52OkRPQ0tFUl9EVVRfREVCVUc9IiIKICAgIGlmICgkRFVURGVidWdNb2RlKSB7CiAgICAgICAgJGVudjpET0NLRVJfRFVUX0RFQlVHID0gIlllcywgZGVidWcgZGFlbW9uIHVuZGVyIHRlc3QiCiAgICB9CiAgICAkZW52OlNLSVBfVkFMSURBVElPTl9URVNUUyA9ICIiCiAgICBpZiAoJFNraXBWYWxpZGF0aW9uVGVzdHMpIHsKICAgICAgICAkZW52OlNLSVBfVkFMSURBVElPTl9URVNUUyA9ICJZZXMiCiAgICB9CiAgICAkZW52OlNLSVBfVU5JVF9URVNUUz0iIgogICAgaWYgKCRTa2lwVW5pdFRlc3RzKSB7CiAgICAgICAgJGVudjpTS0lQX1VOSVRfVEVTVFMgPSAiWWVzIgogICAgfQogICAgJGVudjpTS0lQX0lOVEVHUkFUSU9OX1RFU1RTPSIiCiAgICBpZiAoJFNraXBJbnRlZ3JhdGlvblRlc3RzKSB7CiAgICAgICAgJGVudjpTS0lQX0lOVEVHUkFUSU9OX1RFU1RTID0gIlllcyIKICAgIH0KICAgICRlbnY6SU5URUdSQVRJT05fSU5fQ09OVEFJTkVSPSIiCiAgICBpZiAoJEludGVncmF0aW9uSW5Db250YWluZXIpIHsKICAgICAgICAkZW52OklOVEVHUkFUSU9OX0lOX0NPTlRBSU5FUiA9ICJZZXMiCiAgICB9CiAgICAkZW52OkxDT1dfTU9ERT0iIgogICAgaWYgKCRMQ09XKSB7CiAgICAgICAgJGVudjpMQ09XX01PREUgPSAiWWVzIgogICAgfQogICAgJGVudjpTS0lQX0NPUFlfR089IiIKICAgIGlmICgkU2tpcENvcHlHbykgewogICAgICAgICRlbnY6U0tJUF9DT1BZX0dPID0gIlllcyIKICAgIH0KICAgICRlbnY6U0tJUF9CSU5BUllfQlVJTEQ9IiIKICAgIGlmICgkU2tpcEJpbmFyeUJ1aWxkKSB7CiAgICAgICAgJGVudjpTS0lQX0JJTkFSWV9CVUlMRCA9ICJZZXMiCiAgICB9CiAgICAkZW52OkRPQ0tFUl9EVVRfSFlQRVJWPSIiCiAgICBpZiAoJEh5cGVyVkRVVCkgewogICAgICAgICRlbnY6RE9DS0VSX0RVVF9IWVBFUlYgPSAiWWVzIgogICAgfQogICAgJGVudjpTS0lQX1pBUF9EVVQ9IiIKICAgIGlmICgkU2tpcFphcERVVCkgewogICAgICAgICRlbnY6U0tJUF9aQVBfRFVUID0gIlllcyIKICAgIH0KICAgICRlbnY6U0tJUF9JTUFHRV9CVUlMRD0iIgogICAgaWYgKCRTa2lwSW1hZ2VCdWlsZCkgewogICAgICAgICRlbnY6U0tJUF9JTUFHRV9CVUlMRCA9ICJZZXMiCiAgICB9CiAgICAkZW52OlNLSVBfQUxMX0NMRUFOVVA9IiIKICAgIGlmICgkU2tpcEFsbENsZWFudXApIHsKICAgICAgICAkZW52OlNLSVBfQUxMX0NMRUFOVVAgPSAiWWVzIgogICAgfQogICAgIyBTZXQgc29tZSBkZWZhdWx0IHZhbHVlcwogICAgaWYgKFtzdHJpbmddOjpJc051bGxPcldoaXRlU3BhY2UoJERvY2tlckJhc2VQYXRoKSkgewogICAgICAgICMgRGVmYXVsdCB0byBtYXN0ZXIuZG9ja2VycHJvamVjdC5vcmcKICAgICAgICAkRG9ja2VyQmFzZVBhdGg9JERPQ0tFUl9ERUZBVUxUX0JBU0VQQVRICiAgICB9CiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkR2l0TG9jYXRpb24pKSB7CiAgICAgICAgJEdpdExvY2F0aW9uID0gJEdJVF9ERUZBVUxUX0xPQ0FUSU9OCiAgICB9CiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkQ0lTY3JpcHRMb2NhdGlvbikpIHsKICAgICAgICAkQ0lTY3JpcHRMb2NhdGlvbiA9ICRDSVNDUklQVF9ERUZBVUxUX0xPQ0FUSU9OCiAgICB9CgogICAgIyBXaGVyZSB3ZSBydW4gdGhlIGNvbnRyb2wgZGFlbW9uIGZyb20KICAgICRDb250cm9sUm9vdD0iJCgkVGVzdHJ1bkRyaXZlKTpcY29udHJvbCIKCiAgICAjIEdldCB0aGUgYnVpbGQgCiAgICAkYmw9KEdldC1JdGVtUHJvcGVydHkgLVBhdGggIlJlZ2lzdHJ5OjpIS0VZX0xPQ0FMX01BQ0hJTkVcU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3MgTlRcQ3VycmVudFZlcnNpb24iICAtTmFtZSBCdWlsZExhYkV4KS5CdWlsZExhYkV4CiAgICAkYT0kYmwuVG9TdHJpbmcoKS5TcGxpdCgiLiIpCiAgICAkQnJhbmNoPSRhWzNdCiAgICAkQnVpbGQ9JGFbMF0rIi4iKyRhWzFdKyIuIiskYVs0XQogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBCcmFuY2g6JEJyYW5jaCBCdWlsZDokQnVpbGQiCgogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBDb25maWd1cmF0aW9uOmBuIgogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIHllbGxvdyAiUGF0aHMiCiAgICBXcml0ZS1Ib3N0ICIgLSBTb3VyY2VzOiAgICAgICAgICAgJFNvdXJjZXNEcml2ZWA6XCRTb3VyY2VzU3ViZGlyIgogICAgV3JpdGUtSG9zdCAiIC0gVGVzdCBydW46ICAgICAgICAgICRUZXN0cnVuRHJpdmVgOlwkVGVzdHJ1blN1YmRpciIKICAgIFdyaXRlLUhvc3QgIiAtIENvbnRyb2wgZGFlbW9uOiAgICAkQ29udHJvbFJvb3QiCiAgICBXcml0ZS1Ib3N0ICAtRm9yZWdyb3VuZENvbG9yIHllbGxvdyAiR2l0IgogICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkR2l0UmVtb3RlKSkgeyBXcml0ZS1Ib3N0ICIgLSBSZW1vdGU6ICAgICAgICAgICAgJEdpdFJlbW90ZSIgfQogICAgaWYgKC1ub3QgW3N0cmluZ106OklzTnVsbE9yV2hpdGVTcGFjZSgkR2l0Q2hlY2tvdXQpKSB7IFdyaXRlLUhvc3QgIiAtIENoZWNrb3V0OiAgICAgICAgICAkR2l0Q2hlY2tvdXQiIH0KICAgIFdyaXRlLUhvc3QgIiAtIFNraXAgY2xvbmU6ICAgICAgICAkU2tpcENsb25lIgogICAgV3JpdGUtSG9zdCAiIC0gSW5zdGFsbGVyOiAgICAgICAgICRHaXRMb2NhdGlvbiIKICAgIFdyaXRlLUhvc3QgIC1Gb3JlZ3JvdW5kQ29sb3IgeWVsbG93ICJEZWJ1ZyIKICAgIFdyaXRlLUhvc3QgIiAtIERhZW1vbiB1bmRlciB0ZXN0OiAkRFVURGVidWdNb2RlIgogICAgV3JpdGUtSG9zdCAiIC0gQ29udHJvbCBkYWVtb246ICAgICRDb250cm9sRGVidWdNb2RlIgogICAgV3JpdGUtSG9zdCAgLUZvcmVncm91bmRDb2xvciB5ZWxsb3cgIlNraXAgdGVzdHMiCiAgICBXcml0ZS1Ib3N0ICIgLSBWYWxpZGF0aW9uOiAgICAgICAgJFNraXBWYWxpZGF0aW9uVGVzdHMiCiAgICBXcml0ZS1Ib3N0ICIgLSBVbml0OiAgICAgICAgICAgICAgJFNraXBVbml0VGVzdHMiCiAgICBXcml0ZS1Ib3N0ICIgLSBJbnRlZ3JhdGlvbjogICAgICAgJFNraXBJbnRlZ3JhdGlvblRlc3RzIgogICAgV3JpdGUtSG9zdCAgLUZvcmVncm91bmRDb2xvciB5ZWxsb3cgIkh5cGVyLVYgQ29udGFpbmVycyIKICAgIFdyaXRlLUhvc3QgIiAtIENvbnRyb2wgZGFlbW9uOiAgICAkSHlwZXJWQ29udHJvbCIKICAgIFdyaXRlLUhvc3QgIiAtIERhZW1vbiB1bmRlciB0ZXN0OiAkSHlwZXJWRFVUIgogICAgV3JpdGUtSG9zdCAgLUZvcmVncm91bmRDb2xvciB5ZWxsb3cgIk1pc2NlbGxhbmVvdXMiCiAgICBXcml0ZS1Ib3N0ICIgLSBEZXN0cm95IENhY2hlOiAgICAgJERlc3Ryb3lDYWNoZSIKICAgIFdyaXRlLUhvc3QgIiAtIENvbnRyb2wgYmluYXJpZXM6ICAkRG9ja2VyQmFzZVBhdGgiCiAgICBXcml0ZS1Ib3N0ICIgLSBDSSBTY3JpcHQ6ICAgICAgICAgJENJU2NyaXB0TG9jYXRpb24iCiAgICBXcml0ZS1Ib3N0ICIgLSBTa2lwIGJpbmFyeSBidWlsZDogJFNraXBCaW5hcnlCdWlsZCIKICAgIFdyaXRlLUhvc3QgIiAtIFNraXAgemFwIERVVCBkaXI6ICAkU2tpcFphcERVVCIKICAgIFdyaXRlLUhvc3QgIiAtIFNraXAgaW1hZ2UgYnVpbGQ6ICAkU2tpcEltYWdlQnVpbGQiCiAgICBXcml0ZS1Ib3N0ICIgLSBTa2lwIGFsbCBjbGVhbnVwOiAgJFNraXBBbGxDbGVhbnVwIgogICAgV3JpdGUtSG9zdCAiIC0gU2tpcCBkb3dubG9hZDogICAgICRTa2lwQ29udHJvbERvd25sb2FkIgogICAgV3JpdGUtSG9zdCAiIC0gU2tpcCBjb3B5IGdvOiAgICAgICRTa2lwQ29weUdvIgogICAgV3JpdGUtSG9zdCAiIC0gVGVzdCBpbiBjb250YWluZXI6ICRJbnRlZ3JhdGlvbkluQ29udGFpbmVyIgogICAgV3JpdGUtSG9zdCAiIC0gTENPVyBNb2RlOiAgICAgICAgICRMQ09XIgogICAgaWYgKCRTa2lwSW50ZWdyYXRpb25UZXN0cyAtZXEgJGZhbHNlKSB7CiAgICAgICAgaWYgKC1ub3QgKFtzdHJpbmddOjpJc051bGxPcldoaXRlU3BhY2UoJEludGVncmF0aW9uVGVzdE5hbWUpKSkgewogICAgICAgICAgICBXcml0ZS1Ib3N0ICIgLSBDTEkgdGVzdCBtYXRjaDogICAgJEludGVncmF0aW9uVGVzdE5hbWUiCiAgICAgICAgfQogICAgfQogICAgaWYgKC1ub3QgKFtzdHJpbmddOjpJc051bGxPcldoaXRlU3BhY2UoJFdpbmRvd3NCYXNlSW1hZ2UpKSkgewogICAgICAgIFdyaXRlLUhvc3QgIiAtIEJhc2UgaW1hZ2U6ICAgICAgICAkV2luZG93c0Jhc2VJbWFnZSIKICAgICAgICAkZW52OldJTkRPV1NfQkFTRV9JTUFHRT0kV2luZG93c0Jhc2VJbWFnZSAjIFBhc3MgdGhyb3VnaCB0byBleGVjdXRlQ0kucHMxCiAgICB9CiAgICBXcml0ZS1Ib3N0ICJgbiIKCiAgICAjIFdoZXJlIHdlIGNsb25lIHRoZSBkb2NrZXIgc291cmNlcwogICAgJFdvcmtzcGFjZVJvb3Q9IiQoJFNvdXJjZXNEcml2ZSk6XCQoJFNvdXJjZXNTdWJkaXIpIgogICAgJFdvcmtzcGFjZT0iJFdvcmtzcGFjZVJvb3Rcc3JjXGdpdGh1Yi5jb21cbW9ieVxtb2J5IgoKICAgIGlmICgtbm90KFRlc3QtUGF0aCAiQzpcQ0lVdGlsaXRpZXMiKSkgeyBta2RpciAiQzpcQ0lVdGlsaXRpZXMiIHwgT3V0LU51bGwgfQoKICAgICMgTWFrZSBzdXJlIHdlIGhhdmUgdGhlIGdpdCBwb3NpeCB1dGlsaXRpZXMgYXQgdGhlIGZyb250IG9mIG91ciBwYXRoIChvdmVyd3JpdGVzIGZpbmQgZXRjKSwgYW5kCiAgICAjIGFsc28gdGhlIEdPIGJpbiBkaXJlY3Rvcmllcy4gV2UgYWxzbyBkZWxpYmVyYXRlbHkgcHV0ICRlbnY6VGVtcCB0aGVyZSBlYXJseSBzbyB0aGF0IHRoZQogICAgIyBkb2NrZXIuZXhlIHdlIGFyZSB1c2luZyBpcyB0aGUgb25lIHdlIGRvd25sb2FkZWQgYWJvdmUuIEFsc28gY29uZmlndXJlIEdPIGVudmlyb25tZW50IHZhcmlhYmxlcwogICAgaWYgKC1ub3QgKCRlbnY6UEFUSCAtbGlrZSAkKCIqIiskZW52OlRFTVArIioiKSkpIHsgJGVudjpQYXRoID0gIiRlbnY6VEVNUDskZW52OlBhdGgiIH0KICAgIGlmICgtbm90ICgkZW52OlBBVEggLWxpa2UgJypjOlxnb3BhdGhcYmluKicpKSAgICB7ICRlbnY6UGF0aCA9ICJjOlxnb3BhdGhcYmluOyRlbnY6UGF0aCIgfQogICAgaWYgKC1ub3QgKCRlbnY6UEFUSCAtbGlrZSAnKmM6XGdvXGJpbionKSkgICAgICAgIHsgJGVudjpQYXRoID0gImM6XGdvXGJpbjskZW52OlBhdGgiIH0KICAgIGlmICgtbm90ICgkZW52OlBBVEggLWxpa2UgJypjOlxnaXRcdXNyXGJpbionKSkgICB7ICRlbnY6UGF0aCA9ICJjOlxnaXRcdXNyXGJpbjskZW52OlBhdGgiIH0KICAgIGlmICgtbm90ICgkZW52OlBBVEggLWxpa2UgJypjOlxnaXRcYmluKicpKSAgICAgICB7ICRlbnY6UGF0aCA9ICJjOlxnaXRcYmluOyRlbnY6UGF0aCIgfQogICAgaWYgKC1ub3QgKCRlbnY6UEFUSCAtbGlrZSAnKmM6XGdpdFxjbWQqJykpICAgICAgIHsgJGVudjpQYXRoID0gImM6XGdpdFxjbWQ7JGVudjpQYXRoIiB9CiAgICBpZiAoLW5vdCAoJGVudjpQQVRIIC1saWtlICcqYzpcQ0lVdGlsaXRpZXMqJykpICAgeyAkZW52OlBhdGggPSAiYzpcQ0lVdGlsaXRpZXM7JGVudjpQYXRoIiB9CgogICAgJGVudjpHT1JPT1Q9ImM6XGdvIgogICAgJGVudjpHT1BBVEg9IiRXb3Jrc3BhY2VSb290IgoKICAgICMgVHVybiBvZmYgZGVmZW5kZXIgdG8gbWFrZSB0aGluZ3MgcnVuIHNpZ25pZmljYW50bHkgZmFzdGVyCiAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IERpc2FibGluZyBXaW5kb3dzIERlZmVuZGVyIGZvciBwZXJmb3JtYW5jZS4uLiIKICAgIHNldC1tcHByZWZlcmVuY2UgLWRpc2FibGVyZWFsdGltZW1vbml0b3JpbmcgJHRydWUgLUVycm9yQWN0aW9uIFN0b3AKCiAgICAjIFN0b3AgdGhlIGRvY2tlciBzZXJ2aWNlIGlmIHJ1bm5pbmcuCiAgICBTdG9wLURvY2tlclNlcnZpY2UKCiAgICAjIFRlcm1pbmF0ZSBwcm9jZXNzZXMgd2hpY2ggbWlnaHQgYmUgcnVubmluZwogICAgS2lsbC1Qcm9jZXNzZXMKCiAgICAjIEluIHRoZSBSSVRQIHVuZGVyIFQzVCwgd2UgbWF5IG5vdCBiZSBpbiBhIGNsZWFuIHN0YXRlLCBhbmQgQzpcUHJvZ3JhbURhdGFcZG9ja2VyXGNvbmZpZ1xkYWVtb24uanNvbiBtYXkgZXhpc3QuCiAgICAjIFNlZSBPUyM4Njk5ODAzLiBTbyBub3cgd2UndmUga2lsbGVkIHRoZSBwcm9jZXNzZXMsIGlmIHRoZSBmaWxlIGV4aXN0cywgdGhlbiByZW5hbWUgaXQgc28gdGhhdAogICAgIyBpdCBkb2Vzbid0IGNvbmZsaWN0LCBhbmQgd2UnbGwgcHV0IGl0IGJhY2sgdG8gaG93IGl0IHdhcyBhdCB0aGUgZW5kLgogICAgaWYgKFRlc3QtUGF0aCAiJGVudjpQcm9ncmFtRGF0YVxkb2NrZXJcY29uZmlnXGRhZW1vbi5qc29uIikgewogICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogJGVudjpQcm9ncmFtRGF0YVxkb2NrZXJcY29uZmlnXGRhZW1vbi5qc29uIGV4aXN0cy4gUmVuYW1pbmcgdGVtcG9yYXJpbHkgdG8gYSAuQ0liYWNrdXAgZmlsZSIKICAgICAgICBSZW5hbWUtSXRlbSAiJGVudjpQcm9ncmFtRGF0YVxkb2NrZXJcY29uZmlnXGRhZW1vbi5qc29uIiAiJGVudjpQcm9ncmFtRGF0YVxkb2NrZXJcY29uZmlnXGRhZW1vbi5DSUJhY2t1cCIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAkQ29uZmlnSlNPTkJhY2tlZFVwPSRUcnVlCiAgICB9CgogICAgIyBEZXRhY2ggYW55IFZIRHMganVzdCBpbiBjYXNlIHRoZXJlIGFyZSBsaW5nZXJlcnMKICAgIERpc21vdW50LU1vdW50ZWRWSERzCgogICAgaWYgKC1ub3QgJFNraXBDb250cm9sRG93bmxvYWQpIHsKICAgICAgICAjIERvd25sb2FkIGRvY2tlci5leGUgZm9yIHRoZSBjb250cm9sIGRhZW1vbiBpbiBzaW5nbGUgYmluYXJ5IG1vZGUuIEluIGR1YWwKICAgICAgICAjIGJpbmFyeSBtb2RlLCBkb3dubG9hZHMgZG9ja2VyLmV4ZSBmb3IgdGhlIGNvbnRyb2wgY2xpZW50LCBkb2NrZXJkLmV4ZSBmb3IKICAgICAgICAjIHRoZSBjb250cm9sIGRhZW1vbgogICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogQ29udHJvbCBkb2NrZXIgYmFzZSBwYXRoICREb2NrZXJCYXNlUGF0aCIKICAgICAgICBSZW1vdmUtSXRlbSAiJGVudjpUZW1wXGRvY2tlci5leGUiIC1FcnJvcmFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgUmVtb3ZlLUl0ZW0gIiRlbnY6VGVtcFxkb2NrZXJjb250cm9sLmV4ZSIgLUVycm9yYWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICBSZW1vdmUtSXRlbSAiJGVudjpUZW1wXGRvY2tlcmQuZXhlIiAtRXJyb3JhY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgICAgIFJlbW92ZS1JdGVtICIkZW52OlRlbXBcZG9ja2VyZGNvbnRyb2wuZXhlIiAtRXJyb3JhY3Rpb24gU2lsZW50bHlDb250aW51ZQoKICAgICAgICAjIERvd25sb2FkIGRvY2tlci5leGUgY2xpZW50IGJpbmFyeS4gCiAgICAgICAgaWYgKDAgLW5lIChEb3dubG9hZC1GaWxlICIkRG9ja2VyQmFzZVBhdGgiICJkb2NrZXIuZXhlIiAiJGVudjpUZW1wXGRvY2tlci5leGUiKSkgewogICAgICAgICAgICBUaHJvdyAiRG93bmxvYWQgZG9ja2VyIGZhaWxlZCIKICAgICAgICB9CiAgICAgICAgQ29weS1JdGVtICIkZW52OlRlbXBcZG9ja2VyLmV4ZSIgIiRlbnY6VGVtcFxkb2NrZXJjb250cm9sLmV4ZSIKCiAgICAgICAgIyBEb3dubG9hZCBkb2NrZXJkLmV4ZSBkYWVtb24gYmluYXJ5LiAKICAgICAgICBpZiAoMCAtbmUgKERvd25sb2FkLWZpbGUgIiREb2NrZXJCYXNlUGF0aCIgImRvY2tlcmQuZXhlIiAiJGVudjpUZW1wXGRvY2tlcmQuZXhlIikpIHsKICAgICAgICAgICAgVGhyb3cgIkRvd25sb2FkIGRvY2tlcmQuZXhlIGZhaWxlZCIKICAgICAgICB9CiAgICAgICAgQ29weS1JdGVtICIkZW52OlRlbXBcZG9ja2VyZC5leGUiICIkZW52OlRlbXBcZG9ja2VyZGNvbnRyb2wuZXhlIgogICAgfSBlbHNlIHsKICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgTWFnZW50YSAiV0FSTjogU2tpcHBpbmcgY29udHJvbCBkb2NrZXIqLmV4ZSBkb3dubG9hZHMiCiAgICB9CgogICAgIyBJbnN0YWxsIGdpdCBpZiBub3QgYWxyZWFkeSBpbnN0YWxsZWQKICAgIGlmICgtbm90IChUZXN0LUNvbW1hbmRFeGlzdHMgZ2l0KSkgewogICAgICAgIFJlbW92ZS1JdGVtICIkZW52OlRlbXBcZ2l0aW5zdGFsbGVyLmV4ZSIgLUVycm9yYWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IEdpdCBpbnN0YWxsZXIgJEdpdExvY2F0aW9uIgogICAgICAgICRyPURvd25sb2FkLUZpbGUgIiRHaXRMb2NhdGlvbiIgIiIgIiRlbnY6VGVtcFxnaXRpbnN0YWxsZXIuZXhlIgogICAgICAgIFVuYmxvY2stRmlsZSAiJGVudjpUZW1wXGdpdGluc3RhbGxlci5leGUiIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBJbnN0YWxsaW5nIGdpdC4uLiIKICAgICAgICAkaW5zdGFsbFBhdGggPSAnSEtMTTpcU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cVW5pbnN0YWxsJwogICAgICAgICRpbnN0YWxsSXRlbSA9ICdHaXRfaXMxJwogICAgICAgIE5ldy1JdGVtIC1QYXRoICRpbnN0YWxsUGF0aCAtTmFtZSAkaW5zdGFsbEl0ZW0gLUZvcmNlCiAgICAgICAgJGluc3RhbGxLZXkgPSAkaW5zdGFsbFBhdGgrJ1wnKyRpbnN0YWxsSXRlbQogICAgICAgIE5ldy1JdGVtUHJvcGVydHkgJGluc3RhbGxLZXkgLU5hbWUgJ0lubm8gU2V0dXAgQ29kZUZpbGU6IFBhdGggT3B0aW9uJyAtVmFsdWUgJ0NtZFRvb2xzJyAtUHJvcGVydHlUeXBlICdTdHJpbmcnIC1Gb3JjZQogICAgICAgIE5ldy1JdGVtUHJvcGVydHkgJGluc3RhbGxLZXkgLU5hbWUgJ0lubm8gU2V0dXAgQ29kZUZpbGU6IEJhc2ggVGVybWluYWwgT3B0aW9uJyAtVmFsdWUgJ0Nvbkhvc3QnIC1Qcm9wZXJ0eVR5cGUgJ1N0cmluZycgLUZvcmNlCiAgICAgICAgTmV3LUl0ZW1Qcm9wZXJ0eSAkaW5zdGFsbEtleSAtTmFtZSAnSW5ubyBTZXR1cCBDb2RlRmlsZTogQ1JMRiBPcHRpb24nIC1WYWx1ZSAnQ1JMRkNvbW1pdEFzSXMnIC1Qcm9wZXJ0eVR5cGUgJ1N0cmluZycgLUZvcmNlCiAgICAgICAgU3RhcnQtUHJvY2VzcyAtV2FpdCAiJGVudjpUZW1wXGdpdGluc3RhbGxlci5leGUiIC1Bcmd1bWVudExpc3QgJy9WRVJZU0lMRU5UIC9TVVBQUkVTU01TR0JPWEVTIC9DTE9TRUFQUExJQ0FUSU9OUyAvRElSPWM6XGdpdCcgLUVycm9yQWN0aW9uIFN0b3AKCiAgICAgICAgIyBEb24ndCB0aGluayBuZWVkZWQgZm9yIGdpdCAyLjggYW5kIGxhdGVyCiAgICAgICAgIyMgU2V0IHRoZSBwYXRoIGZvciB0aGUgbWFjaGluZSAoYXMgdGhlIGluc3RhbGxlciBkb2Vzbid0IHNlZW0gdG8gZG8gaXQpIEFORCBmb3IgdGhlIGN1cnJlbnQgcHJvY2Vzcy4KICAgICAgICAjW0Vudmlyb25tZW50XTo6U2V0RW52aXJvbm1lbnRWYXJpYWJsZSgiUGF0aCIsImM6XGdpdFxiaW47YzpcZ2l0XHVzclxiaW47JGVudjpQYXRoIiwgIk1hY2hpbmUiKQogICAgICAgICRlbnY6UGF0aD0iYzpcZ2l0XGJpbjtjOlxnaXRcdXNyXGJpbjskZW52OlBhdGgiCiAgICB9CgogICAgIyBDbG9uZSB0aGUgc291cmNlcyBvZiB0aGUgcmVwbyBiZWluZyB0ZXN0ZWQKICAgIGlmICgtbm90ICRTa2lwQ2xvbmUpIHsKICAgICAgICBHZXQtU291cmNlcyAkV29ya3NwYWNlICRHaXRSZW1vdGUgJEdpdENoZWNrb3V0CiAgICB9IGVsc2UgewogICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogU2tpcHBpbmcgY2xvbmUuIEFzc3VtaW5nIHNvdXJjZXMgYXJlIGluICRXb3Jrc3BhY2UiCiAgICB9CgogICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAiYzpcQ0lVdGlsaXRpZXNcZG9ja2VyLWNpLXphcC5leGUiKSkgewogICAgICAgICRyPURvd25sb2FkLUZpbGUgImh0dHBzOi8vZ2l0aHViLmNvbS9qaG93YXJkbXNmdC9kb2NrZXItY2ktemFwL3Jhdy9tYXN0ZXIvZG9ja2VyLWNpLXphcC5leGUiICIiICJjOlxDSVV0aWxpdGllc1xkb2NrZXItY2ktemFwLmV4ZSIKICAgICAgICBVbmJsb2NrLUZpbGUgImM6XENJVXRpbGl0aWVzXGRvY2tlci1jaS16YXAuZXhlIiAtRXJyb3JBY3Rpb24gU3RvcAogICAgfQoKICAgIGlmICgtbm90IChUZXN0LVBhdGggImM6XENJVXRpbGl0aWVzXGRvY2tlci1zaWduYWwuZXhlIikpIHsKICAgICAgICAkcj1Eb3dubG9hZC1GaWxlICJodHRwczovL2dpdGh1Yi5jb20vamhvd2FyZG1zZnQvZG9ja2VyLXNpZ25hbC9yYXcvbWFzdGVyL2RvY2tlci1zaWduYWwuZXhlIiAiIiAiYzpcQ0lVdGlsaXRpZXNcZG9ja2VyLXNpZ25hbC5leGUiCiAgICAgICAgVW5ibG9jay1GaWxlICJjOlxDSVV0aWxpdGllc1xkb2NrZXItc2lnbmFsLmV4ZSIgLUVycm9yQWN0aW9uIFN0b3AKICAgIH0KCiAgICAjIFphcCB0aGUgY29udHJvbCBkYWVtb25zIHBhdGggaWYgYXNrZWQgdG8gZGVzdHJveSB0aGUgY2FjaGUKICAgIGlmICggVGVzdC1QYXRoICRDb250cm9sUm9vdCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSApIHsKICAgICAgICBpZiAoJERlc3Ryb3lDYWNoZSAtZXEgJHRydWUpIHsKICAgICAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBaYXBwaW5nICRDb250cm9sUm9vdC4uLiIKICAgICAgICAgICAgZG9ja2VyLWNpLXphcCAiLWZvbGRlcj0kQ29udHJvbFJvb3QiCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBLZWVwaW5nIGNvbnRyb2wgZGFlbW9uIGNhY2hlIGhvdCIKICAgICAgICAgICAgUmVtb3ZlLUl0ZW0gIiRDb250cm9sUm9vdFxkYWVtb25cZG9ja2VyLnBpZCIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgfCBPdXQtTnVsbAogICAgICAgIH0KICAgIH0KCiAgICAjIENyZWF0ZSB0aGUgZGlyZWN0b3JpZXMgZm9yIHN0YXJ0aW5nIHRoZSBjb250cm9sIGRhZW1vbi4gT0sgaWYgdGhlc2UgZmFpbCAoaG90IGNhY2hlKQogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBQcmVwYXJpbmcgJENvbnRyb2xSb290Li4uIgogICAgTmV3LUl0ZW0gIiRDb250cm9sUm9vdFxkYWVtb24iIC1JdGVtVHlwZSBEaXJlY3RvcnkgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgfCBPdXQtTnVsbAogICAgTmV3LUl0ZW0gIiRDb250cm9sUm9vdFxncmFwaCIgLUl0ZW1UeXBlIERpcmVjdG9yeSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSB8IE91dC1OdWxsCiAKICAgICMgRG93bmxvYWQgdGhlIENJIHNjcmlwdAogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiBDSSBzY3JpcHQgJENJU2NyaXB0TG9jYXRpb24iCiAgICBpZiAoVGVzdC1QYXRoICIkQ29udHJvbFJvb3RcQ0lTY3JpcHQucHMxIikgeyBSZW1vdmUtSXRlbSAiJENvbnRyb2xSb290XENJU2NyaXB0LnBzMSIgfQogICAgJHI9RG93bmxvYWQtRmlsZSAiJENJU2NyaXB0TG9jYXRpb24iICIiICIkQ29udHJvbFJvb3RcQ0lTY3JpcHQucHMxIgoKICAgICMgVXBkYXRlIEdPUEFUSCBub3cgZXZlcnl0aGluZyBpcyBpbnN0YWxsZWQKICAgICRlbnY6R09QQVRIPSIkV29ya3NwYWNlUm9vdFxzcmNcZ2l0aHViLmNvbVxtb2J5XG1vYnlcdmVuZG9yOyRXb3Jrc3BhY2VSb290IgogICAKCiAgICAjIEFsd2F5cyBieSBkZWZhdWx0IHVzZSB0aGUgbmFtZWQgcGlwZS4gV2Ugb3ZlcnJpZGUgdGhpcyBmb3IgbG9hZGluZyBpbWFnZXMgYXMgVENQIGlzIGZhc3RlciB0aGVyZS4KICAgICRlbnY6RE9DS0VSX0hPU1Q9Im5waXBlOi8vLy8uL3BpcGUvZG9ja2VyX2VuZ2luZSIKCiAgICAjIFN0YXJ0IHRoZSBjb250cm9sIGRhZW1vbgogICAgJGRhZW1vbj0iJGVudjpUZW1wXGRvY2tlcmRjb250cm9sLmV4ZSAtLWRhdGEtcm9vdCAkQ29udHJvbFJvb3QgLS1waWRmaWxlPSRDb250cm9sUm9vdFxkYWVtb25cZG9ja2VyLnBpZCAtSD0kZW52OkRPQ0tFUl9IT1NUIC1IPXRjcDovLzAuMC4wLjA6MjM3NSIKICAgIGlmICgkSHlwZXJWQ29udHJvbCAtZXEgJFRydWUpIHsKICAgICAgICAkZGFlbW9uPSRkYWVtb24rIiAtLWV4ZWMtb3B0IGlzb2xhdGlvbj1oeXBlcnYiCiAgICB9CiAgICBpZiAoJENvbnRyb2xEZWJ1Z01vZGUgLWVxICRUcnVlKSB7CiAgICAgICAgJGRhZW1vbj0kZGFlbW9uKyIgLUQiCiAgICB9CiAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IFN0YXJ0aW5nIGEgY29udHJvbCBkYWVtb24uLi4iCiAgICAkY29udHJvbERhZW1vblN0YXJ0ZWQ9JHRydWUKICAgICRjb250cm9sPXN0YXJ0LXByb2Nlc3MgImNtZCIgLUFyZ3VtZW50TGlzdCAiL3MgL2MgJGRhZW1vbiA+ICRDb250cm9sUm9vdFxkYWVtb25cZGFlbW9uLmxvZyAyPiYxIiAtV2luZG93U3R5bGUgTWluaW1pemVkCiAgICAkdGFpbCA9IHN0YXJ0LXByb2Nlc3MgInRhaWwiIC1Bcmd1bWVudExpc3QgIi1mICRDb250cm9sUm9vdFxkYWVtb25cZGFlbW9uLmxvZyIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKCiAgICAjIFZlcmlmeSB3ZSBjYW4gZ2V0IHRoZSBjb250cm9sIGRhZW1vbiB0byByZXNwb25kCiAgICAkdHJpZXM9MjAKICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBHcmVlbiAiSU5GTzogV2FpdGluZyBmb3IgdGhlIGNvbnRyb2wgZGFlbW9uIHRvIHN0YXJ0Li4uIgogICAgd2hpbGUgKCR0cnVlKSB7CiAgICAgICAgJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICJTaWxlbnRseUNvbnRpbnVlIgogICAgICAgICYgIiRlbnY6VEVNUFxkb2NrZXJjb250cm9sIiB2ZXJzaW9uIDI+JjEgfCBPdXQtTnVsbAogICAgICAgICRFcnJvckFjdGlvblByZWZlcmVuY2UgPSAiU3RvcCIKICAgICAgICBpZiAoJExhc3RFeGl0Q29kZSAtZXEgMCkgewogICAgICAgICAgICBicmVhawogICAgICAgIH0KCiAgICAgICAgJHRyaWVzLS0KICAgICAgICBpZiAoJHRyaWVzIC1sZSAwKSB7CiAgICAgICAgICAgIFRocm93ICJFUlJPUjogRmFpbGVkIHRvIGdldCBhIHJlc3BvbnNlIGZyb20gdGhlIGNvbnRyb2wgZGFlbW9uIgogICAgICAgIH0KICAgICAgICBXcml0ZS1Ib3N0IC1Ob05ld2xpbmUgIi4iCiAgICAgICAgc2xlZXAgMQogICAgfQogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIEdyZWVuICJgbklORk86IENvbnRyb2wgZGFlbW9uIHN0YXJ0ZWQgYW5kIHJlcGxpZWQhIgoKICAgICMgQXR0ZW1wdCB0byBjYWNoZSB0aGUgdGFyIGltYWdlIGZvciB3aW5kb3dzc2VydmVyY29yZSBpZiBub3Qgb24gZGlzay4gCiAgICBpZiAoJChkb2NrZXIgaW1hZ2VzIHwgc2VsZWN0IC1za2lwIDEgfCBzZWxlY3Qtc3RyaW5nICJ3aW5kb3dzc2VydmVyY29yZSIgfCBNZWFzdXJlLU9iamVjdCAtbGluZSkuTGluZXMgLWx0IDEpIHsKICAgICAgICAkaW5zdGFsbFdTQz0kdHJ1ZQogICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogd2luZG93c3NlcnZlcmNvcmUgaXMgbm90IGluc3RhbGxlZCBhcyBhbiBpbWFnZSBpbiB0aGUgY29udHJvbCBkYWVtb24iCiAgICAgICAgR2V0LUltYWdlVGFyICJ3aW5kb3dzc2VydmVyY29yZSIgInNlcnZlcmRhdGFjZW50ZXJjb3JlIgogICAgfQogICAgCiAgICAjIEF0dGVtcHQgdG8gY2FjaGUgdGhlIHRhciBpbWFnZSBmb3IgbmFub3NlcnZlciBpZiBub3Qgb24gZGlzawogICAgaWYgKCQoZG9ja2VyIGltYWdlcyB8IHNlbGVjdCAtc2tpcCAxIHwgc2VsZWN0LXN0cmluZyAibmFub3NlcnZlciIgfCBNZWFzdXJlLU9iamVjdCAtbGluZSkuTGluZXMgLWx0IDEpIHsKICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IG5hbm9zZXJ2ZXIgaXMgbm90IGluc3RhbGxlZCBhcyBhbiBpbWFnZSBpbiB0aGUgY29udHJvbCBkYWVtb24iCiAgICAgICAgR2V0LUltYWdlVGFyICJuYW5vc2VydmVyIiAibmFub3NlcnZlciIKICAgIH0KCiAgICAjIEludm9rZSB0aGUgQ0kgc2NyaXB0IGl0c2VsZi4KICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBjeWFuICJJTkZPOiBTdGFydGluZyAkVGVzdHJ1bkRyaXZlYDpcY29udHJvbFxDSVNjcmlwdC5wczEiCiAgICBUcnkgeyAmICIkVGVzdHJ1bkRyaXZlYDpcY29udHJvbFxDSVNjcmlwdC5wczEiIH0KICAgIENhdGNoIFtFeGNlcHRpb25dIHsgVGhyb3cgIkNJIHNjcmlwdCBmYWlsZWQsIHNvIHF1aXR0aW5nIEludm9rZS1Eb2NrZXJDSSB3aXRoIGVycm9yICRfIiB9CgogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIGdyZWVuICJJTkZPOiAkVGVzdHJ1bkRyaXZlYDpcY29udHJvbFxDSVNjcmlwdC5wczEgc3VjY2VlZGVkISEhIgp9CkNhdGNoIFtFeGNlcHRpb25dIHsKICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgImBuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIgogICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAoIkVSUk9SOiBPdmVyYWxsIENJIHJ1biBoYXMgZmFpbGVkIHdpdGggZXJyb3I6YG4gJyRfJyIpCiAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1gbiIKICAgICRGaW5hbGx5Q29sb3VyPSJSZWQiCiAgICBUaHJvdyAkXwp9CkZpbmFsbHkgewogICAgS2lsbC1Qcm9jZXNzZXMKICAgICRlbnY6VEVNUD0kT1JJR1RFTVAKCiAgICAjIFNhdmUgdGhlIGRhZW1vbiB1bmRlciB0ZXN0IGxvZwogICAgaWYgKCRjb250cm9sRGFlbW9uU3RhcnRlZCAtZXEgJHRydWUpIHsKICAgICAgICBpZiAoVGVzdC1QYXRoICIkQ29udHJvbFJvb3RcZGFlbW9uXGRhZW1vbi5sb2ciKSB7CiAgICAgICAgICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBncmVlbiAiSU5GTzogU2F2aW5nIHRoZSBjb250cm9sIGRhZW1vbiBsb2cgJENvbnRyb2xSb290XGRhZW1vblxkYWVtb24ubG9nIHRvICRPUklHVEVNUFxDSURDb250cm9sLmxvZyIKICAgICAgICAgICAgQ29weS1JdGVtICIkQ29udHJvbFJvb3RcZGFlbW9uXGRhZW1vbi5sb2ciICIkT1JJR1RFTVBcQ0lEQ29udHJvbC5sb2ciIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgICAgIH0KICAgIH0KCiAgICBpZiAoJENvbmZpZ0pTT05CYWNrZWRVcCAtZXEgJHRydWUpIHsKICAgICAgICBXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgZ3JlZW4gIklORk86IFJlc3RvcmluZyAkZW52OlByb2dyYW1EYXRhXGRvY2tlclxjb25maWdcZGFlbW9uLmpzb24iCiAgICAgICAgUmVuYW1lLUl0ZW0gIiRlbnY6UHJvZ3JhbURhdGFcZG9ja2VyXGNvbmZpZ1xkYWVtb24uQ0lCYWNrdXAiICIkZW52OlByb2dyYW1EYXRhXGRvY2tlclxjb25maWdcZGFlbW9uLmpzb24iIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICB9CgogICAgaWYgKCRnbG9iYWw6cHVzaGVkKSB7IFBvcC1Mb2NhdGlvbiB9CiAgICAKICAgIFdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciAkRmluYWxseUNvbG91ciAiYG5JTkZPOiBJbnZva2UtRG9ja2VyQ0kucHMxIGV4aXRpbmcgYXQgJChkYXRlKSIKfQo=
