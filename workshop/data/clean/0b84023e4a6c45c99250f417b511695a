CreateNuGetPackage.ps1,ea4e157a340c90942745ff7fb59f833c,Scan result is 1. IsMalware: 0,w6/Cu8K/Iz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBETyBOT1QgRURJVCBUSElTIEZJTEUuCiMgSWYgeW91IHdhbnQgdG8gY29uZmlndXJlIGhvdyB5b3VyIHBhY2thZ2UgaXMgY3JlYXRlZCwgbW9kaWZ5IHRoZSBDb25maWcucHMxIGZpbGUuCiMKIyBUaGlzIHNjcmlwdCBpcyByYW4gYXV0b21hdGljYWxseSBhZnRlciBldmVyeSBzdWNjZXNzZnVsIGJ1aWxkLgojIFRoaXMgc2NyaXB0IGNyZWF0ZXMgYSBOdUdldCBwYWNrYWdlIGZvciB0aGUgY3VycmVudCBwcm9qZWN0LCBhbmQgcGxhY2VzIHRoZSAubnVwa2cgZmlsZSBpbiB0aGUgcHJvamVjdCdzIG91dHB1dCBkaXJlY3RvcnkgKGJlc2lkZSB0aGUgLmRsbC8uZXhlIGZpbGUpLgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpwYXJhbSAoW3N0cmluZ10kUHJvamVjdEZpbGVQYXRoLCBbc3RyaW5nXSRPdXRwdXREaXJlY3RvcnksIFtzdHJpbmddJEJ1aWxkQ29uZmlndXJhdGlvbiwgW3N0cmluZ10kQnVpbGRQbGF0Zm9ybSkKCiMgVHVybiBvbiBTdHJpY3QgTW9kZSB0byBoZWxwIGNhdGNoIHN5bnRheC1yZWxhdGVkIGVycm9ycy4KIyAJVGhpcyBtdXN0IGNvbWUgYWZ0ZXIgYSBzY3JpcHQncy9mdW5jdGlvbidzIHBhcmFtIHNlY3Rpb24uCiMgCUZvcmNlcyBhIGZ1bmN0aW9uIHRvIGJlIHRoZSBmaXJzdCBub24tY29tbWVudCBjb2RlIHRvIGFwcGVhciBpbiBhIFBvd2VyU2hlbGwgTW9kdWxlLgpTZXQtU3RyaWN0TW9kZSAtVmVyc2lvbiBMYXRlc3QKCiMgUG93ZXJTaGVsbCB2Mi4wIGNvbXBhdGlibGUgdmVyc2lvbiBvZiBbc3RyaW5nXTo6SXNOdWxsT3JXaGl0ZXNwYWNlLgpmdW5jdGlvbiBUZXN0LVN0cmluZ0lzTnVsbE9yV2hpdGVzcGFjZShbc3RyaW5nXSRzdHJpbmcpCnsKICAgIGlmICgkc3RyaW5nIC1uZSAkbnVsbCkgeyAkc3RyaW5nID0gJHN0cmluZy5UcmltKCkgfQogICAgcmV0dXJuIFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRzdHJpbmcpCn0KCiMgRGlzcGxheSB0aGUgcGFyYW1ldGVyIHZhbHVlcyBwYXNzZWQgdG8gdGhpcyBzY3JpcHQuCldyaXRlLU91dHB1dCAiUHJvamVjdEZpbGVQYXRoIHBhcmFtZXRlciB2YWx1ZSBwYXNzZWQgdG8gc2NyaXB0IGlzICckUHJvamVjdEZpbGVQYXRoJy4iCldyaXRlLU91dHB1dCAiT3V0cHV0RGlyZWN0b3J5IHBhcmFtZXRlciB2YWx1ZSBwYXNzZWQgdG8gc2NyaXB0IGlzICckT3V0cHV0RGlyZWN0b3J5Jy4iCldyaXRlLU91dHB1dCAiQnVpbGRDb25maWd1cmF0aW9uIHBhcmFtZXRlciB2YWx1ZSBwYXNzZWQgdG8gc2NyaXB0IGlzICckQnVpbGRDb25maWd1cmF0aW9uJy4iCldyaXRlLU91dHB1dCAiQnVpbGRQbGF0Zm9ybSBwYXJhbWV0ZXIgdmFsdWUgcGFzc2VkIHRvIHNjcmlwdCBpcyAnJEJ1aWxkUGxhdGZvcm0nLiIKCiMgR2V0IHRoZSBkaXJlY3RvcnkgdGhhdCB0aGlzIHNjcmlwdCBpcyBpbi4KJFRISVNfU0NSSVBUU19ESVJFQ1RPUllfUEFUSCA9IFNwbGl0LVBhdGggJHNjcmlwdDpNeUludm9jYXRpb24uTXlDb21tYW5kLlBhdGgKCiMgTWFrZSBzdXJlIHRoZSBPdXRwdXREaXJlY3RvcnkgZG9lcyBub3QgZW5kIGluIGEgdHJhaWxpbmcgYmFja3NsYXNoLCBhcyBpdCB3aWxsIG1lc3MgdXAgbnVnZXQuZXhlJ3MgcGFyYW1ldGVyIHBhcnNpbmcuCiRPdXRwdXREaXJlY3RvcnkgPSAkT3V0cHV0RGlyZWN0b3J5LlRyaW1FbmQoJ1wnKQoKIyBHZXQgdGhlIHBhdGggdG8gdGhlIENvbmZpZyBmaWxlIGFuZCBkb3Qgc291cmNlIGl0IGludG8gdGhpcyBzY3JpcHQuCiMgVGhlIHZhcmlhYmxlcyBiZWxvdyBzaG91bGQgYmUgZGVmaW5lZCBpbiB0aGUgQ29uZmlnIGZpbGUsIGJ1dCBpZiB0aGV5IGFyZW4ndCB3ZSBpbml0aWFsaXplIHRoZW0gd2l0aCBkZWZhdWx0IHZhbHVlcy4KJENPTkZJR19GSUxFX1BBVEggPSBKb2luLVBhdGggLVBhdGggKFNwbGl0LVBhdGggLVBhdGggJFRISVNfU0NSSVBUU19ESVJFQ1RPUllfUEFUSCAtUGFyZW50KSAtQ2hpbGRQYXRoICdDb25maWcucHMxJwppZiAoVGVzdC1QYXRoIC1QYXRoICRDT05GSUdfRklMRV9QQVRIKSB7IC4gJENPTkZJR19GSUxFX1BBVEggfSAKZWxzZSB7IFdyaXRlLVdhcm5pbmcgIkNvdWxkIG5vdCBmaW5kIENvbmZpZyBmaWxlIGF0ICckQ09ORklHX0ZJTEVfUEFUSCcuIERlZmF1bHQgdmFsdWVzIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLiIgfQoKIyBTcGVjaWZ5IHRoZSB2ZXJzaW9uIG51bWJlciB0byB1c2UgZm9yIHRoZSBOdUdldCBwYWNrYWdlLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdmVyc2lvbiBudW1iZXIgb2YgdGhlIGFzc2VtYmx5IGJlaW5nIHBhY2tlZCB3aWxsIGJlIHVzZWQuCiMgTnVHZXQgdmVyc2lvbiBudW1iZXIgZ3VpZGFuY2U6IGh0dHBzOi8vZG9jcy5udWdldC5vcmcvZG9jcy9yZWZlcmVuY2UvdmVyc2lvbmluZyBhbmQgdGhlIFNlbWFudGljIFZlcnNpb25pbmcgc3BlYzogaHR0cDovL3NlbXZlci5vcmcvCiMgZS5nLiAiIiAodXNlIGFzc2VtYmx5J3MgdmVyc2lvbiksICIxLjIuMyIgKHN0YWJsZSB2ZXJzaW9uKSwgIjEuMi4zLWFscGhhIiAocHJlcmVsZWFzZSB2ZXJzaW9uKS4KaWYgKCEoVGVzdC1QYXRoIFZhcmlhYmxlOlByaXZhdGU6dmVyc2lvbk51bWJlcikgLW9yIChUZXN0LVN0cmluZ0lzTnVsbE9yV2hpdGVzcGFjZSAkdmVyc2lvbk51bWJlcikpIHsgJHZlcnNpb25OdW1iZXIgPSAiIjsgV3JpdGUtT3V0cHV0ICJVc2luZyBkZWZhdWx0IFZlcnNpb24gTnVtYmVyIHZhbHVlLiIgIH0KZWxzZSB7IFdyaXRlLU91dHB1dCAiVXNpbmcgdXNlci1zcGVjaWZpZWQgVmVyc2lvbiBOdW1iZXIgdmFsdWUgJyR2ZXJzaW9uTnVtYmVyJy4iIH0KCiMgU3BlY2lmeSBhbnkgcmVsZWFzZSBub3RlcyBmb3IgdGhpcyBwYWNrYWdlLiAKIyBUaGVzZSB3aWxsIG9ubHkgYmUgaW5jbHVkZWQgaW4gdGhlIHBhY2thZ2UgaWYgeW91IGhhdmUgYSAubnVzcGVjIGZpbGUgZm9yIHRoZSBwcm9qZWN0IGluIHRoZSBzYW1lIGRpcmVjdG9yeSBhcyB0aGUgcHJvamVjdCBmaWxlLgppZiAoIShUZXN0LVBhdGggVmFyaWFibGU6UHJpdmF0ZTpyZWxlYXNlTm90ZXMpIC1vciAoVGVzdC1TdHJpbmdJc051bGxPcldoaXRlc3BhY2UgJHJlbGVhc2VOb3RlcykpIHsgJHJlbGVhc2VOb3RlcyA9ICIiOyBXcml0ZS1PdXRwdXQgIlVzaW5nIGRlZmF1bHQgUmVsZWFzZSBOb3RlcyB2YWx1ZS4iICB9CmVsc2UgeyBXcml0ZS1PdXRwdXQgIlVzaW5nIHVzZXItc3BlY2lmaWVkIFJlbGVhc2UgTm90ZXMgdmFsdWUgJyRyZWxlYXNlTm90ZXMnLiIgfQoKIyBNYWtlIHN1cmUgd2UgcGFjayB0aGUgYXNzZW1ibGllcyBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIENvbmZpZ3VyYXRpb24gKGUuZy4gRGVidWcsIFJlbGVhc2UpIGFuZCBQbGF0Zm9ybSAoZS5nLiB4ODYsIHg2NCwgQW55IENQVSkuCmlmICghKFRlc3QtUGF0aCBWYXJpYWJsZTpQcml2YXRlOmNvbmZpZ3VyYXRpb24pIC1vciAoVGVzdC1TdHJpbmdJc051bGxPcldoaXRlc3BhY2UgJGNvbmZpZ3VyYXRpb24pKSB7ICRjb25maWd1cmF0aW9uID0gJEJ1aWxkQ29uZmlndXJhdGlvbjsgV3JpdGUtT3V0cHV0ICJVc2luZyBkZWZhdWx0IENvbmZpZ3VyYXRpb24gdmFsdWUuIiAgfQplbHNlIHsgV3JpdGUtT3V0cHV0ICJVc2luZyB1c2VyLXNwZWNpZmllZCBDb25maWd1cmF0aW9uIHZhbHVlICckY29uZmlndXJhdGlvbicuIiB9CmlmICghKFRlc3QtUGF0aCBWYXJpYWJsZTpQcml2YXRlOnBsYXRmb3JtKSAtb3IgKFRlc3QtU3RyaW5nSXNOdWxsT3JXaGl0ZXNwYWNlICRwbGF0Zm9ybSkpIHsgJHBsYXRmb3JtID0gJEJ1aWxkUGxhdGZvcm07IFdyaXRlLU91dHB1dCAiVXNpbmcgZGVmYXVsdCBQbGF0Zm9ybSB2YWx1ZS4iICB9CmVsc2UgeyBXcml0ZS1PdXRwdXQgIlVzaW5nIHVzZXItc3BlY2lmaWVkIFBsYXRmb3JtIHZhbHVlICckcGxhdGZvcm0nLiIgfQokcGFja1Byb3BlcnRpZXNDb25maWd1cmF0aW9uQW5kUGxhdGZvcm0gPSAiQ29uZmlndXJhdGlvbj0iIiRCdWlsZENvbmZpZ3VyYXRpb24iIjtQbGF0Zm9ybT0iIiRCdWlsZFBsYXRmb3JtIiI7IgoKIyBTcGVjaWZ5IGFueSBOdUdldCBQYWNrIFByb3BlcnRpZXMgdG8gcGFzcyB0byBNc0J1aWxkLgojCWUuZy4gJHBhY2tQcm9wZXJ0aWVzID0gIlRhcmdldEZyYW1ld29ya1ZlcnNpb249djMuNTtPcHRpbWl6ZT10cnVlIgojIERvIG5vdCBzcGVjaWZ5IHRoZSAiQ29uZmlndXJhdGlvbiIgb3IgIlBsYXRmb3JtIiBoZXJlICh0aGUgJEJ1aWxkQ29uZmlndXJhdGlvbiBhbmQgJEJ1aWxkUGxhdGZvcm0gdmFsdWVzIHdpbGwgYmUgdXNlZCkuCiMgTXNCdWlsZCBQcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHNwZWNpZmllZDogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3ZzdHVkaW8vYmI2MjkzOTQuYXNweAppZiAoIShUZXN0LVBhdGggVmFyaWFibGU6UHJpdmF0ZTpwYWNrUHJvcGVydGllcykgLW9yIChUZXN0LVN0cmluZ0lzTnVsbE9yV2hpdGVzcGFjZSAkcGFja1Byb3BlcnRpZXMpKSB7ICRwYWNrUHJvcGVydGllcyA9ICIiOyBXcml0ZS1PdXRwdXQgIlVzaW5nIGRlZmF1bHQgUGFjayBQcm9wZXJ0aWVzIHZhbHVlLiIgIH0KZWxzZSB7IFdyaXRlLU91dHB1dCAiVXNpbmcgdXNlci1zcGVjaWZpZWQgUGFjayBQcm9wZXJ0aWVzIHZhbHVlICckcGFja1Byb3BlcnRpZXMnLiIgfQoKIyBTcGVjaWZ5IGFueSBOdUdldCBQYWNrIG9wdGlvbnMgdG8gcGFzcyB0byBudWdldC5leGUuCiMJZS5nLiAkcGFja09wdGlvbnMgPSAiLUluY2x1ZGVSZWZlcmVuY2VkUHJvamVjdHMiCiMgRG8gbm90IHNwZWNpZnkgYSAiLVZlcnNpb24iICh1c2UgJHZlcnNpb25OdW1iZXIgYWJvdmUpLCAiLU91dHB1dERpcmVjdG9yeSIsIG9yICItTm9uSW50ZXJhY3RpdmUiLCBhcyB0aGVzZSBhcmUgYWxyZWFkeSBwcm92aWRlZC4KIyBEbyBub3Qgc3BlY2lmeSBhbnkgIi1Qcm9wZXJ0aWVzIiBoZXJlOyBpbnN0ZWFkIHVzZSB0aGUgJHBhY2tQcm9wZXJ0aWVzIHZhcmlhYmxlIGFib3ZlLgojIERvIG5vdCBzcGVjaWZ5ICItQnVpbGQiLCBhcyB0aGlzIG1heSByZXN1bHQgaW4gYW4gaW5maW5pdGUgYnVpbGQgbG9vcC4KIyBOdUdldCBQYWNrIG9wdGlvbnMgdGhhdCBjYW4gYmUgc3BlY2lmaWVkOiBodHRwOi8vZG9jcy5udWdldC5vcmcvZG9jcy9yZWZlcmVuY2UvY29tbWFuZC1saW5lLXJlZmVyZW5jZSNQYWNrX0NvbW1hbmRfT3B0aW9ucwppZiAoIShUZXN0LVBhdGggVmFyaWFibGU6UHJpdmF0ZTpwYWNrT3B0aW9ucykgLW9yIChUZXN0LVN0cmluZ0lzTnVsbE9yV2hpdGVzcGFjZSAkcGFja09wdGlvbnMpKSB7ICRwYWNrT3B0aW9ucyA9ICIiOyBXcml0ZS1PdXRwdXQgIlVzaW5nIGRlZmF1bHQgUGFjayBPcHRpb25zIHZhbHVlLiIgIH0KZWxzZSB7IFdyaXRlLU91dHB1dCAiVXNpbmcgdXNlci1zcGVjaWZpZWQgUGFjayBPcHRpb25zIHZhbHVlICckcGFja09wdGlvbnMnLiIgfQoKIyBKb2luIHRoZSBDb25maWd1cmF0aW9uIGFuZCBQbGF0Zm9ybSBpbnRvIHRoZSByZXN0IG9mIHRoZSBwYWNrIFByb3BlcnRpZXMuCiRwYWNrUHJvcGVydGllcyA9ICgkcGFja1Byb3BlcnRpZXNDb25maWd1cmF0aW9uQW5kUGxhdGZvcm0gKyAkcGFja1Byb3BlcnRpZXMpLlRyaW1FbmQoJzsnKQoKIyBJZiB0aGUgdXNlci1zcGVjaWZpZWQgQ29uZmlndXJhdGlvbiBhbmQgUGxhdGZvcm0gZG8gbm90IG1hdGNoIHRoZSBDb25maWd1cmF0aW9uIGFuZCBQbGF0Zm9ybSB0aGUgcHJvamVjdCB3YXMganVzdCBidWlsdCB3aXRoLgppZiAoJEJ1aWxkQ29uZmlndXJhdGlvbiAtbmUgJGNvbmZpZ3VyYXRpb24gLW9yICRCdWlsZFBsYXRmb3JtIC1uZSAkcGxhdGZvcm0pCnsKCSMgRGlzcGxheSB0aGF0IHRoZSBDb25maWd1cmF0aW9uIG9yIFBsYXRmb3JtIGRvZXMgbm90IG1hdGNoIGFuZCBleGl0IHRoaXMgZnVuY3Rpb24gYmVmb3JlIGNyZWF0aW5nIHRoZSBOdUdldCBwYWNrYWdlLgoJV3JpdGUtT3V0cHV0ICJQcm9qZWN0IHdhcyBub3QgYnVpbHQgd2l0aCB0aGUgQ29uZmlndXJhdGlvbiBvciBQbGF0Zm9ybSB0aGF0IHRoZSB1c2VyIGhhcyBzcGVjaWZpZWQgc2hvdWxkIGJlIHVzZWQgdG8gY3JlYXRlIE51R2V0IHBhY2thZ2VzLCBzbyBleGl0aW5nIHdpdGhvdXQgY3JlYXRpbmcgYSBOdUdldCBwYWNrYWdlLiIKCVdyaXRlLU91dHB1dCAiQ29uZmlndXJhdGlvbiBhbmQgUGxhdGZvcm0gdXNlZCBieSBidWlsZCB3YXMgJyRCdWlsZENvbmZpZ3VyYXRpb24nLCckQnVpbGRQbGF0Zm9ybScuIgoJV3JpdGUtT3V0cHV0ICJDb25maWd1cmF0aW9uIGFuZCBQbGF0Zm9ybSBzcGVjaWZpZWQgYnkgdXNlciBpcyAnJGNvbmZpZ3VyYXRpb24nLCckcGxhdGZvcm0nLiIKCWJyZWFrCn0KCiMtLS0tLQojIE1ha2Ugc3VyZSB0aGUgYXNzZW1ibHkgc3RpbGwgZXhpc3RzIGluIHRoZSBmb2xkZXIgc3BlY2lmaWVkIGJ5IHRoZSBwcm9qZWN0IGZpbGUsIHNpbmNlIGlmIGFuIE91dHB1dCBEaXJlY3RvcnkgZGlmZmVyZW50IHRoYW4gdGhlIG9uZSBzcGVjaWZpZWQgaW4gCiMgdGhlIHByb2plY3QgZmlsZSB3YXMgdXNlZCAoZS5nLiBwYXNzZWQgaW4gdXNpbmcgbXNidWlsZC5leGUncyBvdXRkaXIgcHJvcGVydHkgcGFyYW1ldGVyLCBOdUdldC5leGUgd29uJ3QgYmUgYWJsZSB0byBmaW5kIHRoZSBhc3NlbWJseSBmaWxlIGFuZCBwYWNrIGl0LgoKIyBEZWZpbmUgaGVscGVyIGZ1bmN0aW9ucy4KZnVuY3Rpb24gR2V0LVhtbE5hbWVzcGFjZU1hbmFnZXIoW3htbF0kWG1sRG9jdW1lbnQsIFtzdHJpbmddJE5hbWVzcGFjZVVSSSA9ICIiKQp7CgkjIElmIGEgTmFtZXNwYWNlIFVSSSB3YXMgbm90IGdpdmVuLCB1c2UgdGhlIFhtbCBkb2N1bWVudCdzIGRlZmF1bHQgbmFtZXNwYWNlLgoJaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCROYW1lc3BhY2VVUkkpKSB7ICROYW1lc3BhY2VVUkkgPSAkWG1sRG9jdW1lbnQuRG9jdW1lbnRFbGVtZW50Lk5hbWVzcGFjZVVSSSB9CQoJCgkjIEluIG9yZGVyIGZvciBTZWxlY3RTaW5nbGVOb2RlKCkgdG8gYWN0dWFsbHkgd29yaywgd2UgbmVlZCB0byB1c2UgdGhlIGZ1bGx5IHF1YWxpZmllZCBub2RlIHBhdGggYWxvbmcgd2l0aCBhbiBYbWwgTmFtZXNwYWNlIE1hbmFnZXIsIHNvIHNldCB0aGVtIHVwLgoJW1N5c3RlbS5YbWwuWG1sTmFtZXNwYWNlTWFuYWdlcl0keG1sTnNNYW5hZ2VyID0gTmV3LU9iamVjdCBTeXN0ZW0uWG1sLlhtbE5hbWVzcGFjZU1hbmFnZXIoJFhtbERvY3VtZW50Lk5hbWVUYWJsZSkKCSR4bWxOc01hbmFnZXIuQWRkTmFtZXNwYWNlKCJucyIsICROYW1lc3BhY2VVUkkpCglyZXR1cm4gLCR4bWxOc01hbmFnZXIJCSMgTmVlZCB0byBwdXQgdGhlIGNvbW1hIGJlZm9yZSB0aGUgdmFyaWFibGUgbmFtZSBzbyB0aGF0IFBvd2VyU2hlbGwgZG9lc24ndCBjb252ZXJ0IGl0IGludG8gYW4gT2JqZWN0W10uCn0KCmZ1bmN0aW9uIEdldC1GdWxseVF1YWxpZmllZFhtbE5vZGVQYXRoKFtzdHJpbmddJE5vZGVQYXRoLCBbc3RyaW5nXSROb2RlU2VwYXJhdG9yQ2hhcmFjdGVyID0gJy4nKQp7CglyZXR1cm4gIi9uczokKCROb2RlUGF0aC5SZXBsYWNlKCQoJE5vZGVTZXBhcmF0b3JDaGFyYWN0ZXIpLCAnL25zOicpKSIKfQoKZnVuY3Rpb24gR2V0LVhtbE5vZGUoW3htbF0kWG1sRG9jdW1lbnQsIFtzdHJpbmddJE5vZGVQYXRoLCBbc3RyaW5nXSROYW1lc3BhY2VVUkkgPSAiIiwgW3N0cmluZ10kTm9kZVNlcGFyYXRvckNoYXJhY3RlciA9ICcuJykKewoJJHhtbE5zTWFuYWdlciA9IEdldC1YbWxOYW1lc3BhY2VNYW5hZ2VyIC1YbWxEb2N1bWVudCAkWG1sRG9jdW1lbnQgLU5hbWVzcGFjZVVSSSAkTmFtZXNwYWNlVVJJCglbc3RyaW5nXSRmdWxseVF1YWxpZmllZE5vZGVQYXRoID0gR2V0LUZ1bGx5UXVhbGlmaWVkWG1sTm9kZVBhdGggLU5vZGVQYXRoICROb2RlUGF0aCAtTm9kZVNlcGFyYXRvckNoYXJhY3RlciAkTm9kZVNlcGFyYXRvckNoYXJhY3RlcgoJCgkjIFRyeSBhbmQgZ2V0IHRoZSBub2RlLCB0aGVuIHJldHVybiBpdC4gUmV0dXJucyAkbnVsbCBpZiB0aGUgbm9kZSB3YXMgbm90IGZvdW5kLgoJJG5vZGUgPSAkWG1sRG9jdW1lbnQuU2VsZWN0U2luZ2xlTm9kZSgkZnVsbHlRdWFsaWZpZWROb2RlUGF0aCwgJHhtbE5zTWFuYWdlcikKCXJldHVybiAkbm9kZQp9CgpmdW5jdGlvbiBHZXQtWG1sTm9kZXMoW3htbF0kWG1sRG9jdW1lbnQsIFtzdHJpbmddJE5vZGVQYXRoLCBbc3RyaW5nXSROYW1lc3BhY2VVUkkgPSAiIiwgW3N0cmluZ10kTm9kZVNlcGFyYXRvckNoYXJhY3RlciA9ICcuJykKewoJJHhtbE5zTWFuYWdlciA9IEdldC1YbWxOYW1lc3BhY2VNYW5hZ2VyIC1YbWxEb2N1bWVudCAkWG1sRG9jdW1lbnQgLU5hbWVzcGFjZVVSSSAkTmFtZXNwYWNlVVJJCglbc3RyaW5nXSRmdWxseVF1YWxpZmllZE5vZGVQYXRoID0gR2V0LUZ1bGx5UXVhbGlmaWVkWG1sTm9kZVBhdGggLU5vZGVQYXRoICROb2RlUGF0aCAtTm9kZVNlcGFyYXRvckNoYXJhY3RlciAkTm9kZVNlcGFyYXRvckNoYXJhY3RlcgoKCSMgVHJ5IGFuZCBnZXQgdGhlIG5vZGVzLCB0aGVuIHJldHVybiB0aGVtLiBSZXR1cm5zICRudWxsIGlmIG5vIG5vZGVzIHdlcmUgZm91bmQuCgkkbm9kZXMgPSAkWG1sRG9jdW1lbnQuU2VsZWN0Tm9kZXMoJGZ1bGx5UXVhbGlmaWVkTm9kZVBhdGgsICR4bWxOc01hbmFnZXIpCglyZXR1cm4gJG5vZGVzCn0KCmZ1bmN0aW9uIEdldC1YbWxFbGVtZW50c1RleHRWYWx1ZShbeG1sXSRYbWxEb2N1bWVudCwgW3N0cmluZ10kRWxlbWVudFBhdGgsIFtzdHJpbmddJE5hbWVzcGFjZVVSSSA9ICIiLCBbc3RyaW5nXSROb2RlU2VwYXJhdG9yQ2hhcmFjdGVyID0gJy4nKQp7CgkjIFRyeSBhbmQgZ2V0IHRoZSBub2RlLgkKCSRub2RlID0gR2V0LVhtbE5vZGUgLVhtbERvY3VtZW50ICRYbWxEb2N1bWVudCAtTm9kZVBhdGggJEVsZW1lbnRQYXRoIC1OYW1lc3BhY2VVUkkgJE5hbWVzcGFjZVVSSSAtTm9kZVNlcGFyYXRvckNoYXJhY3RlciAkTm9kZVNlcGFyYXRvckNoYXJhY3RlcgoJCgkjIElmIHRoZSBub2RlIGFscmVhZHkgZXhpc3RzLCByZXR1cm4gaXRzIHZhbHVlLCBvdGhlcndpc2UgcmV0dXJuIG51bGwuCglpZiAoJG5vZGUpIHsgcmV0dXJuICRub2RlLklubmVyVGV4dCB9IGVsc2UgeyByZXR1cm4gJG51bGwgfQp9CgojIE1ha2VzIHN1cmUgdGhlIGFzc2VtYmx5IGV4aXN0cyBpbiB0aGUgZGlyZWN0b3J5IGRlZmluZWQgYnkgdGhlIFByb2plY3QgRmlsZSAodGhpcyBpcyB3aGVyZSBOdUdldC5leGUgd2lsbCBleHBlY3QgaXQgdG8gYmUgaW4gb3JkZXIgdG8gcGFjayBpdCkuCiMgVGhpcyBpcyByZXF1aXJlZCBpbiBjYXNlIHRoZSB1c2VyIGlzIGJ1aWxkaW5nIHdpdGggTXNCdWlsZCBhbmQgaGFzIHByb3ZpZGVkIGFuIGFsdGVybmF0aXZlIG91dHB1dCBkaXJlY3RvcnkgKGUuZy4gL3A6T3V0RGlyPSJTb21lXE90aGVyXFBhdGgiKS4KZnVuY3Rpb24gRW5zdXJlLUFzc2VtYmx5RmlsZUV4aXN0c1doZXJlTnVHZXRFeHBlY3RzSXRUb0JlKFtzdHJpbmddJFByb2plY3RGaWxlUGF0aCwgW3N0cmluZ10kT3V0cHV0RGlyZWN0b3J5LCBbc3RyaW5nXSRDb25maWd1cmF0aW9uLCBbc3RyaW5nXSRQbGF0Zm9ybSkKewoJIyBEaXNwbGF5IHRoZSB0aW1lIHRoYXQgdGhlIHByZS1wcm9jZXNzaW5nIHN0YXJ0ZWQgcnVubmluZy4KCSRzY3JpcHRTdGFydFRpbWUgPSBHZXQtRGF0ZQoJV3JpdGUtT3V0cHV0ICJQcmUtcHJvY2Vzc2luZyB0aGUgcHJvamVjdCBmaWxlIHRvIG1ha2Ugc3VyZSB0aGUgYXNzZW1ibHkgZXhpc3RzIHdoZXJlIE51R2V0LmV4ZSB3aWxsIGV4cGVjdCBpdCB0byBiZSwgc3RhcnRlZCBhdCAkKCRzY3JpcHRTdGFydFRpbWUuVGltZU9mRGF5LlRvU3RyaW5nKCkpLiIKCgkjIElmIHRoZSBQcm9qZWN0IEZpbGUgUGF0aCBkb2VzIG5vdCBleGlzdCwgZGlzcGxheSBhbiBlcnJvciBtZXNzYWdlIGFuZCByZXR1cm4uCglpZiAoIShUZXN0LVBhdGggJFByb2plY3RGaWxlUGF0aCkpIHsgV3JpdGUtT3V0cHV0ICJQcm9qZWN0IGZpbGUgZG9lcyBub3QgZXhpc3QgYXQgJyRQcm9qZWN0RmlsZVBhdGgnLCBzbyBjYW5ub3QgcHJlLXByb2Nlc3MgaXQuIjsgcmV0dXJuIH0KCQoJIyBHZXQgdGhlIGNvbnRlbnRzIG9mIHRoZSBQcm9qZWN0IEZpbGUgYXMgWG1sLgoJJHByb2plY3RGaWxlWG1sID0gTmV3LU9iamVjdCBTeXN0ZW0uWG1sLlhtbERvY3VtZW50CgkkcHJvamVjdEZpbGVYbWwuTG9hZCgkUHJvamVjdEZpbGVQYXRoKQoKCSMgR2V0IHRoZSBQcm9wZXJ0eSBHcm91cCBmb3IgdGhlIGN1cnJlbnQgQ29uZmlndXJhdGlvbiBhbmQgUGxhdGZvcm0gZnJvbSB0aGUgUHJvamVjdCBGaWxlLgoJJHByb2plY3RGaWxlUHJvcGVydHlHcm91cHMgPSBHZXQtWG1sTm9kZXMgLVhtbERvY3VtZW50ICRwcm9qZWN0RmlsZVhtbCAtTm9kZVBhdGggIlByb2plY3QuUHJvcGVydHlHcm91cCIKCWlmICghJHByb2plY3RGaWxlUHJvcGVydHlHcm91cHMpIHsgIk5vIFByb3BlcnR5R3JvdXAgZWxlbWVudHMgY291bGQgYmUgZm91bmQgaW4gdGhlIHByb2plY3QgZmlsZSwgc28gY2Fubm90IHByZS1wcm9jZXNzIGl0LiI7IHJldHVybiB9CgkkcHJvamVjdEZpbGVQcm9wZXJ0eUdyb3VwRm9yQ3VycmVudENvbmZpZ3VyYXRpb25BbmRQbGF0Zm9ybSA9ICRwcm9qZWN0RmlsZVByb3BlcnR5R3JvdXBzIHwgV2hlcmUgeyAkXy5BdHRyaWJ1dGVzLkdldE5hbWVkSXRlbSgnQ29uZGl0aW9uJykgLWFuZCAkXy5BdHRyaWJ1dGVzLkdldE5hbWVkSXRlbSgnQ29uZGl0aW9uJykuVmFsdWUgLW1hdGNoICIuKiRDb25maWd1cmF0aW9uXHwkUGxhdGZvcm0uKiIgfQoJaWYgKCEkcHJvamVjdEZpbGVQcm9wZXJ0eUdyb3VwRm9yQ3VycmVudENvbmZpZ3VyYXRpb25BbmRQbGF0Zm9ybSkgeyAiQ291bGQgbm90IGZpbmQgdGhlIFByb3BlcnR5R3JvdXAgZWxlbWVudCBpbiB0aGUgcHJvamVjdCBmaWxlIHRoYXQgY29ycmVzcG9uZHMgdG8gQ29uZmlndXJhdGlvbiAnJENvbmZpZ3VyYXRpb24nIGFuZCBQbGF0Zm9ybSAnJFBsYXRmb3JtJywgc28gY2Fubm90IHByZS1wcm9jZXNzIGl0LiI7IHJldHVybiB9CgoJIyBHZXQgdGhlIERpcmVjdG9yeSB3aGVyZSBOdUdldC5leGUgd2lsbCBleHBlY3QgdG8gZmluZCB0aGUgYXNzZW1ibHkgdG8gcGFjay4KCSRwcm9qZWN0RmlsZU91dHB1dERpcmVjdG9yeSA9ICRwcm9qZWN0RmlsZVByb3BlcnR5R3JvdXBGb3JDdXJyZW50Q29uZmlndXJhdGlvbkFuZFBsYXRmb3JtLk91dHB1dFBhdGgKCgkjIElmIHdlIHdlcmUgbm90IGFibGUgdG8gZ2V0IHRoZSBPdXRwdXQgRGlyZWN0b3J5IHdoZXJlIE51R2V0LmV4ZSB3aWxsIGV4cGVjdCB0byBmaW5kIHRoZSBhc3NlbWJseSBmcm9tIHRoZSBQcm9qZWN0IEZpbGUsIGRpc3BsYXkgYW4gZXJyb3IgbWVzc2FnZSBhbmQgcmV0dXJuLgoJaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRwcm9qZWN0RmlsZU91dHB1dERpcmVjdG9yeSkpIHsgV3JpdGUtT3V0cHV0ICJDb3VsZCBub3QgZmluZCB0aGUgT3V0cHV0UGF0aCBlbGVtZW50IGluIHRoZSBwcm9qZWN0IGZpbGUgdGhhdCBjb3JyZXNwb25kcyB0byBDb25maWd1cmF0aW9uICckQ29uZmlndXJhdGlvbicgYW5kIFBsYXRmb3JtICckUGxhdGZvcm0nLCBzbyBjYW5ub3QgcHJlLXByb2Nlc3MgaXQuIjsgcmV0dXJuIH0KCQoJIyBHZXQgdGhlIGZ1bGwgcGF0aCBvZiB0aGUgZGlyZWN0b3J5IHdoZXJlIE51R2V0LmV4ZSB3aWxsIGV4cGVjdCB0byBmaW5kIHRoZSBhc3NlbWJseS4KCSRudUdldEV4cGVjdGVkT3V0cHV0RGlyZWN0b3J5UGF0aCA9IEpvaW4tUGF0aCAoU3BsaXQtUGF0aCAtUGF0aCAkUHJvamVjdEZpbGVQYXRoIC1QYXJlbnQpICRwcm9qZWN0RmlsZU91dHB1dERpcmVjdG9yeQoJJG51R2V0RXhwZWN0ZWRPdXRwdXREaXJlY3RvcnlQYXRoID0gJG51R2V0RXhwZWN0ZWRPdXRwdXREaXJlY3RvcnlQYXRoLlRyaW1FbmQoJ1wnKQkjIFdlIHRyaW1tZWQgdGhlIE91dHB1dERpcmVjdG9yeSwgc28gdHJpbSB0aGlzIG9uZSB0b28gc28gd2UgY2FuIGNvbXBhcmUgdGhlbSB0byBzZWUgaWYgdGhleSBtYXRjaC4KCgkjIElmIHRoZSBhY3R1YWwgT3V0cHV0IERpcmVjdG9yeSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgb25lIHNwZWNpZmllZCBpbiB0aGUgUHJvamVjdCBGaWxlLgoJaWYgKCEkT3V0cHV0RGlyZWN0b3J5LkVxdWFscygkbnVHZXRFeHBlY3RlZE91dHB1dERpcmVjdG9yeVBhdGgsIFtTeXN0ZW0uU3RyaW5nQ29tcGFyaXNvbl06Ok9yZGluYWxJZ25vcmVDYXNlKSkKCXsKCQkjIEdldCB0aGUgbmFtZSBvZiB0aGUgYXNzZW1ibHkuCgkJJGFzc2VtYmx5TmFtZSA9IEdldC1YbWxFbGVtZW50c1RleHRWYWx1ZSAtWG1sRG9jdW1lbnQgJHByb2plY3RGaWxlWG1sIC1FbGVtZW50UGF0aCAiUHJvamVjdC5Qcm9wZXJ0eUdyb3VwLkFzc2VtYmx5TmFtZSIKCQlpZiAoISRhc3NlbWJseU5hbWUpIHsgJGFzc2VtYmx5TmFtZSA9IFtzdHJpbmddOjpFbXB0eSB9CgkJCgkJIyBHZXQgdGhlIHR5cGUgb2YgcHJvamVjdCBiZWluZyBidWlsdCwgc28gd2UgY2FuIGRldGVybWluZSB3aGF0IGZpbGUgZXh0ZW5zaW9uIGl0IHNob3VsZCBoYXZlLgoJCSRhc3NlbWJseVR5cGUgPSBHZXQtWG1sRWxlbWVudHNUZXh0VmFsdWUgLVhtbERvY3VtZW50ICRwcm9qZWN0RmlsZVhtbCAtRWxlbWVudFBhdGggIlByb2plY3QuUHJvcGVydHlHcm91cC5PdXRwdXRUeXBlIgoJCWlmICghJGFzc2VtYmx5VHlwZSkgeyAkYXNzZW1ibHlUeXBlID0gW3N0cmluZ106OkVtcHR5IH0KCQkKCQkjIEF0dGFjaCB0aGUgZmlsZSBleHRlbnNpb24gdG8gdGhlIGFzc2VtYmx5IG5hbWUgYmFzZWQgb24gdGhlIHR5cGUgb2YgcHJvamVjdCB0aGlzIGlzLiBFaXRoZXIgYSBMaWJyYXJ5IG9yIEV4ZWN1dGFibGUuCgkJaWYgKCRhc3NlbWJseVR5cGUuRXF1YWxzKCJMaWJyYXJ5IiwgW1N5c3RlbS5TdHJpbmdDb21wYXJpc29uXTo6T3JkaW5hbElnbm9yZUNhc2UpKSB7ICRhc3NlbWJseU5hbWUgPSAiJGFzc2VtYmx5TmFtZS5kbGwiIH0KCQllbHNlIHsgJGFzc2VtYmx5TmFtZSA9ICIkYXNzZW1ibHlOYW1lLmV4ZSIgfQoKCQkjIEdldCB0aGUgZnVsbCBwYXRoIG9mIHRoZSBhc3NlbWJseS4KCQkkYXNzZW1ibHlQYXRoID0gSm9pbi1QYXRoICRPdXRwdXREaXJlY3RvcnkgJGFzc2VtYmx5TmFtZQoJCSRudUdldEV4cGVjdGVkQXNzZW1ibHlQYXRoID0gSm9pbi1QYXRoICRudUdldEV4cGVjdGVkT3V0cHV0RGlyZWN0b3J5UGF0aCAkYXNzZW1ibHlOYW1lCgoJCSMgSWYgdGhlIGFzc2VtYmx5IGlzIG5vdCBpbiB0aGUgT3V0cHV0IERpcmVjdG9yeSAod2hpY2ggaXQgc2hvdWxkIGJlKSwgZGlzcGxheSBhbiBlcnJvciBtZXNzYWdlIGFuZCByZXR1cm4uCgkJaWYgKCEoVGVzdC1QYXRoICRhc3NlbWJseVBhdGggLVBhdGhUeXBlIExlYWYpKSB7IFdyaXRlLU91dHB1dCAiQ291bGQgbm90IGZpbmQgdGhlIGFzc2VtYmx5IGF0IHRoZSBleHBlY3RlZCBwYXRoICckYXNzZW1ibHlQYXRoJywgc28gY2Fubm90IGNvbnRpbnVlIHByZS1wcm9jZXNzaW5nLiI7IHJldHVybiB9CgkJCgkJIyBNYWtlIHN1cmUgdGhlIGFzc2VtYmx5IGV4aXN0cyBpbiB0aGUgUHJvamVjdCBGaWxlJ3MgT3V0cHV0IFBhdGgsIHNpbmNlIHRoYXQgaXMgd2hlcmUgTnVHZXQuZXhlIGV4cGVjdHMgdG8gZmluZCBpdC4KCQkjIElmIHRoZSBhc3NlbWJseSBkb2VzIG5vdCBleGlzdCB3aGVyZSB0aGUgUHJvamVjdCBGaWxlIGRlZmluZXMgaXQgc2hvdWxkIGJlIChpLmUuIHdoZXJlIE51R2V0IGV4cGVjdHMgaXQgdG8gYmUpLCBjb3B5IGl0IHRoZXJlLCAKCQkjIE9SIHRoZSBhc3NlbWJseSBleGlzdHMgaW4gYm90aCBwbGFjZXMsIGJ1dCBJZiB0aGUgb25lIGluIHRoZSBPdXRwdXQgRGlyZWN0b3J5IGlzIG5ld2VyLCBvdmVyd3JpdGUgdGhlIG9uZSBpbiB0aGUgUHJvamVjdCBPdXRwdXQgRGlyZWN0b3J5LgoJCWlmICghKFRlc3QtUGF0aCAkbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGF0aCAtUGF0aFR5cGUgTGVhZikgLW9yIAoJCQkoKEdldC1JdGVtIC1QYXRoICRhc3NlbWJseVBhdGgpLkxhc3RXcml0ZVRpbWUgLWx0IChHZXQtSXRlbSAtUGF0aCAkbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGF0aCkuTGFzdFdyaXRlVGltZSkpCgkJewoJCQkjIElmIHRoZSBkaXJlY3RvcnkgdG8gaG9sZCB0aGUgYXNzZW1ibHkgZmlsZSBkb2VzIG5vdCBleGlzdCwgY3JlYXRlIGl0LgoJCQkkbnVHZXRFeHBlY3RlZEFzc2VtYmx5RGlyZWN0b3J5UGF0aCA9IFNwbGl0LVBhdGggJG51R2V0RXhwZWN0ZWRBc3NlbWJseVBhdGggLVBhcmVudAoJCQlpZiAoIShUZXN0LVBhdGggJG51R2V0RXhwZWN0ZWRBc3NlbWJseURpcmVjdG9yeVBhdGgpKSB7IE5ldy1JdGVtIC1QYXRoICRudUdldEV4cGVjdGVkQXNzZW1ibHlEaXJlY3RvcnlQYXRoIC1JdGVtVHlwZSBDb250YWluZXIgLUZvcmNlID4gJG51bGwgfQoJCQoJCQkjIENvcHkgdGhlIGFzc2VtYmx5IGZpbGUuCgkJCVdyaXRlLU91dHB1dCAiQ29weWluZyBhc3NlbWJseSBmaWxlIGZyb20gJyRhc3NlbWJseVBhdGgnIHRvICckbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGF0aCcuIiAKCQkJQ29weS1JdGVtIC1QYXRoICRhc3NlbWJseVBhdGggLURlc3RpbmF0aW9uICRudUdldEV4cGVjdGVkQXNzZW1ibHlQYXRoIC1Gb3JjZQoJCQkKCQkJIyBDb3B5IHRoZSBQZGIgZmlsZSwgaWYgaXQgZXhpc3RzLgoJCQkkYXNzZW1ibHlQZGJQYXRoID0gW1N5c3RlbS5JTy5QYXRoXTo6Q2hhbmdlRXh0ZW5zaW9uKCRhc3NlbWJseVBhdGgsICJwZGIiKQoJCQkkbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGRiUGF0aCA9IFtTeXN0ZW0uSU8uUGF0aF06OkNoYW5nZUV4dGVuc2lvbigkbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGF0aCwgInBkYiIpCgkJCWlmIChUZXN0LVBhdGggJGFzc2VtYmx5UGRiUGF0aCAtUGF0aFR5cGUgTGVhZikKCQkJeyAKCQkJCVdyaXRlLU91dHB1dCAiQ29weWluZyBzeW1ib2xzIGZpbGUgZnJvbSAnJGFzc2VtYmx5UGRiUGF0aCcgdG8gJyRudUdldEV4cGVjdGVkQXNzZW1ibHlQZGJQYXRoJy4iIAoJCQkJQ29weS1JdGVtIC1QYXRoICRhc3NlbWJseVBkYlBhdGggLURlc3RpbmF0aW9uICRudUdldEV4cGVjdGVkQXNzZW1ibHlQZGJQYXRoIC1Gb3JjZQoJCQl9CgkJCWVsc2UgeyBXcml0ZS1PdXRwdXQgIk5vIHN5bWJvbHMgZmlsZSBmb3VuZCBhdCAnJGFzc2VtYmx5UGRiUGF0aCcsIHNvIGl0IHdhcyBub3QgY29waWVkIHRvICckbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGRiUGF0aCcuIiB9CgkJCQoJCQkjIENvcHkgdGhlIFhtbCBmaWxlLCBpZiBpdCBleGlzdHMuCgkJCSMgVGhlIFhtbCBmaWxlIGxvY2F0aW9uIGFuZCBuYW1lIGFyZSBzcGVjaWZpZWQgaW4gdGhlIFByb2plY3QgRmlsZSwgYnV0IE51R2V0LmV4ZSBzZWVtcyB0byBpZ25vcmUgdGhhdCBhbmQgZXhwZWN0cyBpdCB0byBiZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkgYXMgdGhlIGFzc2VtYmx5LAoJCQkjIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgYXNzZW1ibHksIHNvIGp1c3QgcHV0IGl0IHdoZXJlIE51R2V0LmV4ZSBleHBlY3RzIGl0IHRvIGJlLgoJCQkkYXNzZW1ibHlYbWxQYXRoID0gW1N5c3RlbS5JTy5QYXRoXTo6Q2hhbmdlRXh0ZW5zaW9uKCRhc3NlbWJseVBhdGgsICJ4bWwiKQoJCQkkbnVHZXRFeHBlY3RlZEFzc2VtYmx5WG1sUGF0aCA9IFtTeXN0ZW0uSU8uUGF0aF06OkNoYW5nZUV4dGVuc2lvbigkbnVHZXRFeHBlY3RlZEFzc2VtYmx5UGF0aCwgInhtbCIpCgkJCWlmIChUZXN0LVBhdGggJGFzc2VtYmx5WG1sUGF0aCAtUGF0aFR5cGUgTGVhZikKCQkJeyAKCQkJCVdyaXRlLU91dHB1dCAiQ29weWluZyBkb2N1bWVudGF0aW9uIGZpbGUgZnJvbSAnJGFzc2VtYmx5WG1sUGF0aCcgdG8gJyRudUdldEV4cGVjdGVkQXNzZW1ibHlYbWxQYXRoJy4iIAoJCQkJQ29weS1JdGVtIC1QYXRoICRhc3NlbWJseVhtbFBhdGggLURlc3RpbmF0aW9uICRudUdldEV4cGVjdGVkQXNzZW1ibHlYbWxQYXRoIC1Gb3JjZQoJCQl9CgkJCWVsc2UgeyBXcml0ZS1PdXRwdXQgIk5vIGRvY3VtZW50YXRpb24gZmlsZSBmb3VuZCBhdCAnJGFzc2VtYmx5WG1sUGF0aCcsIHNvIGl0IHdhcyBub3QgY29waWVkIHRvICckbnVHZXRFeHBlY3RlZEFzc2VtYmx5WG1sUGF0aCcuIiB9CgkJfQoJCWVsc2UgeyBXcml0ZS1PdXRwdXQgIlRoZSBwcm9wZXIgYXNzZW1ibHkgYWxyZWFkeSBleGlzdHMgd2hlcmUgTnVHZXQuZXhlIHdpbGwgZXhwZWN0IGl0IHRvIGJlLCBzbyBubyBwcmUtcHJvY2Vzc2luZyBhY3Rpb25zIHdlcmUgcmVxdWlyZWQuIiB9Cgl9CgllbHNlIHsgV3JpdGUtT3V0cHV0ICJUaGUgT3V0cHV0IERpcmVjdG9yeSBpcyB0aGUgc2FtZSBhcyBkZWZpbmVkIGluIHRoZSBwcm9qZWN0IGZpbGUsIHNvIG5vIHByZS1wcm9jZXNzaW5nIGFjdGlvbnMgd2VyZSByZXF1aXJlZC4iIH0KCgkjIERpc3BsYXkgdGhlIHRpbWUgdGhhdCB0aGUgcHJlLXByb2Nlc3NpbmcgZmluaXNoZWQgcnVubmluZywgYW5kIGhvdyBsb25nIGl0IHRvb2sgdG8gcnVuLgoJJHNjcmlwdEZpbmlzaFRpbWUgPSBHZXQtRGF0ZQoJJHNjcmlwdEVsYXBzZWRUaW1lSW5TZWNvbmRzID0gKCRzY3JpcHRGaW5pc2hUaW1lIC0gJHNjcmlwdFN0YXJ0VGltZSkuVG90YWxTZWNvbmRzLlRvU3RyaW5nKCkKCVdyaXRlLU91dHB1dCAiUHJlLXByb2Nlc3NpbmcgdGhlIHByb2plY3QgZmlsZSBmaW5pc2hlZCBydW5uaW5nIGF0ICQoJHNjcmlwdEZpbmlzaFRpbWUuVGltZU9mRGF5LlRvU3RyaW5nKCkpLiBDb21wbGV0ZWQgaW4gJHNjcmlwdEVsYXBzZWRUaW1lSW5TZWNvbmRzIHNlY29uZHMuIgp9CgojIFByb2Nlc3MgdGhlIFByb2plY3QgRmlsZSBhbmQgbWFrZSBzdXJlIHRoZSBhc3NlbWJseSBleGlzdHMgd2hlcmUgTnVHZXQuZXhlIHdpbGwgZXhwZWN0IGl0IHRvIGJlLgpFbnN1cmUtQXNzZW1ibHlGaWxlRXhpc3RzV2hlcmVOdUdldEV4cGVjdHNJdFRvQmUgLVByb2plY3RGaWxlUGF0aCAkUHJvamVjdEZpbGVQYXRoIC1PdXRwdXREaXJlY3RvcnkgJE91dHB1dERpcmVjdG9yeSAtQ29uZmlndXJhdGlvbiAkQnVpbGRDb25maWd1cmF0aW9uIC1QbGF0Zm9ybSAkQnVpbGRQbGF0Zm9ybQojLS0tLS0KCiMgQ3JlYXRlIHRoZSBuZXcgTnVHZXQgcGFja2FnZS4KJG51R2V0UGFja2FnZUZpbGVQYXRoID0gJiAiJFRISVNfU0NSSVBUU19ESVJFQ1RPUllfUEFUSFxOZXctTnVHZXRQYWNrYWdlLnBzMSIgLVByb2plY3RGaWxlUGF0aCAiJFByb2plY3RGaWxlUGF0aCIgLVZlcnNpb25OdW1iZXIgJHZlcnNpb25OdW1iZXIgLVJlbGVhc2VOb3RlcyAkcmVsZWFzZU5vdGVzIC1QYWNrT3B0aW9ucyAiLU91dHB1dERpcmVjdG9yeSAiIiRPdXRwdXREaXJlY3RvcnkiIiAtUHJvcGVydGllcyAkcGFja1Byb3BlcnRpZXMgLU5vbkludGVyYWN0aXZlICRwYWNrT3B0aW9ucyIgLURvTm90VXBkYXRlTnVTcGVjRmlsZSAtTm9Qcm9tcHQgLVZlcmJvc2UKCiMgSWYgdGhlIE51R2V0IHBhY2thZ2UgZmlsZSBzaG91bGQgYmUgcmVuYW1lZCB0byBpbmNsdWRlIHRoZSBDb25maWd1cmF0aW9uIGFuZCBQbGF0Zm9ybS4KaWYgKCRhcHBlbmRDb25maWd1cmF0aW9uQW5kUGxhdGZvcm1Ub051R2V0UGFja2FnZUZpbGVOYW1lKQp7CgkjIEJ1aWxkIHRoZSBuZXcgZGVzaXJlZCBOdUdldCBwYWNrYWdlIGZpbGUgcGF0aC4KCSRudUdldFBhY2thZ2VGaWxlTmFtZVdpdGhvdXRFeHRlbnNpb24gPSBbU3lzdGVtLklPLlBhdGhdOjpHZXRGaWxlTmFtZVdpdGhvdXRFeHRlbnNpb24oJG51R2V0UGFja2FnZUZpbGVQYXRoKQoJJG51R2V0UGFja2FnZUZpbGVFeHRlbnNpb24gPSBbU3lzdGVtLklPLlBhdGhdOjpHZXRFeHRlbnNpb24oJG51R2V0UGFja2FnZUZpbGVQYXRoKQoJJGRlc2lyZWROdUdldFBhY2thZ2VGaWxlTmFtZSA9ICIkbnVHZXRQYWNrYWdlRmlsZU5hbWVXaXRob3V0RXh0ZW5zaW9uLiRCdWlsZENvbmZpZ3VyYXRpb24uJEJ1aWxkUGxhdGZvcm0kbnVHZXRQYWNrYWdlRmlsZUV4dGVuc2lvbiIKCSRkZXNpcmVkTnVHZXRQYWNrYWdlRmlsZVBhdGggPSBKb2luLVBhdGggLVBhdGggKFNwbGl0LVBhdGggJG51R2V0UGFja2FnZUZpbGVQYXRoIC1QYXJlbnQpIC1DaGlsZFBhdGggJGRlc2lyZWROdUdldFBhY2thZ2VGaWxlTmFtZQoKCSMgSWYgdGhlIE51R2V0IHBhY2thZ2UgZmlsZSBleGlzdHMsIHJlbmFtZSBpdC4KCWlmIChUZXN0LVBhdGggLVBhdGggJG51Z2V0UGFja2FnZUZpbGVQYXRoIC1QYXRoVHlwZSBMZWFmKQoJewoJCSMgSWYgYSBmaWxlIHdpdGggdGhlIGRlc2lyZWQgbmFtZSBhbHJlYWR5IGV4aXN0cywgd2UgbXVzdCBkZWxldGUgdGhhdCBmaWxlIGZpcnN0IGJmZW9yZSBkb2luZyB0aGUgcmVuYW1lLgoJCWlmIChUZXN0LVBhdGggLVBhdGggJGRlc2lyZWROdUdldFBhY2thZ2VGaWxlUGF0aCAtUGF0aFR5cGUgTGVhZikKCQl7IFJlbW92ZS1JdGVtIC1QYXRoICRkZXNpcmVkTnVHZXRQYWNrYWdlRmlsZVBhdGggLUZvcmNlIH0KCQoJCSMgUmVuYW1lIHRoZSBOdUdldCBwYWNrYWdlIGZpbGUgbmFtZSB0byB0aGUgZGVzaXJlZCBmaWxlIG5hbWUuCgkJUmVuYW1lLUl0ZW0gLVBhdGggJG51Z2V0UGFja2FnZUZpbGVQYXRoIC1OZXdOYW1lICRkZXNpcmVkTnVHZXRQYWNrYWdlRmlsZVBhdGggLUZvcmNlCgkJCgkJIyBEaXNwbGF5IHRoYXQgdGhlIE51R2V0IHBhY2thZ2UgZmlsZSB3YXMgcmVuYW1lZC4KCQlXcml0ZS1PdXRwdXQgIickbnVHZXRQYWNrYWdlRmlsZVBhdGgnIHdhcyByZW5hbWVkIHRvICckZGVzaXJlZE51R2V0UGFja2FnZUZpbGVQYXRoJy4iCgl9CgllbHNlCgl7IFdyaXRlLVdhcm5pbmcgIkNvdWxkIG5vdCBmaW5kIE51R2V0IHBhY2thZ2UgYXQgJyRudWdldFBhY2thZ2VGaWxlUGF0aCcsIHNvIGl0IHdhcyBub3QgcmVuYW1lZCB0byAnJGRlc2lyZWROdUdldFBhY2thZ2VGaWxlUGF0aCcuIiB9CgkKCSMgU2F2ZSB0aGUgbmV3IE51R2V0IHBhY2thZ2UgZmlsZSBwYXRoLgoJJG51R2V0UGFja2FnZUZpbGVQYXRoID0gJGRlc2lyZWROdUdldFBhY2thZ2VGaWxlUGF0aAoJCgkjIElmIGEgU3ltYm9scyBOdUdldCBwYWNrYWdlIHdhcyBzcGVjaWZpZWQgdG8gYmUgY3JlYXRlZCB0b28sIHJlbmFtZSBpdCBhcyB3ZWxsLgoJaWYgKCRwYWNrT3B0aW9ucyAtbGlrZSAnKi1TeW1ib2xzKicpCgl7CgkJIyBCdWlsZCB0aGUgbmV3IGRlc2lyZWQgU3ltYm9scyBOdUdldCBwYWNrYWdlIGZpbGUgcGF0aC4KCQkkZGVzaXJlZFN5bWJvbHNOdUdldFBhY2thZ2VGaWxlTmFtZSA9ICIkbnVHZXRQYWNrYWdlRmlsZU5hbWVXaXRob3V0RXh0ZW5zaW9uLiRCdWlsZENvbmZpZ3VyYXRpb24uJEJ1aWxkUGxhdGZvcm0uc3ltYm9scyRudUdldFBhY2thZ2VGaWxlRXh0ZW5zaW9uIgoJCSRkZXNpcmVkU3ltYm9sc051R2V0UGFja2FnZUZpbGVQYXRoID0gSm9pbi1QYXRoIC1QYXRoIChTcGxpdC1QYXRoICRudUdldFBhY2thZ2VGaWxlUGF0aCAtUGFyZW50KSAtQ2hpbGRQYXRoICRkZXNpcmVkU3ltYm9sc051R2V0UGFja2FnZUZpbGVOYW1lCgoJCSMgQ29uc3RydWN0IHRoZSBwYXRoIG9mIHdoYXQgdGhlIG9yaWdpbmFsIFN5bWJvbHMgTnVHZXQgcGFja2FnZSBzaG91bGQgYmUsIGFuZCBpZiBpdCBleGlzdHMsIHJlbmFtZSBpdCB0byB0aGUgZGVzaXJlZCBmaWxlIG5hbWUuCgkJJG9yaWdpbmFsU3ltYm9sc051R2V0UGFja2FnZUZpbGVOYW1lID0gIiRudUdldFBhY2thZ2VGaWxlTmFtZVdpdGhvdXRFeHRlbnNpb24uc3ltYm9scyRudUdldFBhY2thZ2VGaWxlRXh0ZW5zaW9uIgoJCSRvcmlnaW5hbFN5bWJvbHNOdUdldFBhY2thZ2VGaWxlUGF0aCA9IEpvaW4tUGF0aCAtUGF0aCAoU3BsaXQtUGF0aCAkbnVHZXRQYWNrYWdlRmlsZVBhdGggLVBhcmVudCkgLUNoaWxkUGF0aCAkb3JpZ2luYWxTeW1ib2xzTnVHZXRQYWNrYWdlRmlsZU5hbWUKCQlpZiAoVGVzdC1QYXRoIC1QYXRoICRvcmlnaW5hbFN5bWJvbHNOdUdldFBhY2thZ2VGaWxlUGF0aCAtUGF0aFR5cGUgTGVhZikgCgkJeyAKCQkJIyBSZW5hbWUgdGhlIFN5bWJvbHMgTnVHZXQgcGFja2FnZSB0byB0aGUgZGVzaXJlZCBuYW1lLgoJCQlSZW5hbWUtSXRlbSAtUGF0aCAkb3JpZ2luYWxTeW1ib2xzTnVHZXRQYWNrYWdlRmlsZVBhdGggLU5ld05hbWUgJGRlc2lyZWRTeW1ib2xzTnVHZXRQYWNrYWdlRmlsZVBhdGggLUZvcmNlCgkJCQoJCQkjIERpc3BsYXkgdGhhdCB0aGUgTnVHZXQgcGFja2FnZSBmaWxlIHdhcyByZW5hbWVkLgoJCQlXcml0ZS1PdXRwdXQgIickb3JpZ2luYWxTeW1ib2xzTnVHZXRQYWNrYWdlRmlsZVBhdGgnIHdhcyByZW5hbWVkIHRvICckZGVzaXJlZFN5bWJvbHNOdUdldFBhY2thZ2VGaWxlUGF0aCcuIgoJCX0KCQllbHNlCgkJeyBXcml0ZS1XYXJuaW5nICJDb3VsZCBub3QgZmluZCBTeW1ib2xzIE51R2V0IHBhY2thZ2UgYXQgJyRvcmlnaW5hbFN5bWJvbHNOdUdldFBhY2thZ2VGaWxlUGF0aCcsIHNvIGl0IHdhcyBub3QgcmVuYW1lZCB0byAnJGRlc2lyZWRTeW1ib2xzTnVHZXRQYWNrYWdlRmlsZVBhdGgnLiIgfQoJfQp9CgojIERpc3BsYXkgdGhlIHBhdGggdG8gdGhlIE51R2V0IHBhY2thZ2UgZmlsZS4KV3JpdGUtT3V0cHV0ICRudUdldFBhY2thZ2VGaWxlUGF0aA==
