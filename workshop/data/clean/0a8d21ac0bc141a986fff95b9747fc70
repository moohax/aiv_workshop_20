GitEnlister.ps1,e833d8bbf006347afd4b425021644ec5,Scan result is 1. IsMalware: 0,PCMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgogICAgRGVzY3JpcHRpb24KICAgID09PT09PT09PT09CgogICAgLSBUaGlzIHNjcmlwdCBkb2VzIHRoZSBmb2xsb3dpbmcgLSAKICAgICAgICAtIGluc3RhbGxzIGNob2NvbGF0ZXkKICAgICAgICAtIGluc3RhbGxzIGdpdAogICAgICAgIC0gY2xvbmVzIHRoZSBzcGVjaWZpZWQgZ2l0IHJlcG8uCiAgICAgICAgLSBDcmVhdGVzIHVybCBhbmQgbG5rIHNob3J0Y3V0cyB0byB0aGUgZ2l0IHJlcG8gYW5kIGxvY2FsIHJlcG8gcmVzcGVjdGl2ZWx5LgoKICAgIC0gVGhlIGZvbGxvd2luZyBsb2dzIGFyZSBnZW5lcmF0ZWQgb24gdGhlIG1hY2hpbmUgLSAKICAgICAgICAtIENob2NvbGF0ZXkncyBsb2cgOiAlQUxMVVNFUlNQUk9GSUxFJVxjaG9jb2xhdGV5XGxvZ3MgZm9sZGVyLgogICAgICAgIC0gVGhpcyBzY3JpcHQncyBsb2cgOiAkUFNTY3JpcHRSb290XEdpdEVuc2xpc3Rlci17VGltZVN0YW1wfVxMb2dzIGZvbGRlci4KCgogICAgVXNhZ2UgZXhhbXBsZXMKICAgID09PT09PT09PT09PT09CiAgICAKICAgIC0gUG93ZXJzaGVsbCAtZXhlY3V0aW9ucG9saWN5IGJ5cGFzcyAtZmlsZSBHaXRFbmxpc3Rlci5wczEgLUdpdFJlcG9Mb2NhdGlvbiAieW91ciByZXBvIFVSSSIgLVBlcnNvbmFsQWNjZXNzVG9rZW4gImFjY2Vzcy10b2tlbiIgCgogICAgLSBQb3dlcnNoZWxsIC1leGVjdXRpb25wb2xpY3kgYnlwYXNzIC1maWxlIEdpdEVubGlzdGVyLnBzMSAtR2l0UmVwb0xvY2F0aW9uICJ5b3VyIHJlcG8gVVJJIiAtUGVyc29uYWxBY2Nlc3NUb2tlbiAiYWNjZXNzLXRva2VuIiAtR2l0QnJhbmNoICJicmFuY2ggdG8gY2hlY2sgb3V0IgoKICAgIC0gUG93ZXJzaGVsbCAtZXhlY3V0aW9ucG9saWN5IGJ5cGFzcyAtZmlsZSBHaXRFbmxpc3Rlci5wczEgLUdpdFJlcG9Mb2NhdGlvbiAieW91ciByZXBvIFVSSSIgLVBlcnNvbmFsQWNjZXNzVG9rZW4gImFjY2Vzcy10b2tlbiIgLUdpdExvY2FsUmVwb0xvY2F0aW9uICJsb2NhbCBmb2xkZXIgbG9jYXRpb24iCgoKICAgIFByZXJlcXVpc2l0ZXMKICAgID09PT09PT09PT09PT0KCiAgICAtIFBsZWFzZSBlbnN1cmUgdGhhdCB0aGlzIHNjcmlwdCBpcyBydW4gZWxldmF0ZWQuCiAgICAtIFBsZWFzZSBlbnN1cmUgdGhhdCB0aGUgcG93ZXJzaGVsbCBleGVjdXRpb24gcG9saWN5IGlzIHNldCB0byB1bnJlc3RyaWN0ZWQgb3IgYnlwYXNzLgoKCiAgICBLbm93biBpc3N1ZXMgLyBDYXZlYXRzCiAgICA9PT09PT09PT09PT09PT09PT09PT09CiAgICAKICAgIC0gVGhlICdnaXQgY2xvbmUgLWIgPGJyYW5jaC1uYW1lPicgY29tbWFuZCB0cmVhdHMgdGhlIGJyYW5jaC1uYW1lIGFzIGNhc2Utc2Vuc2l0aXZlLiBOZWVkCiAgICAgIHRvIGludmVzdGlnYXRlIGZ1cnRoZXIgYW5kIHJlc29sdmUgdGhpcy4gCgoKICAgIENvbWluZyBzb29uIC8gcGxhbm5lZCB3b3JrCiAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgCiAgICAtIFdlJ3JlIGN1cnJlbnRseSBpbnN0YWxsaW5nIGdpdCB2ZXJzaW9uIDEuOS41LjIwMTUwMzIwIChsYXN0IGtub3duIGdvb2QpLiBTZWUgd2hldGhlciB3ZSAKICAgICAgY2FuIHJvbGwgZm9yd2FyZCB0byBhIG5ld2VyIHZlcnNpb24uCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIz4KCiMKIyBBcmd1bWVudHMgdG8gdGhpcyBzY3JpcHQgZmlsZS4KIwoKIwokR2l0UmVwb0xvY2F0aW9uID0gJGFyZ3NbMF0KCiMKJEdpdExvY2FsUmVwb0xvY2F0aW9uICA9ICRhcmdzWzFdIAoKIwokR2l0QnJhbmNoID0gJGFyZ3NbMl0KCiMKJFBlcnNvbmFsQWNjZXNzVG9rZW4gPSAkYXJnc1szXQoKIyBUaGUgbG9jYXRpb24gd2hlcmUgdGhpcyBzY3JpcHQgcmVzaWRlcy4gCiMgTm90ZTogV2UgY2Fubm90IHVzZSAkUFNTY3JpcHRSb290IG9yICRNeUludm9jYXRpb24gaW5zaWRlIGEgc2NyaXB0IGJsb2NrLiBIZW5jZSBwYXNzaW5nIAojIHRoZSBsb2NhdGlvbiBleHBsaWNpdGx5LgokU2NyaXB0Um9vdCA9ICRhcmdzWzRdCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIwojIFBvd2Vyc2hlbGwgQ29uZmlndXJhdGlvbnMKIwoKIyBOb3RlOiBCZWNhdXNlIHRoZSAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlIGlzICJTdG9wIiwgdGhpcyBzY3JpcHQgd2lsbCBzdG9wIG9uIGZpcnN0IGZhaWx1cmUuICAKJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICJzdG9wIgoKIyBFbnN1cmUgdGhhdCBjdXJyZW50IHByb2Nlc3MgY2FuIHJ1biBzY3JpcHRzLiAKU2V0LUV4ZWN1dGlvblBvbGljeSAtRXhlY3V0aW9uUG9saWN5IEJ5cGFzcyAtU2NvcGUgUHJvY2VzcyAtRm9yY2UgCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMKIyBDdXN0b20gQ29uZmlndXJhdGlvbnMKIwoKJEdpdFN0YWJsZVZlcnNpb24gPSAiMS45LjUuMjAxNTAzMjAiCiRHaXRFbmxpc3RlckZvbGRlciA9IEpvaW4tUGF0aCAkU2NyaXB0Um9vdCAtQ2hpbGRQYXRoICQoIkdpdEVubGlzdGVyLSIgKyBbU3lzdGVtLkRhdGVUaW1lXTo6Tm93LlRvU3RyaW5nKCJ5eXl5LU1NLWRkLUhILW1tLXNzIikpCgojIExvY2F0aW9uIG9mIHRoZSBsb2cgZmlsZXMKJFNjcmlwdExvZ0ZvbGRlciA9IEpvaW4tUGF0aCAkR2l0RW5saXN0ZXJGb2xkZXIgLUNoaWxkUGF0aCAiTG9ncyIKJFNjcmlwdExvZyA9IEpvaW4tUGF0aCAtUGF0aCAkU2NyaXB0TG9nRm9sZGVyIC1DaGlsZFBhdGggIkdpdEVubGlzdGVyLmxvZyIKJENob2NvbGF0ZXlJbnN0YWxsTG9nID0gSm9pbi1QYXRoIC1QYXRoICRTY3JpcHRMb2dGb2xkZXIgLUNoaWxkUGF0aCAiQ2hvY29sYXRleUluc3RhbGwubG9nIgokR2l0Q2xvbmVTdGRPdXQgPSBKb2luLVBhdGggLVBhdGggJFNjcmlwdExvZ0ZvbGRlciAtQ2hpbGRQYXRoICJHaXRDbG9uZS5sb2ciCiRHaXRDbG9uZVN0ZEVyciA9IEpvaW4tUGF0aCAtUGF0aCAkU2NyaXB0TG9nRm9sZGVyIC1DaGlsZFBhdGggIkdpdENsb25lLmVyciIKJEdpdENvbmZpZ1N0ZE91dCA9IEpvaW4tUGF0aCAtUGF0aCAkU2NyaXB0TG9nRm9sZGVyIC1DaGlsZFBhdGggIkdpdENvbmZpZy5sb2ciCiRHaXRDb25maWdTdGRFcnIgPSBKb2luLVBhdGggLVBhdGggJFNjcmlwdExvZ0ZvbGRlciAtQ2hpbGRQYXRoICJHaXRDb25maWcuZXJyIgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgCiMgRGVzY3JpcHRpb246CiMgIC0gRGlzcGxheXMgdGhlIHNjcmlwdCBhcmd1bWVudCB2YWx1ZXMgKGRlZmF1bHQgb3IgdXNlci1zdXBwbGllZCkuCiMKIyBQYXJhbWV0ZXJzOgojICAtIE4vQS4KIwojIFJldHVybjoKIyAgLSBOL0EuCiMKIyBOb3RlczoKIyAgLSBQbGVhc2UgZW5zdXJlIHRoYXQgdGhlIEluaXRpYWxpemUoKSBtZXRob2QgaGFzIGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2UgYmVmb3JlIHRoaXMgCiMgICAgbWV0aG9kLiBFbHNlIHRoaXMgbWV0aG9kIGNhbiBvbmx5IHdyaXRlIHRvIGNvbnNvbGUgYW5kIG5vdCB0byBsb2cgZmlsZXMuIAojCgpmdW5jdGlvbiBEaXNwbGF5QXJnVmFsdWVzCnsKICAgIFdyaXRlTG9nICI9PT09PT09PT09IENvbmZpZ3VyYXRpb24gPT09PT09PT09PSIKICAgIFdyaXRlTG9nICQoIi1HaXRSZXBvTG9jYXRpb24gOiAiICsgJEdpdFJlcG9Mb2NhdGlvbikKICAgIFdyaXRlTG9nICQoIi1HaXRMb2NhbFJlcG9Mb2NhdGlvbiA6ICIgKyAkR2l0TG9jYWxSZXBvTG9jYXRpb24pCiAgICBXcml0ZUxvZyAkKCItR2l0QnJhbmNoIDogIiArICRHaXRCcmFuY2gpCiAgICBXcml0ZUxvZyAkKCItUGVyc29uYWxBY2Nlc3NUb2tlbiA6ICIgKyAkUGVyc29uYWxBY2Nlc3NUb2tlbikKICAgIFdyaXRlTG9nICI9PT09PT09PT09IENvbmZpZ3VyYXRpb24gPT09PT09PT09PSIKfQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgCiMgRGVzY3JpcHRpb246CiMgIC0gQ3JlYXRlcyB0aGUgZm9sZGVyIHN0cnVjdHVyZSB3aGljaCdsbCBiZSB1c2VkIGZvciBkdW1waW5nIGxvZ3MgZ2VuZXJhdGVkIGJ5IHRoaXMgc2NyaXB0IGFuZAojICAgIHRoZSBsb2dvbiB0YXNrLgojCiMgUGFyYW1ldGVyczoKIyAgLSBOL0EuCiMKIyBSZXR1cm46CiMgIC0gTi9BLgojCiMgTm90ZXM6CiMgIC0gTi9BLgojCgpmdW5jdGlvbiBJbml0aWFsaXplRm9sZGVycwp7CiAgICBpZiAoJGZhbHNlIC1lcSAoVGVzdC1QYXRoIC1QYXRoICRHaXRFbmxpc3RlckZvbGRlcikpCiAgICB7CiAgICAgICAgTmV3LUl0ZW0gLVBhdGggJEdpdEVubGlzdGVyRm9sZGVyIC1JdGVtVHlwZSBkaXJlY3RvcnkgfCBPdXQtTnVsbAogICAgfQoKICAgIGlmICgkZmFsc2UgLWVxIChUZXN0LVBhdGggLVBhdGggJFNjcmlwdExvZ0ZvbGRlcikpCiAgICB7CiAgICAgICAgTmV3LUl0ZW0gLVBhdGggJFNjcmlwdExvZ0ZvbGRlciAtSXRlbVR5cGUgZGlyZWN0b3J5IHwgT3V0LU51bGwKICAgIH0KfQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgCiMgRGVzY3JpcHRpb246CiMgIC0gV3JpdGVzIHNwZWNpZmllZCBzdHJpbmcgdG8gdGhlIGNvbnNvbGUgYXMgd2VsbCBhcyB0byB0aGUgc2NyaXB0IGxvZyAoaW5kaWNhdGVkIGJ5ICRTY3JpcHRMb2cpLgojCiMgUGFyYW1ldGVyczoKIyAgLSAkbWVzc2FnZTogVGhlIHN0cmluZyB0byB3cml0ZS4KIwojIFJldHVybjoKIyAgLSBOL0EuCiMKIyBOb3RlczoKIyAgLSBOL0EuCiMKCmZ1bmN0aW9uIFdyaXRlTG9nCnsKICAgIFBhcmFtKAogICAgICAgIDwjIENhbiBiZSBudWxsIG9yIGVtcHR5ICM+ICRtZXNzYWdlCiAgICApCgogICAgJHRpbWVzdGFtcGVkTWVzc2FnZSA9ICQoIlsiICsgW1N5c3RlbS5EYXRlVGltZV06Ok5vdyArICJdICIgKyAkbWVzc2FnZSkgfCAlIHsKICAgICAgICBPdXQtRmlsZSAtSW5wdXRPYmplY3QgJF8gLUZpbGVQYXRoICRTY3JpcHRMb2cgLUFwcGVuZAogICAgfQp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyAKIyBEZXNjcmlwdGlvbjoKIyAgLSBJbnN0YWxscyB0aGUgY2hvY29sYXRleSBwYWNrYWdlIG1hbmFnZXIuCiMKIyBQYXJhbWV0ZXJzOgojICAtIE4vQS4KIwojIFJldHVybjoKIyAgLSBJZiBpbnN0YWxsYXRpb24gaXMgc3VjY2Vzc2Z1bCwgdGhlbiBub3RoaW5nIGlzIHJldHVybmVkLgojICAtIEVsc2UgYSBkZXRhaWxlZCB0ZXJtaW5hdGluZyBlcnJvciBpcyB0aHJvd24uCiMKIyBOb3RlczoKIyAgLSBAVE9ETzogV3JpdGUgdG8gJGNob2NvbGF0ZXlJbnN0YWxsTG9nIGxvZyBmaWxlLgojICAtIEBUT0RPOiBDdXJyZW50bHkgbm8gZXJyb3JzIGFyZSBiZWluZyB3cml0dGVuIHRvIHRoZSBnaXRlbmxpc3Rlci5sb2cuIFRoaXMgbmVlZHMgdG8gYmUgZml4ZWQuCiMKCmZ1bmN0aW9uIEluc3RhbGxDaG9jb2xhdGV5CnsKICAgIFBhcmFtKAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRjaG9jb2xhdGV5SW5zdGFsbExvZwogICAgKQoKICAgIFdyaXRlTG9nICJJbnN0YWxsaW5nIENob2NvbGF0ZXkuLi4iCgogICAgSW52b2tlLUV4cHJlc3Npb24gKChuZXctb2JqZWN0IG5ldC53ZWJjbGllbnQpLkRvd25sb2FkU3RyaW5nKCdodHRwczovL2Nob2NvbGF0ZXkub3JnL2luc3RhbGwucHMxJykpIHwgT3V0LU51bGwKCiAgICBXcml0ZUxvZyAiU3VjY2Vzcy4iCn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojIAojIERlc2NyaXB0aW9uOgojICAtIFJldHVybnMgdGhlIFRoZSAnbGVhZicgbmFtZSBvZiBnaXQgcmVwby4KIwojIFBhcmFtZXRlcnM6CiMgIC0gJGdpdFJlcG9Mb2NhdGlvbjogVGhlIEhUVFBTIHVybCBvZiB0aGUgZ2l0IHJlcG9zaXRvcnkuCiMKIyBSZXR1cm46CiMgIC0gSWYgaW5zdGFsbGF0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZW4gdGhlICdsZWFmJyBuYW1lIG9mIHRoZSBnaXQgcmVwbyBpcyByZXR1cm5lZC4KIyAgLSBFbHNlIGEgZGV0YWlsZWQgdGVybWluYXRpbmcgZXJyb3IgaXMgdGhyb3duLgojCiMgTm90ZXM6CiMgIC0gTi9BLgojCgpmdW5jdGlvbiBHZXRHaXRSZXBvTGVhZgp7CiAgICBQYXJhbSgKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkZ2l0UmVwb0xvY2F0aW9uCiAgICApCgogICAgJGdpdFJlcG9MZWFmID0gU3BsaXQtUGF0aCAtUGF0aCAkZ2l0UmVwb0xvY2F0aW9uIC1MZWFmCgogICAgIyByZXBsYWNlIGFueSBvY2N1cnJlbmNlcyBvZiAnJTIwJyB3aXRoIHdoaXRlc3BhY2UuIAogICAgaWYgKCRnaXRSZXBvTGVhZi5Db250YWlucygiJTIwIikpCiAgICB7CiAgICAgICAgJGdpdFJlcG9MZWFmID0gJGdpdFJlcG9MZWFmLlJlcGxhY2UoIiUyMCIsICIgIikKICAgIH0KCiAgICAjIElmIGFwcGVuZGVkIGJ5ICIuZ2l0Iiwgc3RyaXAgdGhhdCBvdXQKICAgIGlmICgkZ2l0UmVwb0xlYWYgLWxpa2UgIiouZ2l0IikKICAgIHsKICAgICAgICAkZ2l0UmVwb0xlYWYgPSAkZ2l0UmVwb0xlYWYgLXJlcGxhY2UgIlwuZ2l0JCIsICIiCiAgICB9CgogICAgcmV0dXJuICRnaXRSZXBvTGVhZgp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIwojIERlc2NyaXB0aW9uOgojICAtIEluc3RhbGxzIGdpdCBjbGllbnQgb24gdGhlIG1hY2hpbmUuCiMgIC0gQWRkcyBsb2NhdGlvbiBvZiBnaXQuZXhlIHRvIHRoZSBwYXRoLiAKIwojIFBhcmFtZXRlcnM6CiMgIC0gJGdpdFZlcnNpb246IFRoZSBzcGVjaWZpYyB2ZXJzaW9uIG9mIGdpdCB0byBpbnN0YWxsLgojCiMgUmV0dXJuOgojICAtIElmIHN1Y2Nlc3NmdWwsIHRoZW4gdGhlIGxvY2F0aW9uIG9mIGdpdCBpbnN0YWxsIGZvbGRlciBpcyByZXR1cm5lZC4KIyAgLSBFbHNlIGEgZGV0YWlsZWQgdGVybWluYXRpbmcgZXJyb3IgaXMgdGhyb3duLgojCiMgTm90ZXM6CiMgIC0gTi9BLgojCgpmdW5jdGlvbiBJbnN0YWxsR2l0CnsKICAgIFBhcmFtKAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRnaXRWZXJzaW9uCiAgICApCgogICAgV3JpdGVMb2cgJCgiSW5zdGFsbGluZyBHaXQgdmVyc2lvbjogJGdpdFZlcnNpb24gLi4uIikKCiAgICAjIGluc3RhbGwgZ2l0IHZpYSBjaG9jb2xhdGV5CiAgICBjaG9jbyBpbnN0YWxsIGdpdCAtLXZlcnNpb24gJGdpdFZlcnNpb24gLS1mb3JjZSAtLXllcyAtLWFjY2VwdGxpY2Vuc2UgLS12ZXJib3NlIHwgT3V0LU51bGwgCgogICAgaWYgKCQ/IC1lcSAkZmFsc2UpCiAgICB7CiAgICAgICAgJGVyck1zZyA9ICQoIkVycm9yISBJbnN0YWxsYXRpb24gZmFpbGVkLiBQbGVhc2Ugc2VlIHRoZSBjaG9jb2xhdGV5IGxvZ3MgaW4gJUFMTFVTRVJTUFJPRklMRSVcY2hvY29sYXRleVxsb2dzIGZvbGRlciBmb3IgZGV0YWlscy4iKQogICAgICAgIFdyaXRlTG9nICRlcnJNc2cKICAgICAgICBXcml0ZS1FcnJvciAkZXJyTXNnIAogICAgfQogICAgCiAgICBXcml0ZUxvZyAiU3VjY2Vzcy4iCiAgICAKCiAgICAjIG5vdyBmaW5kIHRoZSBsb2NhdGlvbiBvZiBnaXQKICAgIFdyaXRlTG9nICJGaW5kaW5nIGxvY2F0aW9uIG9mIEdpdC5leGUuLi4iCgogICAgJGdpdEluc3RhbGxGb2xkZXIgPSAkbnVsbAogICAgJGdpdEJpbmFyaWVzRm9sZGVyID0gJG51bGwKICAgICRnaXRFeGVMb2NhdGlvbiA9ICRudWxsCgogICAgIyBDb25zdHJ1Y3QgcG9zc2libGUga25vd24gcGF0aHMgdG8gZ2l0LmV4ZS4gV2UnbGwgcHJvYmUgYWxsIHRoZXNlLgogICAgJHBhdGhzVG9Qcm9iZSA9IEAoCiAgICAgICAgJCgke2VudjpQcm9ncmFtRmlsZXMoeDg2KX0pLAogICAgICAgICQoJHtlbnY6UHJvZ3JhbUZpbGVzfSkKICAgICkKICAgIAogICAgIyBTdGFydCBwcm9iaW5nLgogICAgZm9yZWFjaCgkcGF0aCBpbiAkcGF0aHNUb1Byb2JlKQogICAgewogICAgICAgIGlmICgoVGVzdC1QYXRoICQoJHBhdGggKyAiXGdpdCIpKSAtYW5kIChUZXN0LVBhdGggJCgkcGF0aCArICJcZ2l0XGJpbiIpKSAtYW5kIChUZXN0LVBhdGggJCgkcGF0aCArICJcZ2l0XGJpblxnaXQuZXhlIikpKQogICAgICAgIHsKICAgICAgICAgICAgJGdpdEluc3RhbGxGb2xkZXIgPSAkcGF0aCArICJcZ2l0IgogICAgICAgICAgICAkZ2l0QmluYXJpZXNGb2xkZXIgPSAkcGF0aCArICJcZ2l0XGJpbiIKICAgICAgICAgICAgJGdpdEV4ZUxvY2F0aW9uID0gJHBhdGggKyAiXGdpdFxiaW5cZ2l0LmV4ZSIKICAgICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICB9CgogICAgIyBiYWlsIG91dCBpZiBnaXQuZXhlIHdhcyBub3QgZm91bmQKICAgIGlmICgkbnVsbCAtZXEgJGdpdEV4ZUxvY2F0aW9uKQogICAgewogICAgICAgICRlcnJNc2cgPSAkKCJFcnJvciEgR2l0LmV4ZSBjb3VsZCBub3QgYmUgZGV0ZWN0ZWQgb24gdGhpcyBtYWNoaW5lLiIpICAgICAgICAKICAgICAgICBXcml0ZUxvZyAkZXJyTXNnCiAgICAgICAgV3JpdGUtRXJyb3IgJGVyck1zZyAtQ2F0ZWdvcnkgT2JqZWN0Tm90Rm91bmQKICAgIH0KCiAgICBXcml0ZUxvZyAkKCJTdWNjZXNzLiBHaXQuZXhlIGxvY2F0ZWQgYXQgLSAiICsgJGdpdEV4ZUxvY2F0aW9uKQoKCiAgICAjIG5vdyBhZGQgdGhlIGdpdCBiaW5hcmllcyBmb2xkZXIgdG8gdGhlIHBhdGgKICAgIFdyaXRlTG9nICJBZGRpbmcgR2l0IGZvbGRlciBsb2NhdGlvbiB0byB0aGUgUEFUSCIKCiAgICAjIENoZWNrIGlmIHRoZSBnaXQgYmluYXJpZXMgZm9sZGVyIGlzIGFscmVhZHkgb24gdGhlIHBhdGgKICAgIGlmICgkZmFsc2UgLWVxICgkZW52OlBhdGgpLkNvbnRhaW5zKCRnaXRCaW5hcmllc0ZvbGRlcikpCiAgICB7CiAgICAgICAgIyBBZGQgaXQgdG8gdGhlIHBhdGguCiAgICAgICAgW0Vudmlyb25tZW50XTo6U2V0RW52aXJvbm1lbnRWYXJpYWJsZSgicGF0aCIsICQoJGVudjpQYXRoICsgIjsiICsgJGdpdEJpbmFyaWVzRm9sZGVyKSwgW1N5c3RlbS5FbnZpcm9ubWVudFZhcmlhYmxlVGFyZ2V0XTo6TWFjaGluZSkgICAgCgogICAgICAgIFdyaXRlTG9nICJTdWNjZXNzLiIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBXcml0ZUxvZyAiR2l0IGJpbmFyaWVzIGZvbGRlciBsb2NhdGlvbiBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgUEFUSC4iCiAgICB9CgogICAgcmV0dXJuICRnaXRJbnN0YWxsRm9sZGVyCn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojCiMgRGVzY3JpcHRpb246CiMgIC0gQ2xvbmVzIHRoZSBzcGVjaWZpZWQgZ2l0IHJlcG8gaW50byBzcGVjaWZpZWQgbG9jYWwgZm9sZGVyLiAKIwojIFBhcmFtZXRlcnM6CiMgIC0gJGdpdEV4ZUxvY2F0aW9uOiBMb2NhdGlvbiBvZiBnaXQuZXhlLiAKIyAgLSAkZ2l0UmVwb0xvY2F0aW9uOiBUaGUgSFRUUFMgY2xvbmUgdXJsIG9mIHRoZSBnaXQgcmVwb3NpdG9yeS4KIyAgLSAkZ2l0TG9jYWxSZXBvTG9jYXRpb246IFRoZSBsb2NhbCBmb2xkZXIgaW50byB3aGljaCB0aGUgZ2l0IHJlcG9zaXRvcnkgd2lsbCBiZSBjbG9uZWQuCiMgIC0gJGdpdEJyYW5jaDogVGhlIGJyYW5jaCB0aGF0IHdpbGwgYmUgY2hlY2tlZCBvdXQuCiMgIC0gJHN0ZE91dExvZ2ZpbGU6IFRoZSBsb2cgZmlsZSB0byB3aGljaCB0aGUgb3BlcmF0aW9uJ3Mgc3Rkb3V0IHdpbGwgYmUgcmVkaXJlY3RlZC4KIyAgLSAkc3RkRXJyTG9nZmlsZTogVGhlIGxvZyBmaWxlIHRvIHdoaWNoIHRoZSBvcGVyYXRpb24ncyBzdGRlcnIgd2lsbCBiZSByZWRpcmVjdGVkLgojICAtICRwZXJzb25hbEFjY2Vzc1Rva2VuOiBUaGUgcGVyc29uYWwgYWNjZXNzIHRva2VuIGZvciBhdXRoZW50aWNhdGluZyB0byB0aGUgZ2l0IHJlcG8uCiMKIyBSZXR1cm46CiMgIC0gSWYgZ2l0IGNsb25lIGlzIHN1Y2Nlc3NmdWwsIHRoZW4gbm90aGluZyBpcyByZXR1cm5lZC4KIyAgLSBFbHNlIGEgZGV0YWlsZWQgdGVybWluYXRpbmcgZXJyb3IgaXMgdGhyb3duLgojCiMgTm90ZXM6CiMgIC0gTi9BLgojCgpmdW5jdGlvbiBDbG9uZUdpdFJlcG8KewogICAgUGFyYW0oCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0gJGdpdEV4ZUxvY2F0aW9uLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRnaXRSZXBvTG9jYXRpb24sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0gJGdpdExvY2FsUmVwb0xvY2F0aW9uLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRnaXRCcmFuY2gsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0gJHN0ZE91dExvZ2ZpbGUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0gJHN0ZEVyckxvZ2ZpbGUsCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0gJHBlcnNvbmFsQWNjZXNzVG9rZW4KICAgICAgICApCgogICAgIyBwcmUtY29uZGl0aW9uIGNoZWNrcwogICAgaWYgKCRmYWxzZSAtZXEgJGdpdFJlcG9Mb2NhdGlvbi5Ub0xvd2VySW52YXJpYW50KCkuU3RhcnRzV2l0aCgiaHR0cHM6Ly8iKSkgCiAgICB7CiAgICAgICAgJGVyck1zZyA9ICQoIkVycm9yISBUaGUgc3BlY2lmaWVkIEdpdCByZXBvIHVybCBpcyBub3QgYSB2YWxpZCBIVFRQUyBjbG9uZSB1cmwgOiAiICsgJGdpdFJlcG9Mb2NhdGlvbikKICAgICAgICBXcml0ZUxvZyAkZXJyTXNnCiAgICAgICAgV3JpdGUtRXJyb3IgJGVyck1zZyAKICAgIH0KICAgIGlmICgkZmFsc2UgLWVxICRnaXRSZXBvTG9jYXRpb24uTGVuZ3RoIC1ndCA4KQogICAgewogICAgICAgICRlcnJNc2cgPSAkKCJFcnJvciEgVGhlIHNwZWNpZmllZCBHaXQgcmVwbyB1cmwgaXMgbm90IHZhbGlkIDogIiArICRnaXRSZXBvTG9jYXRpb24pCiAgICAgICAgV3JpdGVMb2cgJGVyck1zZwogICAgICAgIFdyaXRlLUVycm9yICRlcnJNc2cgCiAgICB9CgoKICAgICMgVXNpbmcgc3BlY2lmaWVkIGNyZWRlbnRpYWxzLCBjcmVhdGUgdGhlIGFjdHVhbCByZXBvIHVybCB0byBjbG9uZSBmcm9tLgogICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRwZXJzb25hbEFjY2Vzc1Rva2VuKSkKICAgIHsKICAgICAgICAkZ2l0UmVwb1RvVXNlID0gJGdpdFJlcG9Mb2NhdGlvbgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRwcm90b2NvbFByZWZpeCA9ICJodHRwczovLyIKICAgICAgICAkZ2l0UmVwb05hbWVTdWZmaXggPSAkZ2l0UmVwb0xvY2F0aW9uLlN1YnN0cmluZyg4KQoKICAgICAgICAjIEhBQ0s6IElmIGEgcGVyc29uYWwgYWNjZXNzIHRva2VuIGlzIHVzZWQgaW4gdGhlIGNsb25lIFVSSSwgdGhlbiB0aGUgdXNlcm5hbWUgaXMgaWdub3JlZC4gU28gCiAgICAgICAgIyBhbnkgdXNlcm5hbWUgY2FuIGJlIHVzZWQuCiAgICAgICAgJGFueVVzZXJOYW1lID0gIkFueVVzZXJOYW1lIgoKICAgICAgICAkZ2l0UmVwb1RvVXNlID0gJCgiJHByb3RvY29sUHJlZml4IiArICRhbnlVc2VyTmFtZSArICI6IiArICRwZXJzb25hbEFjY2Vzc1Rva2VuICsgIkAiICsgJGdpdFJlcG9OYW1lU3VmZml4KQogICAgfQoKICAgICMgUHJlcCB0byBzdGFydCBnaXQuZXhlCiAgICAkYXJncyA9ICQoImNsb25lIC1iICIgKyAkZ2l0QnJhbmNoICsgIiAiICsgJGdpdFJlcG9Ub1VzZSArICIgYCIiICsgJGdpdExvY2FsUmVwb0xvY2F0aW9uICsgImAiIikKCiAgICBXcml0ZUxvZyAkKCJDbG9uaW5nIHRoZSBnaXQgcmVwby4uLiIpCiAgICBXcml0ZUxvZyAkKCRnaXRFeGVMb2NhdGlvbiArICIgIiArICRhcmdzKQoKICAgICMgUnVuIHRoZSBnaXQgY2xvbmUgb3BlcmF0aW9uCiAgICAkcCA9IFN0YXJ0LVByb2Nlc3MgLUZpbGVQYXRoICRnaXRFeGVMb2NhdGlvbiAtQXJndW1lbnRMaXN0ICRhcmdzIC1SZWRpcmVjdFN0YW5kYXJkT3V0cHV0ICRzdGRPdXRMb2dmaWxlIC1SZWRpcmVjdFN0YW5kYXJkRXJyb3IgJHN0ZEVyckxvZ2ZpbGUgLVBhc3NUaHJ1IC1XYWl0CgogICAgIyBXYXMgdGhlIGNsb25lIG9wZXJhdGlvbiBzdWNjZXNzZnVsPwogICAgaWYgKCRwLkV4aXRDb2RlIC1uZSAwKQogICAgewogICAgICAgICRlcnJNc2cgPSAkKCJFcnJvciEgR2l0IGNsb25lIGZhaWxlZCB3aXRoIGV4aXQgY29kZSAiICsgJHAuRXhpdENvZGUgKyAiLiBQbGVhc2Ugc2VlIHRoZSBsb2cgZmlsZTogIiArICRzdGRFcnJMb2dmaWxlKQogICAgICAgIFdyaXRlTG9nICRlcnJNc2cKICAgICAgICBXcml0ZS1FcnJvciAkZXJyTXNnIAogICAgfQogICAgCiAgICBXcml0ZUxvZyAkKCJTdWNjZXNzLiBHaXQgcmVwbyBjbG9uZWQgYXQgJyIgKyAkZ2l0TG9jYWxSZXBvTG9jYXRpb24gKyAiJyIpCn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojCiMgRGVzY3JpcHRpb246CiMgIC0gUnVucyBzb21lIGNvbW1vbmx5IHVzZWQgJ2dpdCBjb25maWcnIGNvbW1hbmRzCiMgIC0gUmVzZXRzIHRoZSBnaXQgcmVtb3RlLiAKIwojIFBhcmFtZXRlcnM6CiMgIC0gJGdpdEV4ZUxvY2F0aW9uOiBMb2NhdGlvbiBvZiBnaXQuZXhlLgojICAtICRiSWdub3JlR2l0RXhpdENvZGUgOiBTZXQgdG8gJHRydWUgdG8gaWdub3JlIHRoZSBnaXQuZXhlJ3MgZXhpdGNvZGUuCiMgIC0gJGdpdFJlcG9Mb2NhdGlvbjogVGhlIEhUVFBTIGNsb25lIHVybCBvZiB0aGUgZ2l0IHJlcG9zaXRvcnkuCiMgIC0gJGdpdExvY2FsUmVwb0xvY2F0aW9uOiBUaGUgbG9jYWwgZm9sZGVyIGludG8gd2hpY2ggdGhlIGdpdCByZXBvc2l0b3J5IGhhcyBiZWVuIGNsb25lZC4KIyAgLSAkc3RkT3V0TG9nZmlsZTogVGhlIGxvZyBmaWxlIHRvIHdoaWNoIHRoZSBvcGVyYXRpb24ncyBzdGRvdXQgd2lsbCBiZSByZWRpcmVjdGVkLgojICAtICRzdGRFcnJMb2dmaWxlOiBUaGUgbG9nIGZpbGUgdG8gd2hpY2ggdGhlIG9wZXJhdGlvbidzIHN0ZGVyciB3aWxsIGJlIHJlZGlyZWN0ZWQuCiMKIyBSZXR1cm46CiMgIC0gSWYgc3VjY2Vzc2Z1bCwgdGhlbiBub3RoaW5nIGlzIHJldHVybmVkLgojICAtIEVsc2UgYSBkZXRhaWxlZCB0ZXJtaW5hdGluZyBlcnJvciBpcyB0aHJvd24uCiMKIyBOb3RlczoKIyAgLSBOL0EuCiMKCmZ1bmN0aW9uIENvbmZpZ3VyZUdpdAp7CiAgICBQYXJhbSgKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkZ2l0RXhlTG9jYXRpb24sCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0gJGJJZ25vcmVHaXRFeGl0Q29kZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkZ2l0UmVwb0xvY2F0aW9uLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRnaXRMb2NhbFJlcG9Mb2NhdGlvbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkc3RkT3V0TG9nZmlsZSwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkc3RkRXJyTG9nZmlsZQogICAgKQoKICAgICMgbGlzdCBvZiBnaXQgY29uZmlnIGNvbW1hbmRzCiAgICAkZ2l0Q29uZmlnQ21kcyA9IEAoCiAgICAgICAgImNvbmZpZyAtLXN5c3RlbSBjb3JlLnNhZmVjcmxmIHRydWUiCiAgICAgICAgImNvbmZpZyAtLXN5c3RlbSBwdXNoLmRlZmF1bHQgc2ltcGxlIgogICAgICAgICJjb25maWcgLS1zeXN0ZW0gY29yZS5wcmVsb2FkaW5kZXggdHJ1ZSIKICAgICAgICAiY29uZmlnIC0tc3lzdGVtIGNvcmUuZnNjYWNoZSB0cnVlIgogICAgICAgICJjb25maWcgLS1zeXN0ZW0gY3JlZGVudGlhbC5oZWxwZXIgd2luY3JlZCIKICAgICkKCiAgICAjIGV4ZWN1dGUgZWFjaCBnaXQgY29uZmlnIGNvbW1hbmQKICAgIGZvcmVhY2ggKCRnaXRDb25maWdDbWQgaW4gJGdpdENvbmZpZ0NtZHMpCiAgICB7CiAgICAgICAgIyBQcmVwIHRvIHN0YXJ0IGdpdC5leGUKICAgICAgICBXcml0ZUxvZyAkKCJSdW5uaW5nIGdpdCBjb25maWcuLi4iKQogICAgICAgIFdyaXRlTG9nICQoJGdpdEV4ZUxvY2F0aW9uICsgIiAiICsgJGdpdENvbmZpZ0NtZCkKCiAgICAgICAgIyBSdW4gdGhlIGdpdCBjb25maWcgZ2l0Q29uZmlnQ21kCiAgICAgICAgJHAgPSBTdGFydC1Qcm9jZXNzIC1GaWxlUGF0aCAkZ2l0RXhlTG9jYXRpb24gLUFyZ3VtZW50TGlzdCAkZ2l0Q29uZmlnQ21kIC1QYXNzVGhydSAtV2FpdAoKICAgICAgICAjIFdhcyB0aGUgY29uZmlnIG9wZXJhdGlvbiBzdWNjZXNzZnVsPwogICAgICAgIGlmICgkcC5FeGl0Q29kZSAtbmUgMCkKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkdHJ1ZSAtZXEgJGJJZ25vcmVHaXRFeGl0Q29kZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGVMb2cgJCgiR2l0LmV4ZSByZXR1cm5lZCB3aXRoIGV4aXQgY29kZSAiICsgJHAuRXhpdENvZGUgKyAiLCB3aGljaCBpcyBiZWluZyBpZ25vcmVkIGFzIHJlcXVlc3RlZC4iKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGVyck1zZyA9ICQoIkVycm9yISBHaXQgY29uZmlnIGZhaWxlZCB3aXRoIGV4aXQgY29kZSAiICsgJHAuRXhpdENvZGUgKyAiLiBQbGVhc2Ugc2VlIHRoZSBsb2cgZmlsZTogIiArICRzdGRFcnJMb2dmaWxlKQogICAgICAgICAgICAgICAgV3JpdGVMb2cgJGVyck1zZwogICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgJGVyck1zZyAKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBXcml0ZUxvZyAiU3VjY2Vzcy4iCiAgICAgICAgfQogICAgfQoKICAgICMgcmVzZXQgdGhlIGdpdCByZW1vdGUKICAgICRnaXRSZXNldFJlbW90ZUNtZCA9ICQoInJlbW90ZSBzZXQtdXJsIG9yaWdpbiAiICsgJGdpdFJlcG9Mb2NhdGlvbikKCiAgICAjIFByZXAgdG8gc3RhcnQgZ2l0LmV4ZQogICAgV3JpdGVMb2cgJCgiUnVubmluZyBnaXQgcmVtb3RlLi4uIikKICAgIFdyaXRlTG9nICQoJGdpdEV4ZUxvY2F0aW9uICsgIiAiICsgJGdpdFJlc2V0UmVtb3RlQ21kKQoKICAgICMgUnVuIHRoZSBnaXQgY29uZmlnIGdpdENvbmZpZ0NtZC4gCiAgICAjIEVuc3VyZSB0aGF0IHRoZSB3b3JraW5nIGRpcmVjdG9yeSBpcyBzZXQgdG8gdGhlIGxvY2FsIHJlcG8gKHNpbmNlIHRoZSAnZ2l0IHJlbW90ZScgY29tbWFuZCBuZWVkcyB0byBiZSBydW4gZnJvbSBhIGxvY2FsIHJlcG8pLgogICAgJHAgPSBTdGFydC1Qcm9jZXNzIC1GaWxlUGF0aCAkZ2l0RXhlTG9jYXRpb24gLUFyZ3VtZW50TGlzdCAkZ2l0UmVzZXRSZW1vdGVDbWQgLVdvcmtpbmdEaXJlY3RvcnkgJGdpdExvY2FsUmVwb0xvY2F0aW9uIC1SZWRpcmVjdFN0YW5kYXJkT3V0cHV0ICRzdGRPdXRMb2dmaWxlIC1SZWRpcmVjdFN0YW5kYXJkRXJyb3IgJHN0ZEVyckxvZ2ZpbGUgLVBhc3NUaHJ1IC1XYWl0CgogICAgIyBXYXMgdGhlIGNvbmZpZyBvcGVyYXRpb24gc3VjY2Vzc2Z1bD8KICAgIGlmICgkcC5FeGl0Q29kZSAtbmUgMCkKICAgIHsKICAgICAgICBpZiAoJHRydWUgLWVxICRiSWdub3JlR2l0RXhpdENvZGUpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZUxvZyAkKCJHaXQuZXhlIHJldHVybmVkIHdpdGggZXhpdCBjb2RlICIgKyAkcC5FeGl0Q29kZSArICIsIHdoaWNoIGlzIGJlaW5nIGlnbm9yZWQgYXMgcmVxdWVzdGVkLiIpCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRlcnJNc2cgPSAkKCJFcnJvciEgR2l0IGNvbmZpZyBmYWlsZWQgd2l0aCBleGl0IGNvZGUgIiArICRwLkV4aXRDb2RlICsgIi4gUGxlYXNlIHNlZSB0aGUgbG9nIGZpbGU6ICIgKyAkc3RkRXJyTG9nZmlsZSkKICAgICAgICAgICAgV3JpdGVMb2cgJGVyck1zZwogICAgICAgICAgICBXcml0ZS1FcnJvciAkZXJyTXNnIAogICAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBXcml0ZUxvZyAiU3VjY2Vzcy4iCiAgICB9Cn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgojCiMgRGVzY3JpcHRpb246CiMgIC0gQ3JlYXRlcyBhIGRlc2t0b3AgdXJsIHNob3J0Y3V0IHRvIHRoZSBnaXQgcmVwbydzIHByb2plY3QgcGFnZSAob24gVlNPIG9yIEdpdGh1YiBldGMpLiAKIwojIFBhcmFtZXRlcnM6CiMgIC0gJGdpdFJlcG9Mb2NhdGlvbjogVGhlIEhUVFBTIHVybCBvZiB0aGUgZ2l0IHJlcG9zaXRvcnkuCiMgIC0gJGdpdFJlcG9MZWFmOiBUaGUgJ2xlYWYnIG5hbWUgb2YgZ2l0IHJlcG8uCiMKIyBSZXR1cm46CiMgIC0gSWYgc3VjY2Vzc2Z1bCwgdGhlbiBub3RoaW5nIGlzIHJldHVybmVkLgojICAtIEVsc2UgYSBkZXRhaWxlZCB0ZXJtaW5hdGluZyBlcnJvciBpcyB0aHJvd24uCiMKIyBOb3RlczoKIyAgLSBTaG9ydGN1dHMgYXJlIGNyZWF0ZWQgb24gdGhlIHB1YmxpYyBkZXNrdG9wIChjOlx1c2Vyc1xwdWJsaWNcZGVza3RvcCkgaW4gb3JkZXIgdG8gYmUgCiMgICAgYWNjZXNzaWJsZSB0byBhbGwgdXNlcnMuCiMgIC0gTmFtaW5nIGNvbnZlbnRpb24gZm9yIHRoZSBzaG9ydGN1dHM6CiMgICAgLSAiR2l0SHViIC0ge1JlcG8gc2hvcnQtbmFtZX0iIChpZiBob3N0ZWQgb24gZ2l0aHViLiBFLmcuICJHaXRIdWIgLSBDb3JlRngiKS4KIyAgICAtICJWUyBPbmxpbmUgLSB7UmVwbyBzaG9ydC1uYW1lfSIgKGlmIGhvc3RlZCBvbiB2aXN1YWwgc3R1ZGlvIG9ubGluZS4gRS5nLiAiVlMgT25saW5lIC0gQ2xvdWRFeHBsb3JlciIpLgojICAgIC0gIlByb2plY3QgUGFnZSAtIHtSZXBvIHNob3J0LW5hbWV9IiAoaWYgaG9zdGVkIGVsc2V3aGVyZSkuCiMKCmZ1bmN0aW9uIENyZWF0ZVVybERlc2t0b3BTaG9ydGN1dAp7CiAgICBQYXJhbSgKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkZ2l0UmVwb0xvY2F0aW9uLAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRnaXRSZXBvTGVhZgogICAgKQoKICAgICRzaGVsbCA9IE5ldy1PYmplY3QgLUNvbU9iamVjdCB3c2NyaXB0LnNoZWxsCiAgICAkZGVza3RvcEZvbGRlciA9IFtTeXN0ZW0uRW52aXJvbm1lbnRdOjpHZXRGb2xkZXJQYXRoKCJDb21tb25EZXNrdG9wRGlyZWN0b3J5IikKCiAgICAkdXJsU2hvcnRjdXROYW1lID0gJCgiUHJvamVjdCBQYWdlIC0gIiArICRnaXRSZXBvTGVhZikgCgogICAgaWYgKCRnaXRSZXBvTG9jYXRpb24gLWxpa2UgIip2aXN1YWxzdHVkaW8uY29tKiIpCiAgICB7CiAgICAgICAgJHVybFNob3J0Y3V0TmFtZSA9ICQoIlZTIE9ubGluZSAtICIgKyAkZ2l0UmVwb0xlYWYpIAogICAgfQogICAgZWxzZWlmICgkZ2l0UmVwb0xvY2F0aW9uIC1saWtlICIqZ2l0aHViLmNvbSoiKQogICAgewogICAgICAgICR1cmxTaG9ydGN1dE5hbWUgPSAkKCJHaXRIdWIgLSAiICsgJGdpdFJlcG9MZWFmKSAKICAgIH0KCiAgICAjIHByZXAgdGhlIHVybCBzaG9ydGN1dCB0byB0aGUgZ2l0IHJlcG8uIAogICAgJHVybFNob3J0Y3V0UGF0aCA9ICQoJGRlc2t0b3BGb2xkZXIgKyAiXCIgKyAkdXJsU2hvcnRjdXROYW1lICsgIi51cmwiKQoKICAgICMgY3JlYXRlIHRoZSBzaG9ydGN1dCBvbmx5IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdC4KICAgIGlmICgkZmFsc2UgLWVxIChUZXN0LVBhdGggLVBhdGggJHVybFNob3J0Y3V0UGF0aCkpCiAgICB7CiAgICAgICAgJGdpdFJlcG9Mb2NhdGlvblNob3J0Y3V0ID0gJHNoZWxsLkNyZWF0ZVNob3J0Y3V0KCR1cmxTaG9ydGN1dFBhdGgpCiAgICAgICAgJGdpdFJlcG9Mb2NhdGlvblNob3J0Y3V0LlRhcmdldFBhdGggPSAkZ2l0UmVwb0xvY2F0aW9uCgogICAgICAgICMgc2F2ZSB0aGUgc2hvcnRjdXQKICAgICAgICBXcml0ZUxvZyAkKCJDcmVhdGluZyB1cmwgc2hvcnRjdXQgdG8gZ2l0IHJlcG8uLi4iKQogICAgICAgIFdyaXRlTG9nICQoIlNob3J0Y3V0IGZpbGU6ICciICsgJHVybFNob3J0Y3V0UGF0aCArICInIikKICAgICAgICBXcml0ZUxvZyAkKCJTaG9ydGN1dCB0YXJnZXQ6ICciICsgJGdpdFJlcG9Mb2NhdGlvblNob3J0Y3V0LlRhcmdldFBhdGggKyAiJyIpCiAgICAgICAgV3JpdGVMb2cgJCgiU2hvcnRjdXQgYXJnczogJyIgKyAkZ2l0UmVwb0xvY2F0aW9uU2hvcnRjdXQuQXJndW1lbnRzICsgIiciKQoKICAgICAgICAkZ2l0UmVwb0xvY2F0aW9uU2hvcnRjdXQuU2F2ZSgpCgogICAgICAgIFdyaXRlTG9nICJTdWNjZXNzLiIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBXcml0ZUxvZyAiVXJsIHNob3J0Y3V0IHRvIGdpdCByZXBvIGFscmVhZHkgZXhpc3RzLiIKICAgIH0KfQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMKIyBEZXNjcmlwdGlvbjoKIyAgLSBDcmVhdGVzIGEgLmxuayBkZXNrdG9wIHNob3J0Y3V0IHRvIHRoZSBsb2NhbCByZXBvIChvcGVucyBpbiBmaWxlIGV4cGxvcmVyKS4KIwojIFBhcmFtZXRlcnM6CiMgIC0gJGdpdExvY2FsUmVwb0xvY2F0aW9uOiBUaGUgbG9jYWwgZm9sZGVyIGludG8gd2hpY2ggdGhlIGdpdCByZXBvc2l0b3J5IGhhcyBiZWVuIGNsb25lZC4KIyAgLSAkZ2l0UmVwb0xlYWY6IFRoZSAnbGVhZicgbmFtZSBvZiBnaXQgcmVwby4KIwojIFJldHVybjoKIyAgLSBJZiBzdWNjZXNzZnVsLCB0aGVuIG5vdGhpbmcgaXMgcmV0dXJuZWQuCiMgIC0gRWxzZSBhIGRldGFpbGVkIHRlcm1pbmF0aW5nIGVycm9yIGlzIHRocm93bi4KIwojIE5vdGVzOgojICAtIFNob3J0Y3V0cyBhcmUgY3JlYXRlZCBvbiB0aGUgcHVibGljIGRlc2t0b3AgKGM6XHVzZXJzXHB1YmxpY1xkZXNrdG9wKSBpbiBvcmRlciB0byBiZSAKIyAgICBhY2Nlc3NpYmxlIHRvIGFsbCB1c2Vycy4KIwoKZnVuY3Rpb24gQ3JlYXRlRmlsZUV4cGxvcmVyRGVza3RvcFNob3J0Y3V0CnsKICAgIFBhcmFtKAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldICRnaXRMb2NhbFJlcG9Mb2NhdGlvbiwKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXSAkZ2l0UmVwb0xlYWYKICAgICkKCiAgICAkc2hlbGwgPSBOZXctT2JqZWN0IC1Db21PYmplY3Qgd3NjcmlwdC5zaGVsbAogICAgJGRlc2t0b3BGb2xkZXIgPSBbU3lzdGVtLkVudmlyb25tZW50XTo6R2V0Rm9sZGVyUGF0aCgiQ29tbW9uRGVza3RvcERpcmVjdG9yeSIpCgogICAgIyBub3cgcHJlcCB0aGUgbG5rIHNob3J0Y3V0IHRvIHRoZSBsb2NhbCByZXBvIChvcGVucyBpbiBmaWxlIGV4cGxvcmVyKQogICAgJGxua0ZpbGVFeHBsb3JlclNob3J0Y3V0UGF0aCA9ICQoJGRlc2t0b3BGb2xkZXIgKyAiXCIgKyAkZ2l0UmVwb0xlYWYgKyAiLmxuayIpCgogICAgIyBjcmVhdGUgdGhlIHNob3J0Y3V0IG9ubHkgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LgogICAgaWYgKCRmYWxzZSAtZXEgKFRlc3QtUGF0aCAtUGF0aCAkbG5rRmlsZUV4cGxvcmVyU2hvcnRjdXRQYXRoKSkKICAgIHsKICAgICAgICAkZ2l0TG9jYWxSZXBvTG9jYXRpb25GaWxlRXhwbG9yZXJTaG9ydGN1dCA9ICRzaGVsbC5DcmVhdGVTaG9ydGN1dCgkbG5rRmlsZUV4cGxvcmVyU2hvcnRjdXRQYXRoKQogICAgICAgICRnaXRMb2NhbFJlcG9Mb2NhdGlvbkZpbGVFeHBsb3JlclNob3J0Y3V0LlRhcmdldFBhdGggPSAkZ2l0TG9jYWxSZXBvTG9jYXRpb24KICAgICAgICAkZ2l0TG9jYWxSZXBvTG9jYXRpb25GaWxlRXhwbG9yZXJTaG9ydGN1dC5EZXNjcmlwdGlvbiA9ICRnaXRSZXBvTGVhZgogICAgICAgICRnaXRMb2NhbFJlcG9Mb2NhdGlvbkZpbGVFeHBsb3JlclNob3J0Y3V0LldpbmRvd1N0eWxlID0gMwoKICAgICAgICAjIHNhdmUgdGhlIHNob3J0Y3V0CiAgICAgICAgV3JpdGVMb2cgJCgiQ3JlYXRpbmcgbG5rIGZpbGUgZXhwbG9yZXIgc2hvcnRjdXQgdG8gZ2l0IGxvY2FsIHJlcG8uLi4iKQogICAgICAgIFdyaXRlTG9nICQoIlNob3J0Y3V0IGZpbGU6ICciICsgJGxua0ZpbGVFeHBsb3JlclNob3J0Y3V0UGF0aCArICInIikKICAgICAgICBXcml0ZUxvZyAkKCJTaG9ydGN1dCB0YXJnZXQ6ICciICsgJGdpdExvY2FsUmVwb0xvY2F0aW9uRmlsZUV4cGxvcmVyU2hvcnRjdXQuVGFyZ2V0UGF0aCArICInIikKICAgICAgICBXcml0ZUxvZyAkKCJTaG9ydGN1dCBhcmdzOiAnIiArICRnaXRMb2NhbFJlcG9Mb2NhdGlvbkZpbGVFeHBsb3JlclNob3J0Y3V0LkFyZ3VtZW50cyArICInIikKCiAgICAgICAgJGdpdExvY2FsUmVwb0xvY2F0aW9uRmlsZUV4cGxvcmVyU2hvcnRjdXQuU2F2ZSgpCgogICAgICAgIFdyaXRlTG9nICJTdWNjZXNzLiIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBXcml0ZUxvZyAiTG5rIGZpbGUgZXhwbG9yZXIgc2hvcnRjdXQgdG8gZ2l0IGxvY2FsIHJlcG8gYWxyZWFkeSBleGlzdHMuIgogICAgfQp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIwojIAojCgp0cnkKewogICAgSW5pdGlhbGl6ZUZvbGRlcnMKCiAgICAjIGV4dHJhY3QgdGhlIGxlYWYgbm9kZS9uYW1lIG9mIHRoZSBnaXQgcmVwbyB1cmwuCiAgICAkZ2l0UmVwb0xlYWYgPSBHZXRHaXRSZXBvTGVhZiAtZ2l0UmVwb0xvY2F0aW9uICRHaXRSZXBvTG9jYXRpb24KCiAgICAjIFdlIGRvbid0IG5lZWQgdG8gZnVsbHkgdXJsLWVuY29kZSB0aGUgcmVwbyB1cmwuIEhvd2V2ZXIgd2Ugc2hvdWxkIHJlcGxhY2Ugd2hpdGVzcGFjZXMgd2l0aCAnJTIwJy4gCiAgICBpZiAoJEdpdFJlcG9Mb2NhdGlvbi5Db250YWlucygiICIpKQogICAgewogICAgICAgICRHaXRSZXBvTG9jYXRpb24gPSAkR2l0UmVwb0xvY2F0aW9uLlJlcGxhY2UoIiAiLCAiJTIwIikKICAgIH0KCiAgICAjIGVuc3VyZSB0aGF0IHRoZSBnaXQgcmVwbyBsZWFmIGlzIGFwcGVuZGVkIHRvIHRoZSBsb2NhbCByZXBvIHBhdGggKGUuZy4gYzpcUmVwb3NcY29yZWNscikuCiAgICAkR2l0TG9jYWxSZXBvTG9jYXRpb24gPSBKb2luLVBhdGggLVBhdGggJEdpdExvY2FsUmVwb0xvY2F0aW9uIC1DaGlsZFBhdGggJGdpdFJlcG9MZWFmCgoKICAgICMKICAgIERpc3BsYXlBcmdWYWx1ZXMKICAgIAogICAgIyBpbnN0YWxsIHRoZSBjaG9jb2xhdGV5IHBhY2thZ2UgbWFuYWdlcgogICAgSW5zdGFsbENob2NvbGF0ZXkgLWNob2NvbGF0ZXlJbnN0YWxsTG9nICRDaG9jb2xhdGV5SW5zdGFsbExvZwoKICAgICMgaW5zdGFsbCB0aGUgZ2l0IGNsaWVudAogICAgJEdpdEluc3RhbGxGb2xkZXIgPSBJbnN0YWxsR2l0IC1naXRWZXJzaW9uICRHaXRTdGFibGVWZXJzaW9uCiAgICAkR2l0RXhlTG9jYXRpb24gPSBKb2luLVBhdGggLVBhdGggJEdpdEluc3RhbGxGb2xkZXIgLUNoaWxkUGF0aCAiXGJpblxnaXQuZXhlIgoKICAgICMgY2xvbmUgdGhlIHJlcG8KICAgIENsb25lR2l0UmVwbyAtZ2l0RXhlTG9jYXRpb24gJEdpdEV4ZUxvY2F0aW9uIC1naXRSZXBvTG9jYXRpb24gJEdpdFJlcG9Mb2NhdGlvbiAtZ2l0TG9jYWxSZXBvTG9jYXRpb24gJEdpdExvY2FsUmVwb0xvY2F0aW9uIC1naXRCcmFuY2ggJEdpdEJyYW5jaCAtc3RkT3V0TG9nZmlsZSAkR2l0Q2xvbmVTdGRPdXQgLXN0ZEVyckxvZ2ZpbGUgJEdpdENsb25lU3RkRXJyIC1wZXJzb25hbEFjY2Vzc1Rva2VuICRQZXJzb25hbEFjY2Vzc1Rva2VuCgogICAgIyBydW4gc29tZSBjb21tb25seSB1c2VkIGdpdCBjb25maWcgY29tbWFuZHMgICAgCiAgICBDb25maWd1cmVHaXQgLWdpdEV4ZUxvY2F0aW9uICRHaXRFeGVMb2NhdGlvbiAtYklnbm9yZUdpdEV4aXRDb2RlICRmYWxzZSAtZ2l0UmVwb0xvY2F0aW9uICRHaXRSZXBvTG9jYXRpb24gLWdpdExvY2FsUmVwb0xvY2F0aW9uICRHaXRMb2NhbFJlcG9Mb2NhdGlvbiAtc3RkT3V0TG9nZmlsZSAkR2l0Q29uZmlnU3RkT3V0IC1zdGRFcnJMb2dmaWxlICRHaXRDb25maWdTdGRFcnIgCgogICAgIyBDcmVhdGUgYSBkZXNrdG9wIHVybCBzaG9ydGN1dCB0byB0aGUgZ2l0IHJlcG8uIAogICAgQ3JlYXRlVXJsRGVza3RvcFNob3J0Y3V0IC1naXRSZXBvTG9jYXRpb24gJEdpdFJlcG9Mb2NhdGlvbiAtZ2l0UmVwb0xlYWYgJGdpdFJlcG9MZWFmCgogICAgIyBDcmVhdGUgYSAubG5rIGRlc2t0b3Agc2hvcnRjdXQgdG8gdGhlIGxvY2FsIHJlcG8gKG9wZW5zIGluIGZpbGUgZXhwbG9yZXIpLgogICAgQ3JlYXRlRmlsZUV4cGxvcmVyRGVza3RvcFNob3J0Y3V0IC1naXRMb2NhbFJlcG9Mb2NhdGlvbiAkR2l0TG9jYWxSZXBvTG9jYXRpb24gLWdpdFJlcG9MZWFmICRnaXRSZXBvTGVhZgoKICAgICMgYWxsIGRvbmUuIExldCdzIHJldHVybiB3aWxsIGV4aXQgY29kZSAwLgogICAgcmV0dXJuIDAKfQoKY2F0Y2gKewogICAgdHJ5CiAgICB7CiAgICAgICAgaWYgKCgkbnVsbCAtbmUgJEVycm9yWzBdKSAtYW5kICgkbnVsbCAtbmUgJEVycm9yWzBdLkV4Y2VwdGlvbikgLWFuZCAoJG51bGwgLW5lICRFcnJvclswXS5FeGNlcHRpb24uTWVzc2FnZSkpCiAgICAgICAgewogICAgICAgICAgICAkZXJyTXNnID0gJEVycm9yWzBdLkV4Y2VwdGlvbi5NZXNzYWdlCiAgICAgICAgICAgIFdyaXRlTG9nICRlcnJNc2cKICAgICAgICAgICAgV3JpdGUtSG9zdCAkZXJyTXNnCiAgICAgICAgfQoKICAgICAgICAjIEltcG9ydGFudCBub3RlOiBUaHJvd2luZyBhIHRlcm1pbmF0aW5nIGVycm9yICh1c2luZyAkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gInN0b3AiKSBzdGlsbCByZXR1cm5zIGV4aXQgCiAgICAgICAgIyBjb2RlIHplcm8gZnJvbSB0aGUgcG93ZXJzaGVsbCBzY3JpcHQuIFRoZSB3b3JrYXJvdW5kIGlzIHRvIHVzZSB0cnkvY2F0Y2ggYmxvY2tzIGFuZCByZXR1cm4gYSBub24temVybyAKICAgICAgICAjIGV4aXQgY29kZSBmcm9tIHRoZSBjYXRjaCBibG9jay4gCiAgICAgICAgcmV0dXJuIC0xCiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgICMgVHJ5aW5nIHRvIGxvZyBhIG1lc3NhZ2UgdGhyZXcgYW4gZXhjZXB0aW9uCiAgICAgICAgcmV0dXJuIC0yCiAgICB9Cn0=
