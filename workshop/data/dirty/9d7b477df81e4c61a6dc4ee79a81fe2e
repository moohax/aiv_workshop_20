Invoke-GetContentFromGitHub.ps1,0c501c85b5c9967c98b5cf3d2ddb8832,Scan result is 32768. IsMalware: 1,CmZ1bmN0aW9uIEludm9rZS1SZWZsZWN0aXZlUEVJbmplY3Rpb24Kewo8IwouU1lOT1BTSVMKClRoaXMgc2NyaXB0IGhhcyB0d28gbW9kZXMuIEl0IGNhbiByZWZsZWN0aXZlbHkgbG9hZCBhIERMTC9FWEUgaW4gdG8gdGhlIFBvd2VyU2hlbGwgcHJvY2VzcywgCm9yIGl0IGNhbiByZWZsZWN0aXZlbHkgbG9hZCBhIERMTCBpbiB0byBhIHJlbW90ZSBwcm9jZXNzLiBUaGVzZSBtb2RlcyBoYXZlIGRpZmZlcmVudCBwYXJhbWV0ZXJzIGFuZCBjb25zdHJhaW50cywgCnBsZWFzZSBsZWFkIHRoZSBOb3RlcyBzZWN0aW9uIChHRU5FUkFMIE5PVEVTKSBmb3IgaW5mb3JtYXRpb24gb24gaG93IHRvIHVzZSB0aGVtLgoKMS4pUmVmbGVjdGl2ZWx5IGxvYWRzIGEgRExMIG9yIEVYRSBpbiB0byBtZW1vcnkgb2YgdGhlIFBvd2Vyc2hlbGwgcHJvY2Vzcy4KQmVjYXVzZSB0aGUgRExML0VYRSBpcyBsb2FkZWQgcmVmbGVjdGl2ZWx5LCBpdCBpcyBub3QgZGlzcGxheWVkIHdoZW4gdG9vbHMgYXJlIHVzZWQgdG8gbGlzdCB0aGUgRExMcyBvZiBhIHJ1bm5pbmcgcHJvY2Vzcy4KClRoaXMgdG9vbCBjYW4gYmUgcnVuIG9uIHJlbW90ZSBzZXJ2ZXJzIGJ5IHN1cHBseWluZyBhIGxvY2FsIFdpbmRvd3MgUEUgZmlsZSAoRExML0VYRSkgdG8gbG9hZCBpbiB0byBtZW1vcnkgb24gdGhlIHJlbW90ZSBzeXN0ZW0sCnRoaXMgd2lsbCBsb2FkIGFuZCBleGVjdXRlIHRoZSBETEwvRVhFIGluIHRvIG1lbW9yeSB3aXRob3V0IHdyaXRpbmcgYW55IGZpbGVzIHRvIGRpc2suCgoyLikgUmVmbGVjdGl2ZWx5IGxvYWQgYSBETEwgaW4gdG8gbWVtb3J5IG9mIGEgcmVtb3RlIHByb2Nlc3MuCkFzIG1lbnRpb25lZCBhYm92ZSwgdGhlIERMTCBiZWluZyByZWZsZWN0aXZlbHkgbG9hZGVkIHdvbid0IGJlIGRpc3BsYXllZCB3aGVuIHRvb2xzIGFyZSB1c2VkIHRvIGxpc3QgRExMcyBvZiB0aGUgcnVubmluZyByZW1vdGUgcHJvY2Vzcy4KClRoaXMgaXMgcHJvYmFibHkgbW9zdCB1c2VmdWwgZm9yIGluamVjdGluZyBiYWNrZG9vcnMgaW4gU1lTVEVNIHByb2Nlc3NlcyBpbiBTZXNzaW9uMC4gQ3VycmVudGx5LCB5b3UgY2Fubm90IHJldHJpZXZlIG91dHB1dApmcm9tIHRoZSBETEwuIFRoZSBzY3JpcHQgZG9lc24ndCB3YWl0IGZvciB0aGUgRExMIHRvIGNvbXBsZXRlIGV4ZWN1dGlvbiwgYW5kIGRvZXNuJ3QgbWFrZSBhbnkgZWZmb3J0IHRvIGNsZWFudXAgbWVtb3J5IGluIHRoZSAKcmVtb3RlIHByb2Nlc3MuIAoKUG93ZXJTcGxvaXQgRnVuY3Rpb246IEludm9rZS1SZWZsZWN0aXZlUEVJbmplY3Rpb24KQXV0aG9yOiBKb2UgQmlhbGVrLCBUd2l0dGVyOiBASm9zZXBoQmlhbGVrCkNvZGUgcmV2aWV3IGFuZCBtb2RpZmljYXRpb25zOiBNYXR0IEdyYWViZXIsIFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbgpMaWNlbnNlOiBCU0QgMy1DbGF1c2UKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCk9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQoKLkRFU0NSSVBUSU9OCgpSZWZsZWN0aXZlbHkgbG9hZHMgYSBXaW5kb3dzIFBFIGZpbGUgKERMTC9FWEUpIGluIHRvIHRoZSBwb3dlcnNoZWxsIHByb2Nlc3MsIG9yIHJlZmxlY3RpdmVseSBpbmplY3RzIGEgRExMIGluIHRvIGEgcmVtb3RlIHByb2Nlc3MuCgouUEFSQU1FVEVSIFBFQnl0ZXMKCkEgYnl0ZSBhcnJheSBjb250YWluaW5nIGEgRExML0VYRSB0byBsb2FkIGFuZCBleGVjdXRlLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKCk9wdGlvbmFsLCBhbiBhcnJheSBvZiBjb21wdXRlcm5hbWVzIHRvIHJ1biB0aGUgc2NyaXB0IG9uLgoKLlBBUkFNRVRFUiBGdW5jUmV0dXJuVHlwZQoKT3B0aW9uYWwsIHRoZSByZXR1cm4gdHlwZSBvZiB0aGUgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIGluIHRoZSBETEwuIERlZmF1bHQ6IFZvaWQKCU9wdGlvbnM6IFN0cmluZywgV1N0cmluZywgVm9pZC4gU2VlIG5vdGVzIGZvciBtb3JlIGluZm9ybWF0aW9uLgoJSU1QT1JUQU5UOiBGb3IgRExMcyBiZWluZyBsb2FkZWQgcmVtb3RlbHksIG9ubHkgVm9pZCBpcyBzdXBwb3J0ZWQuCgkKLlBBUkFNRVRFUiBFeGVBcmdzCgpPcHRpb25hbCwgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGV4ZWN1dGFibGUgYmVpbmcgcmVmbGVjdGl2ZWx5IGxvYWRlZC4KCQouUEFSQU1FVEVSIFByb2NOYW1lCgpPcHRpb25hbCwgdGhlIG5hbWUgb2YgdGhlIHJlbW90ZSBwcm9jZXNzIHRvIGluamVjdCB0aGUgRExMIGluIHRvLiBJZiBub3QgaW5qZWN0aW5nIGluIHRvIHJlbW90ZSBwcm9jZXNzLCBpZ25vcmUgdGhpcy4KCi5QQVJBTUVURVIgUHJvY0lkCgpPcHRpb25hbCwgdGhlIHByb2Nlc3MgSUQgb2YgdGhlIHJlbW90ZSBwcm9jZXNzIHRvIGluamVjdCB0aGUgRExMIGluIHRvLiBJZiBub3QgaW5qZWN0aW5nIGluIHRvIHJlbW90ZSBwcm9jZXNzLCBpZ25vcmUgdGhpcy4KCi5QQVJBTUVURVIgRm9yY2VBU0xSCgpPcHRpb25hbCwgd2lsbCBmb3JjZSB0aGUgdXNlIG9mIEFTTFIgb24gdGhlIFBFIGJlaW5nIGxvYWRlZCBldmVuIGlmIHRoZSBQRSBpbmRpY2F0ZXMgaXQgZG9lc24ndCBzdXBwb3J0IEFTTFIuIFNvbWUgUEUncyB3aWxsIHdvcmsgd2l0aCBBU0xSIGV2ZW4KICAgIGlmIHRoZSBjb21waWxlciBmbGFncyBkb24ndCBpbmRpY2F0ZSB0aGV5IHN1cHBvcnQgaXQuIE90aGVyIFBFJ3Mgd2lsbCBzaW1wbHkgY3Jhc2guIE1ha2Ugc3VyZSB0byB0ZXN0IHRoaXMgcHJpb3IgdG8gdXNpbmcuIEhhcyBubyBlZmZlY3Qgd2hlbgogICAgbG9hZGluZyBpbiB0byBhIHJlbW90ZSBwcm9jZXNzLgoKLlBBUkFNRVRFUiBEb05vdFplcm9NWgoKT3B0aW9uYWwsIHdpbGwgbm90IHdpcGUgdGhlIE1aIGZyb20gdGhlIGZpcnN0IHR3byBieXRlcyBvZiB0aGUgUEUuIFRoaXMgaXMgdG8gYmUgdXNlZCBwcmltYXJpbHkgZm9yIHRlc3RpbmcgcHVycG9zZXMgYW5kIHRvIGVuYWJsZSBsb2FkaW5nIHRoZSBzYW1lIFBFIHdpdGggSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiBtb3JlIHRoYW4gb25jZS4KCQouRVhBTVBMRQoKTG9hZCBEZW1vRExMIGFuZCBydW4gdGhlIGV4cG9ydGVkIGZ1bmN0aW9uIFdTdHJpbmdGdW5jIG9uIFRhcmdldC5sb2NhbCwgcHJpbnQgdGhlIHdjaGFyX3QqIHJldHVybmVkIGJ5IFdTdHJpbmdGdW5jKCkuCiRQRUJ5dGVzID0gW0lPLkZpbGVdOjpSZWFkQWxsQnl0ZXMoJ0RlbW9ETEwuZGxsJykKSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiAtUEVCeXRlcyAkUEVCeXRlcyAtRnVuY1JldHVyblR5cGUgV1N0cmluZyAtQ29tcHV0ZXJOYW1lIFRhcmdldC5sb2NhbAoKLkVYQU1QTEUKCkxvYWQgRGVtb0RMTCBhbmQgcnVuIHRoZSBleHBvcnRlZCBmdW5jdGlvbiBXU3RyaW5nRnVuYyBvbiBhbGwgY29tcHV0ZXJzIGluIHRoZSBmaWxlIHRhcmdldGxpc3QudHh0LiBQcmludAoJdGhlIHdjaGFyX3QqIHJldHVybmVkIGJ5IFdTdHJpbmdGdW5jKCkgZnJvbSBhbGwgdGhlIGNvbXB1dGVycy4KJFBFQnl0ZXMgPSBbSU8uRmlsZV06OlJlYWRBbGxCeXRlcygnRGVtb0RMTC5kbGwnKQpJbnZva2UtUmVmbGVjdGl2ZVBFSW5qZWN0aW9uIC1QRUJ5dGVzICRQRUJ5dGVzIC1GdW5jUmV0dXJuVHlwZSBXU3RyaW5nIC1Db21wdXRlck5hbWUgKEdldC1Db250ZW50IHRhcmdldGxpc3QudHh0KQoKLkVYQU1QTEUKCkxvYWQgRGVtb0VYRSBhbmQgcnVuIGl0IGxvY2FsbHkuCiRQRUJ5dGVzID0gW0lPLkZpbGVdOjpSZWFkQWxsQnl0ZXMoJ0RlbW9FWEUuZXhlJykKSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiAtUEVCeXRlcyAkUEVCeXRlcyAtRXhlQXJncyAiQXJnMSBBcmcyIEFyZzMgQXJnNCIKCi5FWEFNUExFCgpMb2FkIERlbW9FWEUgYW5kIHJ1biBpdCBsb2NhbGx5LiBGb3JjZXMgQVNMUiBvbiBmb3IgdGhlIEVYRS4KJFBFQnl0ZXMgPSBbSU8uRmlsZV06OlJlYWRBbGxCeXRlcygnRGVtb0VYRS5leGUnKQpJbnZva2UtUmVmbGVjdGl2ZVBFSW5qZWN0aW9uIC1QRUJ5dGVzICRQRUJ5dGVzIC1FeGVBcmdzICJBcmcxIEFyZzIgQXJnMyBBcmc0IiAtRm9yY2VBU0xSCgouRVhBTVBMRQoKUmVmZWN0aXZlbHkgbG9hZCBEZW1vRExMX1JlbW90ZVByb2Nlc3MuZGxsIGluIHRvIHRoZSBsc2FzcyBwcm9jZXNzIG9uIGEgcmVtb3RlIGNvbXB1dGVyLgokUEVCeXRlcyA9IFtJTy5GaWxlXTo6UmVhZEFsbEJ5dGVzKCdEZW1vRExMX1JlbW90ZVByb2Nlc3MuZGxsJykKSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiAtUEVCeXRlcyAkUEVCeXRlcyAtUHJvY05hbWUgbHNhc3MgLUNvbXB1dGVyTmFtZSBUYXJnZXQuTG9jYWwKCi5OT1RFUwpHRU5FUkFMIE5PVEVTOgpUaGUgc2NyaXB0IGhhcyAzIGJhc2ljIHNldHMgb2YgZnVuY3Rpb25hbGl0eToKMS4pIFJlZmxlY3RpdmVseSBsb2FkIGEgRExMIGluIHRvIHRoZSBQb3dlclNoZWxsIHByb2Nlc3MKCS1DYW4gcmV0dXJuIERMTCBvdXRwdXQgdG8gdXNlciB3aGVuIHJ1biByZW1vdGVseSBvciBsb2NhbGx5LgoJLUNsZWFucyB1cCBtZW1vcnkgaW4gdGhlIFBTIHByb2Nlc3Mgb25jZSB0aGUgRExMIGZpbmlzaGVzIGV4ZWN1dGluZy4KCS1HcmVhdCBmb3IgcnVubmluZyBwZW50ZXN0IHRvb2xzIG9uIHJlbW90ZSBjb21wdXRlcnMgd2l0aG91dCB0cmlnZ2VyaW5nIHByb2Nlc3MgbW9uaXRvcmluZyBhbGVydHMuCgktQnkgZGVmYXVsdCwgdGFrZXMgMyBmdW5jdGlvbiBuYW1lcywgc2VlIGJlbG93IChETEwgTE9BRElORyBOT1RFUykgZm9yIG1vcmUgaW5mby4KMi4pIFJlZmxlY3RpdmVseSBsb2FkIGFuIEVYRSBpbiB0byB0aGUgUG93ZXJTaGVsbCBwcm9jZXNzLgoJLUNhbiBOT1QgcmV0dXJuIEVYRSBvdXRwdXQgdG8gdXNlciB3aGVuIHJ1biByZW1vdGVseS4gSWYgcmVtb3RlIG91dHB1dCBpcyBuZWVkZWQsIHlvdSBtdXN0IHVzZSBhIERMTC4gQ0FOIHJldHVybiBFWEUgb3V0cHV0IGlmIHJ1biBsb2NhbGx5LgoJLUNsZWFucyB1cCBtZW1vcnkgaW4gdGhlIFBTIHByb2Nlc3Mgb25jZSB0aGUgRExMIGZpbmlzaGVzIGV4ZWN1dGluZy4KCS1HcmVhdCBmb3IgcnVubmluZyBleGlzdGluZyBwZW50ZXN0IHRvb2xzIHdoaWNoIGFyZSBFWEUncyB3aXRob3V0IHRyaWdnZXJpbmcgcHJvY2VzcyBtb25pdG9yaW5nIGFsZXJ0cy4KMy4pIFJlZmxlY3RpdmVseSBpbmplY3QgYSBETEwgaW4gdG8gYSByZW1vdGUgcHJvY2Vzcy4KCS1DYW4gTk9UIHJldHVybiBETEwgb3V0cHV0IHRvIHRoZSB1c2VyIHdoZW4gcnVuIHJlbW90ZWx5IE9SIGxvY2FsbHkuCgktRG9lcyBOT1QgY2xlYW4gdXAgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyBpZi93aGVuIERMTCBmaW5pc2hlcyBleGVjdXRpb24uCgktR3JlYXQgZm9yIHBsYW50aW5nIGJhY2tkb29yIG9uIGEgc3lzdGVtIGJ5IGluamVjdGluZyBiYWNrZG9vciBETEwgaW4gdG8gYW5vdGhlciBwcm9jZXNzZXMgbWVtb3J5LgoJLUV4cGVjdHMgdGhlIERMTCB0byBoYXZlIHRoaXMgZnVuY3Rpb246IHZvaWQgVm9pZEZ1bmMoKS4gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgRExMIGlzIGxvYWRlZC4KCkRMTCBMT0FESU5HIE5PVEVTOgoKUG93ZXJTaGVsbCBkb2VzIG5vdCBjYXB0dXJlIGFuIGFwcGxpY2F0aW9ucyBvdXRwdXQgaWYgaXQgaXMgb3V0cHV0IHVzaW5nIHN0ZG91dCwgd2hpY2ggaXMgaG93IFdpbmRvd3MgY29uc29sZSBhcHBzIG91dHB1dC4KSWYgeW91IG5lZWQgdG8gZ2V0IGJhY2sgdGhlIG91dHB1dCBmcm9tIHRoZSBQRSBmaWxlIHlvdSBhcmUgbG9hZGluZyBvbiByZW1vdGUgY29tcHV0ZXJzLCB5b3UgbXVzdCBjb21waWxlIHRoZSBQRSBmaWxlIGFzIGEgRExMLCBhbmQgaGF2ZSB0aGUgRExMCnJldHVybiBhIGNoYXIqIG9yIHdjaGFyX3QqLCB3aGljaCBQb3dlclNoZWxsIGNhbiB0YWtlIGFuZCByZWFkIHRoZSBvdXRwdXQgZnJvbS4gQW55dGhpbmcgb3V0cHV0IGZyb20gc3Rkb3V0IHdoaWNoIGlzIHJ1biB1c2luZyBwb3dlcnNoZWxsCnJlbW90aW5nIHdpbGwgbm90IGJlIHJldHVybmVkIHRvIHlvdS4gSWYgeW91IGp1c3QgcnVuIHRoZSBQb3dlclNoZWxsIHNjcmlwdCBsb2NhbGx5LCB5b3UgV0lMTCBiZSBhYmxlIHRvIHNlZSB0aGUgc3Rkb3V0IG91dHB1dCBmcm9tCmFwcGxpY2F0aW9ucyBiZWNhdXNlIGl0IHdpbGwganVzdCBhcHBlYXIgaW4gdGhlIGNvbnNvbGUgd2luZG93LiBUaGUgbGltaXRhdGlvbiBvbmx5IGFwcGxpZXMgd2hlbiB1c2luZyBQb3dlclNoZWxsIHJlbW90aW5nLgoKRm9yIERMTCBMb2FkaW5nOgpPbmNlIHRoaXMgc2NyaXB0IGxvYWRzIHRoZSBETEwsIGl0IGNhbGxzIGEgZnVuY3Rpb24gaW4gdGhlIERMTC4gVGhlcmUgaXMgYSBzZWN0aW9uIG5lYXIgdGhlIGJvdHRvbSBsYWJlbGVkICJZT1VSIENPREUgR09FUyBIRVJFIgpJIHJlY29tbWVuZCB5b3VyIERMTCB0YWtlIG5vIHBhcmFtZXRlcnMuIEkgaGF2ZSBwcmV3cml0dGVuIGNvZGUgdG8gaGFuZGxlIGZ1bmN0aW9ucyB3aGljaCB0YWtlIG5vIHBhcmFtZXRlcnMgYXJlIHJldHVybgp0aGUgZm9sbG93aW5nIHR5cGVzOiBjaGFyKiwgd2NoYXJfdCosIGFuZCB2b2lkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBjaGFyKiBvciB3Y2hhcl90KiB0aGUgc2NyaXB0IHdpbGwgb3V0cHV0IHRoZQpyZXR1cm5lZCBkYXRhLiBUaGUgRnVuY1JldHVyblR5cGUgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggcmV0dXJuIHR5cGUgdG8gdXNlLiBUaGUgbWFwcGluZyBpcyBhcyBmb2xsb3dzOgp3Y2hhcl90KiAgIDogRnVuY1JldHVyblR5cGUgPSBXU3RyaW5nCmNoYXIqICAgICAgOiBGdW5jUmV0dXJuVHlwZSA9IFN0cmluZwp2b2lkICAgICAgIDogRGVmYXVsdCwgZG9uJ3Qgc3VwcGx5IGEgRnVuY1JldHVyblR5cGUKCkZvciB0aGUgd2hjYXJfdCogYW5kIGNoYXJfdCogb3B0aW9ucyB0byB3b3JrLCB5b3UgbXVzdCBhbGxvY2F0ZSB0aGUgc3RyaW5nIHRvIHRoZSBoZWFwLiBEb24ndCBzaW1wbHkgY29udmVydCBhIHN0cmluZwp1c2luZyBzdHJpbmcuY19zdHIoKSBiZWNhdXNlIGl0IHdpbGwgYmUgYWxsb2NhZWQgb24gdGhlIHN0YWNrIGFuZCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgRExMIHJldHVybnMuCgpUaGUgZnVuY3Rpb24gbmFtZSBleHBlY3RlZCBpbiB0aGUgRExMIGZvciB0aGUgcHJld3JpdHRlbiBGdW5jUmV0dXJuVHlwZSdzIGlzIGFzIGZvbGxvd3M6CldTdHJpbmcgICAgOiBXU3RyaW5nRnVuYwpTdHJpbmcgICAgIDogU3RyaW5nRnVuYwpWb2lkICAgICAgIDogVm9pZEZ1bmMKClRoZXNlIGZ1bmN0aW9uIG5hbWVzIEFSRSBjYXNlIHNlbnNpdGl2ZS4gVG8gY3JlYXRlIGFuIGV4cG9ydGVkIERMTCBmdW5jdGlvbiBmb3IgdGhlIHdzdHJpbmcgdHlwZSwgdGhlIGZ1bmN0aW9uIHdvdWxkCmJlIGRlY2xhcmVkIGFzIGZvbGxvd3M6CmV4dGVybiAiQyIgX19kZWNsc3BlYyggZGxsZXhwb3J0ICkgd2NoYXJfdCogV1N0cmluZ0Z1bmMoKQoKCklmIHlvdSB3YW50IHRvIHVzZSBhIERMTCB3aGljaCByZXR1cm5zIGEgZGlmZmVyZW50IGRhdGEgdHlwZSwgb3Igd2hpY2ggdGFrZXMgcGFyYW1ldGVycywgeW91IHdpbGwgbmVlZCB0byBtb2RpZnkKdGhpcyBzY3JpcHQgdG8gYWNjb21vZGF0ZSB0aGlzLiBZb3UgY2FuIGZpbmQgdGhlIGNvZGUgdG8gbW9kaWZ5IGluIHRoZSBzZWN0aW9uIGxhYmVsZWQgIllPVVIgQ09ERSBHT0VTIEhFUkUiLgoKRmluZCBhIERlbW9ETEwgYXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9jbHltYjNyL1Bvd2VyU2hlbGwvdHJlZS9tYXN0ZXIvSW52b2tlLVJlZmxlY3RpdmVEbGxJbmplY3Rpb24KCi5MSU5LCgpodHRwOi8vY2x5bWIzci53b3JkcHJlc3MuY29tLzIwMTMvMDQvMDYvcmVmbGVjdGl2ZS1kbGwtaW5qZWN0aW9uLXdpdGgtcG93ZXJzaGVsbC8KCkJsb2cgb24gbW9kaWZ5aW5nIG1pbWlrYXR6IGZvciByZWZsZWN0aXZlIGxvYWRpbmc6IGh0dHA6Ly9jbHltYjNyLndvcmRwcmVzcy5jb20vMjAxMy8wNC8wOS9tb2RpZnlpbmctbWltaWthdHotdG8tYmUtbG9hZGVkLXVzaW5nLWludm9rZS1yZWZsZWN0aXZlZGxsaW5qZWN0aW9uLXBzMS8KQmxvZyBvbiB1c2luZyB0aGlzIHNjcmlwdCBhcyBhIGJhY2tkb29yIHdpdGggU1FMIHNlcnZlcjogaHR0cDovL3d3dy5jYXNhYmEuY29tL2Jsb2cvCiM+CgpbQ21kbGV0QmluZGluZygpXQpQYXJhbSgKICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgW0J5dGVbXV0KICAgICRQRUJ5dGVzLAoJCglbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSldCglbU3RyaW5nW11dCgkkQ29tcHV0ZXJOYW1lLAoJCglbUGFyYW1ldGVyKFBvc2l0aW9uID0gMildCiAgICBbVmFsaWRhdGVTZXQoICdXU3RyaW5nJywgJ1N0cmluZycsICdWb2lkJyApXQoJW1N0cmluZ10KCSRGdW5jUmV0dXJuVHlwZSA9ICdWb2lkJywKCQoJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMpXQoJW1N0cmluZ10KCSRFeGVBcmdzLAoJCglbUGFyYW1ldGVyKFBvc2l0aW9uID0gNCldCglbSW50MzJdCgkkUHJvY0lkLAoJCglbUGFyYW1ldGVyKFBvc2l0aW9uID0gNSldCglbU3RyaW5nXQoJJFByb2NOYW1lLAoKICAgIFtTd2l0Y2hdCiAgICAkRm9yY2VBU0xSLAoKCVtTd2l0Y2hdCgkkRG9Ob3RaZXJvTVoKKQoKU2V0LVN0cmljdE1vZGUgLVZlcnNpb24gMgoKCiRSZW1vdGVTY3JpcHRCbG9jayA9IHsKCVtDbWRsZXRCaW5kaW5nKCldCglQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtCeXRlW11dCgkJJFBFQnl0ZXMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3RyaW5nXQoJCSRGdW5jUmV0dXJuVHlwZSwKCQkJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDMyXQoJCSRQcm9jSWQsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3RyaW5nXQoJCSRQcm9jTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDQsIE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbQm9vbF0KICAgICAgICAkRm9yY2VBU0xSCgkpCgkKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkjIyMjIyMjIyMjICBXaW4zMiBTdHVmZiAgIyMjIyMjIyMjIwoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCUZ1bmN0aW9uIEdldC1XaW4zMlR5cGVzCgl7CgkJJFdpbjMyVHlwZXMgPSBOZXctT2JqZWN0IFN5c3RlbS5PYmplY3QKCgkJI0RlZmluZSBhbGwgdGhlIHN0cnVjdHVyZXMvZW51bXMgdGhhdCB3aWxsIGJlIHVzZWQKCQkjCVRoaXMgYXJ0aWNsZSBzaG93cyB5b3UgaG93IHRvIGRvIHRoaXMgd2l0aCByZWZsZWN0aW9uOiBodHRwOi8vd3d3LmV4cGxvaXQtbW9uZGF5LmNvbS8yMDEyLzA3L3N0cnVjdHMtYW5kLWVudW1zLXVzaW5nLXJlZmxlY3Rpb24uaHRtbAoJCSREb21haW4gPSBbQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbgoJCSREeW5hbWljQXNzZW1ibHkgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5TmFtZSgnRHluYW1pY0Fzc2VtYmx5JykKCQkkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bmFtaWNBc3NlbWJseSwgW1N5c3RlbS5SZWZsZWN0aW9uLkVtaXQuQXNzZW1ibHlCdWlsZGVyQWNjZXNzXTo6UnVuKQoJCSRNb2R1bGVCdWlsZGVyID0gJEFzc2VtYmx5QnVpbGRlci5EZWZpbmVEeW5hbWljTW9kdWxlKCdEeW5hbWljTW9kdWxlJywgJGZhbHNlKQoJCSRDb25zdHJ1Y3RvckluZm8gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KCgoJCSMjIyMjIyMjIyMjIyAgICBFTlVNICAgICMjIyMjIyMjIyMjIwoJCSNFbnVtIE1hY2hpbmVUeXBlCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lRW51bSgnTWFjaGluZVR5cGUnLCAnUHVibGljJywgW1VJbnQxNl0pCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ05hdGl2ZScsIFtVSW50MTZdIDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSTM4NicsIFtVSW50MTZdIDB4MDE0YykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJdGFuaXVtJywgW1VJbnQxNl0gMHgwMjAwKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ3g2NCcsIFtVSW50MTZdIDB4ODY2NCkgfCBPdXQtTnVsbAoJCSRNYWNoaW5lVHlwZSA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE1hY2hpbmVUeXBlIC1WYWx1ZSAkTWFjaGluZVR5cGUKCgkJI0VudW0gTWFnaWNUeXBlCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lRW51bSgnTWFnaWNUeXBlJywgJ1B1YmxpYycsIFtVSW50MTZdKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9OVF9PUFRJT05BTF9IRFIzMl9NQUdJQycsIFtVSW50MTZdIDB4MTBiKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX05UX09QVElPTkFMX0hEUjY0X01BR0lDJywgW1VJbnQxNl0gMHgyMGIpIHwgT3V0LU51bGwKCQkkTWFnaWNUeXBlID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTWFnaWNUeXBlIC1WYWx1ZSAkTWFnaWNUeXBlCgoJCSNFbnVtIFN1YlN5c3RlbVR5cGUKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVFbnVtKCdTdWJTeXN0ZW1UeXBlJywgJ1B1YmxpYycsIFtVSW50MTZdKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9TVUJTWVNURU1fVU5LTk9XTicsIFtVSW50MTZdIDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfU1VCU1lTVEVNX05BVElWRScsIFtVSW50MTZdIDEpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfU1VCU1lTVEVNX1dJTkRPV1NfR1VJJywgW1VJbnQxNl0gMikgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9TVUJTWVNURU1fV0lORE9XU19DVUknLCBbVUludDE2XSAzKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9QT1NJWF9DVUknLCBbVUludDE2XSA3KSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9XSU5ET1dTX0NFX0dVSScsIFtVSW50MTZdIDkpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfU1VCU1lTVEVNX0VGSV9BUFBMSUNBVElPTicsIFtVSW50MTZdIDEwKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9FRklfQk9PVF9TRVJWSUNFX0RSSVZFUicsIFtVSW50MTZdIDExKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9FRklfUlVOVElNRV9EUklWRVInLCBbVUludDE2XSAxMikgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9TVUJTWVNURU1fRUZJX1JPTScsIFtVSW50MTZdIDEzKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9YQk9YJywgW1VJbnQxNl0gMTQpIHwgT3V0LU51bGwKCQkkU3ViU3lzdGVtVHlwZSA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN1YlN5c3RlbVR5cGUgLVZhbHVlICRTdWJTeXN0ZW1UeXBlCgoJCSNFbnVtIERsbENoYXJhY3RlcmlzdGljc1R5cGUKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVFbnVtKCdEbGxDaGFyYWN0ZXJpc3RpY3NUeXBlJywgJ1B1YmxpYycsIFtVSW50MTZdKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMCcsIFtVSW50MTZdIDB4MDAwMSkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMScsIFtVSW50MTZdIDB4MDAwMikgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMicsIFtVSW50MTZdIDB4MDAwNCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMycsIFtVSW50MTZdIDB4MDAwOCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExfQ0hBUkFDVEVSSVNUSUNTX0RZTkFNSUNfQkFTRScsIFtVSW50MTZdIDB4MDA0MCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExfQ0hBUkFDVEVSSVNUSUNTX0ZPUkNFX0lOVEVHUklUWScsIFtVSW50MTZdIDB4MDA4MCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExfQ0hBUkFDVEVSSVNUSUNTX05YX0NPTVBBVCcsIFtVSW50MTZdIDB4MDEwMCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExDSEFSQUNURVJJU1RJQ1NfTk9fSVNPTEFUSU9OJywgW1VJbnQxNl0gMHgwMjAwKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX0RMTENIQVJBQ1RFUklTVElDU19OT19TRUgnLCBbVUludDE2XSAweDA0MDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX05PX0JJTkQnLCBbVUludDE2XSAweDA4MDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnUkVTXzQnLCBbVUludDE2XSAweDEwMDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX1dETV9EUklWRVInLCBbVUludDE2XSAweDIwMDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX1RFUk1JTkFMX1NFUlZFUl9BV0FSRScsIFtVSW50MTZdIDB4ODAwMCkgfCBPdXQtTnVsbAoJCSREbGxDaGFyYWN0ZXJpc3RpY3NUeXBlID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRGxsQ2hhcmFjdGVyaXN0aWNzVHlwZSAtVmFsdWUgJERsbENoYXJhY3RlcmlzdGljc1R5cGUKCgkJIyMjIyMjIyMjIyMgICAgU1RSVUNUICAgICMjIyMjIyMjIyMjCgkJI1N0cnVjdCBJTUFHRV9EQVRBX0RJUkVDVE9SWQoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgRXhwbGljaXRMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0RBVEFfRElSRUNUT1JZJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgOCkKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdWaXJ0dWFsQWRkcmVzcycsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg0KSB8IE91dC1OdWxsCgkJJElNQUdFX0RBVEFfRElSRUNUT1JZID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfREFUQV9ESVJFQ1RPUlkgLVZhbHVlICRJTUFHRV9EQVRBX0RJUkVDVE9SWQoKCQkjU3RydWN0IElNQUdFX0ZJTEVfSEVBREVSCgkJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdJTUFHRV9GSUxFX0hFQURFUicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDIwKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFjaGluZScsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTnVtYmVyT2ZTZWN0aW9ucycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVGltZURhdGVTdGFtcCcsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUG9pbnRlclRvU3ltYm9sVGFibGUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mU3ltYm9scycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mT3B0aW9uYWxIZWFkZXInLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NoYXJhY3RlcmlzdGljcycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRJTUFHRV9GSUxFX0hFQURFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX0ZJTEVfSEVBREVSIC1WYWx1ZSAkSU1BR0VfRklMRV9IRUFERVIKCgkJI1N0cnVjdCBJTUFHRV9PUFRJT05BTF9IRUFERVI2NAoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgRXhwbGljaXRMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX09QVElPTkFMX0hFQURFUjY0JywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgMjQwKQoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01hZ2ljJywgJE1hZ2ljVHlwZSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01ham9yTGlua2VyVmVyc2lvbicsIFtCeXRlXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01pbm9yTGlua2VyVmVyc2lvbicsIFtCeXRlXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMykgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkNvZGUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkluaXRpYWxpemVkRGF0YScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mVW5pbml0aWFsaXplZERhdGEnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBZGRyZXNzT2ZFbnRyeVBvaW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQmFzZU9mQ29kZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgyMCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ltYWdlQmFzZScsIFtVSW50NjRdLCAnUHVibGljJykpLlNldE9mZnNldCgyNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NlY3Rpb25BbGlnbm1lbnQnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMzIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGaWxlQWxpZ25tZW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDM2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWlub3JPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JJbWFnZVZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNDQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vckltYWdlVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg0NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01ham9yU3Vic3lzdGVtVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg0OCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01pbm9yU3Vic3lzdGVtVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg1MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1dpbjMyVmVyc2lvblZhbHVlJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDUyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mSW1hZ2UnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNTYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZIZWFkZXJzJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDYwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ2hlY2tTdW0nLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNjQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTdWJzeXN0ZW0nLCAkU3ViU3lzdGVtVHlwZSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdEbGxDaGFyYWN0ZXJpc3RpY3MnLCAkRGxsQ2hhcmFjdGVyaXN0aWNzVHlwZSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNzApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZTdGFja1Jlc2VydmUnLCBbVUludDY0XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNzIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZTdGFja0NvbW1pdCcsIFtVSW50NjRdLCAnUHVibGljJykpLlNldE9mZnNldCg4MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkhlYXBSZXNlcnZlJywgW1VJbnQ2NF0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDg4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mSGVhcENvbW1pdCcsIFtVSW50NjRdLCAnUHVibGljJykpLlNldE9mZnNldCg5NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvYWRlckZsYWdzJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDEwNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mUnZhQW5kU2l6ZXMnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTA4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRXhwb3J0VGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDExMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ltcG9ydFRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdSZXNvdXJjZVRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdFeGNlcHRpb25UYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTM2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ2VydGlmaWNhdGVUYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTQ0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQmFzZVJlbG9jYXRpb25UYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTUyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRGVidWcnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE2MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FyY2hpdGVjdHVyZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTY4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnR2xvYmFsUHRyJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxNzYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdUTFNUYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTg0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9hZENvbmZpZ1RhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxOTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdCb3VuZEltcG9ydCcsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjAwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSUFUJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgyMDgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdEZWxheUltcG9ydERlc2NyaXB0b3InLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIxNikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NMUlJ1bnRpbWVIZWFkZXInLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIyNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1Jlc2VydmVkJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgyMzIpIHwgT3V0LU51bGwKCQkkSU1BR0VfT1BUSU9OQUxfSEVBREVSNjQgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9PUFRJT05BTF9IRUFERVI2NCAtVmFsdWUgJElNQUdFX09QVElPTkFMX0hFQURFUjY0CgoJCSNTdHJ1Y3QgSU1BR0VfT1BUSU9OQUxfSEVBREVSMzIKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIEV4cGxpY2l0TGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdJTUFHRV9PUFRJT05BTF9IRUFERVIzMicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDIyNCkKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWdpYycsICRNYWdpY1R5cGUsICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWpvckxpbmtlclZlcnNpb24nLCBbQnl0ZV0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vckxpbmtlclZlcnNpb24nLCBbQnl0ZV0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDMpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZDb2RlJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZJbml0aWFsaXplZERhdGEnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoOCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZlVuaW5pdGlhbGl6ZWREYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDEyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQWRkcmVzc09mRW50cnlQb2ludCcsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgxNikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0Jhc2VPZkNvZGUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdCYXNlT2ZEYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDI0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSW1hZ2VCYXNlJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDI4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2VjdGlvbkFsaWdubWVudCcsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgzMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ZpbGVBbGlnbm1lbnQnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMzYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWpvck9wZXJhdGluZ1N5c3RlbVZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNDApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vck9wZXJhdGluZ1N5c3RlbVZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNDIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWpvckltYWdlVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg0NCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01pbm9ySW1hZ2VWZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQ2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JTdWJzeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQ4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWlub3JTdWJzeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDUwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnV2luMzJWZXJzaW9uVmFsdWUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZJbWFnZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg1NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkhlYWRlcnMnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDaGVja1N1bScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg2NCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1N1YnN5c3RlbScsICRTdWJTeXN0ZW1UeXBlLCAnUHVibGljJykpLlNldE9mZnNldCg2OCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0RsbENoYXJhY3RlcmlzdGljcycsICREbGxDaGFyYWN0ZXJpc3RpY3NUeXBlLCAnUHVibGljJykpLlNldE9mZnNldCg3MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZlN0YWNrUmVzZXJ2ZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg3MikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZlN0YWNrQ29tbWl0JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDc2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mSGVhcFJlc2VydmUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoODApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZIZWFwQ29tbWl0JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDg0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9hZGVyRmxhZ3MnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoODgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdOdW1iZXJPZlJ2YUFuZFNpemVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDkyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRXhwb3J0VGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDk2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSW1wb3J0VGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDEwNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1Jlc291cmNlVGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDExMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0V4Y2VwdGlvblRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDZXJ0aWZpY2F0ZVRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdCYXNlUmVsb2NhdGlvblRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMzYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdEZWJ1ZycsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTQ0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQXJjaGl0ZWN0dXJlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxNTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdHbG9iYWxQdHInLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE2MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RMU1RhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxNjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb2FkQ29uZmlnVGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE3NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0JvdW5kSW1wb3J0JywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxODQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdJQVQnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE5MikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0RlbGF5SW1wb3J0RGVzY3JpcHRvcicsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjAwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ0xSUnVudGltZUhlYWRlcicsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjA4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUmVzZXJ2ZWQnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIxNikgfCBPdXQtTnVsbAoJCSRJTUFHRV9PUFRJT05BTF9IRUFERVIzMiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX09QVElPTkFMX0hFQURFUjMyIC1WYWx1ZSAkSU1BR0VfT1BUSU9OQUxfSEVBREVSMzIKCgkJI1N0cnVjdCBJTUFHRV9OVF9IRUFERVJTNjQKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX05UX0hFQURFUlM2NCcsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDI2NCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpZ25hdHVyZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRmlsZUhlYWRlcicsICRJTUFHRV9GSUxFX0hFQURFUiwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ09wdGlvbmFsSGVhZGVyJywgJElNQUdFX09QVElPTkFMX0hFQURFUjY0LCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRJTUFHRV9OVF9IRUFERVJTNjQgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9OVF9IRUFERVJTNjQgLVZhbHVlICRJTUFHRV9OVF9IRUFERVJTNjQKCQkKCQkjU3RydWN0IElNQUdFX05UX0hFQURFUlMzMgoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnSU1BR0VfTlRfSEVBREVSUzMyJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgMjQ4KQoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2lnbmF0dXJlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGaWxlSGVhZGVyJywgJElNQUdFX0ZJTEVfSEVBREVSLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnT3B0aW9uYWxIZWFkZXInLCAkSU1BR0VfT1BUSU9OQUxfSEVBREVSMzIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJElNQUdFX05UX0hFQURFUlMzMiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX05UX0hFQURFUlMzMiAtVmFsdWUgJElNQUdFX05UX0hFQURFUlMzMgoKCQkjU3RydWN0IElNQUdFX0RPU19IRUFERVIKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0RPU19IRUFERVInLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA2NCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfbWFnaWMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfY2JscCcsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9jcCcsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9jcmxjJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdlX2NwYXJoZHInLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfbWluYWxsb2MnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfbWF4YWxsb2MnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfc3MnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfc3AnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfY3N1bScsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9pcCcsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9jcycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9sZmFybGMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfb3ZubycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoKCQkkZV9yZXNGaWVsZCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9yZXMnLCBbVUludDE2W11dLCAnUHVibGljLCBIYXNGaWVsZE1hcnNoYWwnKQoJCSRDb25zdHJ1Y3RvclZhbHVlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5Vbm1hbmFnZWRUeXBlXTo6QnlWYWxBcnJheQoJCSRGaWVsZEFycmF5ID0gQChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0RmllbGQoJ1NpemVDb25zdCcpKQoJCSRBdHRyaWJCdWlsZGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgJENvbnN0cnVjdG9yVmFsdWUsICRGaWVsZEFycmF5LCBAKFtJbnQzMl0gNCkpCgkJJGVfcmVzRmllbGQuU2V0Q3VzdG9tQXR0cmlidXRlKCRBdHRyaWJCdWlsZGVyKQoKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfb2VtaWQnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfb2VtaW5mbycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoKCQkkZV9yZXMyRmllbGQgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfcmVzMicsIFtVSW50MTZbXV0sICdQdWJsaWMsIEhhc0ZpZWxkTWFyc2hhbCcpCgkJJENvbnN0cnVjdG9yVmFsdWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLlVubWFuYWdlZFR5cGVdOjpCeVZhbEFycmF5CgkJJEF0dHJpYkJ1aWxkZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkQ29uc3RydWN0b3JJbmZvLCAkQ29uc3RydWN0b3JWYWx1ZSwgJEZpZWxkQXJyYXksIEAoW0ludDMyXSAxMCkpCgkJJGVfcmVzMkZpZWxkLlNldEN1c3RvbUF0dHJpYnV0ZSgkQXR0cmliQnVpbGRlcikKCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdlX2xmYW5ldycsIFtJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJElNQUdFX0RPU19IRUFERVIgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfRE9TX0hFQURFUiAtVmFsdWUgJElNQUdFX0RPU19IRUFERVIKCgkJI1N0cnVjdCBJTUFHRV9TRUNUSU9OX0hFQURFUgoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnSU1BR0VfU0VDVElPTl9IRUFERVInLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA0MCkKCgkJJG5hbWVGaWVsZCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTmFtZScsIFtDaGFyW11dLCAnUHVibGljLCBIYXNGaWVsZE1hcnNoYWwnKQoJCSRDb25zdHJ1Y3RvclZhbHVlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5Vbm1hbmFnZWRUeXBlXTo6QnlWYWxBcnJheQoJCSRBdHRyaWJCdWlsZGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgJENvbnN0cnVjdG9yVmFsdWUsICRGaWVsZEFycmF5LCBAKFtJbnQzMl0gOCkpCgkJJG5hbWVGaWVsZC5TZXRDdXN0b21BdHRyaWJ1dGUoJEF0dHJpYkJ1aWxkZXIpCgoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVmlydHVhbFNpemUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1ZpcnR1YWxBZGRyZXNzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZSYXdEYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQb2ludGVyVG9SYXdEYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQb2ludGVyVG9SZWxvY2F0aW9ucycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUG9pbnRlclRvTGluZW51bWJlcnMnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mUmVsb2NhdGlvbnMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mTGluZW51bWJlcnMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NoYXJhY3RlcmlzdGljcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRJTUFHRV9TRUNUSU9OX0hFQURFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1NFQ1RJT05fSEVBREVSIC1WYWx1ZSAkSU1BR0VfU0VDVElPTl9IRUFERVIKCgkJI1N0cnVjdCBJTUFHRV9CQVNFX1JFTE9DQVRJT04KCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0JBU0VfUkVMT0NBVElPTicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDgpCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdWaXJ0dWFsQWRkcmVzcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mQmxvY2snLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkSU1BR0VfQkFTRV9SRUxPQ0FUSU9OID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfQkFTRV9SRUxPQ0FUSU9OIC1WYWx1ZSAkSU1BR0VfQkFTRV9SRUxPQ0FUSU9OCgoJCSNTdHJ1Y3QgSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0lNUE9SVF9ERVNDUklQVE9SJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgMjApCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDaGFyYWN0ZXJpc3RpY3MnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RpbWVEYXRlU3RhbXAnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ZvcndhcmRlckNoYWluJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdOYW1lJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGaXJzdFRodW5rJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJElNQUdFX0lNUE9SVF9ERVNDUklQVE9SID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IgLVZhbHVlICRJTUFHRV9JTVBPUlRfREVTQ1JJUFRPUgoKCQkjU3RydWN0IElNQUdFX0VYUE9SVF9ESVJFQ1RPUlkKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0VYUE9SVF9ESVJFQ1RPUlknLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA0MCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NoYXJhY3RlcmlzdGljcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVGltZURhdGVTdGFtcCcsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JWZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vclZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ05hbWUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0Jhc2UnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mRnVuY3Rpb25zJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdOdW1iZXJPZk5hbWVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBZGRyZXNzT2ZGdW5jdGlvbnMnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FkZHJlc3NPZk5hbWVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBZGRyZXNzT2ZOYW1lT3JkaW5hbHMnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkSU1BR0VfRVhQT1JUX0RJUkVDVE9SWSA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX0VYUE9SVF9ESVJFQ1RPUlkgLVZhbHVlICRJTUFHRV9FWFBPUlRfRElSRUNUT1JZCgkJCgkJI1N0cnVjdCBMVUlECgkJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdMVUlEJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgOCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvd1BhcnQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0hpZ2hQYXJ0JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJExVSUQgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBMVUlEIC1WYWx1ZSAkTFVJRAoJCQoJCSNTdHJ1Y3QgTFVJRF9BTkRfQVRUUklCVVRFUwoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnTFVJRF9BTkRfQVRUUklCVVRFUycsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDEyKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTHVpZCcsICRMVUlELCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQXR0cmlidXRlcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRMVUlEX0FORF9BVFRSSUJVVEVTID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTFVJRF9BTkRfQVRUUklCVVRFUyAtVmFsdWUgJExVSURfQU5EX0FUVFJJQlVURVMKCQkKCQkjU3RydWN0IFRPS0VOX1BSSVZJTEVHRVMKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1RPS0VOX1BSSVZJTEVHRVMnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCAxNikKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1ByaXZpbGVnZUNvdW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQcml2aWxlZ2VzJywgJExVSURfQU5EX0FUVFJJQlVURVMsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFRPS0VOX1BSSVZJTEVHRVMgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBUT0tFTl9QUklWSUxFR0VTIC1WYWx1ZSAkVE9LRU5fUFJJVklMRUdFUwoKCQlyZXR1cm4gJFdpbjMyVHlwZXMKCX0KCglGdW5jdGlvbiBHZXQtV2luMzJDb25zdGFudHMKCXsKCQkkV2luMzJDb25zdGFudHMgPSBOZXctT2JqZWN0IFN5c3RlbS5PYmplY3QKCQkKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBNRU1fQ09NTUlUIC1WYWx1ZSAweDAwMDAxMDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTUVNX1JFU0VSVkUgLVZhbHVlIDB4MDAwMDIwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX05PQUNDRVNTIC1WYWx1ZSAweDAxCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEFHRV9SRUFET05MWSAtVmFsdWUgMHgwMgoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBBR0VfUkVBRFdSSVRFIC1WYWx1ZSAweDA0CgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEFHRV9XUklURUNPUFkgLVZhbHVlIDB4MDgKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX0VYRUNVVEUgLVZhbHVlIDB4MTAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX0VYRUNVVEVfUkVBRCAtVmFsdWUgMHgyMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBBR0VfRVhFQ1VURV9SRUFEV1JJVEUgLVZhbHVlIDB4NDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX0VYRUNVVEVfV1JJVEVDT1BZIC1WYWx1ZSAweDgwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEFHRV9OT0NBQ0hFIC1WYWx1ZSAweDIwMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1JFTF9CQVNFRF9BQlNPTFVURSAtVmFsdWUgMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1JFTF9CQVNFRF9ISUdITE9XIC1WYWx1ZSAzCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfUkVMX0JBU0VEX0RJUjY0IC1WYWx1ZSAxMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1NDTl9NRU1fRElTQ0FSREFCTEUgLVZhbHVlIDB4MDIwMDAwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9TQ05fTUVNX0VYRUNVVEUgLVZhbHVlIDB4MjAwMDAwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9TQ05fTUVNX1JFQUQgLVZhbHVlIDB4NDAwMDAwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9TQ05fTUVNX1dSSVRFIC1WYWx1ZSAweDgwMDAwMDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfU0NOX01FTV9OT1RfQ0FDSEVEIC1WYWx1ZSAweDA0MDAwMDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTUVNX0RFQ09NTUlUIC1WYWx1ZSAweDQwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9GSUxFX0VYRUNVVEFCTEVfSU1BR0UgLVZhbHVlIDB4MDAwMgoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX0ZJTEVfRExMIC1WYWx1ZSAweDIwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9ETExDSEFSQUNURVJJU1RJQ1NfRFlOQU1JQ19CQVNFIC1WYWx1ZSAweDQwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX05YX0NPTVBBVCAtVmFsdWUgMHgxMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBNRU1fUkVMRUFTRSAtVmFsdWUgMHg4MDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVE9LRU5fUVVFUlkgLVZhbHVlIDB4MDAwOAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFRPS0VOX0FESlVTVF9QUklWSUxFR0VTIC1WYWx1ZSAweDAwMjAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTRV9QUklWSUxFR0VfRU5BQkxFRCAtVmFsdWUgMHgyCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRVJST1JfTk9fVE9LRU4gLVZhbHVlIDB4M2YwCgkJCgkJcmV0dXJuICRXaW4zMkNvbnN0YW50cwoJfQoKCUZ1bmN0aW9uIEdldC1XaW4zMkZ1bmN0aW9ucwoJewoJCSRXaW4zMkZ1bmN0aW9ucyA9IE5ldy1PYmplY3QgU3lzdGVtLk9iamVjdAoJCQoJCSRWaXJ0dWFsQWxsb2NBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsQWxsb2MKCQkkVmlydHVhbEFsbG9jRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCgkJJFZpcnR1YWxBbGxvYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NBZGRyLCAkVmlydHVhbEFsbG9jRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbEFsbG9jIC1WYWx1ZSAkVmlydHVhbEFsbG9jCgkJCgkJJFZpcnR1YWxBbGxvY0V4QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEFsbG9jRXgKCQkkVmlydHVhbEFsbG9jRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCgkJJFZpcnR1YWxBbGxvY0V4ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFZpcnR1YWxBbGxvY0V4QWRkciwgJFZpcnR1YWxBbGxvY0V4RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbEFsbG9jRXggLVZhbHVlICRWaXJ0dWFsQWxsb2NFeAoJCQoJCSRtZW1jcHlBZGRyID0gR2V0LVByb2NBZGRyZXNzIG1zdmNydC5kbGwgbWVtY3B5CgkJJG1lbWNweURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnRQdHJdKSAoW0ludFB0cl0pCgkJJG1lbWNweSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRtZW1jcHlBZGRyLCAkbWVtY3B5RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgbWVtY3B5IC1WYWx1ZSAkbWVtY3B5CgkJCgkJJG1lbXNldEFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgbXN2Y3J0LmRsbCBtZW1zZXQKCQkkbWVtc2V0RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCgkJJG1lbXNldCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRtZW1zZXRBZGRyLCAkbWVtc2V0RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgbWVtc2V0IC1WYWx1ZSAkbWVtc2V0CgkJCgkJJExvYWRMaWJyYXJ5QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgTG9hZExpYnJhcnlBCgkJJExvYWRMaWJyYXJ5RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1N0cmluZ10pIChbSW50UHRyXSkKCQkkTG9hZExpYnJhcnkgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTG9hZExpYnJhcnlBZGRyLCAkTG9hZExpYnJhcnlEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBMb2FkTGlicmFyeSAtVmFsdWUgJExvYWRMaWJyYXJ5CgkJCgkJJEdldFByb2NBZGRyZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0UHJvY0FkZHJlc3MKCQkkR2V0UHJvY0FkZHJlc3NEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1N0cmluZ10pIChbSW50UHRyXSkKCQkkR2V0UHJvY0FkZHJlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0UHJvY0FkZHJlc3NBZGRyLCAkR2V0UHJvY0FkZHJlc3NEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBHZXRQcm9jQWRkcmVzcyAtVmFsdWUgJEdldFByb2NBZGRyZXNzCgkJCgkJJEdldFByb2NBZGRyZXNzSW50UHRyQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0UHJvY0FkZHJlc3MgI1RoaXMgaXMgc3RpbGwgR2V0UHJvY0FkZHJlc3MsIGJ1dCBpbnN0ZWFkIG9mIFBvd2VyU2hlbGwgY29udmVydGluZyB0aGUgc3RyaW5nIHRvIGEgcG9pbnRlciwgeW91IG11c3QgZG8gaXQgeW91cnNlbGYKCQkkR2V0UHJvY0FkZHJlc3NJbnRQdHJEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0pIChbSW50UHRyXSkKCQkkR2V0UHJvY0FkZHJlc3NJbnRQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0UHJvY0FkZHJlc3NJbnRQdHJBZGRyLCAkR2V0UHJvY0FkZHJlc3NJbnRQdHJEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBHZXRQcm9jQWRkcmVzc0ludFB0ciAtVmFsdWUgJEdldFByb2NBZGRyZXNzSW50UHRyCgkJCgkJJFZpcnR1YWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEZyZWUKCQkkVmlydHVhbEZyZWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnRQdHJdLCBbVUludDMyXSkgKFtCb29sXSkKCQkkVmlydHVhbEZyZWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkVmlydHVhbEZyZWVBZGRyLCAkVmlydHVhbEZyZWVEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAtTmFtZSBWaXJ0dWFsRnJlZSAtVmFsdWUgJFZpcnR1YWxGcmVlCgkJCgkJJFZpcnR1YWxGcmVlRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsRnJlZUV4CgkJJFZpcnR1YWxGcmVlRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50UHRyXSwgW1VJbnQzMl0pIChbQm9vbF0pCgkJJFZpcnR1YWxGcmVlRXggPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkVmlydHVhbEZyZWVFeEFkZHIsICRWaXJ0dWFsRnJlZUV4RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbEZyZWVFeCAtVmFsdWUgJFZpcnR1YWxGcmVlRXgKCQkKCQkkVmlydHVhbFByb3RlY3RBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsUHJvdGVjdAoJCSRWaXJ0dWFsUHJvdGVjdERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludFB0cl0sIFtVSW50MzJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCgkJJFZpcnR1YWxQcm90ZWN0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFZpcnR1YWxQcm90ZWN0QWRkciwgJFZpcnR1YWxQcm90ZWN0RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbFByb3RlY3QgLVZhbHVlICRWaXJ0dWFsUHJvdGVjdAoJCQoJCSRHZXRNb2R1bGVIYW5kbGVBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBHZXRNb2R1bGVIYW5kbGVBCgkJJEdldE1vZHVsZUhhbmRsZURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtTdHJpbmddKSAoW0ludFB0cl0pCgkJJEdldE1vZHVsZUhhbmRsZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRHZXRNb2R1bGVIYW5kbGVBZGRyLCAkR2V0TW9kdWxlSGFuZGxlRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgR2V0TW9kdWxlSGFuZGxlIC1WYWx1ZSAkR2V0TW9kdWxlSGFuZGxlCgkJCgkJJEZyZWVMaWJyYXJ5QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgRnJlZUxpYnJhcnkKCQkkRnJlZUxpYnJhcnlEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbQm9vbF0pIChbSW50UHRyXSkKCQkkRnJlZUxpYnJhcnkgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkRnJlZUxpYnJhcnlBZGRyLCAkRnJlZUxpYnJhcnlEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBGcmVlTGlicmFyeSAtVmFsdWUgJEZyZWVMaWJyYXJ5CgkJCgkJJE9wZW5Qcm9jZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgT3BlblByb2Nlc3MKCSAgICAkT3BlblByb2Nlc3NEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbVUludDMyXSwgW0Jvb2xdLCBbVUludDMyXSkgKFtJbnRQdHJdKQoJICAgICRPcGVuUHJvY2VzcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuUHJvY2Vzc0FkZHIsICRPcGVuUHJvY2Vzc0RlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE9wZW5Qcm9jZXNzIC1WYWx1ZSAkT3BlblByb2Nlc3MKCQkKCQkkV2FpdEZvclNpbmdsZU9iamVjdEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIFdhaXRGb3JTaW5nbGVPYmplY3QKCSAgICAkV2FpdEZvclNpbmdsZU9iamVjdERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSkgKFtVSW50MzJdKQoJICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFdhaXRGb3JTaW5nbGVPYmplY3RBZGRyLCAkV2FpdEZvclNpbmdsZU9iamVjdERlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFdhaXRGb3JTaW5nbGVPYmplY3QgLVZhbHVlICRXYWl0Rm9yU2luZ2xlT2JqZWN0CgkJCgkJJFdyaXRlUHJvY2Vzc01lbW9yeUFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIFdyaXRlUHJvY2Vzc01lbW9yeQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludFB0cl0sIFtVSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJFdyaXRlUHJvY2Vzc01lbW9yeSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRXcml0ZVByb2Nlc3NNZW1vcnlBZGRyLCAkV3JpdGVQcm9jZXNzTWVtb3J5RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgV3JpdGVQcm9jZXNzTWVtb3J5IC1WYWx1ZSAkV3JpdGVQcm9jZXNzTWVtb3J5CgkJCgkJJFJlYWRQcm9jZXNzTWVtb3J5QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgUmVhZFByb2Nlc3NNZW1vcnkKICAgICAgICAkUmVhZFByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludFB0cl0sIFtVSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJFJlYWRQcm9jZXNzTWVtb3J5ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFJlYWRQcm9jZXNzTWVtb3J5QWRkciwgJFJlYWRQcm9jZXNzTWVtb3J5RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVhZFByb2Nlc3NNZW1vcnkgLVZhbHVlICRSZWFkUHJvY2Vzc01lbW9yeQoJCQoJCSRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBDcmVhdGVSZW1vdGVUaHJlYWQKICAgICAgICAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyLCAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ3JlYXRlUmVtb3RlVGhyZWFkIC1WYWx1ZSAkQ3JlYXRlUmVtb3RlVGhyZWFkCgkJCgkJJEdldEV4aXRDb2RlVGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0RXhpdENvZGVUaHJlYWQKICAgICAgICAkR2V0RXhpdENvZGVUaHJlYWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJEdldEV4aXRDb2RlVGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEdldEV4aXRDb2RlVGhyZWFkQWRkciwgJEdldEV4aXRDb2RlVGhyZWFkRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgR2V0RXhpdENvZGVUaHJlYWQgLVZhbHVlICRHZXRFeGl0Q29kZVRocmVhZAoJCQoJCSRPcGVuVGhyZWFkVG9rZW5BZGRyID0gR2V0LVByb2NBZGRyZXNzIEFkdmFwaTMyLmRsbCBPcGVuVGhyZWFkVG9rZW4KICAgICAgICAkT3BlblRocmVhZFRva2VuRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbQm9vbF0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICAgICAkT3BlblRocmVhZFRva2VuID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE9wZW5UaHJlYWRUb2tlbkFkZHIsICRPcGVuVGhyZWFkVG9rZW5EZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBPcGVuVGhyZWFkVG9rZW4gLVZhbHVlICRPcGVuVGhyZWFkVG9rZW4KCQkKCQkkR2V0Q3VycmVudFRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIEdldEN1cnJlbnRUaHJlYWQKICAgICAgICAkR2V0Q3VycmVudFRocmVhZERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKCkgKFtJbnRQdHJdKQogICAgICAgICRHZXRDdXJyZW50VGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEdldEN1cnJlbnRUaHJlYWRBZGRyLCAkR2V0Q3VycmVudFRocmVhZERlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIEdldEN1cnJlbnRUaHJlYWQgLVZhbHVlICRHZXRDdXJyZW50VGhyZWFkCgkJCgkJJEFkanVzdFRva2VuUHJpdmlsZWdlc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgQWR2YXBpMzIuZGxsIEFkanVzdFRva2VuUHJpdmlsZWdlcwogICAgICAgICRBZGp1c3RUb2tlblByaXZpbGVnZXNEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0Jvb2xdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSkgKFtCb29sXSkKICAgICAgICAkQWRqdXN0VG9rZW5Qcml2aWxlZ2VzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEFkanVzdFRva2VuUHJpdmlsZWdlc0FkZHIsICRBZGp1c3RUb2tlblByaXZpbGVnZXNEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBBZGp1c3RUb2tlblByaXZpbGVnZXMgLVZhbHVlICRBZGp1c3RUb2tlblByaXZpbGVnZXMKCQkKCQkkTG9va3VwUHJpdmlsZWdlVmFsdWVBZGRyID0gR2V0LVByb2NBZGRyZXNzIEFkdmFwaTMyLmRsbCBMb29rdXBQcml2aWxlZ2VWYWx1ZUEKICAgICAgICAkTG9va3VwUHJpdmlsZWdlVmFsdWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbU3RyaW5nXSwgW1N0cmluZ10sIFtJbnRQdHJdKSAoW0Jvb2xdKQogICAgICAgICRMb29rdXBQcml2aWxlZ2VWYWx1ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMb29rdXBQcml2aWxlZ2VWYWx1ZUFkZHIsICRMb29rdXBQcml2aWxlZ2VWYWx1ZURlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIExvb2t1cFByaXZpbGVnZVZhbHVlIC1WYWx1ZSAkTG9va3VwUHJpdmlsZWdlVmFsdWUKCQkKCQkkSW1wZXJzb25hdGVTZWxmQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBBZHZhcGkzMi5kbGwgSW1wZXJzb25hdGVTZWxmCiAgICAgICAgJEltcGVyc29uYXRlU2VsZkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnQzMl0pIChbQm9vbF0pCiAgICAgICAgJEltcGVyc29uYXRlU2VsZiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRJbXBlcnNvbmF0ZVNlbGZBZGRyLCAkSW1wZXJzb25hdGVTZWxmRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSW1wZXJzb25hdGVTZWxmIC1WYWx1ZSAkSW1wZXJzb25hdGVTZWxmCgkJCgkJIyBOdENyZWF0ZVRocmVhZEV4IGlzIG9ubHkgZXZlciBjYWxsZWQgb24gVmlzdGEgYW5kIFdpbjcuIE50Q3JlYXRlVGhyZWFkRXggaXMgbm90IGV4cG9ydGVkIGJ5IG50ZGxsLmRsbCBpbiBXaW5kb3dzIFhQCiAgICAgICAgaWYgKChbRW52aXJvbm1lbnRdOjpPU1ZlcnNpb24uVmVyc2lvbiAtZ2UgKE5ldy1PYmplY3QgJ1ZlcnNpb24nIDYsMCkpIC1hbmQgKFtFbnZpcm9ubWVudF06Ok9TVmVyc2lvbi5WZXJzaW9uIC1sdCAoTmV3LU9iamVjdCAnVmVyc2lvbicgNiwyKSkpIHsKCQkgICAgJE50Q3JlYXRlVGhyZWFkRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIE50RGxsLmRsbCBOdENyZWF0ZVRocmVhZEV4CiAgICAgICAgICAgICROdENyZWF0ZVRocmVhZEV4RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbVUludDMyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtCb29sXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbVUludDMyXSwgW0ludFB0cl0pIChbVUludDMyXSkKICAgICAgICAgICAgJE50Q3JlYXRlVGhyZWFkRXggPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTnRDcmVhdGVUaHJlYWRFeEFkZHIsICROdENyZWF0ZVRocmVhZEV4RGVsZWdhdGUpCgkJICAgICRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE50Q3JlYXRlVGhyZWFkRXggLVZhbHVlICROdENyZWF0ZVRocmVhZEV4CiAgICAgICAgfQoJCQoJCSRJc1dvdzY0UHJvY2Vzc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgS2VybmVsMzIuZGxsIElzV293NjRQcm9jZXNzCiAgICAgICAgJElzV293NjRQcm9jZXNzRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtCb29sXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJElzV293NjRQcm9jZXNzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJElzV293NjRQcm9jZXNzQWRkciwgJElzV293NjRQcm9jZXNzRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSXNXb3c2NFByb2Nlc3MgLVZhbHVlICRJc1dvdzY0UHJvY2VzcwoJCQoJCSRDcmVhdGVUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIEtlcm5lbDMyLmRsbCBDcmVhdGVUaHJlYWQKICAgICAgICAkQ3JlYXRlVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50MzJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbSW50UHRyXSkKICAgICAgICAkQ3JlYXRlVGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJENyZWF0ZVRocmVhZEFkZHIsICRDcmVhdGVUaHJlYWREZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBDcmVhdGVUaHJlYWQgLVZhbHVlICRDcmVhdGVUaHJlYWQKCQkKCQlyZXR1cm4gJFdpbjMyRnVuY3Rpb25zCgl9CgkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoJCQkKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSMjIyMjIyMjIyMjICAgIEhFTFBFUlMgICAjIyMjIyMjIyMjIyMKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgkjUG93ZXJzaGVsbCBvbmx5IGRvZXMgc2lnbmVkIGFyaXRobWV0aWMsIHNvIGlmIHdlIHdhbnQgdG8gY2FsY3VsYXRlIG1lbW9yeSBhZGRyZXNzZXMgd2UgaGF2ZSB0byB1c2UgdGhpcyBmdW5jdGlvbgoJI1RoaXMgd2lsbCBhZGQgc2lnbmVkIGludGVnZXJzIGFzIGlmIHRoZXkgd2VyZSB1bnNpZ25lZCBpbnRlZ2VycyBzbyB3ZSBjYW4gYWNjdXJhdGVseSBjYWxjdWxhdGUgbWVtb3J5IGFkZHJlc3NlcwoJRnVuY3Rpb24gU3ViLVNpZ25lZEludEFzVW5zaWduZWQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnQ2NF0KCQkkVmFsdWUxLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDY0XQoJCSRWYWx1ZTIKCQkpCgkJCgkJW0J5dGVbXV0kVmFsdWUxQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlMSkKCQlbQnl0ZVtdXSRWYWx1ZTJCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkVmFsdWUyKQoJCVtCeXRlW11dJEZpbmFsQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoW1VJbnQ2NF0wKQoKCQlpZiAoJFZhbHVlMUJ5dGVzLkNvdW50IC1lcSAkVmFsdWUyQnl0ZXMuQ291bnQpCgkJewoJCQkkQ2FycnlPdmVyID0gMAoJCQlmb3IgKCRpID0gMDsgJGkgLWx0ICRWYWx1ZTFCeXRlcy5Db3VudDsgJGkrKykKCQkJewoJCQkJJFZhbCA9ICRWYWx1ZTFCeXRlc1skaV0gLSAkQ2FycnlPdmVyCgkJCQkjU3ViIGJ5dGVzCgkJCQlpZiAoJFZhbCAtbHQgJFZhbHVlMkJ5dGVzWyRpXSkKCQkJCXsKCQkJCQkkVmFsICs9IDI1NgoJCQkJCSRDYXJyeU92ZXIgPSAxCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJJENhcnJ5T3ZlciA9IDAKCQkJCX0KCQkJCQoJCQkJCgkJCQlbVUludDE2XSRTdW0gPSAkVmFsIC0gJFZhbHVlMkJ5dGVzWyRpXQoKCQkJCSRGaW5hbEJ5dGVzWyRpXSA9ICRTdW0gLWJhbmQgMHgwMEZGCgkJCX0KCQl9CgkJZWxzZQoJCXsKCQkJVGhyb3cgIkNhbm5vdCBzdWJ0cmFjdCBieXRlYXJyYXlzIG9mIGRpZmZlcmVudCBzaXplcyIKCQl9CgkJCgkJcmV0dXJuIFtCaXRDb252ZXJ0ZXJdOjpUb0ludDY0KCRGaW5hbEJ5dGVzLCAwKQoJfQoJCgoJRnVuY3Rpb24gQWRkLVNpZ25lZEludEFzVW5zaWduZWQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnQ2NF0KCQkkVmFsdWUxLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDY0XQoJCSRWYWx1ZTIKCQkpCgkJCgkJW0J5dGVbXV0kVmFsdWUxQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlMSkKCQlbQnl0ZVtdXSRWYWx1ZTJCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkVmFsdWUyKQoJCVtCeXRlW11dJEZpbmFsQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoW1VJbnQ2NF0wKQoKCQlpZiAoJFZhbHVlMUJ5dGVzLkNvdW50IC1lcSAkVmFsdWUyQnl0ZXMuQ291bnQpCgkJewoJCQkkQ2FycnlPdmVyID0gMAoJCQlmb3IgKCRpID0gMDsgJGkgLWx0ICRWYWx1ZTFCeXRlcy5Db3VudDsgJGkrKykKCQkJewoJCQkJI0FkZCBieXRlcwoJCQkJW1VJbnQxNl0kU3VtID0gJFZhbHVlMUJ5dGVzWyRpXSArICRWYWx1ZTJCeXRlc1skaV0gKyAkQ2FycnlPdmVyCgoJCQkJJEZpbmFsQnl0ZXNbJGldID0gJFN1bSAtYmFuZCAweDAwRkYKCQkJCQoJCQkJaWYgKCgkU3VtIC1iYW5kIDB4RkYwMCkgLWVxIDB4MTAwKQoJCQkJewoJCQkJCSRDYXJyeU92ZXIgPSAxCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJJENhcnJ5T3ZlciA9IDAKCQkJCX0KCQkJfQoJCX0KCQllbHNlCgkJewoJCQlUaHJvdyAiQ2Fubm90IGFkZCBieXRlYXJyYXlzIG9mIGRpZmZlcmVudCBzaXplcyIKCQl9CgkJCgkJcmV0dXJuIFtCaXRDb252ZXJ0ZXJdOjpUb0ludDY0KCRGaW5hbEJ5dGVzLCAwKQoJfQoJCgoJRnVuY3Rpb24gQ29tcGFyZS1WYWwxR3JlYXRlclRoYW5WYWwyQXNVSW50Cgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50NjRdCgkJJFZhbHVlMSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnQ2NF0KCQkkVmFsdWUyCgkJKQoJCQoJCVtCeXRlW11dJFZhbHVlMUJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRWYWx1ZTEpCgkJW0J5dGVbXV0kVmFsdWUyQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlMikKCgkJaWYgKCRWYWx1ZTFCeXRlcy5Db3VudCAtZXEgJFZhbHVlMkJ5dGVzLkNvdW50KQoJCXsKCQkJZm9yICgkaSA9ICRWYWx1ZTFCeXRlcy5Db3VudC0xOyAkaSAtZ2UgMDsgJGktLSkKCQkJewoJCQkJaWYgKCRWYWx1ZTFCeXRlc1skaV0gLWd0ICRWYWx1ZTJCeXRlc1skaV0pCgkJCQl7CgkJCQkJcmV0dXJuICR0cnVlCgkJCQl9CgkJCQllbHNlaWYgKCRWYWx1ZTFCeXRlc1skaV0gLWx0ICRWYWx1ZTJCeXRlc1skaV0pCgkJCQl7CgkJCQkJcmV0dXJuICRmYWxzZQoJCQkJfQoJCQl9CgkJfQoJCWVsc2UKCQl7CgkJCVRocm93ICJDYW5ub3QgY29tcGFyZSBieXRlIGFycmF5cyBvZiBkaWZmZXJlbnQgc2l6ZSIKCQl9CgkJCgkJcmV0dXJuICRmYWxzZQoJfQoJCgoJRnVuY3Rpb24gQ29udmVydC1VSW50VG9JbnQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtVSW50NjRdCgkJJFZhbHVlCgkJKQoJCQoJCVtCeXRlW11dJFZhbHVlQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlKQoJCXJldHVybiAoW0JpdENvbnZlcnRlcl06OlRvSW50NjQoJFZhbHVlQnl0ZXMsIDApKQoJfQoKCiAgICBGdW5jdGlvbiBHZXQtSGV4CiAgICB7CiAgICAgICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICAkVmFsdWUgI1dlIHdpbGwgZGV0ZXJtaW5lIHRoZSB0eXBlIGR5bmFtaWNhbGx5CiAgICAgICAgKQoKICAgICAgICAkVmFsdWVTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRWYWx1ZS5HZXRUeXBlKCkpICogMgogICAgICAgICRIZXggPSAiMHh7MDpYJCgkVmFsdWVTaXplKX0iIC1mIFtJbnQ2NF0kVmFsdWUgI1Bhc3NpbmcgYSBJbnRQdHIgdG8gdGhpcyBkb2Vzbid0IHdvcmsgd2VsbC4gQ2FzdCB0byBJbnQ2NCBmaXJzdC4KCiAgICAgICAgcmV0dXJuICRIZXgKICAgIH0KCQoJCglGdW5jdGlvbiBUZXN0LU1lbW9yeVJhbmdlVmFsaWQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTdHJpbmddCgkJJERlYnVnU3RyaW5nLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFBFSW5mbywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnRQdHJdCgkJJFN0YXJ0QWRkcmVzcywKCQkKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiU2l6ZSIsIFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnRQdHJdCgkJJFNpemUKCQkpCgkJCgkgICAgW0ludFB0cl0kRmluYWxFbmRBZGRyZXNzID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRTdGFydEFkZHJlc3MpICgkU2l6ZSkpCgkJCgkJJFBFRW5kQWRkcmVzcyA9ICRQRUluZm8uRW5kQWRkcmVzcwoJCQoJCWlmICgoQ29tcGFyZS1WYWwxR3JlYXRlclRoYW5WYWwyQXNVSW50ICgkUEVJbmZvLlBFSGFuZGxlKSAoJFN0YXJ0QWRkcmVzcykpIC1lcSAkdHJ1ZSkKCQl7CgkJCVRocm93ICJUcnlpbmcgdG8gd3JpdGUgdG8gbWVtb3J5IHNtYWxsZXIgdGhhbiBhbGxvY2F0ZWQgYWRkcmVzcyByYW5nZS4gJERlYnVnU3RyaW5nIgoJCX0KCQlpZiAoKENvbXBhcmUtVmFsMUdyZWF0ZXJUaGFuVmFsMkFzVUludCAoJEZpbmFsRW5kQWRkcmVzcykgKCRQRUVuZEFkZHJlc3MpKSAtZXEgJHRydWUpCgkJewoJCQlUaHJvdyAiVHJ5aW5nIHRvIHdyaXRlIHRvIG1lbW9yeSBncmVhdGVyIHRoYW4gYWxsb2NhdGVkIGFkZHJlc3MgcmFuZ2UuICREZWJ1Z1N0cmluZyIKCQl9Cgl9CgkKCQoJRnVuY3Rpb24gV3JpdGUtQnl0ZXNUb01lbW9yeQoJewoJCVBhcmFtKAoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQkJW0J5dGVbXV0KCQkJJEJ5dGVzLAoJCQkKCQkJW1BhcmFtZXRlcihQb3NpdGlvbj0xLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJCVtJbnRQdHJdCgkJCSRNZW1vcnlBZGRyZXNzCgkJKQoJCgkJZm9yICgkT2Zmc2V0ID0gMDsgJE9mZnNldCAtbHQgJEJ5dGVzLkxlbmd0aDsgJE9mZnNldCsrKQoJCXsKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6V3JpdGVCeXRlKCRNZW1vcnlBZGRyZXNzLCAkT2Zmc2V0LCAkQnl0ZXNbJE9mZnNldF0pCgkJfQoJfQoJCgoJI0Z1bmN0aW9uIHdyaXR0ZW4gYnkgTWF0dCBHcmFlYmVyLCBUd2l0dGVyOiBAbWF0dGlmZXN0YXRpb24sIEJsb2c6IGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tLwoJRnVuY3Rpb24gR2V0LURlbGVnYXRlVHlwZQoJewoJICAgIFBhcmFtCgkgICAgKAoJICAgICAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQoJICAgICAgICAKCSAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAwKV0KCSAgICAgICAgW1R5cGVbXV0KCSAgICAgICAgJFBhcmFtZXRlcnMgPSAoTmV3LU9iamVjdCBUeXBlW10oMCkpLAoJICAgICAgICAKCSAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxICldCgkgICAgICAgIFtUeXBlXQoJICAgICAgICAkUmV0dXJuVHlwZSA9IFtWb2lkXQoJICAgICkKCgkgICAgJERvbWFpbiA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluCgkgICAgJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1JlZmxlY3RlZERlbGVnYXRlJykKCSAgICAkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCgkgICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ0luTWVtb3J5TW9kdWxlJywgJGZhbHNlKQoJICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ015RGVsZWdhdGVUeXBlJywgJ0NsYXNzLCBQdWJsaWMsIFNlYWxlZCwgQW5zaUNsYXNzLCBBdXRvQ2xhc3MnLCBbU3lzdGVtLk11bHRpY2FzdERlbGVnYXRlXSkKCSAgICAkQ29uc3RydWN0b3JCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZUNvbnN0cnVjdG9yKCdSVFNwZWNpYWxOYW1lLCBIaWRlQnlTaWcsIFB1YmxpYycsIFtTeXN0ZW0uUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwgJFBhcmFtZXRlcnMpCgkgICAgJENvbnN0cnVjdG9yQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKCSAgICAkTWV0aG9kQnVpbGRlciA9ICRUeXBlQnVpbGRlci5EZWZpbmVNZXRob2QoJ0ludm9rZScsICdQdWJsaWMsIEhpZGVCeVNpZywgTmV3U2xvdCwgVmlydHVhbCcsICRSZXR1cm5UeXBlLCAkUGFyYW1ldGVycykKCSAgICAkTWV0aG9kQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKCSAgICAKCSAgICBXcml0ZS1PdXRwdXQgJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJfQoKCgkjRnVuY3Rpb24gd3JpdHRlbiBieSBNYXR0IEdyYWViZXIsIFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbiwgQmxvZzogaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20vCglGdW5jdGlvbiBHZXQtUHJvY0FkZHJlc3MKCXsKCSAgICBQYXJhbQoJICAgICgKCSAgICAgICAgW091dHB1dFR5cGUoW0ludFB0cl0pXQoJICAgIAoJICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlICldCgkgICAgICAgIFtTdHJpbmddCgkgICAgICAgICRNb2R1bGUsCgkgICAgICAgIAoJICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICRUcnVlICldCgkgICAgICAgIFtTdHJpbmddCgkgICAgICAgICRQcm9jZWR1cmUKCSAgICApCgoJICAgICMgR2V0IGEgcmVmZXJlbmNlIHRvIFN5c3RlbS5kbGwgaW4gdGhlIEdBQwoJICAgICRTeXN0ZW1Bc3NlbWJseSA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluLkdldEFzc2VtYmxpZXMoKSB8CgkgICAgICAgIFdoZXJlLU9iamVjdCB7ICRfLkdsb2JhbEFzc2VtYmx5Q2FjaGUgLUFuZCAkXy5Mb2NhdGlvbi5TcGxpdCgnXFwnKVstMV0uRXF1YWxzKCdTeXN0ZW0uZGxsJykgfQoJICAgICRVbnNhZmVOYXRpdmVNZXRob2RzID0gJFN5c3RlbUFzc2VtYmx5LkdldFR5cGUoJ01pY3Jvc29mdC5XaW4zMi5VbnNhZmVOYXRpdmVNZXRob2RzJykKCSAgICAjIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgR2V0TW9kdWxlSGFuZGxlIGFuZCBHZXRQcm9jQWRkcmVzcyBtZXRob2RzCgkgICAgJEdldE1vZHVsZUhhbmRsZSA9ICRVbnNhZmVOYXRpdmVNZXRob2RzLkdldE1ldGhvZCgnR2V0TW9kdWxlSGFuZGxlJykKCSAgICAkR2V0UHJvY0FkZHJlc3MgPSAkVW5zYWZlTmF0aXZlTWV0aG9kcy5HZXRNZXRob2QoJ0dldFByb2NBZGRyZXNzJykKCSAgICAjIEdldCBhIGhhbmRsZSB0byB0aGUgbW9kdWxlIHNwZWNpZmllZAoJICAgICRLZXJuMzJIYW5kbGUgPSAkR2V0TW9kdWxlSGFuZGxlLkludm9rZSgkbnVsbCwgQCgkTW9kdWxlKSkKCSAgICAkdG1wUHRyID0gTmV3LU9iamVjdCBJbnRQdHIKCSAgICAkSGFuZGxlUmVmID0gTmV3LU9iamVjdCBTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmKCR0bXBQdHIsICRLZXJuMzJIYW5kbGUpCgoJICAgICMgUmV0dXJuIHRoZSBhZGRyZXNzIG9mIHRoZSBmdW5jdGlvbgoJICAgIFdyaXRlLU91dHB1dCAkR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRudWxsLCBAKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmXSRIYW5kbGVSZWYsICRQcm9jZWR1cmUpKQoJfQoJCgkKCUZ1bmN0aW9uIEVuYWJsZS1TZURlYnVnUHJpdmlsZWdlCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cwoJCSkKCQkKCQlbSW50UHRyXSRUaHJlYWRIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0Q3VycmVudFRocmVhZC5JbnZva2UoKQoJCWlmICgkVGhyZWFkSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gZ2V0IHRoZSBoYW5kbGUgdG8gdGhlIGN1cnJlbnQgdGhyZWFkIgoJCX0KCQkKCQlbSW50UHRyXSRUaHJlYWRUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCgkJW0Jvb2xdJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5PcGVuVGhyZWFkVG9rZW4uSW52b2tlKCRUaHJlYWRIYW5kbGUsICRXaW4zMkNvbnN0YW50cy5UT0tFTl9RVUVSWSAtYm9yICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BREpVU1RfUFJJVklMRUdFUywgJGZhbHNlLCBbUmVmXSRUaHJlYWRUb2tlbikKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJaWYgKCRFcnJvckNvZGUgLWVxICRXaW4zMkNvbnN0YW50cy5FUlJPUl9OT19UT0tFTikKCQkJewoJCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5JbXBlcnNvbmF0ZVNlbGYuSW52b2tlKDMpCgkJCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCQkJewoJCQkJCVRocm93ICJVbmFibGUgdG8gaW1wZXJzb25hdGUgc2VsZiIKCQkJCX0KCQkJCQoJCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5PcGVuVGhyZWFkVG9rZW4uSW52b2tlKCRUaHJlYWRIYW5kbGUsICRXaW4zMkNvbnN0YW50cy5UT0tFTl9RVUVSWSAtYm9yICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BREpVU1RfUFJJVklMRUdFUywgJGZhbHNlLCBbUmVmXSRUaHJlYWRUb2tlbikKCQkJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJCQl7CgkJCQkJVGhyb3cgIlVuYWJsZSB0byBPcGVuVGhyZWFkVG9rZW4uIgoJCQkJfQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJVGhyb3cgIlVuYWJsZSB0byBPcGVuVGhyZWFkVG9rZW4uIEVycm9yIGNvZGU6ICRFcnJvckNvZGUiCgkJCX0KCQl9CgkJCgkJW0ludFB0cl0kUEx1aWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRXaW4zMlR5cGVzLkxVSUQpKQoJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuTG9va3VwUHJpdmlsZWdlVmFsdWUuSW52b2tlKCRudWxsLCAiU2VEZWJ1Z1ByaXZpbGVnZSIsICRQTHVpZCkKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJVGhyb3cgIlVuYWJsZSB0byBjYWxsIExvb2t1cFByaXZpbGVnZVZhbHVlIgoJCX0KCgkJW1VJbnQzMl0kVG9rZW5Qcml2U2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5UT0tFTl9QUklWSUxFR0VTKQoJCVtJbnRQdHJdJFRva2VuUHJpdmlsZWdlc01lbSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5Qcml2U2l6ZSkKCQkkVG9rZW5Qcml2aWxlZ2VzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFRva2VuUHJpdmlsZWdlc01lbSwgW1R5cGVdJFdpbjMyVHlwZXMuVE9LRU5fUFJJVklMRUdFUykKCQkkVG9rZW5Qcml2aWxlZ2VzLlByaXZpbGVnZUNvdW50ID0gMQoJCSRUb2tlblByaXZpbGVnZXMuUHJpdmlsZWdlcy5MdWlkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFBMdWlkLCBbVHlwZV0kV2luMzJUeXBlcy5MVUlEKQoJCSRUb2tlblByaXZpbGVnZXMuUHJpdmlsZWdlcy5BdHRyaWJ1dGVzID0gJFdpbjMyQ29uc3RhbnRzLlNFX1BSSVZJTEVHRV9FTkFCTEVECgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJFRva2VuUHJpdmlsZWdlcywgJFRva2VuUHJpdmlsZWdlc01lbSwgJHRydWUpCgoJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuQWRqdXN0VG9rZW5Qcml2aWxlZ2VzLkludm9rZSgkVGhyZWFkVG9rZW4sICRmYWxzZSwgJFRva2VuUHJpdmlsZWdlc01lbSwgJFRva2VuUHJpdlNpemUsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybykKCQkkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKSAjTmVlZCB0aGlzIHRvIGdldCBzdWNjZXNzIHZhbHVlIG9yIGZhaWx1cmUgdmFsdWUKCQlpZiAoKCRSZXN1bHQgLWVxICRmYWxzZSkgLW9yICgkRXJyb3JDb2RlIC1uZSAwKSkKCQl7CgkJCSNUaHJvdyAiVW5hYmxlIHRvIGNhbGwgQWRqdXN0VG9rZW5Qcml2aWxlZ2VzLiBSZXR1cm4gdmFsdWU6ICRSZXN1bHQsIEVycm9yY29kZTogJEVycm9yQ29kZSIgICAjdG9kbyBuZWVkIHRvIGRldGVjdCBpZiBhbHJlYWR5IHNldAoJCX0KCQkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkVG9rZW5Qcml2aWxlZ2VzTWVtKQoJfQoJCgkKCUZ1bmN0aW9uIENyZWF0ZS1SZW1vdGVUaHJlYWQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnRQdHJdCgkJJFByb2Nlc3NIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50UHRyXQoJCSRTdGFydEFkZHJlc3MsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICRmYWxzZSldCgkJW0ludFB0cl0KCQkkQXJndW1lbnRQdHIgPSBbSW50UHRyXTo6WmVybywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gNCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkZ1bmN0aW9ucwoJCSkKCQkKCQlbSW50UHRyXSRSZW1vdGVUaHJlYWRIYW5kbGUgPSBbSW50UHRyXTo6WmVybwoJCQoJCSRPU1ZlcnNpb24gPSBbRW52aXJvbm1lbnRdOjpPU1ZlcnNpb24uVmVyc2lvbgoJCSNWaXN0YSBhbmQgV2luNwoJCWlmICgoJE9TVmVyc2lvbiAtZ2UgKE5ldy1PYmplY3QgJ1ZlcnNpb24nIDYsMCkpIC1hbmQgKCRPU1ZlcnNpb24gLWx0IChOZXctT2JqZWN0ICdWZXJzaW9uJyA2LDIpKSkKCQl7CgkJCSNXcml0ZS1WZXJib3NlICJXaW5kb3dzIFZpc3RhLzcgZGV0ZWN0ZWQsIHVzaW5nIE50Q3JlYXRlVGhyZWFkRXguIEFkZHJlc3Mgb2YgdGhyZWFkOiAkU3RhcnRBZGRyZXNzIgoJCQkkUmV0VmFsPSAkV2luMzJGdW5jdGlvbnMuTnRDcmVhdGVUaHJlYWRFeC5JbnZva2UoW1JlZl0kUmVtb3RlVGhyZWFkSGFuZGxlLCAweDFGRkZGRiwgW0ludFB0cl06Olplcm8sICRQcm9jZXNzSGFuZGxlLCAkU3RhcnRBZGRyZXNzLCAkQXJndW1lbnRQdHIsICRmYWxzZSwgMCwgMHhmZmZmLCAweGZmZmYsIFtJbnRQdHJdOjpaZXJvKQoJCQkkTGFzdEVycm9yID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoJCQlpZiAoJFJlbW90ZVRocmVhZEhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVRocm93ICJFcnJvciBpbiBOdENyZWF0ZVRocmVhZEV4LiBSZXR1cm4gdmFsdWU6ICRSZXRWYWwuIExhc3RFcnJvcjogJExhc3RFcnJvciIKCQkJfQoJCX0KCQkjWFAvV2luOAoJCWVsc2UKCQl7CgkJCSNXcml0ZS1WZXJib3NlICJXaW5kb3dzIFhQLzggZGV0ZWN0ZWQsIHVzaW5nIENyZWF0ZVJlbW90ZVRocmVhZC4gQWRkcmVzcyBvZiB0aHJlYWQ6ICRTdGFydEFkZHJlc3MiCgkJCSRSZW1vdGVUaHJlYWRIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuQ3JlYXRlUmVtb3RlVGhyZWFkLkludm9rZSgkUHJvY2Vzc0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdMHhGRkZGLCAkU3RhcnRBZGRyZXNzLCAkQXJndW1lbnRQdHIsIDAsIFtJbnRQdHJdOjpaZXJvKQoJCX0KCQkKCQlpZiAoJFJlbW90ZVRocmVhZEhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlXcml0ZS1FcnJvciAiRXJyb3IgY3JlYXRpbmcgcmVtb3RlIHRocmVhZCwgdGhyZWFkIGhhbmRsZSBpcyBudWxsIiAtRXJyb3JBY3Rpb24gU3RvcAoJCX0KCQkKCQlyZXR1cm4gJFJlbW90ZVRocmVhZEhhbmRsZQoJfQoKCQoKCUZ1bmN0aW9uIEdldC1JbWFnZU50SGVhZGVycwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkUEVIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcwoJCSkKCQkKCQkkTnRIZWFkZXJzSW5mbyA9IE5ldy1PYmplY3QgU3lzdGVtLk9iamVjdAoJCQoJCSNOb3JtYWxseSB3b3VsZCB2YWxpZGF0ZSBET1NIZWFkZXIgaGVyZSwgYnV0IHdlIGRpZCBpdCBiZWZvcmUgdGhpcyBmdW5jdGlvbiB3YXMgY2FsbGVkIGFuZCB0aGVuIGRlc3Ryb3llZCAnTVonIGZvciBzbmVha2luZXNzCgkJJGRvc0hlYWRlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRQRUhhbmRsZSwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfRE9TX0hFQURFUikKCgkJI0dldCBJTUFHRV9OVF9IRUFERVJTCgkJW0ludFB0cl0kTnRIZWFkZXJzUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVIYW5kbGUpIChbSW50NjRdW1VJbnQ2NF0kZG9zSGVhZGVyLmVfbGZhbmV3KSkKCQkkTnRIZWFkZXJzSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE50SGVhZGVyc1B0ciAtVmFsdWUgJE50SGVhZGVyc1B0cgoJCSRpbWFnZU50SGVhZGVyczY0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJE50SGVhZGVyc1B0ciwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfTlRfSEVBREVSUzY0KQoJCQoJCSNNYWtlIHN1cmUgdGhlIElNQUdFX05UX0hFQURFUlMgY2hlY2tzIG91dC4gSWYgaXQgZG9lc24ndCwgdGhlIGRhdGEgc3RydWN0dXJlIGlzIGludmFsaWQuIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbi4KCSAgICBpZiAoJGltYWdlTnRIZWFkZXJzNjQuU2lnbmF0dXJlIC1uZSAweDAwMDA0NTUwKQoJICAgIHsKCSAgICAgICAgdGhyb3cgIkludmFsaWQgSU1BR0VfTlRfSEVBREVSIHNpZ25hdHVyZS4iCgkgICAgfQoJCQoJCWlmICgkaW1hZ2VOdEhlYWRlcnM2NC5PcHRpb25hbEhlYWRlci5NYWdpYyAtZXEgJ0lNQUdFX05UX09QVElPTkFMX0hEUjY0X01BR0lDJykKCQl7CgkJCSROdEhlYWRlcnNJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfTlRfSEVBREVSUyAtVmFsdWUgJGltYWdlTnRIZWFkZXJzNjQKCQkJJE50SGVhZGVyc0luZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQRTY0Qml0IC1WYWx1ZSAkdHJ1ZQoJCX0KCQllbHNlCgkJewoJCQkkSW1hZ2VOdEhlYWRlcnMzMiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCROdEhlYWRlcnNQdHIsIFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX05UX0hFQURFUlMzMikKCQkJJE50SGVhZGVyc0luZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9OVF9IRUFERVJTIC1WYWx1ZSAkaW1hZ2VOdEhlYWRlcnMzMgoJCQkkTnRIZWFkZXJzSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBFNjRCaXQgLVZhbHVlICRmYWxzZQoJCX0KCQkKCQlyZXR1cm4gJE50SGVhZGVyc0luZm8KCX0KCgoJI1RoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZCB0byBhbGxvY2F0ZWQgc3BhY2UgaW4gbWVtb3J5IGZvciB0aGUgUEUKCUZ1bmN0aW9uIEdldC1QRUJhc2ljSW5mbwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUgKV0KCQlbQnl0ZVtdXQoJCSRQRUJ5dGVzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyVHlwZXMKCQkpCgkJCgkJJFBFSW5mbyA9IE5ldy1PYmplY3QgU3lzdGVtLk9iamVjdAoJCQoJCSNXcml0ZSB0aGUgUEUgdG8gbWVtb3J5IHRlbXBvcmFyaWx5IHNvIEkgY2FuIGdldCBpbmZvcm1hdGlvbiBmcm9tIGl0LiBUaGlzIGlzIG5vdCBpdCdzIGZpbmFsIHJlc3Rpbmcgc3BvdC4KCQlbSW50UHRyXSRVbm1hbmFnZWRQRUJ5dGVzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRQRUJ5dGVzLkxlbmd0aCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpDb3B5KCRQRUJ5dGVzLCAwLCAkVW5tYW5hZ2VkUEVCeXRlcywgJFBFQnl0ZXMuTGVuZ3RoKSB8IE91dC1OdWxsCgkJCgkJI0dldCBOdEhlYWRlcnNJbmZvCgkJJE50SGVhZGVyc0luZm8gPSBHZXQtSW1hZ2VOdEhlYWRlcnMgLVBFSGFuZGxlICRVbm1hbmFnZWRQRUJ5dGVzIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgkJCgkJI0J1aWxkIGEgc3RydWN0dXJlIHdpdGggdGhlIGluZm9ybWF0aW9uIHdoaWNoIHdpbGwgYmUgbmVlZGVkIGZvciBhbGxvY2F0aW5nIG1lbW9yeSBhbmQgd3JpdGluZyB0aGUgUEUgdG8gbWVtb3J5CgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdQRTY0Qml0JyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLlBFNjRCaXQpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdPcmlnaW5hbEltYWdlQmFzZScgLVZhbHVlICgkTnRIZWFkZXJzSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkltYWdlQmFzZSkKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgJ1NpemVPZkltYWdlJyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuU2l6ZU9mSW1hZ2UpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdTaXplT2ZIZWFkZXJzJyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuU2l6ZU9mSGVhZGVycykKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgJ0RsbENoYXJhY3RlcmlzdGljcycgLVZhbHVlICgkTnRIZWFkZXJzSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkRsbENoYXJhY3RlcmlzdGljcykKCQkKCQkjRnJlZSB0aGUgbWVtb3J5IGFsbG9jYXRlZCBhYm92ZSwgdGhpcyBpc24ndCB3aGVyZSB3ZSBhbGxvY2F0ZSB0aGUgUEUgdG8gbWVtb3J5CgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFVubWFuYWdlZFBFQnl0ZXMpCgkJCgkJcmV0dXJuICRQRUluZm8KCX0KCgoJI1BFSW5mbyBtdXN0IGNvbnRhaW4gdGhlIGZvbGxvd2luZyBOb3RlUHJvcGVydGllczoKCSMJUEVIYW5kbGU6IEFuIEludFB0ciB0byB0aGUgYWRkcmVzcyB0aGUgUEUgaXMgbG9hZGVkIHRvIGluIG1lbW9yeQoJRnVuY3Rpb24gR2V0LVBFRGV0YWlsZWRJbmZvCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlciggUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkUEVIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cwoJCSkKCQkKCQlpZiAoJFBFSGFuZGxlIC1lcSAkbnVsbCAtb3IgJFBFSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCXRocm93ICdQRUhhbmRsZSBpcyBudWxsIG9yIEludFB0ci5aZXJvJwoJCX0KCQkKCQkkUEVJbmZvID0gTmV3LU9iamVjdCBTeXN0ZW0uT2JqZWN0CgkJCgkJI0dldCBOdEhlYWRlcnMgaW5mb3JtYXRpb24KCQkkTnRIZWFkZXJzSW5mbyA9IEdldC1JbWFnZU50SGVhZGVycyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgkJCgkJI0J1aWxkIHRoZSBQRUluZm8gb2JqZWN0CgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBFSGFuZGxlIC1WYWx1ZSAkUEVIYW5kbGUKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfTlRfSEVBREVSUyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE50SGVhZGVyc1B0ciAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLk50SGVhZGVyc1B0cikKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEU2NEJpdCAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLlBFNjRCaXQpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdTaXplT2ZJbWFnZScgLVZhbHVlICgkTnRIZWFkZXJzSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLlNpemVPZkltYWdlKQoJCQoJCWlmICgkUEVJbmZvLlBFNjRCaXQgLWVxICR0cnVlKQoJCXsKCQkJW0ludFB0cl0kU2VjdGlvbkhlYWRlclB0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5OdEhlYWRlcnNQdHIpIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfTlRfSEVBREVSUzY0KSkpCgkJCSRQRUluZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTZWN0aW9uSGVhZGVyUHRyIC1WYWx1ZSAkU2VjdGlvbkhlYWRlclB0cgoJCX0KCQllbHNlCgkJewoJCQlbSW50UHRyXSRTZWN0aW9uSGVhZGVyUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLk50SGVhZGVyc1B0cikgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9OVF9IRUFERVJTMzIpKSkKCQkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFNlY3Rpb25IZWFkZXJQdHIgLVZhbHVlICRTZWN0aW9uSGVhZGVyUHRyCgkJfQoJCQoJCWlmICgoJE50SGVhZGVyc0luZm8uSU1BR0VfTlRfSEVBREVSUy5GaWxlSGVhZGVyLkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfRklMRV9ETEwpIC1lcSAkV2luMzJDb25zdGFudHMuSU1BR0VfRklMRV9ETEwpCgkJewoJCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRmlsZVR5cGUgLVZhbHVlICdETEwnCgkJfQoJCWVsc2VpZiAoKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMuRmlsZUhlYWRlci5DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX0ZJTEVfRVhFQ1VUQUJMRV9JTUFHRSkgLWVxICRXaW4zMkNvbnN0YW50cy5JTUFHRV9GSUxFX0VYRUNVVEFCTEVfSU1BR0UpCgkJewoJCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRmlsZVR5cGUgLVZhbHVlICdFWEUnCgkJfQoJCWVsc2UKCQl7CgkJCVRocm93ICJQRSBmaWxlIGlzIG5vdCBhbiBFWEUgb3IgRExMIgoJCX0KCQkKCQlyZXR1cm4gJFBFSW5mbwoJfQoJCgkKCUZ1bmN0aW9uIEltcG9ydC1EbGxJblJlbW90ZVByb2Nlc3MKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJW0ludFB0cl0KCQkkUmVtb3RlUHJvY0hhbmRsZSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTEsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJW0ludFB0cl0KCQkkSW1wb3J0RGxsUGF0aFB0cgoJCSkKCQkKCQkkUHRyU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkKCQkKCQkkSW1wb3J0RGxsUGF0aCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkSW1wb3J0RGxsUGF0aFB0cikKCQkkRGxsUGF0aFNpemUgPSBbVUludFB0cl1bVUludDY0XShbVUludDY0XSRJbXBvcnREbGxQYXRoLkxlbmd0aCArIDEpCgkJJFJJbXBvcnREbGxQYXRoUHRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sICREbGxQYXRoU2l6ZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQlpZiAoJFJJbXBvcnREbGxQYXRoUHRyIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyIKCQl9CgoJCVtVSW50UHRyXSROdW1CeXRlc1dyaXR0ZW4gPSBbVUludFB0cl06Olplcm8KCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUkltcG9ydERsbFBhdGhQdHIsICRJbXBvcnREbGxQYXRoUHRyLCAkRGxsUGF0aFNpemUsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkKCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gd3JpdGUgRExMIHBhdGggdG8gcmVtb3RlIHByb2Nlc3MgbWVtb3J5IgoJCX0KCQlpZiAoJERsbFBhdGhTaXplIC1uZSAkTnVtQnl0ZXNXcml0dGVuKQoJCXsKCQkJVGhyb3cgIkRpZG4ndCB3cml0ZSB0aGUgZXhwZWN0ZWQgYW1vdW50IG9mIGJ5dGVzIHdoZW4gd3JpdGluZyBhIERMTCBwYXRoIHRvIGxvYWQgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIgoJCX0KCQkKCQkkS2VybmVsMzJIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgia2VybmVsMzIuZGxsIikKCQkkTG9hZExpYnJhcnlBQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbDMySGFuZGxlLCAiTG9hZExpYnJhcnlBIikgI0tlcm5lbDMyIGxvYWRlZCB0byB0aGUgc2FtZSBhZGRyZXNzIGZvciBhbGwgcHJvY2Vzc2VzCgkJCgkJW0ludFB0cl0kRGxsQWRkcmVzcyA9IFtJbnRQdHJdOjpaZXJvCgkJI0ZvciA2NGJpdCBETEwncywgd2UgY2FuJ3QgdXNlIGp1c3QgQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgTG9hZExpYnJhcnkgYmVjYXVzZSBHZXRFeGl0Q29kZVRocmVhZCB3aWxsIG9ubHkgZ2l2ZSBiYWNrIGEgMzJiaXQgdmFsdWUsIGJ1dCB3ZSBuZWVkIGEgNjRiaXQgYWRkcmVzcwoJCSMJSW5zdGVhZCwgd3JpdGUgc2hlbGxjb2RlIHdoaWxlIGNhbGxzIExvYWRMaWJyYXJ5IGFuZCB3cml0ZXMgdGhlIHJlc3VsdCB0byBhIG1lbW9yeSBhZGRyZXNzIHdlIHNwZWNpZnkuIFRoZW4gcmVhZCBmcm9tIHRoYXQgbWVtb3J5IG9uY2UgdGhlIHRocmVhZCBmaW5pc2hlcy4KCQlpZiAoJFBFSW5mby5QRTY0Qml0IC1lcSAkdHJ1ZSkKCQl7CgkJCSNBbGxvY2F0ZSBtZW1vcnkgZm9yIHRoZSBhZGRyZXNzIHJldHVybmVkIGJ5IExvYWRMaWJyYXJ5QQoJCQkkTG9hZExpYnJhcnlBUmV0TWVtID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sICREbGxQYXRoU2l6ZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQkJaWYgKCRMb2FkTGlicmFyeUFSZXRNZW0gLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQlUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgTG9hZExpYnJhcnlBIgoJCQl9CgkJCQoJCQkKCQkJI1dyaXRlIFNoZWxsY29kZSB0byB0aGUgcmVtb3RlIHByb2Nlc3Mgd2hpY2ggd2lsbCBjYWxsIExvYWRMaWJyYXJ5QSAoU2hlbGxjb2RlOiBMb2FkTGlicmFyeUEuYXNtKQoJCQkkTG9hZExpYnJhcnlTQzEgPSBAKDB4NTMsIDB4NDgsIDB4ODksIDB4ZTMsIDB4NDgsIDB4ODMsIDB4ZWMsIDB4MjAsIDB4NjYsIDB4ODMsIDB4ZTQsIDB4YzAsIDB4NDgsIDB4YjkpCgkJCSRMb2FkTGlicmFyeVNDMiA9IEAoMHg0OCwgMHhiYSkKCQkJJExvYWRMaWJyYXJ5U0MzID0gQCgweGZmLCAweGQyLCAweDQ4LCAweGJhKQoJCQkkTG9hZExpYnJhcnlTQzQgPSBAKDB4NDgsIDB4ODksIDB4MDIsIDB4NDgsIDB4ODksIDB4ZGMsIDB4NWIsIDB4YzMpCgkJCQoJCQkkU0NMZW5ndGggPSAkTG9hZExpYnJhcnlTQzEuTGVuZ3RoICsgJExvYWRMaWJyYXJ5U0MyLkxlbmd0aCArICRMb2FkTGlicmFyeVNDMy5MZW5ndGggKyAkTG9hZExpYnJhcnlTQzQuTGVuZ3RoICsgKCRQdHJTaXplICogMykKCQkJJFNDUFNNZW0gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFNDTGVuZ3RoKQoJCQkkU0NQU01lbU9yaWdpbmFsID0gJFNDUFNNZW0KCQkJCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRMb2FkTGlicmFyeVNDMSAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkTG9hZExpYnJhcnlTQzEuTGVuZ3RoKQoJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkUkltcG9ydERsbFBhdGhQdHIsICRTQ1BTTWVtLCAkZmFsc2UpCgkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkTG9hZExpYnJhcnlTQzIgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJExvYWRMaWJyYXJ5U0MyLkxlbmd0aCkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJExvYWRMaWJyYXJ5QUFkZHIsICRTQ1BTTWVtLCAkZmFsc2UpCgkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkTG9hZExpYnJhcnlTQzMgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJExvYWRMaWJyYXJ5U0MzLkxlbmd0aCkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJExvYWRMaWJyYXJ5QVJldE1lbSwgJFNDUFNNZW0sICRmYWxzZSkKCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJFB0clNpemUpCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRMb2FkTGlicmFyeVNDNCAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkTG9hZExpYnJhcnlTQzQuTGVuZ3RoKQoKCQkJCgkJCSRSU0NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdJFNDTGVuZ3RoLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJCWlmICgkUlNDQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyBmb3Igc2hlbGxjb2RlIgoJCQl9CgkJCQoJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUlNDQWRkciwgJFNDUFNNZW1PcmlnaW5hbCwgW1VJbnRQdHJdW1VJbnQ2NF0kU0NMZW5ndGgsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkJaWYgKCgkU3VjY2VzcyAtZXEgJGZhbHNlKSAtb3IgKFtVSW50NjRdJE51bUJ5dGVzV3JpdHRlbiAtbmUgW1VJbnQ2NF0kU0NMZW5ndGgpKQoJCQl7CgkJCQlUaHJvdyAiVW5hYmxlIHRvIHdyaXRlIHNoZWxsY29kZSB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkuIgoJCQl9CgkJCQoJCQkkUlRocmVhZEhhbmRsZSA9IENyZWF0ZS1SZW1vdGVUaHJlYWQgLVByb2Nlc3NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUgLVN0YXJ0QWRkcmVzcyAkUlNDQWRkciAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zCgkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIDIwMDAwKQoJCQlpZiAoJFJlc3VsdCAtbmUgMCkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgR2V0UHJvY0FkZHJlc3MgZmFpbGVkLiIKCQkJfQoJCQkKCQkJI1RoZSBzaGVsbGNvZGUgd3JpdGVzIHRoZSBETEwgYWRkcmVzcyB0byBtZW1vcnkgaW4gdGhlIHJlbW90ZSBwcm9jZXNzIGF0IGFkZHJlc3MgJExvYWRMaWJyYXJ5QVJldE1lbSwgcmVhZCB0aGlzIG1lbW9yeQoJCQlbSW50UHRyXSRSZXR1cm5WYWxNZW0gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFB0clNpemUpCgkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuUmVhZFByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkTG9hZExpYnJhcnlBUmV0TWVtLCAkUmV0dXJuVmFsTWVtLCBbVUludFB0cl1bVUludDY0XSRQdHJTaXplLCBbUmVmXSROdW1CeXRlc1dyaXR0ZW4pCgkJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJCXsKCQkJCVRocm93ICJDYWxsIHRvIFJlYWRQcm9jZXNzTWVtb3J5IGZhaWxlZCIKCQkJfQoJCQlbSW50UHRyXSREbGxBZGRyZXNzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFJldHVyblZhbE1lbSwgW1R5cGVdW0ludFB0cl0pCgoJCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbEZyZWVFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRMb2FkTGlicmFyeUFSZXRNZW0sIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCgkJCSRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsRnJlZUV4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJFJTQ0FkZHIsIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCgkJfQoJCWVsc2UKCQl7CgkJCVtJbnRQdHJdJFJUaHJlYWRIYW5kbGUgPSBDcmVhdGUtUmVtb3RlVGhyZWFkIC1Qcm9jZXNzSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1TdGFydEFkZHJlc3MgJExvYWRMaWJyYXJ5QUFkZHIgLUFyZ3VtZW50UHRyICRSSW1wb3J0RGxsUGF0aFB0ciAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zCgkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIDIwMDAwKQoJCQlpZiAoJFJlc3VsdCAtbmUgMCkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgR2V0UHJvY0FkZHJlc3MgZmFpbGVkLiIKCQkJfQoJCQkKCQkJW0ludDMyXSRFeGl0Q29kZSA9IDAKCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRFeGl0Q29kZVRocmVhZC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIFtSZWZdJEV4aXRDb2RlKQoJCQlpZiAoKCRSZXN1bHQgLWVxIDApIC1vciAoJEV4aXRDb2RlIC1lcSAwKSkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gR2V0RXhpdENvZGVUaHJlYWQgZmFpbGVkIgoJCQl9CgkJCQoJCQlbSW50UHRyXSREbGxBZGRyZXNzID0gW0ludFB0cl0kRXhpdENvZGUKCQl9CgkJCgkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxGcmVlRXguSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUkltcG9ydERsbFBhdGhQdHIsIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCgkJCgkJcmV0dXJuICREbGxBZGRyZXNzCgl9CgkKCQoJRnVuY3Rpb24gR2V0LVJlbW90ZVByb2NBZGRyZXNzCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQoJCVtJbnRQdHJdCgkJJFJlbW90ZVByb2NIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbj0xLCBNYW5kYXRvcnk9JHRydWUpXQoJCVtJbnRQdHJdCgkJJFJlbW90ZURsbEhhbmRsZSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTIsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJW0ludFB0cl0KCQkkRnVuY3Rpb25OYW1lUHRyLCNUaGlzIGNhbiBlaXRoZXIgYmUgYSBwdHIgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZ1bmN0aW9uIG5hbWUsIG9yLCBpZiBMb2FkQnlPcmRpbmFsIGlzICd0cnVlJyB0aGlzIGlzIGFuIG9yZGluYWwgbnVtYmVyIChwb2ludHMgdG8gbm90aGluZykKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0zLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtCb29sXQogICAgICAgICRMb2FkQnlPcmRpbmFsCgkJKQoKCQkkUHRyU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkKCgkJW0ludFB0cl0kUkZ1bmNOYW1lUHRyID0gW0ludFB0cl06Olplcm8gICAjUG9pbnRlciB0byB0aGUgZnVuY3Rpb24gbmFtZSBpbiByZW1vdGUgcHJvY2VzcyBtZW1vcnkgaWYgbG9hZGluZyBieSBmdW5jdGlvbiBuYW1lLCBvcmRpbmFsIG51bWJlciBpZiBsb2FkaW5nIGJ5IG9yZGluYWwKICAgICAgICAjSWYgbm90IGxvYWRpbmcgYnkgb3JkaW5hbCwgd3JpdGUgdGhlIGZ1bmN0aW9uIG5hbWUgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIG1lbW9yeQogICAgICAgIGlmICgtbm90ICRMb2FkQnlPcmRpbmFsKQogICAgICAgIHsKICAgICAgICAJJEZ1bmN0aW9uTmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkRnVuY3Rpb25OYW1lUHRyKQoKCQkgICAgI1dyaXRlIEZ1bmN0aW9uTmFtZSB0byBtZW1vcnkgKHdpbGwgYmUgdXNlZCBpbiBHZXRQcm9jQWRkcmVzcykKCQkgICAgJEZ1bmN0aW9uTmFtZVNpemUgPSBbVUludFB0cl1bVUludDY0XShbVUludDY0XSRGdW5jdGlvbk5hbWUuTGVuZ3RoICsgMSkKCQkgICAgJFJGdW5jTmFtZVB0ciA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2NFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsIFtJbnRQdHJdOjpaZXJvLCAkRnVuY3Rpb25OYW1lU2l6ZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQkgICAgaWYgKCRSRnVuY05hbWVQdHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCSAgICB7CgkJCSAgICBUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MiCgkJICAgIH0KCgkJICAgIFtVSW50UHRyXSROdW1CeXRlc1dyaXR0ZW4gPSBbVUludFB0cl06Olplcm8KCQkgICAgJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuV3JpdGVQcm9jZXNzTWVtb3J5Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJFJGdW5jTmFtZVB0ciwgJEZ1bmN0aW9uTmFtZVB0ciwgJEZ1bmN0aW9uTmFtZVNpemUsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkgICAgaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJICAgIHsKCQkJICAgIFRocm93ICJVbmFibGUgdG8gd3JpdGUgRExMIHBhdGggdG8gcmVtb3RlIHByb2Nlc3MgbWVtb3J5IgoJCSAgICB9CgkJICAgIGlmICgkRnVuY3Rpb25OYW1lU2l6ZSAtbmUgJE51bUJ5dGVzV3JpdHRlbikKCQkgICAgewoJCQkgICAgVGhyb3cgIkRpZG4ndCB3cml0ZSB0aGUgZXhwZWN0ZWQgYW1vdW50IG9mIGJ5dGVzIHdoZW4gd3JpdGluZyBhIERMTCBwYXRoIHRvIGxvYWQgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIgoJCSAgICB9CiAgICAgICAgfQogICAgICAgICNJZiBsb2FkaW5nIGJ5IG9yZGluYWwsIGp1c3Qgc2V0IFJGdW5jTmFtZVB0ciB0byBiZSB0aGUgb3JkaW5hbCBudW1iZXIKICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkUkZ1bmNOYW1lUHRyID0gJEZ1bmN0aW9uTmFtZVB0cgogICAgICAgIH0KCQkKCQkjR2V0IGFkZHJlc3Mgb2YgR2V0UHJvY0FkZHJlc3MKCQkkS2VybmVsMzJIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgia2VybmVsMzIuZGxsIikKCQkkR2V0UHJvY0FkZHJlc3NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLkdldFByb2NBZGRyZXNzLkludm9rZSgkS2VybmVsMzJIYW5kbGUsICJHZXRQcm9jQWRkcmVzcyIpICNLZXJuZWwzMiBsb2FkZWQgdG8gdGhlIHNhbWUgYWRkcmVzcyBmb3IgYWxsIHByb2Nlc3NlcwoKCQkKCQkjQWxsb2NhdGUgbWVtb3J5IGZvciB0aGUgYWRkcmVzcyByZXR1cm5lZCBieSBHZXRQcm9jQWRkcmVzcwoJCSRHZXRQcm9jQWRkcmVzc1JldE1lbSA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2NFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsIFtJbnRQdHJdOjpaZXJvLCBbVUludDY0XVtVSW50NjRdJFB0clNpemUsICRXaW4zMkNvbnN0YW50cy5NRU1fQ09NTUlUIC1ib3IgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRVNFUlZFLCAkV2luMzJDb25zdGFudHMuUEFHRV9SRUFEV1JJVEUpCgkJaWYgKCRHZXRQcm9jQWRkcmVzc1JldE1lbSAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgR2V0UHJvY0FkZHJlc3MiCgkJfQoJCQoJCQoJCSNXcml0ZSBTaGVsbGNvZGUgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIHdoaWNoIHdpbGwgY2FsbCBHZXRQcm9jQWRkcmVzcwoJCSNTaGVsbGNvZGU6IEdldFByb2NBZGRyZXNzLmFzbQoJCVtCeXRlW11dJEdldFByb2NBZGRyZXNzU0MgPSBAKCkKCQlpZiAoJFBFSW5mby5QRTY0Qml0IC1lcSAkdHJ1ZSkKCQl7CgkJCSRHZXRQcm9jQWRkcmVzc1NDMSA9IEAoMHg1MywgMHg0OCwgMHg4OSwgMHhlMywgMHg0OCwgMHg4MywgMHhlYywgMHgyMCwgMHg2NiwgMHg4MywgMHhlNCwgMHhjMCwgMHg0OCwgMHhiOSkKCQkJJEdldFByb2NBZGRyZXNzU0MyID0gQCgweDQ4LCAweGJhKQoJCQkkR2V0UHJvY0FkZHJlc3NTQzMgPSBAKDB4NDgsIDB4YjgpCgkJCSRHZXRQcm9jQWRkcmVzc1NDNCA9IEAoMHhmZiwgMHhkMCwgMHg0OCwgMHhiOSkKCQkJJEdldFByb2NBZGRyZXNzU0M1ID0gQCgweDQ4LCAweDg5LCAweDAxLCAweDQ4LCAweDg5LCAweGRjLCAweDViLCAweGMzKQoJCX0KCQllbHNlCgkJewoJCQkkR2V0UHJvY0FkZHJlc3NTQzEgPSBAKDB4NTMsIDB4ODksIDB4ZTMsIDB4ODMsIDB4ZTQsIDB4YzAsIDB4YjgpCgkJCSRHZXRQcm9jQWRkcmVzc1NDMiA9IEAoMHhiOSkKCQkJJEdldFByb2NBZGRyZXNzU0MzID0gQCgweDUxLCAweDUwLCAweGI4KQoJCQkkR2V0UHJvY0FkZHJlc3NTQzQgPSBAKDB4ZmYsIDB4ZDAsIDB4YjkpCgkJCSRHZXRQcm9jQWRkcmVzc1NDNSA9IEAoMHg4OSwgMHgwMSwgMHg4OSwgMHhkYywgMHg1YiwgMHhjMykKCQl9CgkJJFNDTGVuZ3RoID0gJEdldFByb2NBZGRyZXNzU0MxLkxlbmd0aCArICRHZXRQcm9jQWRkcmVzc1NDMi5MZW5ndGggKyAkR2V0UHJvY0FkZHJlc3NTQzMuTGVuZ3RoICsgJEdldFByb2NBZGRyZXNzU0M0Lkxlbmd0aCArICRHZXRQcm9jQWRkcmVzc1NDNS5MZW5ndGggKyAoJFB0clNpemUgKiA0KQoJCSRTQ1BTTWVtID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRTQ0xlbmd0aCkKCQkkU0NQU01lbU9yaWdpbmFsID0gJFNDUFNNZW0KCQkKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkR2V0UHJvY0FkZHJlc3NTQzEgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkR2V0UHJvY0FkZHJlc3NTQzEuTGVuZ3RoKQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRSZW1vdGVEbGxIYW5kbGUsICRTQ1BTTWVtLCAkZmFsc2UpCgkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJFB0clNpemUpCgkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJEdldFByb2NBZGRyZXNzU0MyIC1NZW1vcnlBZGRyZXNzICRTQ1BTTWVtCgkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJEdldFByb2NBZGRyZXNzU0MyLkxlbmd0aCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkUkZ1bmNOYW1lUHRyLCAkU0NQU01lbSwgJGZhbHNlKQoJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRHZXRQcm9jQWRkcmVzc1NDMyAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRHZXRQcm9jQWRkcmVzc1NDMy5MZW5ndGgpCgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJEdldFByb2NBZGRyZXNzQWRkciwgJFNDUFNNZW0sICRmYWxzZSkKCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkUHRyU2l6ZSkKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkR2V0UHJvY0FkZHJlc3NTQzQgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkR2V0UHJvY0FkZHJlc3NTQzQuTGVuZ3RoKQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRHZXRQcm9jQWRkcmVzc1JldE1lbSwgJFNDUFNNZW0sICRmYWxzZSkKCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkUHRyU2l6ZSkKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkR2V0UHJvY0FkZHJlc3NTQzUgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkR2V0UHJvY0FkZHJlc3NTQzUuTGVuZ3RoKQoJCQoJCSRSU0NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdJFNDTGVuZ3RoLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJaWYgKCRSU0NBZGRyIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyBmb3Igc2hlbGxjb2RlIgoJCX0KCQlbVUludFB0cl0kTnVtQnl0ZXNXcml0dGVuID0gW1VJbnRQdHJdOjpaZXJvCgkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuV3JpdGVQcm9jZXNzTWVtb3J5Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJFJTQ0FkZHIsICRTQ1BTTWVtT3JpZ2luYWwsIFtVSW50UHRyXVtVSW50NjRdJFNDTGVuZ3RoLCBbUmVmXSROdW1CeXRlc1dyaXR0ZW4pCgkJaWYgKCgkU3VjY2VzcyAtZXEgJGZhbHNlKSAtb3IgKFtVSW50NjRdJE51bUJ5dGVzV3JpdHRlbiAtbmUgW1VJbnQ2NF0kU0NMZW5ndGgpKQoJCXsKCQkJVGhyb3cgIlVuYWJsZSB0byB3cml0ZSBzaGVsbGNvZGUgdG8gcmVtb3RlIHByb2Nlc3MgbWVtb3J5LiIKCQl9CgkJCgkJJFJUaHJlYWRIYW5kbGUgPSBDcmVhdGUtUmVtb3RlVGhyZWFkIC1Qcm9jZXNzSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1TdGFydEFkZHJlc3MgJFJTQ0FkZHIgLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucwoJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIDIwMDAwKQoJCWlmICgkUmVzdWx0IC1uZSAwKQoJCXsKCQkJVGhyb3cgIkNhbGwgdG8gQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgR2V0UHJvY0FkZHJlc3MgZmFpbGVkLiIKCQl9CgkJCgkJI1RoZSBwcm9jZXNzIGFkZHJlc3MgaXMgd3JpdHRlbiB0byBtZW1vcnkgaW4gdGhlIHJlbW90ZSBwcm9jZXNzIGF0IGFkZHJlc3MgJEdldFByb2NBZGRyZXNzUmV0TWVtLCByZWFkIHRoaXMgbWVtb3J5CgkJW0ludFB0cl0kUmV0dXJuVmFsTWVtID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRQdHJTaXplKQoJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuUmVhZFByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkR2V0UHJvY0FkZHJlc3NSZXRNZW0sICRSZXR1cm5WYWxNZW0sIFtVSW50UHRyXVtVSW50NjRdJFB0clNpemUsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQlpZiAoKCRSZXN1bHQgLWVxICRmYWxzZSkgLW9yICgkTnVtQnl0ZXNXcml0dGVuIC1lcSAwKSkKCQl7CgkJCVRocm93ICJDYWxsIHRvIFJlYWRQcm9jZXNzTWVtb3J5IGZhaWxlZCIKCQl9CgkJW0ludFB0cl0kUHJvY0FkZHJlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkUmV0dXJuVmFsTWVtLCBbVHlwZV1bSW50UHRyXSkKCiAgICAgICAgI0NsZWFudXAgcmVtb3RlIHByb2Nlc3MgbWVtb3J5CgkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxGcmVlRXguSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUlNDQWRkciwgW1VJbnRQdHJdW1VJbnQ2NF0wLCAkV2luMzJDb25zdGFudHMuTUVNX1JFTEVBU0UpIHwgT3V0LU51bGwKCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbEZyZWVFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRHZXRQcm9jQWRkcmVzc1JldE1lbSwgW1VJbnRQdHJdW1VJbnQ2NF0wLCAkV2luMzJDb25zdGFudHMuTUVNX1JFTEVBU0UpIHwgT3V0LU51bGwKCiAgICAgICAgaWYgKC1ub3QgJExvYWRCeU9yZGluYWwpCiAgICAgICAgewogICAgICAgICAgICAkV2luMzJGdW5jdGlvbnMuVmlydHVhbEZyZWVFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRSRnVuY05hbWVQdHIsIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCiAgICAgICAgfQoJCQoJCXJldHVybiAkUHJvY0FkZHJlc3MKCX0KCgoJRnVuY3Rpb24gQ29weS1TZWN0aW9ucwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0J5dGVbXV0KCQkkUEVCeXRlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRQRUluZm8sCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcwoJCSkKCQkKCQlmb3IoICRpID0gMDsgJGkgLWx0ICRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5GaWxlSGVhZGVyLk51bWJlck9mU2VjdGlvbnM7ICRpKyspCgkJewoJCQlbSW50UHRyXSRTZWN0aW9uSGVhZGVyUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLlNlY3Rpb25IZWFkZXJQdHIpICgkaSAqIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9TRUNUSU9OX0hFQURFUikpKQoJCQkkU2VjdGlvbkhlYWRlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRTZWN0aW9uSGVhZGVyUHRyLCBbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9TRUNUSU9OX0hFQURFUikKCQkKCQkJI0FkZHJlc3MgdG8gY29weSB0aGUgc2VjdGlvbiB0bwoJCQlbSW50UHRyXSRTZWN0aW9uRGVzdEFkZHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRQRUluZm8uUEVIYW5kbGUpIChbSW50NjRdJFNlY3Rpb25IZWFkZXIuVmlydHVhbEFkZHJlc3MpKQoJCQkKCQkJI1NpemVPZlJhd0RhdGEgaXMgdGhlIHNpemUgb2YgdGhlIGRhdGEgb24gZGlzaywgVmlydHVhbFNpemUgaXMgdGhlIG1pbmltdW0gc3BhY2UgdGhhdCBjYW4gYmUgYWxsb2NhdGVkCgkJCSMgICAgaW4gbWVtb3J5IGZvciB0aGUgc2VjdGlvbi4gSWYgVmlydHVhbFNpemUgPiBTaXplT2ZSYXdEYXRhLCBwYWQgdGhlIGV4dHJhIHNwYWNlcyB3aXRoIDAuIElmCgkJCSMgICAgU2l6ZU9mUmF3RGF0YSA+IFZpcnR1YWxTaXplLCBpdCBpcyBiZWNhdXNlIHRoZSBzZWN0aW9uIHN0b3JlZCBvbiBkaXNrIGhhcyBwYWRkaW5nIHRoYXQgd2UgY2FuIHRocm93IGF3YXksCgkJCSMgICAgc28gdHJ1bmNhdGUgU2l6ZU9mUmF3RGF0YSB0byBWaXJ0dWFsU2l6ZQoJCQkkU2l6ZU9mUmF3RGF0YSA9ICRTZWN0aW9uSGVhZGVyLlNpemVPZlJhd0RhdGEKCgkJCWlmICgkU2VjdGlvbkhlYWRlci5Qb2ludGVyVG9SYXdEYXRhIC1lcSAwKQoJCQl7CgkJCQkkU2l6ZU9mUmF3RGF0YSA9IDAKCQkJfQoJCQkKCQkJaWYgKCRTaXplT2ZSYXdEYXRhIC1ndCAkU2VjdGlvbkhlYWRlci5WaXJ0dWFsU2l6ZSkKCQkJewoJCQkJJFNpemVPZlJhd0RhdGEgPSAkU2VjdGlvbkhlYWRlci5WaXJ0dWFsU2l6ZQoJCQl9CgkJCQoJCQlpZiAoJFNpemVPZlJhd0RhdGEgLWd0IDApCgkJCXsKCQkJCVRlc3QtTWVtb3J5UmFuZ2VWYWxpZCAtRGVidWdTdHJpbmcgIkNvcHktU2VjdGlvbnM6Ok1hcnNoYWxDb3B5IiAtUEVJbmZvICRQRUluZm8gLVN0YXJ0QWRkcmVzcyAkU2VjdGlvbkRlc3RBZGRyIC1TaXplICRTaXplT2ZSYXdEYXRhIHwgT3V0LU51bGwKCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkNvcHkoJFBFQnl0ZXMsIFtJbnQzMl0kU2VjdGlvbkhlYWRlci5Qb2ludGVyVG9SYXdEYXRhLCAkU2VjdGlvbkRlc3RBZGRyLCAkU2l6ZU9mUmF3RGF0YSkKCQkJfQoJCQoJCQkjSWYgU2l6ZU9mUmF3RGF0YSBpcyBsZXNzIHRoYW4gVmlydHVhbFNpemUsIHNldCBtZW1vcnkgdG8gMCBmb3IgdGhlIGV4dHJhIHNwYWNlCgkJCWlmICgkU2VjdGlvbkhlYWRlci5TaXplT2ZSYXdEYXRhIC1sdCAkU2VjdGlvbkhlYWRlci5WaXJ0dWFsU2l6ZSkKCQkJewoJCQkJJERpZmZlcmVuY2UgPSAkU2VjdGlvbkhlYWRlci5WaXJ0dWFsU2l6ZSAtICRTaXplT2ZSYXdEYXRhCgkJCQlbSW50UHRyXSRTdGFydEFkZHJlc3MgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRTZWN0aW9uRGVzdEFkZHIpIChbSW50NjRdJFNpemVPZlJhd0RhdGEpKQoJCQkJVGVzdC1NZW1vcnlSYW5nZVZhbGlkIC1EZWJ1Z1N0cmluZyAiQ29weS1TZWN0aW9uczo6TWVtc2V0IiAtUEVJbmZvICRQRUluZm8gLVN0YXJ0QWRkcmVzcyAkU3RhcnRBZGRyZXNzIC1TaXplICREaWZmZXJlbmNlIHwgT3V0LU51bGwKCQkJCSRXaW4zMkZ1bmN0aW9ucy5tZW1zZXQuSW52b2tlKCRTdGFydEFkZHJlc3MsIDAsIFtJbnRQdHJdJERpZmZlcmVuY2UpIHwgT3V0LU51bGwKCQkJfQoJCX0KCX0KCgoJRnVuY3Rpb24gVXBkYXRlLU1lbW9yeUFkZHJlc3NlcwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFBFSW5mbywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnQ2NF0KCQkkT3JpZ2luYWxJbWFnZUJhc2UsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJDb25zdGFudHMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcwoJCSkKCQkKCQlbSW50NjRdJEJhc2VEaWZmZXJlbmNlID0gMAoJCSRBZGREaWZmZXJlbmNlID0gJHRydWUgI1RyYWNrIGlmIHRoZSBkaWZmZXJlbmNlIHZhcmlhYmxlIHNob3VsZCBiZSBhZGRlZCBvciBzdWJ0cmFjdGVkIGZyb20gdmFyaWFibGVzCgkJW1VJbnQzMl0kSW1hZ2VCYXNlUmVsb2NTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX0JBU0VfUkVMT0NBVElPTikKCQkKCQkjSWYgdGhlIFBFIHdhcyBsb2FkZWQgdG8gaXRzIGV4cGVjdGVkIGFkZHJlc3Mgb3IgdGhlcmUgYXJlIG5vIGVudHJpZXMgaW4gdGhlIEJhc2VSZWxvY2F0aW9uVGFibGUsIG5vdGhpbmcgdG8gZG8KCQlpZiAoKCRPcmlnaW5hbEltYWdlQmFzZSAtZXEgW0ludDY0XSRQRUluZm8uRWZmZWN0aXZlUEVIYW5kbGUpIGAKCQkJCS1vciAoJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkJhc2VSZWxvY2F0aW9uVGFibGUuU2l6ZSAtZXEgMCkpCgkJewoJCQlyZXR1cm4KCQl9CgoKCQllbHNlaWYgKChDb21wYXJlLVZhbDFHcmVhdGVyVGhhblZhbDJBc1VJbnQgKCRPcmlnaW5hbEltYWdlQmFzZSkgKCRQRUluZm8uRWZmZWN0aXZlUEVIYW5kbGUpKSAtZXEgJHRydWUpCgkJewoJCQkkQmFzZURpZmZlcmVuY2UgPSBTdWItU2lnbmVkSW50QXNVbnNpZ25lZCAoJE9yaWdpbmFsSW1hZ2VCYXNlKSAoJFBFSW5mby5FZmZlY3RpdmVQRUhhbmRsZSkKCQkJJEFkZERpZmZlcmVuY2UgPSAkZmFsc2UKCQl9CgkJZWxzZWlmICgoQ29tcGFyZS1WYWwxR3JlYXRlclRoYW5WYWwyQXNVSW50ICgkUEVJbmZvLkVmZmVjdGl2ZVBFSGFuZGxlKSAoJE9yaWdpbmFsSW1hZ2VCYXNlKSkgLWVxICR0cnVlKQoJCXsKCQkJJEJhc2VEaWZmZXJlbmNlID0gU3ViLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUluZm8uRWZmZWN0aXZlUEVIYW5kbGUpICgkT3JpZ2luYWxJbWFnZUJhc2UpCgkJfQoJCQoJCSNVc2UgdGhlIElNQUdFX0JBU0VfUkVMT0NBVElPTiBzdHJ1Y3R1cmUgdG8gZmluZCBtZW1vcnkgYWRkcmVzc2VzIHdoaWNoIG5lZWQgdG8gYmUgbW9kaWZpZWQKCQlbSW50UHRyXSRCYXNlUmVsb2NQdHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRQRUluZm8uUEVIYW5kbGUpIChbSW50NjRdJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkJhc2VSZWxvY2F0aW9uVGFibGUuVmlydHVhbEFkZHJlc3MpKQoJCXdoaWxlKCR0cnVlKQoJCXsKCQkJI0lmIFNpemVPZkJsb2NrID09IDAsIHdlIGFyZSBkb25lCgkJCSRCYXNlUmVsb2NhdGlvblRhYmxlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEJhc2VSZWxvY1B0ciwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfQkFTRV9SRUxPQ0FUSU9OKQoKCQkJaWYgKCRCYXNlUmVsb2NhdGlvblRhYmxlLlNpemVPZkJsb2NrIC1lcSAwKQoJCQl7CgkJCQlicmVhawoJCQl9CgoJCQlbSW50UHRyXSRNZW1BZGRyQmFzZSA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kQmFzZVJlbG9jYXRpb25UYWJsZS5WaXJ0dWFsQWRkcmVzcykpCgkJCSROdW1SZWxvY2F0aW9ucyA9ICgkQmFzZVJlbG9jYXRpb25UYWJsZS5TaXplT2ZCbG9jayAtICRJbWFnZUJhc2VSZWxvY1NpemUpIC8gMgoKCQkJI0xvb3AgdGhyb3VnaCBlYWNoIHJlbG9jYXRpb24KCQkJZm9yKCRpID0gMDsgJGkgLWx0ICROdW1SZWxvY2F0aW9uczsgJGkrKykKCQkJewoJCQkJI0dldCBpbmZvIGZvciB0aGlzIHJlbG9jYXRpb24KCQkJCSRSZWxvY2F0aW9uSW5mb1B0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50UHRyXSRCYXNlUmVsb2NQdHIpIChbSW50NjRdJEltYWdlQmFzZVJlbG9jU2l6ZSArICgyICogJGkpKSkKCQkJCVtVSW50MTZdJFJlbG9jYXRpb25JbmZvID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFJlbG9jYXRpb25JbmZvUHRyLCBbVHlwZV1bVUludDE2XSkKCgkJCQkjRmlyc3QgNCBiaXRzIGlzIHRoZSByZWxvY2F0aW9uIHR5cGUsIGxhc3QgMTIgYml0cyBpcyB0aGUgYWRkcmVzcyBvZmZzZXQgZnJvbSAkTWVtQWRkckJhc2UKCQkJCVtVSW50MTZdJFJlbG9jT2Zmc2V0ID0gJFJlbG9jYXRpb25JbmZvIC1iYW5kIDB4MEZGRgoJCQkJW1VJbnQxNl0kUmVsb2NUeXBlID0gJFJlbG9jYXRpb25JbmZvIC1iYW5kIDB4RjAwMAoJCQkJZm9yICgkaiA9IDA7ICRqIC1sdCAxMjsgJGorKykKCQkJCXsKCQkJCQkkUmVsb2NUeXBlID0gW01hdGhdOjpGbG9vcigkUmVsb2NUeXBlIC8gMikKCQkJCX0KCgkJCQkjRm9yIERMTCdzIHRoZXJlIGFyZSB0d28gdHlwZXMgb2YgcmVsb2NhdGlvbnMgdXNlZCBhY2NvcmRpbmcgdG8gdGhlIGZvbGxvd2luZyBNU0ROIGFydGljbGUuIE9uZSBmb3IgNjRiaXQgYW5kIG9uZSBmb3IgMzJiaXQuCgkJCQkjVGhpcyBhcHBlYXJzIHRvIGJlIHRydWUgZm9yIEVYRSdzIGFzIHdlbGwuCgkJCQkjCVNpdGU6IGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbWFnYXppbmUvY2MzMDE4MDguYXNweAoJCQkJaWYgKCgkUmVsb2NUeXBlIC1lcSAkV2luMzJDb25zdGFudHMuSU1BR0VfUkVMX0JBU0VEX0hJR0hMT1cpIGAKCQkJCQkJLW9yICgkUmVsb2NUeXBlIC1lcSAkV2luMzJDb25zdGFudHMuSU1BR0VfUkVMX0JBU0VEX0RJUjY0KSkKCQkJCXsJCQkKCQkJCQkjR2V0IHRoZSBjdXJyZW50IG1lbW9yeSBhZGRyZXNzIGFuZCB1cGRhdGUgaXQgYmFzZWQgb2ZmIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gUEUgZXhwZWN0ZWQgYmFzZSBhZGRyZXNzIGFuZCBhY3R1YWwgYmFzZSBhZGRyZXNzCgkJCQkJW0ludFB0cl0kRmluYWxBZGRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kTWVtQWRkckJhc2UpIChbSW50NjRdJFJlbG9jT2Zmc2V0KSkKCQkJCQlbSW50UHRyXSRDdXJyQWRkciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRGaW5hbEFkZHIsIFtUeXBlXVtJbnRQdHJdKQoJCQoJCQkJCWlmICgkQWRkRGlmZmVyZW5jZSAtZXEgJHRydWUpCgkJCQkJewoJCQkJCQlbSW50UHRyXSRDdXJyQWRkciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJEN1cnJBZGRyKSAoJEJhc2VEaWZmZXJlbmNlKSkKCQkJCQl9CgkJCQkJZWxzZQoJCQkJCXsKCQkJCQkJW0ludFB0cl0kQ3VyckFkZHIgPSBbSW50UHRyXShTdWItU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRDdXJyQWRkcikgKCRCYXNlRGlmZmVyZW5jZSkpCgkJCQkJfQkJCQkKCgkJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJEN1cnJBZGRyLCAkRmluYWxBZGRyLCAkZmFsc2UpIHwgT3V0LU51bGwKCQkJCX0KCQkJCWVsc2VpZiAoJFJlbG9jVHlwZSAtbmUgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1JFTF9CQVNFRF9BQlNPTFVURSkKCQkJCXsKCQkJCQkjSU1BR0VfUkVMX0JBU0VEX0FCU09MVVRFIGlzIGp1c3QgdXNlZCBmb3IgcGFkZGluZywgd2UgZG9uJ3QgYWN0dWFsbHkgZG8gYW55dGhpbmcgd2l0aCBpdAoJCQkJCVRocm93ICJVbmtub3duIHJlbG9jYXRpb24gZm91bmQsIHJlbG9jYXRpb24gdmFsdWU6ICRSZWxvY1R5cGUsIHJlbG9jYXRpb25pbmZvOiAkUmVsb2NhdGlvbkluZm8iCgkJCQl9CgkJCX0KCQkJCgkJCSRCYXNlUmVsb2NQdHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRCYXNlUmVsb2NQdHIpIChbSW50NjRdJEJhc2VSZWxvY2F0aW9uVGFibGUuU2l6ZU9mQmxvY2spKQoJCX0KCX0KCgoJRnVuY3Rpb24gSW1wb3J0LURsbEltcG9ydHMKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRQRUluZm8sCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gNCwgTWFuZGF0b3J5ID0gJGZhbHNlKV0KCQlbSW50UHRyXQoJCSRSZW1vdGVQcm9jSGFuZGxlCgkJKQoJCQoJCSRSZW1vdGVMb2FkaW5nID0gJGZhbHNlCgkJaWYgKCRQRUluZm8uUEVIYW5kbGUgLW5lICRQRUluZm8uRWZmZWN0aXZlUEVIYW5kbGUpCgkJewoJCQkkUmVtb3RlTG9hZGluZyA9ICR0cnVlCgkJfQoJCQoJCWlmICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuSW1wb3J0VGFibGUuU2l6ZSAtZ3QgMCkKCQl7CgkJCVtJbnRQdHJdJEltcG9ydERlc2NyaXB0b3JQdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRQRUluZm8uUEVIYW5kbGUpIChbSW50NjRdJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkltcG9ydFRhYmxlLlZpcnR1YWxBZGRyZXNzKQoJCQkKCQkJd2hpbGUgKCR0cnVlKQoJCQl7CgkJCQkkSW1wb3J0RGVzY3JpcHRvciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRJbXBvcnREZXNjcmlwdG9yUHRyLCBbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9JTVBPUlRfREVTQ1JJUFRPUikKCQkJCQoJCQkJI0lmIHRoZSBzdHJ1Y3R1cmUgaXMgbnVsbCwgaXQgc2lnbmFscyB0aGF0IHRoaXMgaXMgdGhlIGVuZCBvZiB0aGUgYXJyYXkKCQkJCWlmICgkSW1wb3J0RGVzY3JpcHRvci5DaGFyYWN0ZXJpc3RpY3MgLWVxIDAgYAoJCQkJCQktYW5kICRJbXBvcnREZXNjcmlwdG9yLkZpcnN0VGh1bmsgLWVxIDAgYAoJCQkJCQktYW5kICRJbXBvcnREZXNjcmlwdG9yLkZvcndhcmRlckNoYWluIC1lcSAwIGAKCQkJCQkJLWFuZCAkSW1wb3J0RGVzY3JpcHRvci5OYW1lIC1lcSAwIGAKCQkJCQkJLWFuZCAkSW1wb3J0RGVzY3JpcHRvci5UaW1lRGF0ZVN0YW1wIC1lcSAwKQoJCQkJewoJCQkJCVdyaXRlLVZlcmJvc2UgIkRvbmUgaW1wb3J0aW5nIERMTCBpbXBvcnRzIgoJCQkJCWJyZWFrCgkJCQl9CgoJCQkJJEltcG9ydERsbEhhbmRsZSA9IFtJbnRQdHJdOjpaZXJvCgkJCQkkSW1wb3J0RGxsUGF0aFB0ciA9IChBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRQRUluZm8uUEVIYW5kbGUpIChbSW50NjRdJEltcG9ydERlc2NyaXB0b3IuTmFtZSkpCgkJCQkkSW1wb3J0RGxsUGF0aCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkSW1wb3J0RGxsUGF0aFB0cikKCQkJCQoJCQkJaWYgKCRSZW1vdGVMb2FkaW5nIC1lcSAkdHJ1ZSkKCQkJCXsKCQkJCQkkSW1wb3J0RGxsSGFuZGxlID0gSW1wb3J0LURsbEluUmVtb3RlUHJvY2VzcyAtUmVtb3RlUHJvY0hhbmRsZSAkUmVtb3RlUHJvY0hhbmRsZSAtSW1wb3J0RGxsUGF0aFB0ciAkSW1wb3J0RGxsUGF0aFB0cgoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRJbXBvcnREbGxIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuTG9hZExpYnJhcnkuSW52b2tlKCRJbXBvcnREbGxQYXRoKQoJCQkJfQoKCQkJCWlmICgoJEltcG9ydERsbEhhbmRsZSAtZXEgJG51bGwpIC1vciAoJEltcG9ydERsbEhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pKQoJCQkJewoJCQkJCXRocm93ICJFcnJvciBpbXBvcnRpbmcgRExMLCBETExOYW1lOiAkSW1wb3J0RGxsUGF0aCIKCQkJCX0KCQkJCQoJCQkJI0dldCB0aGUgZmlyc3QgdGh1bmssIHRoZW4gbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGVtCgkJCQlbSW50UHRyXSRUaHVua1JlZiA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVJbmZvLlBFSGFuZGxlKSAoJEltcG9ydERlc2NyaXB0b3IuRmlyc3RUaHVuaykKCQkJCVtJbnRQdHJdJE9yaWdpbmFsVGh1bmtSZWYgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSW5mby5QRUhhbmRsZSkgKCRJbXBvcnREZXNjcmlwdG9yLkNoYXJhY3RlcmlzdGljcykgI0NoYXJhY3RlcmlzdGljcyBpcyBvdmVybG9hZGVkIHdpdGggT3JpZ2luYWxGaXJzdFRodW5rCgkJCQlbSW50UHRyXSRPcmlnaW5hbFRodW5rUmVmVmFsID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJE9yaWdpbmFsVGh1bmtSZWYsIFtUeXBlXVtJbnRQdHJdKQoJCQkJCgkJCQl3aGlsZSAoJE9yaWdpbmFsVGh1bmtSZWZWYWwgLW5lIFtJbnRQdHJdOjpaZXJvKQoJCQkJewogICAgICAgICAgICAgICAgICAgICRMb2FkQnlPcmRpbmFsID0gJGZhbHNlCiAgICAgICAgICAgICAgICAgICAgW0ludFB0cl0kUHJvY2VkdXJlTmFtZVB0ciA9IFtJbnRQdHJdOjpaZXJvCgkJCQkJI0NvbXBhcmUgdGh1bmtSZWZWYWwgdG8gSU1BR0VfT1JESU5BTF9GTEFHLCB3aGljaCBpcyBkZWZpbmVkIGFzIDB4ODAwMDAwMDAgb3IgMHg4MDAwMDAwMDAwMDAwMDAwIGRlcGVuZGluZyBvbiAzMmJpdCBvciA2NGJpdAoJCQkJCSMJSWYgdGhlIHRvcCBiaXQgaXMgc2V0IG9uIGFuIGludCwgaXQgd2lsbCBiZSBuZWdhdGl2ZSwgc28gaW5zdGVhZCBvZiB3b3JyeWluZyBhYm91dCBjYXN0aW5nIHRoaXMgdG8gdWludAoJCQkJCSMJYW5kIGRvaW5nIHRoZSBjb21wYXJpc29uLCBqdXN0IHNlZSBpZiBpdCBpcyBsZXNzIHRoYW4gMAoJCQkJCVtJbnRQdHJdJE5ld1RodW5rUmVmID0gW0ludFB0cl06Olplcm8KCQkJCQlpZihbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW0ludFB0cl0pIC1lcSA0IC1hbmQgW0ludDMyXSRPcmlnaW5hbFRodW5rUmVmVmFsIC1sdCAwKQoJCQkJCXsKCQkJCQkJW0ludFB0cl0kUHJvY2VkdXJlTmFtZVB0ciA9IFtJbnRQdHJdJE9yaWdpbmFsVGh1bmtSZWZWYWwgLWJhbmQgMHhmZmZmICNUaGlzIGlzIGFjdHVhbGx5IGEgbG9va3VwIGJ5IG9yZGluYWwKICAgICAgICAgICAgICAgICAgICAgICAgJExvYWRCeU9yZGluYWwgPSAkdHJ1ZQoJCQkJCX0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtJbnRQdHJdKSAtZXEgOCAtYW5kIFtJbnQ2NF0kT3JpZ2luYWxUaHVua1JlZlZhbCAtbHQgMCkKCQkJCQl7CgkJCQkJCVtJbnRQdHJdJFByb2NlZHVyZU5hbWVQdHIgPSBbSW50NjRdJE9yaWdpbmFsVGh1bmtSZWZWYWwgLWJhbmQgMHhmZmZmICNUaGlzIGlzIGFjdHVhbGx5IGEgbG9va3VwIGJ5IG9yZGluYWwKICAgICAgICAgICAgICAgICAgICAgICAgJExvYWRCeU9yZGluYWwgPSAkdHJ1ZQoJCQkJCX0KCQkJCQllbHNlCgkJCQkJewoJCQkJCQlbSW50UHRyXSRTdHJpbmdBZGRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUluZm8uUEVIYW5kbGUpICgkT3JpZ2luYWxUaHVua1JlZlZhbCkKCQkJCQkJJFN0cmluZ0FkZHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU3RyaW5nQWRkciAoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtVSW50MTZdKSkKCQkJCQkJJFByb2NlZHVyZU5hbWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ0Fuc2koJFN0cmluZ0FkZHIpCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZWR1cmVOYW1lUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RyaW5nVG9IR2xvYmFsQW5zaSgkUHJvY2VkdXJlTmFtZSkKCQkJCQl9CgkJCQkJCgkJCQkJaWYgKCRSZW1vdGVMb2FkaW5nIC1lcSAkdHJ1ZSkKCQkJCQl7CgkJCQkJCVtJbnRQdHJdJE5ld1RodW5rUmVmID0gR2V0LVJlbW90ZVByb2NBZGRyZXNzIC1SZW1vdGVQcm9jSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1SZW1vdGVEbGxIYW5kbGUgJEltcG9ydERsbEhhbmRsZSAtRnVuY3Rpb25OYW1lUHRyICRQcm9jZWR1cmVOYW1lUHRyIC1Mb2FkQnlPcmRpbmFsICRMb2FkQnlPcmRpbmFsCgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkgICAgICAgIFtJbnRQdHJdJE5ld1RodW5rUmVmID0gJFdpbjMyRnVuY3Rpb25zLkdldFByb2NBZGRyZXNzSW50UHRyLkludm9rZSgkSW1wb3J0RGxsSGFuZGxlLCAkUHJvY2VkdXJlTmFtZVB0cikKCQkJCQl9CgkJCQkJCgkJCQkJaWYgKCROZXdUaHVua1JlZiAtZXEgJG51bGwgLW9yICROZXdUaHVua1JlZiAtZXEgW0ludFB0cl06Olplcm8pCgkJCQkJewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJExvYWRCeU9yZGluYWwpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRocm93ICJOZXcgZnVuY3Rpb24gcmVmZXJlbmNlIGlzIG51bGwsIHRoaXMgaXMgYWxtb3N0IGNlcnRhaW5seSBhIGJ1ZyBpbiB0aGlzIHNjcmlwdC4gRnVuY3Rpb24gT3JkaW5hbDogJFByb2NlZHVyZU5hbWVQdHIuIERsbDogJEltcG9ydERsbFBhdGgiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CgkJCQkJCSAgICBUaHJvdyAiTmV3IGZ1bmN0aW9uIHJlZmVyZW5jZSBpcyBudWxsLCB0aGlzIGlzIGFsbW9zdCBjZXJ0YWlubHkgYSBidWcgaW4gdGhpcyBzY3JpcHQuIEZ1bmN0aW9uOiAkUHJvY2VkdXJlTmFtZS4gRGxsOiAkSW1wb3J0RGxsUGF0aCIKICAgICAgICAgICAgICAgICAgICAgICAgfQoJCQkJCX0KCgkJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJE5ld1RodW5rUmVmLCAkVGh1bmtSZWYsICRmYWxzZSkKCQkJCQkKCQkJCQkkVGh1bmtSZWYgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRUaHVua1JlZikgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkpCgkJCQkJW0ludFB0cl0kT3JpZ2luYWxUaHVua1JlZiA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJE9yaWdpbmFsVGh1bmtSZWYpIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW0ludFB0cl0pKQoJCQkJCVtJbnRQdHJdJE9yaWdpbmFsVGh1bmtSZWZWYWwgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkT3JpZ2luYWxUaHVua1JlZiwgW1R5cGVdW0ludFB0cl0pCgogICAgICAgICAgICAgICAgICAgICNDbGVhbnVwCiAgICAgICAgICAgICAgICAgICAgI0lmIGxvYWRpbmcgYnkgb3JkaW5hbCwgUHJvY2VkdXJlTmFtZVB0ciBpcyB0aGUgb3JkaW5hbCB2YWx1ZSBhbmQgbm90IGFjdHVhbGx5IGEgcG9pbnRlciB0byBhIGJ1ZmZlciB0aGF0IG5lZWRzIHRvIGJlIGZyZWVkCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRMb2FkQnlPcmRpbmFsKSAtYW5kICgkUHJvY2VkdXJlTmFtZVB0ciAtbmUgW0ludFB0cl06Olplcm8pKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFByb2NlZHVyZU5hbWVQdHIpCiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZWR1cmVOYW1lUHRyID0gW0ludFB0cl06Olplcm8KICAgICAgICAgICAgICAgICAgICB9CgkJCQl9CgkJCQkKCQkJCSRJbXBvcnREZXNjcmlwdG9yUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRJbXBvcnREZXNjcmlwdG9yUHRyKSAoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX0lNUE9SVF9ERVNDUklQVE9SKSkKCQkJfQoJCX0KCX0KCglGdW5jdGlvbiBHZXQtVmlydHVhbFByb3RlY3RWYWx1ZQoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1VJbnQzMl0KCQkkU2VjdGlvbkNoYXJhY3RlcmlzdGljcwoJCSkKCQkKCQkkUHJvdGVjdGlvbkZsYWcgPSAweDAKCQlpZiAoKCRTZWN0aW9uQ2hhcmFjdGVyaXN0aWNzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5JTUFHRV9TQ05fTUVNX0VYRUNVVEUpIC1ndCAwKQoJCXsKCQkJaWYgKCgkU2VjdGlvbkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfU0NOX01FTV9SRUFEKSAtZ3QgMCkKCQkJewoJCQkJaWYgKCgkU2VjdGlvbkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfU0NOX01FTV9XUklURSkgLWd0IDApCgkJCQl7CgkJCQkJJFByb3RlY3Rpb25GbGFnID0gJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkUHJvdGVjdGlvbkZsYWcgPSAkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQUQKCQkJCX0KCQkJfQoJCQllbHNlCgkJCXsKCQkJCWlmICgoJFNlY3Rpb25DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1NDTl9NRU1fV1JJVEUpIC1ndCAwKQoJCQkJewoJCQkJCSRQcm90ZWN0aW9uRmxhZyA9ICRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfV1JJVEVDT1BZCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJJFByb3RlY3Rpb25GbGFnID0gJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURQoJCQkJfQoJCQl9CgkJfQoJCWVsc2UKCQl7CgkJCWlmICgoJFNlY3Rpb25DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1NDTl9NRU1fUkVBRCkgLWd0IDApCgkJCXsKCQkJCWlmICgoJFNlY3Rpb25DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1NDTl9NRU1fV1JJVEUpIC1ndCAwKQoJCQkJewoJCQkJCSRQcm90ZWN0aW9uRmxhZyA9ICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURQoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRQcm90ZWN0aW9uRmxhZyA9ICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURPTkxZCgkJCQl9CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlpZiAoKCRTZWN0aW9uQ2hhcmFjdGVyaXN0aWNzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5JTUFHRV9TQ05fTUVNX1dSSVRFKSAtZ3QgMCkKCQkJCXsKCQkJCQkkUHJvdGVjdGlvbkZsYWcgPSAkV2luMzJDb25zdGFudHMuUEFHRV9XUklURUNPUFkKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkUHJvdGVjdGlvbkZsYWcgPSAkV2luMzJDb25zdGFudHMuUEFHRV9OT0FDQ0VTUwoJCQkJfQoJCQl9CgkJfQoJCQoJCWlmICgoJFNlY3Rpb25DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1NDTl9NRU1fTk9UX0NBQ0hFRCkgLWd0IDApCgkJewoJCQkkUHJvdGVjdGlvbkZsYWcgPSAkUHJvdGVjdGlvbkZsYWcgLWJvciAkV2luMzJDb25zdGFudHMuUEFHRV9OT0NBQ0hFCgkJfQoJCQoJCXJldHVybiAkUHJvdGVjdGlvbkZsYWcKCX0KCglGdW5jdGlvbiBVcGRhdGUtTWVtb3J5UHJvdGVjdGlvbkZsYWdzCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkUEVJbmZvLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyRnVuY3Rpb25zLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyQ29uc3RhbnRzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyVHlwZXMKCQkpCgkJCgkJZm9yKCAkaSA9IDA7ICRpIC1sdCAkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuRmlsZUhlYWRlci5OdW1iZXJPZlNlY3Rpb25zOyAkaSsrKQoJCXsKCQkJW0ludFB0cl0kU2VjdGlvbkhlYWRlclB0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5TZWN0aW9uSGVhZGVyUHRyKSAoJGkgKiBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfU0VDVElPTl9IRUFERVIpKSkKCQkJJFNlY3Rpb25IZWFkZXIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkU2VjdGlvbkhlYWRlclB0ciwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfU0VDVElPTl9IRUFERVIpCgkJCVtJbnRQdHJdJFNlY3Rpb25QdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSW5mby5QRUhhbmRsZSkgKCRTZWN0aW9uSGVhZGVyLlZpcnR1YWxBZGRyZXNzKQoJCQkKCQkJW1VJbnQzMl0kUHJvdGVjdEZsYWcgPSBHZXQtVmlydHVhbFByb3RlY3RWYWx1ZSAkU2VjdGlvbkhlYWRlci5DaGFyYWN0ZXJpc3RpY3MKCQkJW1VJbnQzMl0kU2VjdGlvblNpemUgPSAkU2VjdGlvbkhlYWRlci5WaXJ0dWFsU2l6ZQoJCQkKCQkJW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcgPSAwCgkJCVRlc3QtTWVtb3J5UmFuZ2VWYWxpZCAtRGVidWdTdHJpbmcgIlVwZGF0ZS1NZW1vcnlQcm90ZWN0aW9uRmxhZ3M6OlZpcnR1YWxQcm90ZWN0IiAtUEVJbmZvICRQRUluZm8gLVN0YXJ0QWRkcmVzcyAkU2VjdGlvblB0ciAtU2l6ZSAkU2VjdGlvblNpemUgfCBPdXQtTnVsbAoJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsUHJvdGVjdC5JbnZva2UoJFNlY3Rpb25QdHIsICRTZWN0aW9uU2l6ZSwgJFByb3RlY3RGbGFnLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykKCQkJaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJCXsKCQkJCVRocm93ICJVbmFibGUgdG8gY2hhbmdlIG1lbW9yeSBwcm90ZWN0aW9uIgoJCQl9CgkJfQoJfQoJCgkjVGhpcyBmdW5jdGlvbiBvdmVyd3JpdGVzIEdldENvbW1hbmRMaW5lIGFuZCBFeGl0VGhyZWFkIHdoaWNoIGFyZSBuZWVkZWQgdG8gcmVmbGVjdGl2ZWx5IGxvYWQgYW4gRVhFCgkjUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBhZGRyZXNzZXMgdG8gY29waWVzIG9mIHRoZSBieXRlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW4gKGFuZCB0aGUgY291bnQpCglGdW5jdGlvbiBVcGRhdGUtRXhlRnVuY3Rpb25zCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkUEVJbmZvLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyRnVuY3Rpb25zLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyQ29uc3RhbnRzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N0cmluZ10KCQkkRXhlQXJndW1lbnRzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSA0LCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkRXhlRG9uZUJ5dGVQdHIKCQkpCgkJCgkJI1RoaXMgd2lsbCBiZSBhbiBhcnJheSBvZiBhcnJheXMuIFRoZSBpbm5lciBhcnJheSB3aWxsIGNvbnNpc3Qgb2Y6IEAoJERlc3RBZGRyLCAkU291cmNlQWRkciwgJEJ5dGVDb3VudCkuIFRoaXMgaXMgdXNlZCB0byByZXR1cm4gbWVtb3J5IHRvIGl0cyBvcmlnaW5hbCBzdGF0ZS4KCQkkUmV0dXJuQXJyYXkgPSBAKCkgCgkJCgkJJFB0clNpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW0ludFB0cl0pCgkJW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcgPSAwCgkJCgkJW0ludFB0cl0kS2VybmVsMzJIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgiS2VybmVsMzIuZGxsIikKCQlpZiAoJEtlcm5lbDMySGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCXRocm93ICJLZXJuZWwzMiBoYW5kbGUgbnVsbCIKCQl9CgkJCgkJW0ludFB0cl0kS2VybmVsQmFzZUhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRNb2R1bGVIYW5kbGUuSW52b2tlKCJLZXJuZWxCYXNlLmRsbCIpCgkJaWYgKCRLZXJuZWxCYXNlSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCXRocm93ICJLZXJuZWxCYXNlIGhhbmRsZSBudWxsIgoJCX0KCgkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCSNGaXJzdCBvdmVyd3JpdGUgdGhlIEdldENvbW1hbmRMaW5lKCkgZnVuY3Rpb24uIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGJ5IGEgbmV3IHByb2Nlc3MgdG8gZ2V0IHRoZSBjb21tYW5kIGxpbmUgYXJncyB1c2VkIHRvIHN0YXJ0IGl0LgoJCSMJV2Ugb3ZlcndyaXRlIGl0IHdpdGggc2hlbGxjb2RlIHRvIHJldHVybiBhIHBvaW50ZXIgdG8gdGhlIHN0cmluZyBFeGVBcmd1bWVudHMsIGFsbG93aW5nIHVzIHRvIHBhc3MgdGhlIGV4ZSBhbnkgYXJncyB3ZSB3YW50LgoJCSRDbWRMaW5lV0FyZ3NQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJpbmdUb0hHbG9iYWxVbmkoJEV4ZUFyZ3VtZW50cykKCQkkQ21kTGluZUFBcmdzUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RyaW5nVG9IR2xvYmFsQW5zaSgkRXhlQXJndW1lbnRzKQoJCgkJW0ludFB0cl0kR2V0Q29tbWFuZExpbmVBQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbEJhc2VIYW5kbGUsICJHZXRDb21tYW5kTGluZUEiKQoJCVtJbnRQdHJdJEdldENvbW1hbmRMaW5lV0FkZHIgPSAkV2luMzJGdW5jdGlvbnMuR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRLZXJuZWxCYXNlSGFuZGxlLCAiR2V0Q29tbWFuZExpbmVXIikKCgkJaWYgKCRHZXRDb21tYW5kTGluZUFBZGRyIC1lcSBbSW50UHRyXTo6WmVybyAtb3IgJEdldENvbW1hbmRMaW5lV0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJdGhyb3cgIkdldENvbW1hbmRMaW5lIHB0ciBudWxsLiBHZXRDb21tYW5kTGluZUE6ICQoR2V0LUhleCAkR2V0Q29tbWFuZExpbmVBQWRkcikuIEdldENvbW1hbmRMaW5lVzogJChHZXQtSGV4ICRHZXRDb21tYW5kTGluZVdBZGRyKSIKCQl9CgoJCSNQcmVwYXJlIHRoZSBzaGVsbGNvZGUKCQlbQnl0ZVtdXSRTaGVsbGNvZGUxID0gQCgpCgkJaWYgKCRQdHJTaXplIC1lcSA4KQoJCXsKCQkJJFNoZWxsY29kZTEgKz0gMHg0OAkjNjRiaXQgc2hlbGxjb2RlIGhhcyB0aGUgMHg0OCBiZWZvcmUgdGhlIDB4YjgKCQl9CgkJJFNoZWxsY29kZTEgKz0gMHhiOAoJCQoJCVtCeXRlW11dJFNoZWxsY29kZTIgPSBAKDB4YzMpCgkJJFRvdGFsU2l6ZSA9ICRTaGVsbGNvZGUxLkxlbmd0aCArICRQdHJTaXplICsgJFNoZWxsY29kZTIuTGVuZ3RoCgkJCgkJCgkJI01ha2UgY29weSBvZiBHZXRDb21tYW5kTGluZUEgYW5kIEdldENvbW1hbmRMaW5lVwoJCSRHZXRDb21tYW5kTGluZUFPcmlnQnl0ZXNQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRvdGFsU2l6ZSkKCQkkR2V0Q29tbWFuZExpbmVXT3JpZ0J5dGVzUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRUb3RhbFNpemUpCgkJJFdpbjMyRnVuY3Rpb25zLm1lbWNweS5JbnZva2UoJEdldENvbW1hbmRMaW5lQU9yaWdCeXRlc1B0ciwgJEdldENvbW1hbmRMaW5lQUFkZHIsIFtVSW50NjRdJFRvdGFsU2l6ZSkgfCBPdXQtTnVsbAoJCSRXaW4zMkZ1bmN0aW9ucy5tZW1jcHkuSW52b2tlKCRHZXRDb21tYW5kTGluZVdPcmlnQnl0ZXNQdHIsICRHZXRDb21tYW5kTGluZVdBZGRyLCBbVUludDY0XSRUb3RhbFNpemUpIHwgT3V0LU51bGwKCQkkUmV0dXJuQXJyYXkgKz0gLCgkR2V0Q29tbWFuZExpbmVBQWRkciwgJEdldENvbW1hbmRMaW5lQU9yaWdCeXRlc1B0ciwgJFRvdGFsU2l6ZSkKCQkkUmV0dXJuQXJyYXkgKz0gLCgkR2V0Q29tbWFuZExpbmVXQWRkciwgJEdldENvbW1hbmRMaW5lV09yaWdCeXRlc1B0ciwgJFRvdGFsU2l6ZSkKCgkJI092ZXJ3cml0ZSBHZXRDb21tYW5kTGluZUEKCQlbVUludDMyXSRPbGRQcm90ZWN0RmxhZyA9IDAKCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsUHJvdGVjdC5JbnZva2UoJEdldENvbW1hbmRMaW5lQUFkZHIsIFtVSW50MzJdJFRvdGFsU2l6ZSwgW1VJbnQzMl0oJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykKCQlpZiAoJFN1Y2Nlc3MgPSAkZmFsc2UpCgkJewoJCQl0aHJvdyAiQ2FsbCB0byBWaXJ0dWFsUHJvdGVjdCBmYWlsZWQiCgkJfQoJCQoJCSRHZXRDb21tYW5kTGluZUFBZGRyVGVtcCA9ICRHZXRDb21tYW5kTGluZUFBZGRyCgkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJFNoZWxsY29kZTEgLU1lbW9yeUFkZHJlc3MgJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wCgkJJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wICgkU2hlbGxjb2RlMS5MZW5ndGgpCgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJENtZExpbmVBQXJnc1B0ciwgJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wLCAkZmFsc2UpCgkJJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wICRQdHJTaXplCgkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJFNoZWxsY29kZTIgLU1lbW9yeUFkZHJlc3MgJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wCgkJCgkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkR2V0Q29tbWFuZExpbmVBQWRkciwgW1VJbnQzMl0kVG90YWxTaXplLCBbVUludDMyXSRPbGRQcm90ZWN0RmxhZywgW1JlZl0kT2xkUHJvdGVjdEZsYWcpIHwgT3V0LU51bGwKCQkKCQkKCQkjT3ZlcndyaXRlIEdldENvbW1hbmRMaW5lVwoJCVtVSW50MzJdJE9sZFByb3RlY3RGbGFnID0gMAoJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkR2V0Q29tbWFuZExpbmVXQWRkciwgW1VJbnQzMl0kVG90YWxTaXplLCBbVUludDMyXSgkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURSksIFtSZWZdJE9sZFByb3RlY3RGbGFnKQoJCWlmICgkU3VjY2VzcyA9ICRmYWxzZSkKCQl7CgkJCXRocm93ICJDYWxsIHRvIFZpcnR1YWxQcm90ZWN0IGZhaWxlZCIKCQl9CgkJCgkJJEdldENvbW1hbmRMaW5lV0FkZHJUZW1wID0gJEdldENvbW1hbmRMaW5lV0FkZHIKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkU2hlbGxjb2RlMSAtTWVtb3J5QWRkcmVzcyAkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAKCQkkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAgKCRTaGVsbGNvZGUxLkxlbmd0aCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkQ21kTGluZVdBcmdzUHRyLCAkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAsICRmYWxzZSkKCQkkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAgJFB0clNpemUKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkU2hlbGxjb2RlMiAtTWVtb3J5QWRkcmVzcyAkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAKCQkKCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRHZXRDb21tYW5kTGluZVdBZGRyLCBbVUludDMyXSRUb3RhbFNpemUsIFtVSW50MzJdJE9sZFByb3RlY3RGbGFnLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykgfCBPdXQtTnVsbAoJCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQkKCQkKCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJI0ZvciBDKysgc3R1ZmYgdGhhdCBpcyBjb21waWxlZCB3aXRoIHZpc3VhbCBzdHVkaW8gYXMgIm11bHRpdGhyZWFkZWQgRExMIiwgdGhlIGFib3ZlIG1ldGhvZCBvZiBvdmVyd3JpdGluZyBHZXRDb21tYW5kTGluZSBkb2Vzbid0IHdvcmsuCgkJIwlJIGRvbid0IGtub3cgd2h5IGV4YWN0bHkuLiBCdXQgdGhlIG1zdmNyIERMTCB0aGF0IGEgIkRMTCBjb21waWxlZCBleGVjdXRhYmxlIiBpbXBvcnRzIGhhcyBhbiBleHBvcnQgY2FsbGVkIF9hY21kbG4gYW5kIF93Y21kbG4uCgkJIwlJdCBhcHBlYXJzIHRvIGNhbGwgR2V0Q29tbWFuZExpbmUgYW5kIHN0b3JlIHRoZSByZXN1bHQgaW4gdGhpcyB2YXIuIFRoZW4gd2hlbiB5b3UgY2FsbCBfX3dnZXRjbWRsbiBpdCBwYXJzZXMgYW5kIHJldHVybnMgdGhlCgkJIwlhcmd2IGFuZCBhcmdjIHZhbHVlcyBzdG9yZWQgaW4gdGhlc2UgdmFyaWFibGVzLiBTbyB0aGUgZWFzeSB0aGluZyB0byBkbyBpcyBqdXN0IG92ZXJ3cml0ZSB0aGUgdmFyaWFibGUgc2luY2UgdGhleSBhcmUgZXhwb3J0ZWQuCgkJJERsbExpc3QgPSBAKCJtc3ZjcjcwZC5kbGwiLCAibXN2Y3I3MWQuZGxsIiwgIm1zdmNyODBkLmRsbCIsICJtc3ZjcjkwZC5kbGwiLCAibXN2Y3IxMDBkLmRsbCIsICJtc3ZjcjExMGQuZGxsIiwgIm1zdmNyNzAuZGxsIiBgCgkJCSwgIm1zdmNyNzEuZGxsIiwgIm1zdmNyODAuZGxsIiwgIm1zdmNyOTAuZGxsIiwgIm1zdmNyMTAwLmRsbCIsICJtc3ZjcjExMC5kbGwiKQoJCQoJCWZvcmVhY2ggKCREbGwgaW4gJERsbExpc3QpCgkJewoJCQlbSW50UHRyXSREbGxIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgkRGxsKQoJCQlpZiAoJERsbEhhbmRsZSAtbmUgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVtJbnRQdHJdJFdDbWRMbkFkZHIgPSAkV2luMzJGdW5jdGlvbnMuR2V0UHJvY0FkZHJlc3MuSW52b2tlKCREbGxIYW5kbGUsICJfd2NtZGxuIikKCQkJCVtJbnRQdHJdJEFDbWRMbkFkZHIgPSAkV2luMzJGdW5jdGlvbnMuR2V0UHJvY0FkZHJlc3MuSW52b2tlKCREbGxIYW5kbGUsICJfYWNtZGxuIikKCQkJCWlmICgkV0NtZExuQWRkciAtZXEgW0ludFB0cl06Olplcm8gLW9yICRBQ21kTG5BZGRyIC1lcSBbSW50UHRyXTo6WmVybykKCQkJCXsKCQkJCQkiRXJyb3IsIGNvdWxkbid0IGZpbmQgX3djbWRsbiBvciBfYWNtZGxuIgoJCQkJfQoJCQkJCgkJCQkkTmV3QUNtZExuUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RyaW5nVG9IR2xvYmFsQW5zaSgkRXhlQXJndW1lbnRzKQoJCQkJJE5ld1dDbWRMblB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cmluZ1RvSEdsb2JhbFVuaSgkRXhlQXJndW1lbnRzKQoJCQkJCgkJCQkjTWFrZSBhIGNvcHkgb2YgdGhlIG9yaWdpbmFsIGNoYXIqIGFuZCB3Y2hhcl90KiBzbyB0aGVzZSB2YXJpYWJsZXMgY2FuIGJlIHJldHVybmVkIGJhY2sgdG8gdGhlaXIgb3JpZ2luYWwgc3RhdGUKCQkJCSRPcmlnQUNtZExuUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEFDbWRMbkFkZHIsIFtUeXBlXVtJbnRQdHJdKQoJCQkJJE9yaWdXQ21kTG5QdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkV0NtZExuQWRkciwgW1R5cGVdW0ludFB0cl0pCgkJCQkkT3JpZ0FDbWRMblB0clN0b3JhZ2UgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFB0clNpemUpCgkJCQkkT3JpZ1dDbWRMblB0clN0b3JhZ2UgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFB0clNpemUpCgkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkT3JpZ0FDbWRMblB0ciwgJE9yaWdBQ21kTG5QdHJTdG9yYWdlLCAkZmFsc2UpCgkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkT3JpZ1dDbWRMblB0ciwgJE9yaWdXQ21kTG5QdHJTdG9yYWdlLCAkZmFsc2UpCgkJCQkkUmV0dXJuQXJyYXkgKz0gLCgkQUNtZExuQWRkciwgJE9yaWdBQ21kTG5QdHJTdG9yYWdlLCAkUHRyU2l6ZSkKCQkJCSRSZXR1cm5BcnJheSArPSAsKCRXQ21kTG5BZGRyLCAkT3JpZ1dDbWRMblB0clN0b3JhZ2UsICRQdHJTaXplKQoJCQkJCgkJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsUHJvdGVjdC5JbnZva2UoJEFDbWRMbkFkZHIsIFtVSW50MzJdJFB0clNpemUsIFtVSW50MzJdKCRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRFdSSVRFKSwgW1JlZl0kT2xkUHJvdGVjdEZsYWcpCgkJCQlpZiAoJFN1Y2Nlc3MgPSAkZmFsc2UpCgkJCQl7CgkJCQkJdGhyb3cgIkNhbGwgdG8gVmlydHVhbFByb3RlY3QgZmFpbGVkIgoJCQkJfQoJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJE5ld0FDbWRMblB0ciwgJEFDbWRMbkFkZHIsICRmYWxzZSkKCQkJCSRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsUHJvdGVjdC5JbnZva2UoJEFDbWRMbkFkZHIsIFtVSW50MzJdJFB0clNpemUsIFtVSW50MzJdKCRPbGRQcm90ZWN0RmxhZyksIFtSZWZdJE9sZFByb3RlY3RGbGFnKSB8IE91dC1OdWxsCgkJCQkKCQkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkV0NtZExuQWRkciwgW1VJbnQzMl0kUHRyU2l6ZSwgW1VJbnQzMl0oJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykKCQkJCWlmICgkU3VjY2VzcyA9ICRmYWxzZSkKCQkJCXsKCQkJCQl0aHJvdyAiQ2FsbCB0byBWaXJ0dWFsUHJvdGVjdCBmYWlsZWQiCgkJCQl9CgkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkTmV3V0NtZExuUHRyLCAkV0NtZExuQWRkciwgJGZhbHNlKQoJCQkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkV0NtZExuQWRkciwgW1VJbnQzMl0kUHRyU2l6ZSwgW1VJbnQzMl0oJE9sZFByb3RlY3RGbGFnKSwgW1JlZl0kT2xkUHJvdGVjdEZsYWcpIHwgT3V0LU51bGwKCQkJfQoJCX0KCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJCgkJCgkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCSNOZXh0IG92ZXJ3cml0ZSBDb3JFeGl0UHJvY2VzcyBhbmQgRXhpdFByb2Nlc3MgdG8gaW5zdGVhZCBFeGl0VGhyZWFkLiBUaGlzIHdheSB0aGUgZW50aXJlIFBvd2Vyc2hlbGwgcHJvY2VzcyBkb2Vzbid0IGRpZSB3aGVuIHRoZSBFWEUgZXhpdHMuCgoJCSRSZXR1cm5BcnJheSA9IEAoKQoJCSRFeGl0RnVuY3Rpb25zID0gQCgpICNBcnJheSBvZiBmdW5jdGlvbnMgdG8gb3ZlcndyaXRlIHNvIHRoZSB0aHJlYWQgZG9lc24ndCBleGl0IHRoZSBwcm9jZXNzCgkJCgkJI0NvckV4aXRQcm9jZXNzIChjb21waWxlZCBpbiB0byB2aXN1YWwgc3R1ZGlvIGMrKykKCQlbSW50UHRyXSRNc2NvcmVlSGFuZGxlID0gJFdpbjMyRnVuY3Rpb25zLkdldE1vZHVsZUhhbmRsZS5JbnZva2UoIm1zY29yZWUuZGxsIikKCQlpZiAoJE1zY29yZWVIYW5kbGUgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJdGhyb3cgIm1zY29yZWUgaGFuZGxlIG51bGwiCgkJfQoJCVtJbnRQdHJdJENvckV4aXRQcm9jZXNzQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJE1zY29yZWVIYW5kbGUsICJDb3JFeGl0UHJvY2VzcyIpCgkJaWYgKCRDb3JFeGl0UHJvY2Vzc0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJVGhyb3cgIkNvckV4aXRQcm9jZXNzIGFkZHJlc3Mgbm90IGZvdW5kIgoJCX0KCQkkRXhpdEZ1bmN0aW9ucyArPSAkQ29yRXhpdFByb2Nlc3NBZGRyCgkJCgkJI0V4aXRQcm9jZXNzICh3aGF0IG5vbi1tYW5hZ2VkIHByb2dyYW1zIHVzZSkKCQlbSW50UHRyXSRFeGl0UHJvY2Vzc0FkZHIgPSAkV2luMzJGdW5jdGlvbnMuR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRLZXJuZWwzMkhhbmRsZSwgIkV4aXRQcm9jZXNzIikKCQlpZiAoJEV4aXRQcm9jZXNzQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlUaHJvdyAiRXhpdFByb2Nlc3MgYWRkcmVzcyBub3QgZm91bmQiCgkJfQoJCSRFeGl0RnVuY3Rpb25zICs9ICRFeGl0UHJvY2Vzc0FkZHIKCQkKCQlbVUludDMyXSRPbGRQcm90ZWN0RmxhZyA9IDAKCQlmb3JlYWNoICgkUHJvY0V4aXRGdW5jdGlvbkFkZHIgaW4gJEV4aXRGdW5jdGlvbnMpCgkJewoJCQkkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgPSAkUHJvY0V4aXRGdW5jdGlvbkFkZHIKCQkJI1RoZSBmb2xsb3dpbmcgaXMgdGhlIHNoZWxsY29kZSAoU2hlbGxjb2RlOiBFeGl0VGhyZWFkLmFzbSk6CgkJCSMzMmJpdCBzaGVsbGNvZGUKCQkJW0J5dGVbXV0kU2hlbGxjb2RlMSA9IEAoMHhiYikKCQkJW0J5dGVbXV0kU2hlbGxjb2RlMiA9IEAoMHhjNiwgMHgwMywgMHgwMSwgMHg4MywgMHhlYywgMHgyMCwgMHg4MywgMHhlNCwgMHhjMCwgMHhiYikKCQkJIzY0Yml0IHNoZWxsY29kZSAoU2hlbGxjb2RlOiBFeGl0VGhyZWFkLmFzbSkKCQkJaWYgKCRQdHJTaXplIC1lcSA4KQoJCQl7CgkJCQlbQnl0ZVtdXSRTaGVsbGNvZGUxID0gQCgweDQ4LCAweGJiKQoJCQkJW0J5dGVbXV0kU2hlbGxjb2RlMiA9IEAoMHhjNiwgMHgwMywgMHgwMSwgMHg0OCwgMHg4MywgMHhlYywgMHgyMCwgMHg2NiwgMHg4MywgMHhlNCwgMHhjMCwgMHg0OCwgMHhiYikKCQkJfQoJCQlbQnl0ZVtdXSRTaGVsbGNvZGUzID0gQCgweGZmLCAweGQzKQoJCQkkVG90YWxTaXplID0gJFNoZWxsY29kZTEuTGVuZ3RoICsgJFB0clNpemUgKyAkU2hlbGxjb2RlMi5MZW5ndGggKyAkUHRyU2l6ZSArICRTaGVsbGNvZGUzLkxlbmd0aAoJCQkKCQkJW0ludFB0cl0kRXhpdFRocmVhZEFkZHIgPSAkV2luMzJGdW5jdGlvbnMuR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRLZXJuZWwzMkhhbmRsZSwgIkV4aXRUaHJlYWQiKQoJCQlpZiAoJEV4aXRUaHJlYWRBZGRyIC1lcSBbSW50UHRyXTo6WmVybykKCQkJewoJCQkJVGhyb3cgIkV4aXRUaHJlYWQgYWRkcmVzcyBub3QgZm91bmQiCgkJCX0KCgkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkUHJvY0V4aXRGdW5jdGlvbkFkZHIsIFtVSW50MzJdJFRvdGFsU2l6ZSwgW1VJbnQzMl0kV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURSwgW1JlZl0kT2xkUHJvdGVjdEZsYWcpCgkJCWlmICgkU3VjY2VzcyAtZXEgJGZhbHNlKQoJCQl7CgkJCQlUaHJvdyAiQ2FsbCB0byBWaXJ0dWFsUHJvdGVjdCBmYWlsZWQiCgkJCX0KCQkJCgkJCSNNYWtlIGNvcHkgb2Ygb3JpZ2luYWwgRXhpdFByb2Nlc3MgYnl0ZXMKCQkJJEV4aXRQcm9jZXNzT3JpZ0J5dGVzUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRUb3RhbFNpemUpCgkJCSRXaW4zMkZ1bmN0aW9ucy5tZW1jcHkuSW52b2tlKCRFeGl0UHJvY2Vzc09yaWdCeXRlc1B0ciwgJFByb2NFeGl0RnVuY3Rpb25BZGRyLCBbVUludDY0XSRUb3RhbFNpemUpIHwgT3V0LU51bGwKCQkJJFJldHVybkFycmF5ICs9ICwoJFByb2NFeGl0RnVuY3Rpb25BZGRyLCAkRXhpdFByb2Nlc3NPcmlnQnl0ZXNQdHIsICRUb3RhbFNpemUpCgkJCQoJCQkjV3JpdGUgdGhlIEV4aXRUaHJlYWQgc2hlbGxjb2RlIHRvIG1lbW9yeS4gVGhpcyBzaGVsbGNvZGUgd2lsbCB3cml0ZSAweDAxIHRvIEV4ZURvbmVCeXRlUHRyIGFkZHJlc3MgKHNvIFBTIGtub3dzIHRoZSBFWEUgaXMgZG9uZSksIHRoZW4gCgkJCSMJY2FsbCBFeGl0VGhyZWFkCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRTaGVsbGNvZGUxIC1NZW1vcnlBZGRyZXNzICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcAoJCQkkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgKCRTaGVsbGNvZGUxLkxlbmd0aCkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJEV4ZURvbmVCeXRlUHRyLCAkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAsICRmYWxzZSkKCQkJJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wICRQdHJTaXplCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRTaGVsbGNvZGUyIC1NZW1vcnlBZGRyZXNzICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcAoJCQkkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgKCRTaGVsbGNvZGUyLkxlbmd0aCkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJEV4aXRUaHJlYWRBZGRyLCAkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAsICRmYWxzZSkKCQkJJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wICRQdHJTaXplCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRTaGVsbGNvZGUzIC1NZW1vcnlBZGRyZXNzICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcAoKCQkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkUHJvY0V4aXRGdW5jdGlvbkFkZHIsIFtVSW50MzJdJFRvdGFsU2l6ZSwgW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcsIFtSZWZdJE9sZFByb3RlY3RGbGFnKSB8IE91dC1OdWxsCgkJfQoJCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgkJV3JpdGUtT3V0cHV0ICRSZXR1cm5BcnJheQoJfQoJCgkKCSNUaGlzIGZ1bmN0aW9uIHRha2VzIGFuIGFycmF5IG9mIGFycmF5cywgdGhlIGlubmVyIGFycmF5IG9mIGZvcm1hdCBAKCREZXN0QWRkciwgJFNvdXJjZUFkZHIsICRDb3VudCkKCSMJSXQgY29waWVzIENvdW50IGJ5dGVzIGZyb20gU291cmNlIHRvIERlc3RpbmF0aW9uLgoJRnVuY3Rpb24gQ29weS1BcnJheU9mTWVtQWRkcmVzc2VzCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbQXJyYXlbXV0KCQkkQ29weUluZm8sCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJDb25zdGFudHMKCQkpCgoJCVtVSW50MzJdJE9sZFByb3RlY3RGbGFnID0gMAoJCWZvcmVhY2ggKCRJbmZvIGluICRDb3B5SW5mbykKCQl7CgkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkSW5mb1swXSwgW1VJbnQzMl0kSW5mb1syXSwgW1VJbnQzMl0kV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURSwgW1JlZl0kT2xkUHJvdGVjdEZsYWcpCgkJCWlmICgkU3VjY2VzcyAtZXEgJGZhbHNlKQoJCQl7CgkJCQlUaHJvdyAiQ2FsbCB0byBWaXJ0dWFsUHJvdGVjdCBmYWlsZWQiCgkJCX0KCQkJCgkJCSRXaW4zMkZ1bmN0aW9ucy5tZW1jcHkuSW52b2tlKCRJbmZvWzBdLCAkSW5mb1sxXSwgW1VJbnQ2NF0kSW5mb1syXSkgfCBPdXQtTnVsbAoJCQkKCQkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkSW5mb1swXSwgW1VJbnQzMl0kSW5mb1syXSwgW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcsIFtSZWZdJE9sZFByb3RlY3RGbGFnKSB8IE91dC1OdWxsCgkJfQoJfQoKCgkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkjIyMjIyMjIyMjICAgIEZVTkNUSU9OUyAgICMjIyMjIyMjIyMjCgkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCglGdW5jdGlvbiBHZXQtTWVtb3J5UHJvY0FkZHJlc3MKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnRQdHJdCgkJJFBFSGFuZGxlLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N0cmluZ10KCQkkRnVuY3Rpb25OYW1lCgkJKQoJCQoJCSRXaW4zMlR5cGVzID0gR2V0LVdpbjMyVHlwZXMKCQkkV2luMzJDb25zdGFudHMgPSBHZXQtV2luMzJDb25zdGFudHMKCQkkUEVJbmZvID0gR2V0LVBFRGV0YWlsZWRJbmZvIC1QRUhhbmRsZSAkUEVIYW5kbGUgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cwoJCQoJCSNHZXQgdGhlIGV4cG9ydCB0YWJsZQoJCWlmICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuRXhwb3J0VGFibGUuU2l6ZSAtZXEgMCkKCQl7CgkJCXJldHVybiBbSW50UHRyXTo6WmVybwoJCX0KCQkkRXhwb3J0VGFibGVQdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSGFuZGxlKSAoJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkV4cG9ydFRhYmxlLlZpcnR1YWxBZGRyZXNzKQoJCSRFeHBvcnRUYWJsZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRFeHBvcnRUYWJsZVB0ciwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfRVhQT1JUX0RJUkVDVE9SWSkKCQkKCQlmb3IgKCRpID0gMDsgJGkgLWx0ICRFeHBvcnRUYWJsZS5OdW1iZXJPZk5hbWVzOyAkaSsrKQoJCXsKCQkJI0FkZHJlc3NPZk5hbWVzIGlzIGFuIGFycmF5IG9mIHBvaW50ZXJzIHRvIHN0cmluZ3Mgb2YgdGhlIG5hbWVzIG9mIHRoZSBmdW5jdGlvbnMgZXhwb3J0ZWQKCQkJJE5hbWVPZmZzZXRQdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSGFuZGxlKSAoJEV4cG9ydFRhYmxlLkFkZHJlc3NPZk5hbWVzICsgKCRpICogW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtVSW50MzJdKSkpCgkJCSROYW1lUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUhhbmRsZSkgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCROYW1lT2Zmc2V0UHRyLCBbVHlwZV1bVUludDMyXSkpCgkJCSROYW1lID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdBbnNpKCROYW1lUHRyKQoKCQkJaWYgKCROYW1lIC1jZXEgJEZ1bmN0aW9uTmFtZSkKCQkJewoJCQkJI0FkZHJlc3NPZk5hbWVPcmRpbmFscyBpcyBhIHRhYmxlIHdoaWNoIGNvbnRhaW5zIHBvaW50cyB0byBhIFdPUkQgd2hpY2ggaXMgdGhlIGluZGV4IGluIHRvIEFkZHJlc3NPZkZ1bmN0aW9ucwoJCQkJIyAgICB3aGljaCBjb250YWlucyB0aGUgb2Zmc2V0IG9mIHRoZSBmdW5jdGlvbiBpbiB0byB0aGUgRExMCgkJCQkkT3JkaW5hbFB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVIYW5kbGUpICgkRXhwb3J0VGFibGUuQWRkcmVzc09mTmFtZU9yZGluYWxzICsgKCRpICogW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtVSW50MTZdKSkpCgkJCQkkRnVuY0luZGV4ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJE9yZGluYWxQdHIsIFtUeXBlXVtVSW50MTZdKQoJCQkJJEZ1bmNPZmZzZXRBZGRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUhhbmRsZSkgKCRFeHBvcnRUYWJsZS5BZGRyZXNzT2ZGdW5jdGlvbnMgKyAoJEZ1bmNJbmRleCAqIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bVUludDMyXSkpKQoJCQkJJEZ1bmNPZmZzZXQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkRnVuY09mZnNldEFkZHIsIFtUeXBlXVtVSW50MzJdKQoJCQkJcmV0dXJuIEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVIYW5kbGUpICgkRnVuY09mZnNldCkKCQkJfQoJCX0KCQkKCQlyZXR1cm4gW0ludFB0cl06Olplcm8KCX0KCgoJRnVuY3Rpb24gSW52b2tlLU1lbW9yeUxvYWRMaWJyYXJ5Cgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlciggUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSApXQoJCVtCeXRlW11dCgkJJFBFQnl0ZXMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICRmYWxzZSldCgkJW1N0cmluZ10KCQkkRXhlQXJncywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJGZhbHNlKV0KCQlbSW50UHRyXQoJCSRSZW1vdGVQcm9jSGFuZGxlLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMyldCiAgICAgICAgW0Jvb2xdCiAgICAgICAgJEZvcmNlQVNMUiA9ICRmYWxzZQoJCSkKCQkKCQkkUHRyU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkKCQkKCQkjR2V0IFdpbjMyIGNvbnN0YW50cyBhbmQgZnVuY3Rpb25zCgkJJFdpbjMyQ29uc3RhbnRzID0gR2V0LVdpbjMyQ29uc3RhbnRzCgkJJFdpbjMyRnVuY3Rpb25zID0gR2V0LVdpbjMyRnVuY3Rpb25zCgkJJFdpbjMyVHlwZXMgPSBHZXQtV2luMzJUeXBlcwoJCQoJCSRSZW1vdGVMb2FkaW5nID0gJGZhbHNlCgkJaWYgKCgkUmVtb3RlUHJvY0hhbmRsZSAtbmUgJG51bGwpIC1hbmQgKCRSZW1vdGVQcm9jSGFuZGxlIC1uZSBbSW50UHRyXTo6WmVybykpCgkJewoJCQkkUmVtb3RlTG9hZGluZyA9ICR0cnVlCgkJfQoJCQoJCSNHZXQgYmFzaWMgUEUgaW5mb3JtYXRpb24KCQlXcml0ZS1WZXJib3NlICJHZXR0aW5nIGJhc2ljIFBFIGluZm9ybWF0aW9uIGZyb20gdGhlIGZpbGUiCgkJJFBFSW5mbyA9IEdldC1QRUJhc2ljSW5mbyAtUEVCeXRlcyAkUEVCeXRlcyAtV2luMzJUeXBlcyAkV2luMzJUeXBlcwoJCSRPcmlnaW5hbEltYWdlQmFzZSA9ICRQRUluZm8uT3JpZ2luYWxJbWFnZUJhc2UKCQkkTlhDb21wYXRpYmxlID0gJHRydWUKCQlpZiAoKFtJbnRdICRQRUluZm8uRGxsQ2hhcmFjdGVyaXN0aWNzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5JTUFHRV9ETExDSEFSQUNURVJJU1RJQ1NfTlhfQ09NUEFUKSAtbmUgJFdpbjMyQ29uc3RhbnRzLklNQUdFX0RMTENIQVJBQ1RFUklTVElDU19OWF9DT01QQVQpCgkJewoJCQlXcml0ZS1XYXJuaW5nICJQRSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIERFUCwgbWlnaHQgY2F1c2UgaXNzdWVzIiAtV2FybmluZ0FjdGlvbiBDb250aW51ZQoJCQkkTlhDb21wYXRpYmxlID0gJGZhbHNlCgkJfQoJCQoJCQoJCSNWZXJpZnkgdGhhdCB0aGUgUEUgYW5kIHRoZSBjdXJyZW50IHByb2Nlc3MgYXJlIHRoZSBzYW1lIGJpdHMgKDMyYml0IG9yIDY0Yml0KQoJCSRQcm9jZXNzNjRCaXQgPSAkdHJ1ZQoJCWlmICgkUmVtb3RlTG9hZGluZyAtZXEgJHRydWUpCgkJewoJCQkkS2VybmVsMzJIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgia2VybmVsMzIuZGxsIikKCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbDMySGFuZGxlLCAiSXNXb3c2NFByb2Nlc3MiKQoJCQlpZiAoJFJlc3VsdCAtZXEgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVRocm93ICJDb3VsZG4ndCBsb2NhdGUgSXNXb3c2NFByb2Nlc3MgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBwcm9jZXNzIGlzIDMyYml0IG9yIDY0Yml0IgoJCQl9CgkJCQoJCQlbQm9vbF0kV293NjRQcm9jZXNzID0gJGZhbHNlCgkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLklzV293NjRQcm9jZXNzLkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW1JlZl0kV293NjRQcm9jZXNzKQoJCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gSXNXb3c2NFByb2Nlc3MgZmFpbGVkIgoJCQl9CgkJCQoJCQlpZiAoKCRXb3c2NFByb2Nlc3MgLWVxICR0cnVlKSAtb3IgKCgkV293NjRQcm9jZXNzIC1lcSAkZmFsc2UpIC1hbmQgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkgLWVxIDQpKSkKCQkJewoJCQkJJFByb2Nlc3M2NEJpdCA9ICRmYWxzZQoJCQl9CgkJCQoJCQkjUG93ZXJTaGVsbCBuZWVkcyB0byBiZSBzYW1lIGJpdCBhcyB0aGUgUEUgYmVpbmcgbG9hZGVkIGZvciBJbnRQdHIgdG8gd29yayBjb3JyZWN0bHkKCQkJJFBvd2VyU2hlbGw2NEJpdCA9ICR0cnVlCgkJCWlmIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW0ludFB0cl0pIC1uZSA4KQoJCQl7CgkJCQkkUG93ZXJTaGVsbDY0Qml0ID0gJGZhbHNlCgkJCX0KCQkJaWYgKCRQb3dlclNoZWxsNjRCaXQgLW5lICRQcm9jZXNzNjRCaXQpCgkJCXsKCQkJCXRocm93ICJQb3dlclNoZWxsIG11c3QgYmUgc2FtZSBhcmNoaXRlY3R1cmUgKHg4Ni94NjQpIGFzIFBFIGJlaW5nIGxvYWRlZCBhbmQgcmVtb3RlIHByb2Nlc3MiCgkJCX0KCQl9CgkJZWxzZQoJCXsKCQkJaWYgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkgLW5lIDgpCgkJCXsKCQkJCSRQcm9jZXNzNjRCaXQgPSAkZmFsc2UKCQkJfQoJCX0KCQlpZiAoJFByb2Nlc3M2NEJpdCAtbmUgJFBFSW5mby5QRTY0Qml0KQoJCXsKCQkJVGhyb3cgIlBFIHBsYXRmb3JtIGRvZXNuJ3QgbWF0Y2ggdGhlIGFyY2hpdGVjdHVyZSBvZiB0aGUgcHJvY2VzcyBpdCBpcyBiZWluZyBsb2FkZWQgaW4gKDMyLzY0Yml0KSIKCQl9CgkJCgoJCSNBbGxvY2F0ZSBtZW1vcnkgYW5kIHdyaXRlIHRoZSBQRSB0byBtZW1vcnkuIElmIHRoZSBQRSBzdXBwb3J0cyBBU0xSLCBhbGxvY2F0ZSB0byBhIHJhbmRvbSBtZW1vcnkgYWRkcmVzcwoJCVdyaXRlLVZlcmJvc2UgIkFsbG9jYXRpbmcgbWVtb3J5IGZvciB0aGUgUEUgYW5kIHdyaXRlIGl0cyBoZWFkZXJzIHRvIG1lbW9yeSIKCQkKICAgICAgICAjQVNMUiBjaGVjawoJCVtJbnRQdHJdJExvYWRBZGRyID0gW0ludFB0cl06Olplcm8KICAgICAgICAkUEVTdXBwb3J0c0FTTFIgPSAoW0ludF0gJFBFSW5mby5EbGxDaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX0RMTENIQVJBQ1RFUklTVElDU19EWU5BTUlDX0JBU0UpIC1lcSAkV2luMzJDb25zdGFudHMuSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX0RZTkFNSUNfQkFTRQoJCWlmICgoLW5vdCAkRm9yY2VBU0xSKSAtYW5kICgtbm90ICRQRVN1cHBvcnRzQVNMUikpCgkJewoJCQlXcml0ZS1XYXJuaW5nICJQRSBmaWxlIGJlaW5nIHJlZmxlY3RpdmVseSBsb2FkZWQgaXMgbm90IEFTTFIgY29tcGF0aWJsZS4gSWYgdGhlIGxvYWRpbmcgZmFpbHMsIHRyeSByZXN0YXJ0aW5nIFBvd2VyU2hlbGwgYW5kIHRyeWluZyBhZ2FpbiBPUiB0cnkgdXNpbmcgdGhlIC1Gb3JjZUFTTFIgZmxhZyAoY291bGQgY2F1c2UgY3Jhc2hlcykiIC1XYXJuaW5nQWN0aW9uIENvbnRpbnVlCgkJCVtJbnRQdHJdJExvYWRBZGRyID0gJE9yaWdpbmFsSW1hZ2VCYXNlCgkJfQogICAgICAgIGVsc2VpZiAoJEZvcmNlQVNMUiAtYW5kICgtbm90ICRQRVN1cHBvcnRzQVNMUikpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJQRSBmaWxlIGRvZXNuJ3Qgc3VwcG9ydCBBU0xSIGJ1dCAtRm9yY2VBU0xSIGlzIHNldC4gRm9yY2luZyBBU0xSIG9uIHRoZSBQRSBmaWxlLiBUaGlzIGNvdWxkIHJlc3VsdCBpbiBhIGNyYXNoLiIKICAgICAgICB9CgogICAgICAgIGlmICgkRm9yY2VBU0xSIC1hbmQgJFJlbW90ZUxvYWRpbmcpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1FcnJvciAiQ2Fubm90IHVzZSBGb3JjZUFTTFIgd2hlbiBsb2FkaW5nIGluIHRvIGEgcmVtb3RlIHByb2Nlc3MuIiAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgIH0KICAgICAgICBpZiAoJFJlbW90ZUxvYWRpbmcgLWFuZCAoLW5vdCAkUEVTdXBwb3J0c0FTTFIpKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtRXJyb3IgIlBFIGRvZXNuJ3Qgc3VwcG9ydCBBU0xSLiBDYW5ub3QgbG9hZCBhIG5vbi1BU0xSIFBFIGluIHRvIGEgcmVtb3RlIHByb2Nlc3MiIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgfQoKCQkkUEVIYW5kbGUgPSBbSW50UHRyXTo6WmVybwkJCQkjVGhpcyBpcyB3aGVyZSB0aGUgUEUgaXMgYWxsb2NhdGVkIGluIFBvd2VyU2hlbGwKCQkkRWZmZWN0aXZlUEVIYW5kbGUgPSBbSW50UHRyXTo6WmVybwkJI1RoaXMgaXMgdGhlIGFkZHJlc3MgdGhlIFBFIHdpbGwgYmUgbG9hZGVkIHRvLiBJZiBpdCBpcyBsb2FkZWQgaW4gUG93ZXJTaGVsbCwgdGhpcyBlcXVhbHMgJFBFSGFuZGxlLiBJZiBpdCBpcyBsb2FkZWQgaW4gYSByZW1vdGUgcHJvY2VzcywgdGhpcyBpcyB0aGUgYWRkcmVzcyBpbiB0aGUgcmVtb3RlIHByb2Nlc3MuCgkJaWYgKCRSZW1vdGVMb2FkaW5nIC1lcSAkdHJ1ZSkKCQl7CgkJCSNBbGxvY2F0ZSBzcGFjZSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MsIGFuZCBhbHNvIGFsbG9jYXRlIHNwYWNlIGluIFBvd2VyU2hlbGwuIFRoZSBQRSB3aWxsIGJlIHNldHVwIGluIFBvd2VyU2hlbGwgYW5kIGNvcGllZCB0byB0aGUgcmVtb3RlIHByb2Nlc3Mgd2hlbiBpdCBpcyBzZXR1cAoJCQkkUEVIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuVmlydHVhbEFsbG9jLkludm9rZShbSW50UHRyXTo6WmVybywgW1VJbnRQdHJdJFBFSW5mby5TaXplT2ZJbWFnZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQkJCgkJCSN0b2RvLCBlcnJvciBoYW5kbGluZyBuZWVkcyB0byBkZWxldGUgdGhpcyBtZW1vcnkgaWYgYW4gZXJyb3IgaGFwcGVucyBhbG9uZyB0aGUgd2F5CgkJCSRFZmZlY3RpdmVQRUhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2NFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRMb2FkQWRkciwgW1VJbnRQdHJdJFBFSW5mby5TaXplT2ZJbWFnZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRFdSSVRFKQoJCQlpZiAoJEVmZmVjdGl2ZVBFSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQkJewoJCQkJVGhyb3cgIlVuYWJsZSB0byBhbGxvY2F0ZSBtZW1vcnkgaW4gdGhlIHJlbW90ZSBwcm9jZXNzLiBJZiB0aGUgUEUgYmVpbmcgbG9hZGVkIGRvZXNuJ3Qgc3VwcG9ydCBBU0xSLCBpdCBjb3VsZCBiZSB0aGF0IHRoZSByZXF1ZXN0ZWQgYmFzZSBhZGRyZXNzIG9mIHRoZSBQRSBpcyBhbHJlYWR5IGluIHVzZSIKCQkJfQoJCX0KCQllbHNlCgkJewoJCQlpZiAoJE5YQ29tcGF0aWJsZSAtZXEgJHRydWUpCgkJCXsKCQkJCSRQRUhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2MuSW52b2tlKCRMb2FkQWRkciwgW1VJbnRQdHJdJFBFSW5mby5TaXplT2ZJbWFnZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSRQRUhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2MuSW52b2tlKCRMb2FkQWRkciwgW1VJbnRQdHJdJFBFSW5mby5TaXplT2ZJbWFnZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRFdSSVRFKQoJCQl9CgkJCSRFZmZlY3RpdmVQRUhhbmRsZSA9ICRQRUhhbmRsZQoJCX0KCQkKCQlbSW50UHRyXSRQRUVuZEFkZHJlc3MgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSGFuZGxlKSAoW0ludDY0XSRQRUluZm8uU2l6ZU9mSW1hZ2UpCgkJaWYgKCRQRUhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJeyAKCQkJVGhyb3cgIlZpcnR1YWxBbGxvYyBmYWlsZWQgdG8gYWxsb2NhdGUgbWVtb3J5IGZvciBQRS4gSWYgUEUgaXMgbm90IEFTTFIgY29tcGF0aWJsZSwgdHJ5IHJ1bm5pbmcgdGhlIHNjcmlwdCBpbiBhIG5ldyBQb3dlclNoZWxsIHByb2Nlc3MgKHRoZSBuZXcgUG93ZXJTaGVsbCBwcm9jZXNzIHdpbGwgaGF2ZSBhIGRpZmZlcmVudCBtZW1vcnkgbGF5b3V0LCBzbyB0aGUgYWRkcmVzcyB0aGUgUEUgd2FudHMgbWlnaHQgYmUgZnJlZSkuIgoJCX0JCQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkNvcHkoJFBFQnl0ZXMsIDAsICRQRUhhbmRsZSwgJFBFSW5mby5TaXplT2ZIZWFkZXJzKSB8IE91dC1OdWxsCgkJCgkJCgkJI05vdyB0aGF0IHRoZSBQRSBpcyBpbiBtZW1vcnksIGdldCBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGl0CgkJV3JpdGUtVmVyYm9zZSAiR2V0dGluZyBkZXRhaWxlZCBQRSBpbmZvcm1hdGlvbiBmcm9tIHRoZSBoZWFkZXJzIGxvYWRlZCBpbiBtZW1vcnkiCgkJJFBFSW5mbyA9IEdldC1QRURldGFpbGVkSW5mbyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzIC1XaW4zMkNvbnN0YW50cyAkV2luMzJDb25zdGFudHMKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRW5kQWRkcmVzcyAtVmFsdWUgJFBFRW5kQWRkcmVzcwoJCSRQRUluZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBFZmZlY3RpdmVQRUhhbmRsZSAtVmFsdWUgJEVmZmVjdGl2ZVBFSGFuZGxlCgkJV3JpdGUtVmVyYm9zZSAiU3RhcnRBZGRyZXNzOiAkKEdldC1IZXggJFBFSGFuZGxlKSAgICBFbmRBZGRyZXNzOiAkKEdldC1IZXggJFBFRW5kQWRkcmVzcykiCgkJCgkJCgkJI0NvcHkgZWFjaCBzZWN0aW9uIGZyb20gdGhlIFBFIGluIHRvIG1lbW9yeQoJCVdyaXRlLVZlcmJvc2UgIkNvcHkgUEUgc2VjdGlvbnMgaW4gdG8gbWVtb3J5IgoJCUNvcHktU2VjdGlvbnMgLVBFQnl0ZXMgJFBFQnl0ZXMgLVBFSW5mbyAkUEVJbmZvIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMKCQkKCQkKCQkjVXBkYXRlIHRoZSBtZW1vcnkgYWRkcmVzc2VzIGhhcmRjb2RlZCBpbiB0byB0aGUgUEUgYmFzZWQgb24gdGhlIG1lbW9yeSBhZGRyZXNzIHRoZSBQRSB3YXMgZXhwZWN0aW5nIHRvIGJlIGxvYWRlZCB0byB2cyB3aGVyZSBpdCB3YXMgYWN0dWFsbHkgbG9hZGVkCgkJV3JpdGUtVmVyYm9zZSAiVXBkYXRlIG1lbW9yeSBhZGRyZXNzZXMgYmFzZWQgb24gd2hlcmUgdGhlIFBFIHdhcyBhY3R1YWxseSBsb2FkZWQgaW4gbWVtb3J5IgoJCVVwZGF0ZS1NZW1vcnlBZGRyZXNzZXMgLVBFSW5mbyAkUEVJbmZvIC1PcmlnaW5hbEltYWdlQmFzZSAkT3JpZ2luYWxJbWFnZUJhc2UgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cyAtV2luMzJUeXBlcyAkV2luMzJUeXBlcwoKCQkKCQkjVGhlIFBFIHdlIGFyZSBpbi1tZW1vcnkgbG9hZGluZyBoYXMgRExMcyBpdCBuZWVkcywgaW1wb3J0IHRob3NlIERMTHMgZm9yIGl0CgkJV3JpdGUtVmVyYm9zZSAiSW1wb3J0IERMTCdzIG5lZWRlZCBieSB0aGUgUEUgd2UgYXJlIGxvYWRpbmciCgkJaWYgKCRSZW1vdGVMb2FkaW5nIC1lcSAkdHJ1ZSkKCQl7CgkJCUltcG9ydC1EbGxJbXBvcnRzIC1QRUluZm8gJFBFSW5mbyAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzIC1XaW4zMkNvbnN0YW50cyAkV2luMzJDb25zdGFudHMgLVJlbW90ZVByb2NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUKCQl9CgkJZWxzZQoJCXsKCQkJSW1wb3J0LURsbEltcG9ydHMgLVBFSW5mbyAkUEVJbmZvIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cwoJCX0KCQkKCQkKCQkjVXBkYXRlIHRoZSBtZW1vcnkgcHJvdGVjdGlvbiBmbGFncyBmb3IgYWxsIHRoZSBtZW1vcnkganVzdCBhbGxvY2F0ZWQKCQlpZiAoJFJlbW90ZUxvYWRpbmcgLWVxICRmYWxzZSkKCQl7CgkJCWlmICgkTlhDb21wYXRpYmxlIC1lcSAkdHJ1ZSkKCQkJewoJCQkJV3JpdGUtVmVyYm9zZSAiVXBkYXRlIG1lbW9yeSBwcm90ZWN0aW9uIGZsYWdzIgoJCQkJVXBkYXRlLU1lbW9yeVByb3RlY3Rpb25GbGFncyAtUEVJbmZvICRQRUluZm8gLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlXcml0ZS1WZXJib3NlICJQRSBiZWluZyByZWZsZWN0aXZlbHkgbG9hZGVkIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggTlggbWVtb3J5LCBrZWVwaW5nIG1lbW9yeSBhcyByZWFkIHdyaXRlIGV4ZWN1dGUiCgkJCX0KCQl9CgkJZWxzZQoJCXsKCQkJV3JpdGUtVmVyYm9zZSAiUEUgYmVpbmcgbG9hZGVkIGluIHRvIGEgcmVtb3RlIHByb2Nlc3MsIG5vdCBhZGp1c3RpbmcgbWVtb3J5IHBlcm1pc3Npb25zIgoJCX0KCQkKCQkKCQkjSWYgcmVtb3RlIGxvYWRpbmcsIGNvcHkgdGhlIERMTCBpbiB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkKCQlpZiAoJFJlbW90ZUxvYWRpbmcgLWVxICR0cnVlKQoJCXsKCQkJW1VJbnQzMl0kTnVtQnl0ZXNXcml0dGVuID0gMAoJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkRWZmZWN0aXZlUEVIYW5kbGUsICRQRUhhbmRsZSwgW1VJbnRQdHJdKCRQRUluZm8uU2l6ZU9mSW1hZ2UpLCBbUmVmXSROdW1CeXRlc1dyaXR0ZW4pCgkJCWlmICgkU3VjY2VzcyAtZXEgJGZhbHNlKQoJCQl7CgkJCQlUaHJvdyAiVW5hYmxlIHRvIHdyaXRlIHNoZWxsY29kZSB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkuIgoJCQl9CgkJfQoJCQoJCQoJCSNDYWxsIHRoZSBlbnRyeSBwb2ludCwgaWYgdGhpcyBpcyBhIERMTCB0aGUgZW50cnlwb2ludCBpcyB0aGUgRGxsTWFpbiBmdW5jdGlvbiwgaWYgaXQgaXMgYW4gRVhFIGl0IGlzIHRoZSBNYWluIGZ1bmN0aW9uCgkJaWYgKCRQRUluZm8uRmlsZVR5cGUgLWllcSAiRExMIikKCQl7CgkJCWlmICgkUmVtb3RlTG9hZGluZyAtZXEgJGZhbHNlKQoJCQl7CgkJCQlXcml0ZS1WZXJib3NlICJDYWxsaW5nIGRsbG1haW4gc28gdGhlIERMTCBrbm93cyBpdCBoYXMgYmVlbiBsb2FkZWQiCgkJCQkkRGxsTWFpblB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVJbmZvLlBFSGFuZGxlKSAoJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkFkZHJlc3NPZkVudHJ5UG9pbnQpCgkJCQkkRGxsTWFpbkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW0ludFB0cl0pIChbQm9vbF0pCgkJCQkkRGxsTWFpbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCREbGxNYWluUHRyLCAkRGxsTWFpbkRlbGVnYXRlKQoJCQkJCgkJCQkkRGxsTWFpbi5JbnZva2UoJFBFSW5mby5QRUhhbmRsZSwgMSwgW0ludFB0cl06Olplcm8pIHwgT3V0LU51bGwKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSREbGxNYWluUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRFZmZlY3RpdmVQRUhhbmRsZSkgKCRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5PcHRpb25hbEhlYWRlci5BZGRyZXNzT2ZFbnRyeVBvaW50KQoJCQkKCQkJCWlmICgkUEVJbmZvLlBFNjRCaXQgLWVxICR0cnVlKQoJCQkJewoJCQkJCSNTaGVsbGNvZGU6IENhbGxEbGxNYWluLmFzbQoJCQkJCSRDYWxsRGxsTWFpblNDMSA9IEAoMHg1MywgMHg0OCwgMHg4OSwgMHhlMywgMHg2NiwgMHg4MywgMHhlNCwgMHgwMCwgMHg0OCwgMHhiOSkKCQkJCQkkQ2FsbERsbE1haW5TQzIgPSBAKDB4YmEsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDEsIDB4YjgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDgsIDB4YjgpCgkJCQkJJENhbGxEbGxNYWluU0MzID0gQCgweGZmLCAweGQwLCAweDQ4LCAweDg5LCAweGRjLCAweDViLCAweGMzKQoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSNTaGVsbGNvZGU6IENhbGxEbGxNYWluLmFzbQoJCQkJCSRDYWxsRGxsTWFpblNDMSA9IEAoMHg1MywgMHg4OSwgMHhlMywgMHg4MywgMHhlNCwgMHhmMCwgMHhiOSkKCQkJCQkkQ2FsbERsbE1haW5TQzIgPSBAKDB4YmEsIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsIDB4YjgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NTAsIDB4NTIsIDB4NTEsIDB4YjgpCgkJCQkJJENhbGxEbGxNYWluU0MzID0gQCgweGZmLCAweGQwLCAweDg5LCAweGRjLCAweDViLCAweGMzKQoJCQkJfQoJCQkJJFNDTGVuZ3RoID0gJENhbGxEbGxNYWluU0MxLkxlbmd0aCArICRDYWxsRGxsTWFpblNDMi5MZW5ndGggKyAkQ2FsbERsbE1haW5TQzMuTGVuZ3RoICsgKCRQdHJTaXplICogMikKCQkJCSRTQ1BTTWVtID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRTQ0xlbmd0aCkKCQkJCSRTQ1BTTWVtT3JpZ2luYWwgPSAkU0NQU01lbQoJCQkJCgkJCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkQ2FsbERsbE1haW5TQzEgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRDYWxsRGxsTWFpblNDMS5MZW5ndGgpCgkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkRWZmZWN0aXZlUEVIYW5kbGUsICRTQ1BTTWVtLCAkZmFsc2UpCgkJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkUHRyU2l6ZSkKCQkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRDYWxsRGxsTWFpblNDMiAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJENhbGxEbGxNYWluU0MyLkxlbmd0aCkKCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCREbGxNYWluUHRyLCAkU0NQU01lbSwgJGZhbHNlKQoJCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJFB0clNpemUpCgkJCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkQ2FsbERsbE1haW5TQzMgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRDYWxsRGxsTWFpblNDMy5MZW5ndGgpCgkJCQkKCQkJCSRSU0NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdJFNDTGVuZ3RoLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJCQlpZiAoJFJTQ0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQkJewoJCQkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyBmb3Igc2hlbGxjb2RlIgoJCQkJfQoJCQkJCgkJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUlNDQWRkciwgJFNDUFNNZW1PcmlnaW5hbCwgW1VJbnRQdHJdW1VJbnQ2NF0kU0NMZW5ndGgsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkJCWlmICgoJFN1Y2Nlc3MgLWVxICRmYWxzZSkgLW9yIChbVUludDY0XSROdW1CeXRlc1dyaXR0ZW4gLW5lIFtVSW50NjRdJFNDTGVuZ3RoKSkKCQkJCXsKCQkJCQlUaHJvdyAiVW5hYmxlIHRvIHdyaXRlIHNoZWxsY29kZSB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkuIgoJCQkJfQoKCQkJCSRSVGhyZWFkSGFuZGxlID0gQ3JlYXRlLVJlbW90ZVRocmVhZCAtUHJvY2Vzc0hhbmRsZSAkUmVtb3RlUHJvY0hhbmRsZSAtU3RhcnRBZGRyZXNzICRSU0NBZGRyIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMKCQkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIDIwMDAwKQoJCQkJaWYgKCRSZXN1bHQgLW5lIDApCgkJCQl7CgkJCQkJVGhyb3cgIkNhbGwgdG8gQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgR2V0UHJvY0FkZHJlc3MgZmFpbGVkLiIKCQkJCX0KCQkJCQoJCQkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxGcmVlRXguSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUlNDQWRkciwgW1VJbnRQdHJdW1VJbnQ2NF0wLCAkV2luMzJDb25zdGFudHMuTUVNX1JFTEVBU0UpIHwgT3V0LU51bGwKCQkJfQoJCX0KCQllbHNlaWYgKCRQRUluZm8uRmlsZVR5cGUgLWllcSAiRVhFIikKCQl7CgkJCSNPdmVyd3JpdGUgR2V0Q29tbWFuZExpbmUgYW5kIEV4aXRQcm9jZXNzIHNvIHdlIGNhbiBwcm92aWRlIG91ciBvd24gYXJndW1lbnRzIHRvIHRoZSBFWEUgYW5kIHByZXZlbnQgaXQgZnJvbSBraWxsaW5nIHRoZSBQUyBwcm9jZXNzCgkJCVtJbnRQdHJdJEV4ZURvbmVCeXRlUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKDEpCgkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OldyaXRlQnl0ZSgkRXhlRG9uZUJ5dGVQdHIsIDAsIDB4MDApCgkJCSRPdmVyd3JpdHRlbk1lbUluZm8gPSBVcGRhdGUtRXhlRnVuY3Rpb25zIC1QRUluZm8gJFBFSW5mbyAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zIC1XaW4zMkNvbnN0YW50cyAkV2luMzJDb25zdGFudHMgLUV4ZUFyZ3VtZW50cyAkRXhlQXJncyAtRXhlRG9uZUJ5dGVQdHIgJEV4ZURvbmVCeXRlUHRyCgoJCQkjSWYgdGhpcyBpcyBhbiBFWEUsIGNhbGwgdGhlIGVudHJ5IHBvaW50IGluIGEgbmV3IHRocmVhZC4gV2UgaGF2ZSBvdmVyd3JpdHRlbiB0aGUgRXhpdFByb2Nlc3MgZnVuY3Rpb24gdG8gaW5zdGVhZCBFeGl0VGhyZWFkCgkJCSMJVGhpcyB3YXkgdGhlIHJlZmxlY3RpdmVseSBsb2FkZWQgRVhFIHdvbid0IGtpbGwgdGhlIHBvd2Vyc2hlbGwgcHJvY2VzcyB3aGVuIGl0IGV4aXRzLCBpdCB3aWxsIGp1c3Qga2lsbCBpdHMgb3duIHRocmVhZC4KCQkJW0ludFB0cl0kRXhlTWFpblB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVJbmZvLlBFSGFuZGxlKSAoJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkFkZHJlc3NPZkVudHJ5UG9pbnQpCgkJCVdyaXRlLVZlcmJvc2UgIkNhbGwgRVhFIE1haW4gZnVuY3Rpb24uIEFkZHJlc3M6ICQoR2V0LUhleCAkRXhlTWFpblB0cikuIENyZWF0aW5nIHRocmVhZCBmb3IgdGhlIEVYRSB0byBydW4gaW4uIgoKCQkJJFdpbjMyRnVuY3Rpb25zLkNyZWF0ZVRocmVhZC5JbnZva2UoW0ludFB0cl06Olplcm8sIFtJbnRQdHJdOjpaZXJvLCAkRXhlTWFpblB0ciwgW0ludFB0cl06Olplcm8sIChbVUludDMyXTApLCBbUmVmXShbVUludDMyXTApKSB8IE91dC1OdWxsCgoJCQl3aGlsZSgkdHJ1ZSkKCQkJewoJCQkJW0J5dGVdJFRocmVhZERvbmUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpSZWFkQnl0ZSgkRXhlRG9uZUJ5dGVQdHIsIDApCgkJCQlpZiAoJFRocmVhZERvbmUgLWVxIDEpCgkJCQl7CgkJCQkJQ29weS1BcnJheU9mTWVtQWRkcmVzc2VzIC1Db3B5SW5mbyAkT3ZlcndyaXR0ZW5NZW1JbmZvIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cwoJCQkJCVdyaXRlLVZlcmJvc2UgIkVYRSB0aHJlYWQgaGFzIGNvbXBsZXRlZC4iCgkJCQkJYnJlYWsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQlTdGFydC1TbGVlcCAtU2Vjb25kcyAxCgkJCQl9CgkJCX0KCQl9CgkJCgkJcmV0dXJuIEAoJFBFSW5mby5QRUhhbmRsZSwgJEVmZmVjdGl2ZVBFSGFuZGxlKQoJfQoJCgkKCUZ1bmN0aW9uIEludm9rZS1NZW1vcnlGcmVlTGlicmFyeQoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KCQlbSW50UHRyXQoJCSRQRUhhbmRsZQoJCSkKCQkKCQkjR2V0IFdpbjMyIGNvbnN0YW50cyBhbmQgZnVuY3Rpb25zCgkJJFdpbjMyQ29uc3RhbnRzID0gR2V0LVdpbjMyQ29uc3RhbnRzCgkJJFdpbjMyRnVuY3Rpb25zID0gR2V0LVdpbjMyRnVuY3Rpb25zCgkJJFdpbjMyVHlwZXMgPSBHZXQtV2luMzJUeXBlcwoJCQoJCSRQRUluZm8gPSBHZXQtUEVEZXRhaWxlZEluZm8gLVBFSGFuZGxlICRQRUhhbmRsZSAtV2luMzJUeXBlcyAkV2luMzJUeXBlcyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzCgkJCgkJI0NhbGwgRnJlZUxpYnJhcnkgZm9yIGFsbCB0aGUgaW1wb3J0cyBvZiB0aGUgRExMCgkJaWYgKCRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5PcHRpb25hbEhlYWRlci5JbXBvcnRUYWJsZS5TaXplIC1ndCAwKQoJCXsKCQkJW0ludFB0cl0kSW1wb3J0RGVzY3JpcHRvclB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuSW1wb3J0VGFibGUuVmlydHVhbEFkZHJlc3MpCgkJCQoJCQl3aGlsZSAoJHRydWUpCgkJCXsKCQkJCSRJbXBvcnREZXNjcmlwdG9yID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEltcG9ydERlc2NyaXB0b3JQdHIsIFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX0lNUE9SVF9ERVNDUklQVE9SKQoJCQkJCgkJCQkjSWYgdGhlIHN0cnVjdHVyZSBpcyBudWxsLCBpdCBzaWduYWxzIHRoYXQgdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBhcnJheQoJCQkJaWYgKCRJbXBvcnREZXNjcmlwdG9yLkNoYXJhY3RlcmlzdGljcyAtZXEgMCBgCgkJCQkJCS1hbmQgJEltcG9ydERlc2NyaXB0b3IuRmlyc3RUaHVuayAtZXEgMCBgCgkJCQkJCS1hbmQgJEltcG9ydERlc2NyaXB0b3IuRm9yd2FyZGVyQ2hhaW4gLWVxIDAgYAoJCQkJCQktYW5kICRJbXBvcnREZXNjcmlwdG9yLk5hbWUgLWVxIDAgYAoJCQkJCQktYW5kICRJbXBvcnREZXNjcmlwdG9yLlRpbWVEYXRlU3RhbXAgLWVxIDApCgkJCQl7CgkJCQkJV3JpdGUtVmVyYm9zZSAiRG9uZSB1bmxvYWRpbmcgdGhlIGxpYnJhcmllcyBuZWVkZWQgYnkgdGhlIFBFIgoJCQkJCWJyZWFrCgkJCQl9CgoJCQkJJEltcG9ydERsbFBhdGggPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ0Fuc2koKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kSW1wb3J0RGVzY3JpcHRvci5OYW1lKSkpCgkJCQkkSW1wb3J0RGxsSGFuZGxlID0gJFdpbjMyRnVuY3Rpb25zLkdldE1vZHVsZUhhbmRsZS5JbnZva2UoJEltcG9ydERsbFBhdGgpCgoJCQkJaWYgKCRJbXBvcnREbGxIYW5kbGUgLWVxICRudWxsKQoJCQkJewoJCQkJCVdyaXRlLVdhcm5pbmcgIkVycm9yIGdldHRpbmcgRExMIGhhbmRsZSBpbiBNZW1vcnlGcmVlTGlicmFyeSwgRExMTmFtZTogJEltcG9ydERsbFBhdGguIENvbnRpbnVpbmcgYW55d2F5cyIgLVdhcm5pbmdBY3Rpb24gQ29udGludWUKCQkJCX0KCQkJCQoJCQkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuRnJlZUxpYnJhcnkuSW52b2tlKCRJbXBvcnREbGxIYW5kbGUpCgkJCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQkJCXsKCQkJCQlXcml0ZS1XYXJuaW5nICJVbmFibGUgdG8gZnJlZSBsaWJyYXJ5OiAkSW1wb3J0RGxsUGF0aC4gQ29udGludWluZyBhbnl3YXlzLiIgLVdhcm5pbmdBY3Rpb24gQ29udGludWUKCQkJCX0KCQkJCQoJCQkJJEltcG9ydERlc2NyaXB0b3JQdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJEltcG9ydERlc2NyaXB0b3JQdHIpIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IpKQoJCQl9CgkJfQoJCQoJCSNDYWxsIERsbE1haW4gd2l0aCBwcm9jZXNzIGRldGFjaAoJCVdyaXRlLVZlcmJvc2UgIkNhbGxpbmcgZGxsbWFpbiBzbyB0aGUgRExMIGtub3dzIGl0IGlzIGJlaW5nIHVubG9hZGVkIgoJCSREbGxNYWluUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUluZm8uUEVIYW5kbGUpICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuQWRkcmVzc09mRW50cnlQb2ludCkKCQkkRGxsTWFpbkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW0ludFB0cl0pIChbQm9vbF0pCgkJJERsbE1haW4gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkRGxsTWFpblB0ciwgJERsbE1haW5EZWxlZ2F0ZSkKCQkKCQkkRGxsTWFpbi5JbnZva2UoJFBFSW5mby5QRUhhbmRsZSwgMCwgW0ludFB0cl06Olplcm8pIHwgT3V0LU51bGwKCQkKCQkKCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsRnJlZS5JbnZva2UoJFBFSGFuZGxlLCBbVUludDY0XTAsICRXaW4zMkNvbnN0YW50cy5NRU1fUkVMRUFTRSkKCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQl7CgkJCVdyaXRlLVdhcm5pbmcgIlVuYWJsZSB0byBjYWxsIFZpcnR1YWxGcmVlIG9uIHRoZSBQRSdzIG1lbW9yeS4gQ29udGludWluZyBhbnl3YXlzLiIgLVdhcm5pbmdBY3Rpb24gQ29udGludWUKCQl9Cgl9CgoKCUZ1bmN0aW9uIE1haW4KCXsKCQkkV2luMzJGdW5jdGlvbnMgPSBHZXQtV2luMzJGdW5jdGlvbnMKCQkkV2luMzJUeXBlcyA9IEdldC1XaW4zMlR5cGVzCgkJJFdpbjMyQ29uc3RhbnRzID0gIEdldC1XaW4zMkNvbnN0YW50cwoJCQoJCSRSZW1vdGVQcm9jSGFuZGxlID0gW0ludFB0cl06Olplcm8KCQoJCSNJZiBhIHJlbW90ZSBwcm9jZXNzIHRvIGluamVjdCBpbiB0byBpcyBzcGVjaWZpZWQsIGdldCBhIGhhbmRsZSB0byBpdAoJCWlmICgoJFByb2NJZCAtbmUgJG51bGwpIC1hbmQgKCRQcm9jSWQgLW5lIDApIC1hbmQgKCRQcm9jTmFtZSAtbmUgJG51bGwpIC1hbmQgKCRQcm9jTmFtZSAtbmUgIiIpKQoJCXsKCQkJVGhyb3cgIkNhbid0IHN1cHBseSBhIFByb2NJZCBhbmQgUHJvY05hbWUsIGNob29zZSBvbmUgb3IgdGhlIG90aGVyIgoJCX0KCQllbHNlaWYgKCRQcm9jTmFtZSAtbmUgJG51bGwgLWFuZCAkUHJvY05hbWUgLW5lICIiKQoJCXsKCQkJJFByb2Nlc3NlcyA9IEAoR2V0LVByb2Nlc3MgLU5hbWUgJFByb2NOYW1lIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKQoJCQlpZiAoJFByb2Nlc3Nlcy5Db3VudCAtZXEgMCkKCQkJewoJCQkJVGhyb3cgIkNhbid0IGZpbmQgcHJvY2VzcyAkUHJvY05hbWUiCgkJCX0KCQkJZWxzZWlmICgkUHJvY2Vzc2VzLkNvdW50IC1ndCAxKQoJCQl7CgkJCQkkUHJvY0luZm8gPSBHZXQtUHJvY2VzcyB8IHdoZXJlIHsgJF8uTmFtZSAtZXEgJFByb2NOYW1lIH0gfCBTZWxlY3QtT2JqZWN0IFByb2Nlc3NOYW1lLCBJZCwgU2Vzc2lvbklkCgkJCQlXcml0ZS1PdXRwdXQgJFByb2NJbmZvCgkJCQlUaHJvdyAiTW9yZSB0aGFuIG9uZSBpbnN0YW5jZSBvZiAkUHJvY05hbWUgZm91bmQsIHBsZWFzZSBzcGVjaWZ5IHRoZSBwcm9jZXNzIElEIHRvIGluamVjdCBpbiB0by4iCgkJCX0KCQkJZWxzZQoJCQl7CgkJCQkkUHJvY0lkID0gJFByb2Nlc3Nlc1swXS5JRAoJCQl9CgkJfQoJCQoJCSNKdXN0IHJlYWxpemVkIHRoYXQgUG93ZXJTaGVsbCBsYXVuY2hlcyB3aXRoIFNlRGVidWdQcml2aWxlZ2UgZm9yIHNvbWUgcmVhc29uLi4gU28gdGhpcyBpc24ndCBuZWVkZWQuIEtlZXBpbmcgaXQgYXJvdW5kIGp1c3QgaW5jYXNlIGl0IGlzIG5lZWRlZCBpbiB0aGUgZnV0dXJlLgoJCSNJZiB0aGUgc2NyaXB0IGlzbid0IHJ1bm5pbmcgaW4gdGhlIHNhbWUgV2luZG93cyBsb2dvbiBzZXNzaW9uIGFzIHRoZSB0YXJnZXQsIGdldCBTZURlYnVnUHJpdmlsZWdlCiMJCWlmICgoR2V0LVByb2Nlc3MgLUlkICRQSUQpLlNlc3Npb25JZCAtbmUgKEdldC1Qcm9jZXNzIC1JZCAkUHJvY0lkKS5TZXNzaW9uSWQpCiMJCXsKIwkJCVdyaXRlLVZlcmJvc2UgIkdldHRpbmcgU2VEZWJ1Z1ByaXZpbGVnZSIKIwkJCUVuYWJsZS1TZURlYnVnUHJpdmlsZWdlIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cwojCQl9CQoJCQoJCWlmICgoJFByb2NJZCAtbmUgJG51bGwpIC1hbmQgKCRQcm9jSWQgLW5lIDApKQoJCXsKCQkJJFJlbW90ZVByb2NIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuT3BlblByb2Nlc3MuSW52b2tlKDB4MDAxRjBGRkYsICRmYWxzZSwgJFByb2NJZCkKCQkJaWYgKCRSZW1vdGVQcm9jSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQkJewoJCQkJVGhyb3cgIkNvdWxkbid0IG9idGFpbiB0aGUgaGFuZGxlIGZvciBwcm9jZXNzIElEOiAkUHJvY0lkIgoJCQl9CgkJCQoJCQlXcml0ZS1WZXJib3NlICJHb3QgdGhlIGhhbmRsZSBmb3IgdGhlIHJlbW90ZSBwcm9jZXNzIHRvIGluamVjdCBpbiB0byIKCQl9CgkJCgoJCSNMb2FkIHRoZSBQRSByZWZsZWN0aXZlbHkKCQlXcml0ZS1WZXJib3NlICJDYWxsaW5nIEludm9rZS1NZW1vcnlMb2FkTGlicmFyeSIKCQkkUEVIYW5kbGUgPSBbSW50UHRyXTo6WmVybwoJCWlmICgkUmVtb3RlUHJvY0hhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQkkUEVMb2FkZWRJbmZvID0gSW52b2tlLU1lbW9yeUxvYWRMaWJyYXJ5IC1QRUJ5dGVzICRQRUJ5dGVzIC1FeGVBcmdzICRFeGVBcmdzIC1Gb3JjZUFTTFIgJEZvcmNlQVNMUgoJCX0KCQllbHNlCgkJewoJCQkkUEVMb2FkZWRJbmZvID0gSW52b2tlLU1lbW9yeUxvYWRMaWJyYXJ5IC1QRUJ5dGVzICRQRUJ5dGVzIC1FeGVBcmdzICRFeGVBcmdzIC1SZW1vdGVQcm9jSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1Gb3JjZUFTTFIgJEZvcmNlQVNMUgoJCX0KCQlpZiAoJFBFTG9hZGVkSW5mbyAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlUaHJvdyAiVW5hYmxlIHRvIGxvYWQgUEUsIGhhbmRsZSByZXR1cm5lZCBpcyBOVUxMIgoJCX0KCQkKCQkkUEVIYW5kbGUgPSAkUEVMb2FkZWRJbmZvWzBdCgkJJFJlbW90ZVBFSGFuZGxlID0gJFBFTG9hZGVkSW5mb1sxXSAjb25seSBtYXR0ZXJzIGlmIHlvdSBsb2FkZWQgaW4gdG8gYSByZW1vdGUgcHJvY2VzcwoJCQoJCQoJCSNDaGVjayBpZiBFWEUgb3IgRExMLiBJZiBFWEUsIHRoZSBlbnRyeSBwb2ludCB3YXMgYWxyZWFkeSBjYWxsZWQgYW5kIHdlIGNhbiBub3cgcmV0dXJuLiBJZiBETEwsIGNhbGwgdXNlciBmdW5jdGlvbi4KCQkkUEVJbmZvID0gR2V0LVBFRGV0YWlsZWRJbmZvIC1QRUhhbmRsZSAkUEVIYW5kbGUgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cwoJCWlmICgoJFBFSW5mby5GaWxlVHlwZSAtaWVxICJETEwiKSAtYW5kICgkUmVtb3RlUHJvY0hhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pKQoJCXsKCQkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQkJIyMjIFlPVVIgQ09ERSBHT0VTIEhFUkUKCQkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSAgICAgICAgc3dpdGNoICgkRnVuY1JldHVyblR5cGUpCgkgICAgICAgIHsKCSAgICAgICAgICAgICdXU3RyaW5nJyB7CgkgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ2FsbGluZyBmdW5jdGlvbiB3aXRoIFdTdHJpbmcgcmV0dXJuIHR5cGUiCgkJCQkgICAgW0ludFB0cl0kV1N0cmluZ0Z1bmNBZGRyID0gR2V0LU1lbW9yeVByb2NBZGRyZXNzIC1QRUhhbmRsZSAkUEVIYW5kbGUgLUZ1bmN0aW9uTmFtZSAiV1N0cmluZ0Z1bmMiCgkJCQkgICAgaWYgKCRXU3RyaW5nRnVuY0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQkJICAgIHsKCQkJCQkgICAgVGhyb3cgIkNvdWxkbid0IGZpbmQgZnVuY3Rpb24gYWRkcmVzcy4iCgkJCQkgICAgfQoJCQkJICAgICRXU3RyaW5nRnVuY0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKCkgKFtJbnRQdHJdKQoJCQkJICAgICRXU3RyaW5nRnVuYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRXU3RyaW5nRnVuY0FkZHIsICRXU3RyaW5nRnVuY0RlbGVnYXRlKQoJCQkJICAgIFtJbnRQdHJdJE91dHB1dFB0ciA9ICRXU3RyaW5nRnVuYy5JbnZva2UoKQoJCQkJICAgICRPdXRwdXQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ1VuaSgkT3V0cHV0UHRyKQoJCQkJICAgIFdyaXRlLU91dHB1dCAkT3V0cHV0CgkgICAgICAgICAgICB9CgoJICAgICAgICAgICAgJ1N0cmluZycgewoJICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkNhbGxpbmcgZnVuY3Rpb24gd2l0aCBTdHJpbmcgcmV0dXJuIHR5cGUiCgkJCQkgICAgW0ludFB0cl0kU3RyaW5nRnVuY0FkZHIgPSBHZXQtTWVtb3J5UHJvY0FkZHJlc3MgLVBFSGFuZGxlICRQRUhhbmRsZSAtRnVuY3Rpb25OYW1lICJTdHJpbmdGdW5jIgoJCQkJICAgIGlmICgkU3RyaW5nRnVuY0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQkJICAgIHsKCQkJCQkgICAgVGhyb3cgIkNvdWxkbid0IGZpbmQgZnVuY3Rpb24gYWRkcmVzcy4iCgkJCQkgICAgfQoJCQkJICAgICRTdHJpbmdGdW5jRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoKSAoW0ludFB0cl0pCgkJCQkgICAgJFN0cmluZ0Z1bmMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkU3RyaW5nRnVuY0FkZHIsICRTdHJpbmdGdW5jRGVsZWdhdGUpCgkJCQkgICAgW0ludFB0cl0kT3V0cHV0UHRyID0gJFN0cmluZ0Z1bmMuSW52b2tlKCkKCQkJCSAgICAkT3V0cHV0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdBbnNpKCRPdXRwdXRQdHIpCgkJCQkgICAgV3JpdGUtT3V0cHV0ICRPdXRwdXQKCSAgICAgICAgICAgIH0KCgkgICAgICAgICAgICAnVm9pZCcgewoJICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkNhbGxpbmcgZnVuY3Rpb24gd2l0aCBWb2lkIHJldHVybiB0eXBlIgoJCQkJICAgIFtJbnRQdHJdJFZvaWRGdW5jQWRkciA9IEdldC1NZW1vcnlQcm9jQWRkcmVzcyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1GdW5jdGlvbk5hbWUgIlZvaWRGdW5jIgoJCQkJICAgIGlmICgkVm9pZEZ1bmNBZGRyIC1lcSBbSW50UHRyXTo6WmVybykKCQkJCSAgICB7CgkJCQkJICAgIFRocm93ICJDb3VsZG4ndCBmaW5kIGZ1bmN0aW9uIGFkZHJlc3MuIgoJCQkJICAgIH0KCQkJCSAgICAkVm9pZEZ1bmNEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQCgpIChbVm9pZF0pCgkJCQkgICAgJFZvaWRGdW5jID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFZvaWRGdW5jQWRkciwgJFZvaWRGdW5jRGVsZWdhdGUpCgkJCQkgICAgJFZvaWRGdW5jLkludm9rZSgpIHwgT3V0LU51bGwKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCQkjIyMgRU5EIE9GIFlPVVIgQ09ERQoJCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCX0KCQkjRm9yIHJlbW90ZSBETEwgaW5qZWN0aW9uLCBjYWxsIGEgdm9pZCBmdW5jdGlvbiB3aGljaCB0YWtlcyBubyBwYXJhbWV0ZXJzCgkJZWxzZWlmICgoJFBFSW5mby5GaWxlVHlwZSAtaWVxICJETEwiKSAtYW5kICgkUmVtb3RlUHJvY0hhbmRsZSAtbmUgW0ludFB0cl06Olplcm8pKQoJCXsKCQkJJFZvaWRGdW5jQWRkciA9IEdldC1NZW1vcnlQcm9jQWRkcmVzcyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1GdW5jdGlvbk5hbWUgIlZvaWRGdW5jIgoJCQlpZiAoKCRWb2lkRnVuY0FkZHIgLWVxICRudWxsKSAtb3IgKCRWb2lkRnVuY0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKSkKCQkJewoJCQkJVGhyb3cgIlZvaWRGdW5jIGNvdWxkbid0IGJlIGZvdW5kIGluIHRoZSBETEwiCgkJCX0KCQkJCgkJCSRWb2lkRnVuY0FkZHIgPSBTdWItU2lnbmVkSW50QXNVbnNpZ25lZCAkVm9pZEZ1bmNBZGRyICRQRUhhbmRsZQoJCQkkVm9pZEZ1bmNBZGRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFZvaWRGdW5jQWRkciAkUmVtb3RlUEVIYW5kbGUKCQkJCgkJCSNDcmVhdGUgdGhlIHJlbW90ZSB0aHJlYWQsIGRvbid0IHdhaXQgZm9yIGl0IHRvIHJldHVybi4uIFRoaXMgd2lsbCBwcm9iYWJseSBtYWlubHkgYmUgdXNlZCB0byBwbGFudCBiYWNrZG9vcnMKCQkJJFJUaHJlYWRIYW5kbGUgPSBDcmVhdGUtUmVtb3RlVGhyZWFkIC1Qcm9jZXNzSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1TdGFydEFkZHJlc3MgJFZvaWRGdW5jQWRkciAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zCgkJfQoJCQoJCSNEb24ndCBmcmVlIGEgbGlicmFyeSBpZiBpdCBpcyBpbmplY3RlZCBpbiBhIHJlbW90ZSBwcm9jZXNzIG9yIGlmIGl0IGlzIGFuIEVYRS4KICAgICAgICAjTm90ZSB0aGF0IGFsbCBETEwncyBsb2FkZWQgYnkgdGhlIEVYRSB3aWxsIHJlbWFpbiBsb2FkZWQgaW4gbWVtb3J5LgoJCWlmICgkUmVtb3RlUHJvY0hhbmRsZSAtZXEgW0ludFB0cl06Olplcm8gLWFuZCAkUEVJbmZvLkZpbGVUeXBlIC1pZXEgIkRMTCIpCgkJewoJCQlJbnZva2UtTWVtb3J5RnJlZUxpYnJhcnkgLVBFSGFuZGxlICRQRUhhbmRsZQoJCX0KCQllbHNlCgkJewoJCQkjRGVsZXRlIHRoZSBQRSBmaWxlIGZyb20gbWVtb3J5LgoJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsRnJlZS5JbnZva2UoJFBFSGFuZGxlLCBbVUludDY0XTAsICRXaW4zMkNvbnN0YW50cy5NRU1fUkVMRUFTRSkKCQkJaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJCXsKCQkJCVdyaXRlLVdhcm5pbmcgIlVuYWJsZSB0byBjYWxsIFZpcnR1YWxGcmVlIG9uIHRoZSBQRSdzIG1lbW9yeS4gQ29udGludWluZyBhbnl3YXlzLiIgLVdhcm5pbmdBY3Rpb24gQ29udGludWUKCQkJfQoJCX0KCQkKCQlXcml0ZS1WZXJib3NlICJEb25lISIKCX0KCglNYWluCn0KCiNNYWluIGZ1bmN0aW9uIHRvIGVpdGhlciBydW4gdGhlIHNjcmlwdCBsb2NhbGx5IG9yIHJlbW90ZWx5CkZ1bmN0aW9uIE1haW4KewoJaWYgKCgkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLkJvdW5kUGFyYW1ldGVyc1siRGVidWciXSAtbmUgJG51bGwpIC1hbmQgJFBTQ21kbGV0Lk15SW52b2NhdGlvbi5Cb3VuZFBhcmFtZXRlcnNbIkRlYnVnIl0uSXNQcmVzZW50KQoJewoJCSREZWJ1Z1ByZWZlcmVuY2UgID0gIkNvbnRpbnVlIgoJfQoJCglXcml0ZS1WZXJib3NlICJQb3dlclNoZWxsIFByb2Nlc3NJRDogJFBJRCIKCQoJI1ZlcmlmeSB0aGUgaW1hZ2UgaXMgYSB2YWxpZCBQRSBmaWxlCgkkZV9tYWdpYyA9ICgkUEVCeXRlc1swLi4xXSB8ICUge1tDaGFyXSAkX30pIC1qb2luICcnCgogICAgaWYgKCRlX21hZ2ljIC1uZSAnTVonKQogICAgewogICAgICAgIHRocm93ICdQRSBpcyBub3QgYSB2YWxpZCBQRSBmaWxlLicKICAgIH0KCglpZiAoLW5vdCAkRG9Ob3RaZXJvTVopIHsKCQkjIFJlbW92ZSAnTVonIGZyb20gdGhlIFBFIGZpbGUgc28gdGhhdCBpdCBjYW5ub3QgYmUgZGV0ZWN0ZWQgYnkgLmltZ3NjYW4gaW4gV2luRGJnCgkJIyBUT0RPOiBJbnZlc3RpZ2F0ZSBob3cgbXVjaCBvZiB0aGUgaGVhZGVyIGNhbiBiZSBkZXN0cm95ZWQsIEknZCBpbWFnaW5lIG1vc3Qgb2YgaXQgY2FuIGJlLgoJCSRQRUJ5dGVzWzBdID0gMAoJCSRQRUJ5dGVzWzFdID0gMAoJfQoJCgkjQWRkIGEgInByb2dyYW0gbmFtZSIgdG8gZXhlYXJncywganVzdCBzbyB0aGUgc3RyaW5nIGxvb2tzIGFzIG5vcm1hbCBhcyBwb3NzaWJsZSAocmVhbCBhcmdzIHN0YXJ0IGluZGV4aW5nIGF0IDEpCglpZiAoJEV4ZUFyZ3MgLW5lICRudWxsIC1hbmQgJEV4ZUFyZ3MgLW5lICcnKQoJewoJCSRFeGVBcmdzID0gIlJlZmxlY3RpdmVFeGUgJEV4ZUFyZ3MiCgl9CgllbHNlCgl7CgkJJEV4ZUFyZ3MgPSAiUmVmbGVjdGl2ZUV4ZSIKCX0KCglpZiAoJENvbXB1dGVyTmFtZSAtZXEgJG51bGwgLW9yICRDb21wdXRlck5hbWUgLWltYXRjaCAiXlxzKiQiKQoJewoJCUludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkUmVtb3RlU2NyaXB0QmxvY2sgLUFyZ3VtZW50TGlzdCBAKCRQRUJ5dGVzLCAkRnVuY1JldHVyblR5cGUsICRQcm9jSWQsICRQcm9jTmFtZSwkRm9yY2VBU0xSKQoJfQoJZWxzZQoJewoJCUludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkUmVtb3RlU2NyaXB0QmxvY2sgLUFyZ3VtZW50TGlzdCBAKCRQRUJ5dGVzLCAkRnVuY1JldHVyblR5cGUsICRQcm9jSWQsICRQcm9jTmFtZSwkRm9yY2VBU0xSKSAtQ29tcHV0ZXJOYW1lICRDb21wdXRlck5hbWUKCX0KfQoKTWFpbgp9CgoKZnVuY3Rpb24gSW52b2tlLUdldENvbnRlbnRGcm9tR2l0SHViCnsKCjwjCi5TWU5PUFNJUwpVc2UgdGhpcyBzY3JpcHQgdG8gZG93bmxvYWQgZmlsZXMgZnJvbSBHaXRIdWIgYW5kIHN0b3JlIG9uIGRpc2sgb3IgcnVuIGluIG1lbW9yeSAodXNlcyBQb3dlclNwbG9pdCdzIEludm9rZS1SZWZsZWN0aXZlUEVJbmplY3Rpb24KIHRvIGV2YWRlIGFudGl2aXJ1cykKCgojPgoKCiAgICBbQ21kbGV0QmluZGluZygpXSBQYXJhbSgKCiAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgW1N0cmluZ10KICAgICRHSFVzZXIsCgoKICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICBbU3RyaW5nXQogICAgJEdIUmVwbywKCgogICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9MiwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgW1N0cmluZ10KICAgICRHSEZpbGVQYXRoLAoKICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICBbU3RyaW5nXQogICAgJEdIRmlsZU5hbWUsCgogICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDQsIE1hbmRhdG9yeT0kVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0iV3JpdGVDb250ZW50VG9EaXNrIildCiAgICBbU3RyaW5nXQogICAgJExvY2FsRmlsZVBhdGgsCgkKCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSA0LCBNYW5kYXRvcnk9JFRydWUsIFBhcmFtZXRlclNldE5hbWU9IkV4ZWN1dGlvbkNvbW1hbmRzIildCglbU3RyaW5nXQoJJENvbW1hbmRBcmdzCgoKICAgICkKCgogICAgIyBDb25zdHJ1Y3QgdGhlIGFwaSBvZiB0aGUgZmlsZSB0byBkb3dubG9hZAogICAgJEdIQVBJID0gImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvIiArICRHSFVzZXIgKyAiLyIgKyAkR0hSZXBvICsgIi9jb250ZW50cy8iICsgJEdIRmlsZVBhdGggKyAkR0hGaWxlTmFtZQoKICAgICRCb2R5ID0gQHsKICAgICAgICBwYXRoID0gJEdIRmlsZVBhdGggKyAkR0hGaWxlTmFtZTsKICAgICAgICByZWYgPSAibWFzdGVyIjsKICAgIH0KCgogICAgVHJ5IHsKICAgICAgICAjIERvbid0IGFjdHVhbGx5IG5lZWQgdGhlIGhlYWRlcgogICAgICAgICRjb250ZW50ID0gSW52b2tlLVJlc3RNZXRob2QgLVVyaSAkR0hBUEkgLUJvZHkgJEJvZHkgLU1ldGhvZCBHZXQgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKCiAgICAgICAgJGZpbGVCeXRlcyA9IFtTeXN0ZW0uQ29udmVydF06OkZyb21CYXNlNjRTdHJpbmcoKCRjb250ZW50LmNvbnRlbnQpKQoKICAgICAgICAKCQlpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICJXcml0ZUNvbnRlbnRUb0Rpc2siKQoJCXsKCQkJJG91dEZpbGUgPSAkTG9jYWxGaWxlUGF0aCArICRHSEZpbGVOYW1lCgoJCQlbU3lzdGVtLklPLkZpbGVdOjpXcml0ZUFsbEJ5dGVzKCRvdXRGaWxlLCAkZmlsZUJ5dGVzKQoJCQoJCX0KCQkKCQlpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICJFeGVjdXRpb25Db21tYW5kcyIpCgkJewoJCQkjIFRvIHJ1biB0aGUgZXhlIGluIG1lbW9yeSB1c2UgSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbgoJCQkkb3V0cHV0ID0gSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiAtUEVCeXRlcyAkZmlsZUJ5dGVzIC1FeGVBcmdzICRDb21tYW5kQXJncyAKICAgICAgICAgICAgI1dyaXRlLUhvc3QgJG91dHB1dAoJCX0JCQoJCQoKICAgICAgICAKICAgIH0KICAgIENhdGNoIHsgICAgICAgIAogICAgICAgICRFcnJvck1lc3NhZ2UgPSAiVHJ5aW5nIHRvIGdldCBmaWxlIGNvbnRlbnRzOiAiICsgJF8uRXhjZXB0aW9uLk1lc3NhZ2U7CiAgICAgICAgV3JpdGUtRXJyb3IgJEVycm9yTWVzc2FnZTsgCiAgICB9CgoKfQo=
