Persistence.psm1,1c64eece7f6e6a033d66d1bb329ac2fe,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24Kewo8IwouU1lOT1BTSVMKCiAgICBDb25maWd1cmUgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucyBmb3IgdGhlIEFkZC1QZXJzaXN0ZW5jZSBmdW5jdGlvbi4KCiAgICBQb3dlclNwbG9pdCBGdW5jdGlvbjogTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24KICAgIEF1dGhvcjogTWF0dGhldyBHcmFlYmVyIChAbWF0dGlmZXN0YXRpb24pCiAgICBMaWNlbnNlOiBCU0QgMy1DbGF1c2UKICAgIFJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQogICAgT3B0aW9uYWwgRGVwZW5kZW5jaWVzOiBOb25lCiAKLkRFU0NSSVBUSU9OCgogICAgTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gYWxsb3dzIGZvciB0aGUgY29uZmlndXJhdGlvbiBvZiBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zLiBUaGUgb3V0cHV0IG9mIHRoaXMgZnVuY3Rpb24gaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgb2YgQWRkLVBlcnNpc3RlbmNlLiBBdmFpbGFibGUgcGVyc2l0ZW5jZSBvcHRpb25zIGluIG9yZGVyIG9mIHN0ZWFsdGggYXJlIHRoZSBmb2xsb3dpbmc6IHBlcm1hbmVudCBXTUkgc3Vic2NyaXB0aW9uLCBzY2hlZHVsZWQgdGFzaywgYW5kIHJlZ2lzdHJ5LgoKLlBBUkFNRVRFUiBQZXJtYW5lbnRXTUkKCiAgICBQZXJzaXN0IHZpYSBhIHBlcm1hbmVudCBXTUkgZXZlbnQgc3Vic2NyaXB0aW9uLiBUaGlzIG9wdGlvbiB3aWxsIGJlIHRoZSBtb3N0IGRpZmZpY3VsdCB0byBkZXRlY3QgYW5kIHJlbW92ZS4KCiAgICBEZXRlY3Rpb24gRGlmZmljdWx0eTogICAgICAgIERpZmZpY3VsdAogICAgUmVtb3ZhbCBEaWZmaWN1bHR5OiAgICAgICAgICBEaWZmaWN1bHQKICAgIFVzZXIgRGV0ZWN0YWJsZT8gICAgICAgICAgICAgTm8KCi5QQVJBTUVURVIgU2NoZWR1bGVkVGFzawoKICAgIFBlcnNpc3QgdmlhIGEgc2NoZWR1bGVkIHRhc2suCgogICAgRGV0ZWN0aW9uIERpZmZpY3VsdHk6ICAgICAgICBNb2RlcmF0ZQogICAgUmVtb3ZhbCBEaWZmaWN1bHR5OiAgICAgICAgICBNb2RlcmF0ZQogICAgVXNlciBEZXRlY3RhYmxlPyAgICAgICAgICAgICBObwoKLlBBUkFNRVRFUiBSZWdpc3RyeQoKICAgIFBlcnNpc3QgdmlhIHRoZSBIS0xNXFNPRlRXQVJFXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1biByZWdpc3RyeSBrZXkuIE5vdGU6IFRoaXMgb3B0aW9uIHdpbGwgYnJpZWZseSBwb3AgdXAgYSBQb3dlclNoZWxsIGNvbnNvbGUgdG8gdGhlIHVzZXIuCgogICAgRGV0ZWN0aW9uIERpZmZpY3VsdHk6ICAgICAgICBFYXN5CiAgICBSZW1vdmFsIERpZmZpY3VsdHk6ICAgICAgICAgIEVhc3kKICAgIFVzZXIgRGV0ZWN0YWJsZT8gICAgICAgICAgICAgWWVzCgouUEFSQU1FVEVSIEF0TG9nb24KCiAgICBTdGFydHMgdGhlIHBheWxvYWQgdXBvbiBhbnkgdXNlciBsb2dvbi4KCi5QQVJBTUVURVIgQXRTdGFydHVwCgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIHdpdGhpbiAyNDAgYW5kIDMyNSBzZWNvbmRzIG9mIGNvbXB1dGVyIHN0YXJ0dXAuCgouUEFSQU1FVEVSIE9uSWRsZQoKICAgIFN0YXJ0cyB0aGUgcGF5bG9hZCBhZnRlciBvbmUgbWludXRlIG9mIGlkbGluZy4KCi5QQVJBTUVURVIgRGFpbHkKCiAgICBTdGFydHMgdGhlIHBheWxvYWQgZGFpbHkuCgouUEFSQU1FVEVSIEhvdXJseQoKICAgIFN0YXJ0cyB0aGUgcGF5bG9hZCBob3VybHkuCgouUEFSQU1FVEVSIEF0CgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIGF0IHRoZSBzcGVjaWZpZWQgdGltZS4gWW91IG1heSBzcGVjaWZ5IHRpbWVzIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0czogJzEyOjMxIEFNJywgJzIgQU0nLCAnMjM6MDA6MDAnLCBvciAnNDowNjoyNiBQTScuCgouRVhBTVBMRQoKICAgIEM6XFBTPiAkRWxldmF0ZWRPcHRpb25zID0gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gLVBlcm1hbmVudFdNSSAtRGFpbHkgLUF0ICczIFBNJwoKLkVYQU1QTEUKCiAgICBDOlxQUz4gJEVsZXZhdGVkT3B0aW9ucyA9IE5ldy1FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uIC1SZWdpc3RyeSAtQXRTdGFydHVwCgouRVhBTVBMRQoKICAgIEM6XFBTPiAkRWxldmF0ZWRPcHRpb25zID0gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gLVNjaGVkdWxlZFRhc2sgLU9uSWRsZQoKLkxJTksKCiAgICBodHRwOi8vd3d3LmV4cGxvaXQtbW9uZGF5LmNvbQojPgoKICAgIFtDbWRsZXRCaW5kaW5nKCldIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSURhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSUF0U3RhcnR1cCcsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUGVybWFuZW50V01JLAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tEYWlseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrSG91cmx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tBdExvZ29uJywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tPbklkbGUnLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNjaGVkdWxlZFRhc2ssCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnUmVnaXN0cnknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlZ2lzdHJ5LAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSURhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tEYWlseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRGFpbHksCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0hvdXJseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkSG91cmx5LAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSURhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tEYWlseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRBdCwKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrT25JZGxlJywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRPbklkbGUsCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0F0TG9nb24nLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnUmVnaXN0cnknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEF0TG9nb24sCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnUGVybWFuZW50V01JQXRTdGFydHVwJywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRBdFN0YXJ0dXAKICAgICkKCiAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGUgPSBAewogICAgICAgIE1ldGhvZCA9ICcnCiAgICAgICAgVHJpZ2dlciA9ICcnCiAgICAgICAgVGltZSA9ICcnCiAgICB9CgogICAgc3dpdGNoICgkUFNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSkKICAgIHsKICAgICAgICAnUGVybWFuZW50V01JQXRTdGFydHVwJwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdQZXJtYW5lbnRXTUknCiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnVHJpZ2dlciddID0gJ0F0U3RhcnR1cCcKICAgICAgICB9CgogICAgICAgICdQZXJtYW5lbnRXTUlEYWlseScKICAgICAgICB7CiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnTWV0aG9kJ10gPSAnUGVybWFuZW50V01JJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdEYWlseScKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUaW1lJ10gPSAkQXQKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrQXRMb2dvbicKICAgICAgICB7CiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnTWV0aG9kJ10gPSAnU2NoZWR1bGVkVGFzaycKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUcmlnZ2VyJ10gPSAnQXRMb2dvbicKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrT25JZGxlJwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdPbklkbGUnCiAgICAgICAgfQoKICAgICAgICAnU2NoZWR1bGVkVGFza0RhaWx5JwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdEYWlseScKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUaW1lJ10gPSAkQXQKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrSG91cmx5JwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdIb3VybHknCiAgICAgICAgfQoKICAgICAgICAnUmVnaXN0cnknCiAgICAgICAgewogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ01ldGhvZCddID0gJ1JlZ2lzdHJ5JwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdBdExvZ29uJwogICAgICAgIH0KICAgIH0KCiAgICAkUGVyc2lzdGVuY2VPcHRpb25zID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZQogICAgJFBlcnNpc3RlbmNlT3B0aW9ucy5QU09iamVjdC5UeXBlTmFtZXNbMF0gPSAnUG93ZXJTcGxvaXQuUGVyc2lzdGVuY2UuRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbicKCiAgICBXcml0ZS1PdXRwdXQgJFBlcnNpc3RlbmNlT3B0aW9ucwp9CgpmdW5jdGlvbiBOZXctVXNlclBlcnNpc3RlbmNlT3B0aW9uCnsKPCMKLlNZTk9QU0lTCgogICAgQ29uZmlndXJlIHVzZXItbGV2ZWwgcGVyc2lzdGVuY2Ugb3B0aW9ucyBmb3IgdGhlIEFkZC1QZXJzaXN0ZW5jZSBmdW5jdGlvbi4KCiAgICBQb3dlclNwbG9pdCBGdW5jdGlvbjogTmV3LVVzZXJQZXJzaXN0ZW5jZU9wdGlvbgogICAgQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKICAgIExpY2Vuc2U6IEJTRCAzLUNsYXVzZQogICAgUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCiAgICBPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKIAouREVTQ1JJUFRJT04KCiAgICBOZXctVXNlclBlcnNpc3RlbmNlT3B0aW9uIGFsbG93cyBmb3IgdGhlIGNvbmZpZ3VyYXRpb24gb2YgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucy4gVGhlIG91dHB1dCBvZiB0aGlzIGZ1bmN0aW9uIGlzIGEgcmVxdWlyZWQgcGFyYW1ldGVyIG9mIEFkZC1QZXJzaXN0ZW5jZS4gQXZhaWxhYmxlIHBlcnNpdGVuY2Ugb3B0aW9ucyBpbiBvcmRlciBvZiBzdGVhbHRoIGFyZSB0aGUgZm9sbG93aW5nOiBzY2hlZHVsZWQgdGFzaywgcmVnaXN0cnkuCgouUEFSQU1FVEVSIFNjaGVkdWxlZFRhc2sKCiAgICBQZXJzaXN0IHZpYSBhIHNjaGVkdWxlZCB0YXNrLgoKICAgIERldGVjdGlvbiBEaWZmaWN1bHR5OiAgICAgICAgTW9kZXJhdGUKICAgIFJlbW92YWwgRGlmZmljdWx0eTogICAgICAgICAgTW9kZXJhdGUKICAgIFVzZXIgRGV0ZWN0YWJsZT8gICAgICAgICAgICAgTm8KCi5QQVJBTUVURVIgUmVnaXN0cnkKCiAgICBQZXJzaXN0IHZpYSB0aGUgSEtDVVxTT0ZUV0FSRVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxSdW4gcmVnaXN0cnkga2V5LiBOb3RlOiBUaGlzIG9wdGlvbiB3aWxsIGJyaWVmbHkgcG9wIHVwIGEgUG93ZXJTaGVsbCBjb25zb2xlIHRvIHRoZSB1c2VyLgoKICAgIERldGVjdGlvbiBEaWZmaWN1bHR5OiAgICAgICAgRWFzeQogICAgUmVtb3ZhbCBEaWZmaWN1bHR5OiAgICAgICAgICBFYXN5CiAgICBVc2VyIERldGVjdGFibGU/ICAgICAgICAgICAgIFllcwoKLlBBUkFNRVRFUiBBdExvZ29uCgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIHVwb24gYW55IHVzZXIgbG9nb24uCgouUEFSQU1FVEVSIE9uSWRsZQoKICAgIFN0YXJ0cyB0aGUgcGF5bG9hZCBhZnRlciBvbmUgbWludXRlIG9mIGlkbGluZy4KCi5QQVJBTUVURVIgRGFpbHkKCiAgICBTdGFydHMgdGhlIHBheWxvYWQgZGFpbHkuCgouUEFSQU1FVEVSIEhvdXJseQoKICAgIFN0YXJ0cyB0aGUgcGF5bG9hZCBob3VybHkuCgouUEFSQU1FVEVSIEF0CgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIGF0IHRoZSBzcGVjaWZpZWQgdGltZS4gWW91IG1heSBzcGVjaWZ5IHRpbWVzIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0czogJzEyOjMxIEFNJywgJzIgQU0nLCAnMjM6MDA6MDAnLCBvciAnNDowNjoyNiBQTScuCgouRVhBTVBMRQoKICAgIEM6XFBTPiAkVXNlck9wdGlvbnMgPSBOZXctVXNlclBlcnNpc3RlbmNlT3B0aW9uIC1SZWdpc3RyeSAtQXRMb2dvbgoKLkVYQU1QTEUKCiAgICBDOlxQUz4gJFVzZXJPcHRpb25zID0gTmV3LVVzZXJQZXJzaXN0ZW5jZU9wdGlvbiAtU2NoZWR1bGVkVGFzayAtT25JZGxlCgouTElOSwoKICAgIGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tCiM+CgogICAgW0NtZGxldEJpbmRpbmcoKV0gUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0RhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tIb3VybHknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza09uSWRsZScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2NoZWR1bGVkVGFzaywKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdSZWdpc3RyeScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmVnaXN0cnksCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0RhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICREYWlseSwKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrSG91cmx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRIb3VybHksCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0RhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJEF0LAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tPbklkbGUnLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE9uSWRsZSwKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdSZWdpc3RyeScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQXRMb2dvbgogICAgKQoKICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZSA9IEB7CiAgICAgICAgTWV0aG9kID0gJycKICAgICAgICBUcmlnZ2VyID0gJycKICAgICAgICBUaW1lID0gJycKICAgIH0KCiAgICBzd2l0Y2ggKCRQU0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lKQogICAgewogICAgICAgICdTY2hlZHVsZWRUYXNrQXRMb2dvbicKICAgICAgICB7CiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnTWV0aG9kJ10gPSAnU2NoZWR1bGVkVGFzaycKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUcmlnZ2VyJ10gPSAnQXRMb2dvbicKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrT25JZGxlJwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdPbklkbGUnCiAgICAgICAgfQoKICAgICAgICAnU2NoZWR1bGVkVGFza0RhaWx5JwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdEYWlseScKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUaW1lJ10gPSAkQXQKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrSG91cmx5JwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdIb3VybHknCiAgICAgICAgfQoKICAgICAgICAnUmVnaXN0cnknCiAgICAgICAgewogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ01ldGhvZCddID0gJ1JlZ2lzdHJ5JwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdBdExvZ29uJwogICAgICAgIH0KICAgIH0KCiAgICAkUGVyc2lzdGVuY2VPcHRpb25zID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZQogICAgJFBlcnNpc3RlbmNlT3B0aW9ucy5QU09iamVjdC5UeXBlTmFtZXNbMF0gPSAnUG93ZXJTcGxvaXQuUGVyc2lzdGVuY2UuVXNlclBlcnNpc3RlbmNlT3B0aW9uJwoKICAgIFdyaXRlLU91dHB1dCAkUGVyc2lzdGVuY2VPcHRpb25zCn0KCmZ1bmN0aW9uIEFkZC1QZXJzaXN0ZW5jZQp7CjwjCi5TWU5PUFNJUwoKICAgIEFkZCBwZXJzaXN0ZW5jZSBjYXBhYmlsaXRpZXMgdG8gYSBzY3JpcHQuCgogICAgUG93ZXJTcGxvaXQgRnVuY3Rpb246IEFkZC1QZXJzaXN0ZW5jZQogICAgQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKICAgIExpY2Vuc2U6IEJTRCAzLUNsYXVzZQogICAgUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOZXctRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbiwgTmV3LVVzZXJQZXJzaXN0ZW5jZU9wdGlvbgogICAgT3B0aW9uYWwgRGVwZW5kZW5jaWVzOiBOb25lCiAKLkRFU0NSSVBUSU9OCgogICAgQWRkLVBlcnNpc3RlbmNlIHdpbGwgYWRkIHBlcnNpc3RlbmNlIGNhcGFiaWxpdGllcyB0byBhbnkgc2NyaXB0IG9yIHNjcmlwdGJsb2NrLiBUaGlzIGZ1bmN0aW9uIHdpbGwgb3V0cHV0IGJvdGggdGhlIG5ld2x5IGNyZWF0ZWQgc2NyaXB0IHdpdGggcGVyc2lzdGVuY2UgY2FwYWJpbGl0aWVzIGFzIHdlbGwgYSBzY3JpcHQgdGhhdCB3aWxsIHJlbW92ZSBhIHNjcmlwdCBhZnRlciBpdCBoYXMgYmVlbiBwZXJzaXN0ZWQuCgouUEFSQU1FVEVSIFNjcmlwdEJsb2NrCgogICAgU3BlY2lmaWVzIGEgc2NyaXB0YmxvY2sgY29udGFpbmluZyB5b3VyIHBheWxvYWQuCgouUEFSQU1FVEVSIEZpbGVQYXRoCgogICAgU3BlY2lmaWVzIHRoZSBwYXRoIHRvIHlvdXIgcGF5bG9hZC4KCi5QQVJBTUVURVIgRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbgoKICAgIFNwZWNpZmllcyB0aGUgdHJpZ2dlciBmb3IgdGhlIHBlcnNpc3RlbnQgcGF5bG9hZCBpZiB0aGUgdGFyZ2V0IGlzIHJ1bm5pbmcgZWxldmF0ZWQuCiAgICBZb3UgbXVzdCBydW4gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gdG8gZ2VuZXJhdGUgdGhpcyBhcmd1bWVudC4KCi5QQVJBTUVURVIgVXNlclBlcnNpc3RlbmNlT3B0aW9uCgogICAgU3BlY2lmaWVzIHRoZSB0cmlnZ2VyIGZvciB0aGUgcGVyc2lzdGVudCBwYXlsb2FkIGlmIHRoZSB0YXJnZXQgaXMgbm90IHJ1bm5pbmcgZWxldmF0ZWQuCiAgICBZb3UgbXVzdCBydW4gTmV3LVVzZXJQZXJzaXN0ZW5jZU9wdGlvbiB0byBnZW5lcmF0ZSB0aGlzIGFyZ3VtZW50LgoKLlBBUkFNRVRFUiBQZXJzaXN0ZW5jZVNjcmlwdE5hbWUKCiAgICBTcGVjaWZpZXMgdGhlIG5hbWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCB3cmFwIHRoZSBvcmlnaW5hbCBwYXlsb2FkLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAnVXBkYXRlLVdpbmRvd3MnLgoKLlBBUkFNRVRFUiBEb05vdFBlcnNpc3RJbW1lZGlhdGVseQoKICAgIE91dHB1dCBvbmx5IHRoZSB3cmFwcGVyIGZ1bmN0aW9uIGZvciB0aGUgb3JpZ2luYWwgcGF5bG9hZC4gQnkgZGVmYXVsdCwgQWRkLVBlcnNpc3RlbmNlIHdpbGwgb3V0cHV0IGEgc2NyaXB0IHRoYXQgd2lsbCBhdXRvbWF0aWNhbGx5IGF0dGVtcHQgdG8gcGVyc2lzdCAoZS5nLiBpdCB3aWxsIGVuZCB3aXRoICdVcGRhdGUtV2luZG93cyAtUGVyc2lzdCcpLiBJZiB5b3UgYXJlIGluIGEgcG9zaXRpb24gd2hlcmUgeW91IGFyZSBydW5uaW5nIGluIG1lbW9yeSBidXQgd2FudCB0byBwZXJzaXN0IGF0IGEgbGF0ZXIgdGltZSwgdXNlIHRoaXMgb3B0aW9uLgoKLlBBUkFNRVRFUiBQZXJzaXN0ZW50U2NyaXB0RmlsZVBhdGgKCiAgICBTcGVjaWZpZXMgdGhlIHBhdGggd2hlcmUgeW91IHdvdWxkIGxpa2UgdG8gb3V0cHV0IHRoZSBwZXJzaXN0ZW5jZSBzY3JpcHQuIEJ5IGRlZmF1bHQsIEFkZC1QZXJzaXN0ZW5jZSB3aWxsIHdyaXRlIHRoZSByZW1vdmFsIHNjcmlwdCB0byAnUGVyc2lzdGVuY2UucHMxJyBpbiB0aGUgY3VycmVudCBkaXJlY3RvcnkuCgouUEFSQU1FVEVSIFJlbW92YWxTY3JpcHRGaWxlUGF0aAoKICAgIFNwZWNpZmllcyB0aGUgcGF0aCB3aGVyZSB5b3Ugd291bGQgbGlrZSB0byBvdXRwdXQgYSBzY3JpcHQgdGhhdCB3aWxsIHJlbW92ZSB0aGUgcGVyc2lzdGVudCBwYXlsb2FkLiBCeSBkZWZhdWx0LCBBZGQtUGVyc2lzdGVuY2Ugd2lsbCB3cml0ZSB0aGUgcmVtb3ZhbCBzY3JpcHQgdG8gJ1JlbW92ZVBlcnNpc3RlbmNlLnBzMScgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5LgoKLlBBUkFNRVRFUiBQYXNzVGhydQoKICAgIE91dHB1dHMgdGhlIGNvbnRlbnRzIG9mIHRoZSBwZXJzaXN0ZW50IHNjcmlwdCB0byB0aGUgcGlwZWxpbmUuIFRoaXMgb3B0aW9uIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIHdyaXRlIHRoZSBvcmlnaW5hbCBwZXJzaXN0ZW50IHNjcmlwdCB0byBkaXNrIGFuZCBwYXNzIHRoZSBzY3JpcHQgdG8gT3V0LUVuY29kZWRDb21tYW5kIHZpYSB0aGUgcGlwZWxpbmUuCgouSU5QVVRTCgogICAgTm9uZQoKICAgIEFkZC1QZXJzaXN0ZW5jZSBjYW5ub3QgcmVjZWl2ZSBhbnkgaW5wdXQgZnJvbSB0aGUgcGlwZWxpbmUuCgouT1VUUFVUUwoKICAgIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uU2NyaXB0QmxvY2sKCiAgICBJZiB0aGUgJy1QYXNzVGhydScgc3dpdGNoIGlzIHByb3ZpZGVkLCBBZGQtUGVyc2lzdGVuY2Ugd2lsbCBvdXRwdXQgYSBzY3JpcHRibG9jayBjb250YWluaW5nIHRoZSBjb250ZW50cyBvZiB0aGUgcGVyc2lzdGVuY2Ugc2NyaXB0LgoKLk5PVEVTCgogICAgV2hlbiB0aGUgcGVyc2lzdGVudCBzY3JpcHQgZXhlY3V0ZXMsIGl0IHdpbGwgbm90IGdlbmVyYXRlIGFueSBtZWFuaW5nZnVsIG91dHB1dCBhcyBpdCB3YXMgZGVzaWduZWQgdG8gcnVuIGFzIHNpbGVudGx5IGFzIHBvc3NpYmxlIG9uIHRoZSB2aWN0aW0ncyBtYWNoaW5lLgoKLkVYQU1QTEUKCiAgICBDOlxQUz4kRWxldmF0ZWRPcHRpb25zID0gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gLVBlcm1hbmVudFdNSSAtRGFpbHkgLUF0ICczIFBNJwogICAgQzpcUFM+JFVzZXJPcHRpb25zID0gTmV3LVVzZXJQZXJzaXN0ZW5jZU9wdGlvbiAtUmVnaXN0cnkgLUF0TG9nb24KICAgIEM6XFBTPkFkZC1QZXJzaXN0ZW5jZSAtRmlsZVBhdGggLlxFdmlsUGF5bG9hZC5wczEgLUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gJEVsZXZhdGVkT3B0aW9ucyAtVXNlclBlcnNpc3RlbmNlT3B0aW9uICRVc2VyT3B0aW9ucyAtVmVyYm9zZQoKICAgIERlc2NyaXB0aW9uCiAgICAtLS0tLS0tLS0tLQogICAgQ3JlYXRlcyBhIHNjcmlwdCBjb250YWluaW5nIHRoZSBjb250ZW50cyBvZiBFdmlsUGF5bG9hZC5wczEgdGhhdCB3aGVuIGV4ZWN1dGVkIHdpdGggdGhlICctUGVyc2lzdCcgc3dpdGNoIHdpbGwgcGVyc2lzdCB0aGUgcGF5bG9hZCB1c2luZyBpdHMgcmVzcGVjdGl2ZSBwZXJzaXN0ZW5jZSBtZWNoYW5pc20gKHVzZXItbW9kZSB2cy4gZWxldmF0ZWQpIGRldGVybWluZWQgYXQgcnVudGltZS4KCi5FWEFNUExFCgogICAgQzpcUFM+JFJpY2tyb2xsID0geyBpZXggKGl3ciBodHRwOi8vYml0Lmx5L2UwTXc5dyApIH0KICAgIEM6XFBTPiRFbGV2YXRlZE9wdGlvbnMgPSBOZXctRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbiAtU2NoZWR1bGVkVGFzayAtT25JZGxlCiAgICBDOlxQUz4kVXNlck9wdGlvbnMgPSBOZXctVXNlclBlcnNpc3RlbmNlT3B0aW9uIC1TY2hlZHVsZWRUYXNrIC1PbklkbGUKICAgIEM6XFBTPkFkZC1QZXJzaXN0ZW5jZSAtU2NyaXB0QmxvY2sgJFJpY2tSb2xsIC1FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uICRFbGV2YXRlZE9wdGlvbnMgLVVzZXJQZXJzaXN0ZW5jZU9wdGlvbiAkVXNlck9wdGlvbnMgLVZlcmJvc2UgLVBhc3NUaHJ1IHwgT3V0LUVuY29kZWRDb21tYW5kIHwgT3V0LUZpbGUgLlxFbmNvZGVkUGVyc2lzdGVudFNjcmlwdC5wczEKCiAgICBEZXNjcmlwdGlvbgogICAgLS0tLS0tLS0tLS0KICAgIENyZWF0ZXMgYSBzY3JpcHQgY29udGFpbmluZyB0aGUgY29udGVudHMgb2YgdGhlIHByb3ZpZGVkIHNjcmlwdGJsb2NrIHRoYXQgd2hlbiBleGVjdXRlZCB3aXRoIHRoZSAnLVBlcnNpc3QnIHN3aXRjaCB3aWxsIHBlcnNpc3QgdGhlIHBheWxvYWQgdXNpbmcgaXRzIHJlc3BlY3RpdmUgcGVyc2lzdGVuY2UgbWVjaGFuaXNtICh1c2VyLW1vZGUgdnMuIGVsZXZhdGVkKSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWUuIFRoZSBvdXRwdXQgaXMgdGhlbiBwYXNzZWQgdGhyb3VnaCB0byBPdXQtRW5jb2RlZENvbW1hbmQgc28gdGhhdCBpdCBjYW4gYmUgZXhlY3V0ZWQgaW4gYSBzaW5nbGUgY29tbWFuZCBsaW5lIHN0YXRlbWVudC4gVGhlIGZpbmFsLCBlbmNvZGVkIG91dHB1dCBpcyBmaW5hbGx5IHNhdmVkIHRvIC5cRW5jb2RlZFBlcnNpc3RlbnRTY3JpcHQucHMxCgouTElOSwoKICAgIGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tCiM+CgogICAgW0NtZGxldEJpbmRpbmcoKV0gUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjcmlwdEJsb2NrJyApXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1NjcmlwdEJsb2NrXQogICAgICAgICRTY3JpcHRCbG9jaywKCiAgICAgICAgW1BhcmFtZXRlciggTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRmlsZVBhdGgnICldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGaWxlUGF0aCwKCiAgICAgICAgW1BhcmFtZXRlciggTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAkRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbiwKCiAgICAgICAgW1BhcmFtZXRlciggTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAkVXNlclBlcnNpc3RlbmNlT3B0aW9uLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBlcnNpc3RlbmNlU2NyaXB0TmFtZSA9ICdVcGRhdGUtV2luZG93cycsCgogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBlcnNpc3RlbnRTY3JpcHRGaWxlUGF0aCA9ICIkUFdEXFBlcnNpc3RlbmNlLnBzMSIsCgogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFJlbW92YWxTY3JpcHRGaWxlUGF0aCA9ICIkUFdEXFJlbW92ZVBlcnNpc3RlbmNlLnBzMSIsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJERvTm90UGVyc2lzdEltbWVkaWF0ZWx5LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRQYXNzVGhydQogICAgKQoKICAgIFNldC1TdHJpY3RNb2RlIC1WZXJzaW9uIDIKCiNyZWdpb24gVmFsaWRhdGUgYXJndW1lbnRzCgogICAgaWYgKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLlBTT2JqZWN0LlR5cGVOYW1lc1swXSAtbmUgJ1Bvd2VyU3Bsb2l0LlBlcnNpc3RlbmNlLkVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24nKQogICAgewogICAgICAgIHRocm93ICdZb3UgcHJvdmlkZWQgaW52YWxpZCBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zLicKICAgIH0KCiAgICBpZiAoJFVzZXJQZXJzaXN0ZW5jZU9wdGlvbi5QU09iamVjdC5UeXBlTmFtZXNbMF0gLW5lICdQb3dlclNwbG9pdC5QZXJzaXN0ZW5jZS5Vc2VyUGVyc2lzdGVuY2VPcHRpb24nKQogICAgewogICAgICAgIHRocm93ICdZb3UgcHJvdmlkZWQgaW52YWxpZCB1c2VyLWxldmVsIHBlcnNpc3RlbmNlIG9wdGlvbnMuJwogICAgfQoKICAgICRSZXN1bHQgPSBHZXQtSXRlbSAkUGVyc2lzdGVudFNjcmlwdEZpbGVQYXRoIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICBpZiAoJFJlc3VsdCAtYW5kICRSZXN1bHQuUFNJc0NvbnRhaW5lcikKICAgIHsKICAgICAgICB0aHJvdyAnWW91IG11c3QgcHJvdmlkZSBhIGZpbGUgbmFtZSB3aXRoIHRoZSBQZXJzaXN0ZW50U2NyaXB0RmlsZVBhdGggb3B0aW9uLicKICAgIH0KCiAgICAkUmVzdWx0ID0gR2V0LUl0ZW0gJFJlbW92YWxTY3JpcHRGaWxlUGF0aCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgaWYgKCRSZXN1bHQgLWFuZCAkUmVzdWx0LlBTSXNDb250YWluZXIpCiAgICB7CiAgICAgICAgdGhyb3cgJ1lvdSBtdXN0IHByb3ZpZGUgYSBmaWxlIG5hbWUgd2l0aCB0aGUgUmVtb3ZhbFNjcmlwdEZpbGVQYXRoIG9wdGlvbi4nCiAgICB9CgogICAgJFBlcnNpc3RlbnRQYXRoID0gU3BsaXQtUGF0aCAkUGVyc2lzdGVudFNjcmlwdEZpbGVQYXRoIC1FcnJvckFjdGlvbiBTdG9wCiAgICAkTGVhZiA9IFNwbGl0LVBhdGggJFBlcnNpc3RlbnRTY3JpcHRGaWxlUGF0aCAtTGVhZiAtRXJyb3JBY3Rpb24gU3RvcAogICAgJFBlcnNpc3RlbnRTY3JpcHRGaWxlID0gJycKICAgICRSZW1vdmFsU2NyaXB0RmlsZSA9ICcnCgogICAgaWYgKCRQZXJzaXN0ZW50UGF0aCAtZXEgJycpCiAgICB7CiAgICAgICAgIyBpLmUuIE9ubHkgYSBmaWxlIG5hbWUgd2FzIHByb3ZpZGVkIGltcGx5aW5nICRQV0QKICAgICAgICAkUGVyc2lzdGVudFNjcmlwdEZpbGUgPSAiJCgkUFdEKVwkKCRMZWFmKSIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkUGVyc2lzdGVudFNjcmlwdEZpbGUgPSAiJChSZXNvbHZlLVBhdGggJFBlcnNpc3RlbnRQYXRoKVwkKCRMZWFmKSIKICAgIH0KCiAgICAkUmVtb3ZhbFBhdGggPSBTcGxpdC1QYXRoICRSZW1vdmFsU2NyaXB0RmlsZVBhdGggLUVycm9yQWN0aW9uIFN0b3AKICAgICRMZWFmID0gU3BsaXQtUGF0aCAkUmVtb3ZhbFNjcmlwdEZpbGVQYXRoIC1MZWFmIC1FcnJvckFjdGlvbiBTdG9wCiAgICBpZiAoJFJlbW92YWxQYXRoIC1lcSAnJykKICAgIHsKICAgICAgICAjIGkuZS4gT25seSBhIGZpbGUgbmFtZSB3YXMgcHJvdmlkZWQgaW1wbHlpbmcgJFBXRAogICAgICAgICRSZW1vdmFsU2NyaXB0RmlsZSA9ICIkKCRQV0QpXCQoJExlYWYpIgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRSZW1vdmFsU2NyaXB0RmlsZSA9ICIkKFJlc29sdmUtUGF0aCAkUmVtb3ZhbFBhdGgpXCQoJExlYWYpIgogICAgfQoKICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbGVQYXRoJ10pCiAgICB7CiAgICAgICAgJG51bGwgPSBHZXQtQ2hpbGRJdGVtICRGaWxlUGF0aCAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgICRTY3JpcHQgPSBbSU8uRmlsZV06OlJlYWRBbGxUZXh0KChSZXNvbHZlLVBhdGggJEZpbGVQYXRoKSkKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkU2NyaXB0ID0gJFNjcmlwdEJsb2NrCiAgICB9CgojZW5kcmVnaW9uCgojcmVnaW9uIEluaXRpYWxpemUgZGF0YQoKICAgICRDb21wcmVzc2VkU2NyaXB0ID0gJycKICAgICRVc2VyVHJpZ2dlciA9ICcnCiAgICAkVXNlclRyaWdnZXJSZW1vdmFsID0gJycKICAgICRFbGV2YXRlZFRyaWdnZXIgPSAiJyciCiAgICAkRWxldmF0ZWRUcmlnZ2VyUmVtb3ZhbCA9ICcnCiAgICAkVXNlclRyaWdnZXIgPSAiJyciCiAgICAkVXNlclRyaWdnZXJSZW1vdmFsID0gJycKICAgICRDb21tYW5kTGluZSA9ICcnCgojZW5kcmVnaW9uCgojcmVnaW9uIENvbXByZXNzIHRoZSBvcmlnaW5hbCBwYXlsb2FkIGluIHByZXBhcmF0aW9uIGZvciB0aGUgcGVyc2lzdGVuY2Ugc2NyaXB0CgogICAgJFNjcmlwdEJ5dGVzID0gKFtUZXh0LkVuY29kaW5nXTo6QVNDSUkpLkdldEJ5dGVzKCRTY3JpcHQpCiAgICAkQ29tcHJlc3NlZFN0cmVhbSA9IE5ldy1PYmplY3QgSU8uTWVtb3J5U3RyZWFtCiAgICAkRGVmbGF0ZVN0cmVhbSA9IE5ldy1PYmplY3QgSU8uQ29tcHJlc3Npb24uRGVmbGF0ZVN0cmVhbSAoJENvbXByZXNzZWRTdHJlYW0sIFtJTy5Db21wcmVzc2lvbi5Db21wcmVzc2lvbk1vZGVdOjpDb21wcmVzcykKICAgICREZWZsYXRlU3RyZWFtLldyaXRlKCRTY3JpcHRCeXRlcywgMCwgJFNjcmlwdEJ5dGVzLkxlbmd0aCkKICAgICREZWZsYXRlU3RyZWFtLkRpc3Bvc2UoKQogICAgJENvbXByZXNzZWRTY3JpcHRCeXRlcyA9ICRDb21wcmVzc2VkU3RyZWFtLlRvQXJyYXkoKQogICAgJENvbXByZXNzZWRTdHJlYW0uRGlzcG9zZSgpCiAgICAkRW5jb2RlZENvbXByZXNzZWRTY3JpcHQgPSBbQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRDb21wcmVzc2VkU2NyaXB0Qnl0ZXMpCgogICAgIyBHZW5lcmF0ZSB0aGUgY29kZSB0aGF0IHdpbGwgZGVjb21wcmVzcyBhbmQgZXhlY3V0ZSB0aGUgcGF5bG9hZC4KICAgICMgVGhpcyBjb2RlIGlzIGludGVudGlvbmFsbHkgdWdseSB0byBzYXZlIHNwYWNlLgogICAgJE5ld1NjcmlwdCA9ICdzYWwgYSBOZXctT2JqZWN0O2lleChhIElPLlN0cmVhbVJlYWRlcigoYSBJTy5Db21wcmVzc2lvbi5EZWZsYXRlU3RyZWFtKFtJTy5NZW1vcnlTdHJlYW1dW0NvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCcgKyAiJyRFbmNvZGVkQ29tcHJlc3NlZFNjcmlwdCciICsgJyksW0lPLkNvbXByZXNzaW9uLkNvbXByZXNzaW9uTW9kZV06OkRlY29tcHJlc3MpKSxbVGV4dC5FbmNvZGluZ106OkFTQ0lJKSkuUmVhZFRvRW5kKCknCgojZW5kcmVnaW9uCgojcmVnaW9uIFByb2Nlc3MgcGVyc2lzdGVuY2Ugb3B0aW9ucwoKICAgICMgQmVnaW4gcHJvY2Vzc2luZyBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zCiAgICBzd2l0Y2ggKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLk1ldGhvZCkKICAgIHsKICAgICAgICAnUGVybWFuZW50V01JJwogICAgICAgIHsKICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlclJlbW92YWwgPSB7CkdldC1XbWlPYmplY3QgX19ldmVudEZpbHRlciAtbmFtZXNwYWNlIHJvb3Rcc3Vic2NyaXB0aW9uIC1maWx0ZXIgIm5hbWU9J1VwZGF0ZXInInwgUmVtb3ZlLVdtaU9iamVjdApHZXQtV21pT2JqZWN0IENvbW1hbmRMaW5lRXZlbnRDb25zdW1lciAtTmFtZXNwYWNlIHJvb3Rcc3Vic2NyaXB0aW9uIC1maWx0ZXIgIm5hbWU9J1VwZGF0ZXInIiB8IFJlbW92ZS1XbWlPYmplY3QKR2V0LVdtaU9iamVjdCBfX0ZpbHRlclRvQ29uc3VtZXJCaW5kaW5nIC1OYW1lc3BhY2Ugcm9vdFxzdWJzY3JpcHRpb24gfCBXaGVyZS1PYmplY3QgeyAkXy5maWx0ZXIgLW1hdGNoICdVcGRhdGVyJ30gfCBSZW1vdmUtV21pT2JqZWN0CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHN3aXRjaCAoJEVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24uVHJpZ2dlcikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJ0F0U3RhcnR1cCcKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyID0gImAiYGBgJEZpbHRlcj1TZXQtV21pSW5zdGFuY2UgLUNsYXNzIF9fRXZlbnRGaWx0ZXIgLU5hbWVzcGFjZSBgYGAicm9vdFxzdWJzY3JpcHRpb25gYGAiIC1Bcmd1bWVudHMgQHtuYW1lPSdVcGRhdGVyJztFdmVudE5hbWVTcGFjZT0ncm9vdFxDaW1WMic7UXVlcnlMYW5ndWFnZT1gYGAiV1FMYGBgIjtRdWVyeT1gYGAiU0VMRUNUICogRlJPTSBfX0luc3RhbmNlTW9kaWZpY2F0aW9uRXZlbnQgV0lUSElOIDYwIFdIRVJFIFRhcmdldEluc3RhbmNlIElTQSAnV2luMzJfUGVyZkZvcm1hdHRlZERhdGFfUGVyZk9TX1N5c3RlbScgQU5EIFRhcmdldEluc3RhbmNlLlN5c3RlbVVwVGltZSA+PSAyNDAgQU5EIFRhcmdldEluc3RhbmNlLlN5c3RlbVVwVGltZSA8IDMyNWBgYCJ9O2BgYCRDb25zdW1lcj1TZXQtV21pSW5zdGFuY2UgLU5hbWVzcGFjZSBgYGAicm9vdFxzdWJzY3JpcHRpb25gYGAiIC1DbGFzcyAnQ29tbWFuZExpbmVFdmVudENvbnN1bWVyJyAtQXJndW1lbnRzIEB7IG5hbWU9J1VwZGF0ZXInO0NvbW1hbmRMaW5lVGVtcGxhdGU9YGBgImBgYCQoYGBgJEVudjpTeXN0ZW1Sb290KVxTeXN0ZW0zMlxXaW5kb3dzUG93ZXJTaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIC1Ob25JbnRlcmFjdGl2ZWBgYCI7UnVuSW50ZXJhY3RpdmVseT0nZmFsc2UnfTtTZXQtV21pSW5zdGFuY2UgLU5hbWVzcGFjZSBgYGAicm9vdFxzdWJzY3JpcHRpb25gYGAiIC1DbGFzcyBfX0ZpbHRlclRvQ29uc3VtZXJCaW5kaW5nIC1Bcmd1bWVudHMgQHtGaWx0ZXI9YGBgJEZpbHRlcjtDb25zdW1lcj1gYGAkQ29uc3VtZXJ9IHwgT3V0LU51bGxgIiIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAnRGFpbHknCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlciA9ICJgImBgYCRGaWx0ZXI9U2V0LVdtaUluc3RhbmNlIC1DbGFzcyBfX0V2ZW50RmlsdGVyIC1OYW1lc3BhY2UgYGBgInJvb3Rcc3Vic2NyaXB0aW9uYGBgIiAtQXJndW1lbnRzIEB7bmFtZT0nVXBkYXRlcic7RXZlbnROYW1lU3BhY2U9J3Jvb3RcQ2ltVjInO1F1ZXJ5TGFuZ3VhZ2U9YGBgIldRTGBgYCI7UXVlcnk9YGBgIlNFTEVDVCAqIEZST00gX19JbnN0YW5jZU1vZGlmaWNhdGlvbkV2ZW50IFdJVEhJTiA2MCBXSEVSRSBUYXJnZXRJbnN0YW5jZSBJU0EgJ1dpbjMyX0xvY2FsVGltZScgQU5EIFRhcmdldEluc3RhbmNlLkhvdXIgPSAkKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLlRpbWUuVG9TdHJpbmcoJ0hIJykpIEFORCBUYXJnZXRJbnN0YW5jZS5NaW51dGUgPSAkKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLlRpbWUuVG9TdHJpbmcoJ21tJykpIEdST1VQIFdJVEhJTiA2MGBgYCJ9O2BgYCRDb25zdW1lcj1TZXQtV21pSW5zdGFuY2UgLU5hbWVzcGFjZSBgYGAicm9vdFxzdWJzY3JpcHRpb25gYGAiIC1DbGFzcyAnQ29tbWFuZExpbmVFdmVudENvbnN1bWVyJyAtQXJndW1lbnRzIEB7IG5hbWU9J1VwZGF0ZXInO0NvbW1hbmRMaW5lVGVtcGxhdGU9YGBgImBgYCQoYGBgJEVudjpTeXN0ZW1Sb290KVxTeXN0ZW0zMlxXaW5kb3dzUG93ZXJTaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIC1Ob25JbnRlcmFjdGl2ZWBgYCI7UnVuSW50ZXJhY3RpdmVseT0nZmFsc2UnfTtTZXQtV21pSW5zdGFuY2UgLU5hbWVzcGFjZSBgYGAicm9vdFxzdWJzY3JpcHRpb25gYGAiIC1DbGFzcyBfX0ZpbHRlclRvQ29uc3VtZXJCaW5kaW5nIC1Bcmd1bWVudHMgQHtGaWx0ZXI9YGBgJEZpbHRlcjtDb25zdW1lcj1gYGAkQ29uc3VtZXJ9IHwgT3V0LU51bGxgIiIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkZWZhdWx0CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ0ludmFsaWQgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucyBwcm92aWRlZCEnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrJwogICAgICAgIHsKICAgICAgICAgICAgJENvbW1hbmRMaW5lID0gJ2AiJCgkRW52OlN5c3RlbVJvb3QpXFN5c3RlbTMyXFdpbmRvd3NQb3dlclNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGUgLU5vbkludGVyYWN0aXZlYCInCiAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXJSZW1vdmFsID0gInNjaHRhc2tzIC9EZWxldGUgL1ROIFVwZGF0ZXIiCgogICAgICAgICAgICBzd2l0Y2ggKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLlRyaWdnZXIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICdBdExvZ29uJwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAic2NodGFza3MgL0NyZWF0ZSAvUlUgc3lzdGVtIC9TQyBPTkxPR09OIC9UTiBVcGRhdGVyIC9UUiAiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICdEYWlseScKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyID0gInNjaHRhc2tzIC9DcmVhdGUgL1JVIHN5c3RlbSAvU0MgREFJTFkgL1NUICQoJEVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24uVGltZS5Ub1N0cmluZygnSEg6bW06c3MnKSkgL1ROIFVwZGF0ZXIgL1RSICIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAnSG91cmx5JwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAic2NodGFza3MgL0NyZWF0ZSAvUlUgc3lzdGVtIC9TQyBIT1VSTFkgL1ROIFVwZGF0ZXIgL1RSICIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAnT25JZGxlJwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAic2NodGFza3MgL0NyZWF0ZSAvUlUgc3lzdGVtIC9TQyBPTklETEUgL0kgMSAvVE4gVXBkYXRlciAvVFIgIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRlZmF1bHQKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAnSW52YWxpZCBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zIHByb3ZpZGVkIScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlciA9ICciJyArICRFbGV2YXRlZFRyaWdnZXIgKyAkQ29tbWFuZExpbmUgKyAnIicKICAgICAgICB9CgogICAgICAgICdSZWdpc3RyeScKICAgICAgICB7CiAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAiTmV3LUl0ZW1Qcm9wZXJ0eSAtUGF0aCBIS0xNOlNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1blwgLU5hbWUgVXBkYXRlciAtUHJvcGVydHlUeXBlIFN0cmluZyAtVmFsdWUgIgogICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyUmVtb3ZhbCA9ICJSZW1vdmUtSXRlbVByb3BlcnR5IC1QYXRoIEhLTE06U29mdHdhcmVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cUnVuXCAtTmFtZSBVcGRhdGVyIgogICAgICAgICAgICAkQ29tbWFuZExpbmUgPSAiYCJgYGAiYCQoYCRFbnY6U3lzdGVtUm9vdClcU3lzdGVtMzJcV2luZG93c1Bvd2VyU2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZWBgYCIgLU5vbkludGVyYWN0aXZlIC1XaW5kb3dTdHlsZSBIaWRkZW5gIiIKICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlciA9ICInIiArICRFbGV2YXRlZFRyaWdnZXIgKyAkQ29tbWFuZExpbmUgKyAiJyIKICAgICAgICB9CgogICAgICAgIGRlZmF1bHQKICAgICAgICB7CiAgICAgICAgICAgIHRocm93ICdJbnZhbGlkIGVsZXZhdGVkIHBlcnNpc3RlbmNlIG9wdGlvbnMgcHJvdmlkZWQhJwogICAgICAgIH0KICAgIH0KCiAgICAjIEJlZ2luIHByb2Nlc3NpbmcgdXNlci1sZXZlbCBwZXJzaXN0ZW5jZSBvcHRpb25zCiAgICBzd2l0Y2ggKCRVc2VyUGVyc2lzdGVuY2VPcHRpb24uTWV0aG9kKQogICAgewogICAgICAgICdTY2hlZHVsZWRUYXNrJwogICAgICAgIHsKICAgICAgICAgICAgJENvbW1hbmRMaW5lID0gJ2AiJCgkRW52OlN5c3RlbVJvb3QpXFN5c3RlbTMyXFdpbmRvd3NQb3dlclNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGUgLU5vbkludGVyYWN0aXZlYCInCiAgICAgICAgICAgICRVc2VyVHJpZ2dlclJlbW92YWwgPSAic2NodGFza3MgL0RlbGV0ZSAvVE4gVXBkYXRlciIKCiAgICAgICAgICAgIHN3aXRjaCAoJFVzZXJQZXJzaXN0ZW5jZU9wdGlvbi5UcmlnZ2VyKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAnRGFpbHknCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFVzZXJUcmlnZ2VyID0gInNjaHRhc2tzIC9DcmVhdGUgL1NDIERBSUxZIC9TVCAkKCRVc2VyUGVyc2lzdGVuY2VPcHRpb24uVGltZS5Ub1N0cmluZygnSEg6bW06c3MnKSkgL1ROIFVwZGF0ZXIgL1RSICIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAnSG91cmx5JwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRVc2VyVHJpZ2dlciA9ICJzY2h0YXNrcyAvQ3JlYXRlIC9TQyBIT1VSTFkgL1ROIFVwZGF0ZXIgL1RSICIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAnT25JZGxlJwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRVc2VyVHJpZ2dlciA9ICJzY2h0YXNrcyAvQ3JlYXRlIC9TQyBPTklETEUgL0kgMSAvVE4gVXBkYXRlciAvVFIgIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGRlZmF1bHQKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAnSW52YWxpZCB1c2VyLWxldmVsIHBlcnNpc3RlbmNlIG9wdGlvbnMgcHJvdmlkZWQhJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAkVXNlclRyaWdnZXIgPSAnIicgKyAkVXNlclRyaWdnZXIgKyAkQ29tbWFuZExpbmUgKyAnIicKICAgICAgICB9CgogICAgICAgICdSZWdpc3RyeScKICAgICAgICB7CiAgICAgICAgICAgICRVc2VyVHJpZ2dlciA9ICJOZXctSXRlbVByb3BlcnR5IC1QYXRoIEhLQ1U6U29mdHdhcmVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cUnVuXCAtTmFtZSBVcGRhdGVyIC1Qcm9wZXJ0eVR5cGUgU3RyaW5nIC1WYWx1ZSAiCiAgICAgICAgICAgICRVc2VyVHJpZ2dlclJlbW92YWwgPSAiUmVtb3ZlLUl0ZW1Qcm9wZXJ0eSAtUGF0aCBIS0NVOlNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1blwgLU5hbWUgVXBkYXRlciIKICAgICAgICAgICAgJENvbW1hbmRMaW5lID0gImAiYGBgImAkKGAkRW52OlN5c3RlbVJvb3QpXFN5c3RlbTMyXFdpbmRvd3NQb3dlclNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGVgYGAiIC1Ob25JbnRlcmFjdGl2ZSAtV2luZG93U3R5bGUgSGlkZGVuYCIiCiAgICAgICAgICAgICRVc2VyVHJpZ2dlciA9ICInIiArICRVc2VyVHJpZ2dlciArICRDb21tYW5kTGluZSArICInIgogICAgICAgIH0KCiAgICAgICAgZGVmYXVsdAogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgJ0ludmFsaWQgdXNlci1sZXZlbCBwZXJzaXN0ZW5jZSBvcHRpb25zIHByb3ZpZGVkIScKICAgICAgICB9CiAgICB9CgojZW5kcmVnaW9uCgojcmVnaW9uIE9yaWdpbmFsIHNjcmlwdCB3aXRoIGl0cyBwZXJzaXN0ZW5jZSBsb2dpYyB3aWxsIHJlc2lkZSBoZXJlCgojIFRoaXMgaXMgaW50ZW50aW9uYWxseSB1Z2x5IGluIHRoZSBpbnRlcmVzdCBvZiBzYXZpbmcgc3BhY2Ugb24gdGhlIHZpY3RpbSBtYWNoaW5lLgokUGVyc2lzdGFudFNjcmlwdCA9IHsKZnVuY3Rpb24gRlVOQ1RJT05OQU1FewpQYXJhbShbU3dpdGNoXSRQZXJzaXN0KQokRXJyb3JBY3Rpb25QcmVmZXJlbmNlPSdTaWxlbnRseUNvbnRpbnVlJwokU2NyaXB0PXtPUklHSU5BTFNDUklQVH0KaWYoJFBlcnNpc3QpewppZigoW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzUHJpbmNpcGFsXVtTZWN1cml0eS5QcmluY2lwYWwuV2luZG93c0lkZW50aXR5XTo6R2V0Q3VycmVudCgpKS5Jc0luUm9sZShbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NCdWlsdEluUm9sZV0nQWRtaW5pc3RyYXRvcicpKQp7JFByb2Y9JFBST0ZJTEUuQWxsVXNlcnNBbGxIb3N0czskUGF5bG9hZD1FTEVWQVRFRFRSSUdHRVJ9CmVsc2UKeyRQcm9mPSRQUk9GSUxFLkN1cnJlbnRVc2VyQWxsSG9zdHM7JFBheWxvYWQ9VVNFUlRSSUdHRVJ9Cm1rZGlyIChTcGxpdC1QYXRoIC1QYXJlbnQgJFByb2YpCihnYyAkUHJvZikgKyAoJyAnICogNjAwICsgJFNjcmlwdCl8T3V0LUZpbGUgJFByb2YgLUZvCmlleCAkUGF5bG9hZHxPdXQtTnVsbApXcml0ZS1PdXRwdXQgJFBheWxvYWR9CmVsc2UKeyRTY3JpcHQuSW52b2tlKCl9Cn0gRVhFQ1VURUZVTkNUSU9OCgp9CgogICAgJFBlcnNpc3RhbnRTY3JpcHQgPSAkUGVyc2lzdGFudFNjcmlwdC5Ub1N0cmluZygpLlJlcGxhY2UoJ0ZVTkNUSU9OTkFNRScsICRQZXJzaXN0ZW5jZVNjcmlwdE5hbWUpCiAgICAkUGVyc2lzdGFudFNjcmlwdCA9ICRQZXJzaXN0YW50U2NyaXB0LlRvU3RyaW5nKCkuUmVwbGFjZSgnT1JJR0lOQUxTQ1JJUFQnLCAkTmV3U2NyaXB0KQogICAgJFBlcnNpc3RhbnRTY3JpcHQgPSAkUGVyc2lzdGFudFNjcmlwdC5Ub1N0cmluZygpLlJlcGxhY2UoJ0VMRVZBVEVEVFJJR0dFUicsICRFbGV2YXRlZFRyaWdnZXIpCiAgICAkUGVyc2lzdGFudFNjcmlwdCA9ICRQZXJzaXN0YW50U2NyaXB0LlRvU3RyaW5nKCkuUmVwbGFjZSgnVVNFUlRSSUdHRVInLCAkVXNlclRyaWdnZXIpCgogICAgaWYgKCREb05vdFBlcnNpc3RJbW1lZGlhdGVseSkKICAgIHsKICAgICAgICAkUGVyc2lzdGFudFNjcmlwdCA9ICRQZXJzaXN0YW50U2NyaXB0LlRvU3RyaW5nKCkuUmVwbGFjZSgnRVhFQ1VURUZVTkNUSU9OJywgJycpCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFBlcnNpc3RhbnRTY3JpcHQgPSAkUGVyc2lzdGFudFNjcmlwdC5Ub1N0cmluZygpLlJlcGxhY2UoJ0VYRUNVVEVGVU5DVElPTicsICIkUGVyc2lzdGVuY2VTY3JpcHROYW1lIC1QZXJzaXN0IikKICAgIH0KCiNlbmRyZWdpb24KCiNyZWdpb24gR2VuZXJhdGUgZmluYWwgb3V0cHV0CgojIEdlbmVyYXRlIHRoZSBwZXJzaXN0ZW5jZSByZW1vdmFsIHNjcmlwdAokUGVyc2lzdGVuY2VSZW1vdmFsID0gQCIKIyBFeGVjdXRlIHRoZSBmb2xsb3dpbmcgdG8gcmVtb3ZlIHRoZSBlbGV2YXRlZCBwZXJzaXN0ZW50IHBheWxvYWQKJEVsZXZhdGVkVHJpZ2dlclJlbW92YWwKIyBFeGVjdXRlIHRoZSBmb2xsb3dpbmcgdG8gcmVtb3ZlIHRoZSB1c2VyLWxldmVsIHBlcnNpc3RlbnQgcGF5bG9hZAokVXNlclRyaWdnZXJSZW1vdmFsCiJACgogICAgCiAgICAkUGVyc2lzdGFudFNjcmlwdCB8IE91dC1GaWxlICRQZXJzaXN0ZW50U2NyaXB0RmlsZQogICAgV3JpdGUtVmVyYm9zZSAiUGVyc2lzdGVuY2Ugc2NyaXB0IHdyaXR0ZW4gdG8gJFBlcnNpc3RlbnRTY3JpcHRGaWxlIgoKICAgICRQZXJzaXN0ZW5jZVJlbW92YWwgfCBPdXQtRmlsZSAkUmVtb3ZhbFNjcmlwdEZpbGUKICAgIFdyaXRlLVZlcmJvc2UgIlBlcnNpc3RlbmNlIHJlbW92YWwgc2NyaXB0IHdyaXR0ZW4gdG8gJFJlbW92YWxTY3JpcHRGaWxlIgoKICAgIGlmICgkUGFzc1RocnUpCiAgICB7CiAgICAgICAgIyBPdXRwdXQgYSBzY3JpcHRibG9jayBvZiB0aGUgcGVyc2lzdGVudCBmdW5jdGlvbi4gVGhpcyBjYW4gYmUgcGFzc2VkIHRvIE91dC1FbmNvZGVkQ29tbWFuZCB2aWEgdGhlIHBpcGVsaW5lLgogICAgICAgIFdyaXRlLU91dHB1dCAoW1NjcmlwdEJsb2NrXTo6Q3JlYXRlKCRQZXJzaXN0YW50U2NyaXB0KSkKICAgIH0KCiNlbmRyZWdpb24KfQoKZnVuY3Rpb24gSW5zdGFsbC1TU1AKewo8IwouU1lOT1BTSVMKCkluc3RhbGxzIGEgc2VjdXJpdHkgc3VwcG9ydCBwcm92aWRlciAoU1NQKSBkbGwuCgpBdXRob3I6IE1hdHRoZXcgR3JhZWJlciAoQG1hdHRpZmVzdGF0aW9uKQpMaWNlbnNlOiBCU0QgMy1DbGF1c2UKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCk9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQoKLkRFU0NSSVBUSU9OCgpJbnN0YWxsLVNTUCBpbnN0YWxscyBhbiBTU1AgZGxsLiBJbnN0YWxsYXRpb24gaW52b2x2ZXMgY29weWluZyB0aGUgZGxsIHRvCiV3aW5kaXIlXFN5c3RlbTMyIGFuZCBhZGRpbmcgdGhlIG5hbWUgb2YgdGhlIGRsbCB0bwpIS0xNXFNZU1RFTVxDdXJyZW50Q29udHJvbFNldFxDb250cm9sXExzYVxTZWN1cml0eSBQYWNrYWdlcy4KCi5QQVJBTUVURVIgUmVtb3ZlCgpTcGVjaWZpZXMgdGhlIHBhdGggdG8gdGhlIFNTUCBkbGwgeW91IHdvdWxkIGxpa2UgdG8gaW5zdGFsbC4KCi5FWEFNUExFCgpJbnN0YWxsLVNTUCAtUGF0aCAuXG1pbWlsaWIuZGxsCgouTk9URVMKClRoZSBTU1AgZGxsIG11c3QgbWF0Y2ggdGhlIE9TIGFyY2hpdGVjdHVyZS4gaS5lLiBZb3UgbXVzdCBoYXZlIGEgNjQtYml0IFNTUCBkbGwKaWYgeW91IGFyZSBydW5uaW5nIGEgNjQtYml0IE9TLiBJbiBvcmRlciBmb3IgdGhlIFNTUCBkbGwgdG8gYmUgbG9hZGVkIHByb3Blcmx5CmludG8gbHNhc3MsIHRoZSBkbGwgbXVzdCBleHBvcnQgU3BMc2FNb2RlSW5pdGlhbGl6ZS4KIz4KCiAgICBbQ21kbGV0QmluZGluZygpXSBQYXJhbSAoCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHtUZXN0LVBhdGggKFJlc29sdmUtUGF0aCAkXyl9KV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQYXRoCiAgICApCgogICAgJFByaW5jaXBhbCA9IFtTZWN1cml0eS5QcmluY2lwYWwuV2luZG93c1ByaW5jaXBhbF1bU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NJZGVudGl0eV06OkdldEN1cnJlbnQoKQoKICAgIGlmKC1ub3QgJFByaW5jaXBhbC5Jc0luUm9sZShbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NCdWlsdEluUm9sZV06OkFkbWluaXN0cmF0b3IpKQogICAgewogICAgICAgIHRocm93ICdJbnN0YWxsaW5nIGFuIFNTUCBkbGwgcmVxdWlyZXMgYWRtaW5pc3RyYXRpdmUgcmlnaHRzLiBFeGVjdXRlIHRoaXMgc2NyaXB0IGZyb20gYW4gZWxldmF0ZWQgUG93ZXJTaGVsbCBwcm9tcHQuJwogICAgfQoKICAgICMgUmVzb2x2ZSB0aGUgZnVsbCBwYXRoIGlmIGEgcmVsYXRpdmUgcGF0aCB3YXMgcHJvdmlkZWQuCiAgICAkRnVsbERsbFBhdGggPSBSZXNvbHZlLVBhdGggJFBhdGgKCiAgICAjIEhlbHBlciBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSB0aGUgZGxsIGFyY2hpdGVjdHVyZQogICAgZnVuY3Rpb24gbG9jYWw6R2V0LVBFQXJjaGl0ZWN0dXJlCiAgICB7CiAgICAgICAgUGFyYW0KICAgICAgICAoCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCwKICAgICAgICAgICAgICAgICAgICAgICAgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJFBhdGgKICAgICAgICApCiAgICAKICAgICAgICAjIFBhcnNlIFBFIGhlYWRlciB0byBzZWUgaWYgYmluYXJ5IHdhcyBjb21waWxlZCAzMiBvciA2NC1iaXQKICAgICAgICAkRmlsZVN0cmVhbSA9IE5ldy1PYmplY3QgU3lzdGVtLklPLkZpbGVTdHJlYW0oJFBhdGgsIFtTeXN0ZW0uSU8uRmlsZU1vZGVdOjpPcGVuLCBbU3lzdGVtLklPLkZpbGVBY2Nlc3NdOjpSZWFkKQogICAgCiAgICAgICAgW0J5dGVbXV0gJE1aSGVhZGVyID0gTmV3LU9iamVjdCBCeXRlW10oMikKICAgICAgICAkRmlsZVN0cmVhbS5SZWFkKCRNWkhlYWRlciwwLDIpIHwgT3V0LU51bGwKICAgIAogICAgICAgICRIZWFkZXIgPSBbU3lzdGVtLlRleHQuQXNjaWlFbmNvZGluZ106OkFTQ0lJLkdldFN0cmluZygkTVpIZWFkZXIpCiAgICAgICAgaWYgKCRIZWFkZXIgLW5lICdNWicpCiAgICAgICAgewogICAgICAgICAgICAkRmlsZVN0cmVhbS5DbG9zZSgpCiAgICAgICAgICAgIFRocm93ICdJbnZhbGlkIFBFIGhlYWRlci4nCiAgICAgICAgfQogICAgCiAgICAgICAgIyBTZWVrIHRvIDB4M2MgLSBJTUFHRV9ET1NfSEVBREVSLmVfbGZhbmV3IChpLmUuIE9mZnNldCB0byBQRSBIZWFkZXIpCiAgICAgICAgJEZpbGVTdHJlYW0uU2VlaygweDNjLCBbU3lzdGVtLklPLlNlZWtPcmlnaW5dOjpCZWdpbikgfCBPdXQtTnVsbAogICAgCiAgICAgICAgW0J5dGVbXV0gJGxmYW5ldyA9IE5ldy1PYmplY3QgQnl0ZVtdKDQpCiAgICAKICAgICAgICAjIFJlYWQgb2Zmc2V0IHRvIHRoZSBQRSBIZWFkZXIgKHdpbGwgYmUgcmVhZCBpbiByZXZlcnNlKQogICAgICAgICRGaWxlU3RyZWFtLlJlYWQoJGxmYW5ldywwLDQpIHwgT3V0LU51bGwKICAgICAgICAkUEVPZmZzZXQgPSBbSW50XSAoJzB4ezB9JyAtZiAoKCAkbGZhbmV3Wy0xLi4tNF0gfCAlIHsgJF8uVG9TdHJpbmcoJ1gyJykgfSApIC1qb2luICcnKSkKICAgIAogICAgICAgICMgU2VlayB0byBJTUFHRV9GSUxFX0hFQURFUi5JTUFHRV9GSUxFX01BQ0hJTkUKICAgICAgICAkRmlsZVN0cmVhbS5TZWVrKCRQRU9mZnNldCArIDQsIFtTeXN0ZW0uSU8uU2Vla09yaWdpbl06OkJlZ2luKSB8IE91dC1OdWxsCiAgICAgICAgW0J5dGVbXV0gJElNQUdFX0ZJTEVfTUFDSElORSA9IE5ldy1PYmplY3QgQnl0ZVtdKDIpCiAgICAKICAgICAgICAjIFJlYWQgY29tcGlsZWQgYXJjaGl0ZWN0dXJlCiAgICAgICAgJEZpbGVTdHJlYW0uUmVhZCgkSU1BR0VfRklMRV9NQUNISU5FLDAsMikgfCBPdXQtTnVsbAogICAgICAgICRBcmNoaXRlY3R1cmUgPSAnezB9JyAtZiAoKCAkSU1BR0VfRklMRV9NQUNISU5FWy0xLi4tMl0gfCAlIHsgJF8uVG9TdHJpbmcoJ1gyJykgfSApIC1qb2luICcnKQogICAgICAgICRGaWxlU3RyZWFtLkNsb3NlKCkKICAgIAogICAgICAgIGlmICgoJEFyY2hpdGVjdHVyZSAtbmUgJzAxNEMnKSAtYW5kICgkQXJjaGl0ZWN0dXJlIC1uZSAnODY2NCcpKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgJ0ludmFsaWQgUEUgaGVhZGVyIG9yIHVuc3VwcG9ydGVkIGFyY2hpdGVjdHVyZS4nCiAgICAgICAgfQogICAgCiAgICAgICAgaWYgKCRBcmNoaXRlY3R1cmUgLWVxICcwMTRDJykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAnMzItYml0JwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRBcmNoaXRlY3R1cmUgLWVxICc4NjY0JykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAnNjQtYml0JwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgJ090aGVyJwogICAgICAgIH0KICAgIH0KCiAgICAkRGxsQXJjaGl0ZWN0dXJlID0gR2V0LVBFQXJjaGl0ZWN0dXJlICRGdWxsRGxsUGF0aAoKICAgICRPU0FyY2ggPSBHZXQtV21pT2JqZWN0IFdpbjMyX09wZXJhdGluZ1N5c3RlbSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IE9TQXJjaGl0ZWN0dXJlCgogICAgaWYgKCREbGxBcmNoaXRlY3R1cmUgLW5lICRPU0FyY2gpCiAgICB7CiAgICAgICAgdGhyb3cgJ1RoZSBvcGVyYXRpbmcgc3lzdGVtIGFyY2hpdGVjdHVyZSBtdXN0IG1hdGNoIHRoZSBhcmNoaXRlY3R1cmUgb2YgdGhlIFNTUCBkbGwuJwogICAgfQoKICAgICREbGwgPSBHZXQtSXRlbSAkRnVsbERsbFBhdGggfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOYW1lCgogICAgIyBHZXQgdGhlIGRsbCBmaWxlbmFtZSB3aXRob3V0IHRoZSBleHRlbnNpb24uCiAgICAjIFRoaXMgd2lsbCBiZSBhZGRlZCB0byB0aGUgcmVnaXN0cnkuCiAgICAkRGxsTmFtZSA9ICREbGwgfCAlIHsgJSB7KCRfIC1zcGxpdCAnXC4nKVswXX0gfQoKICAgICMgRW51bWVyYXRlIGFsbCBvZiB0aGUgY3VycmVudGx5IGluc3RhbGxlZCBTU1BzCiAgICAkU2VjdXJpdHlQYWNrYWdlcyA9IEdldC1JdGVtUHJvcGVydHkgSEtMTTpcU1lTVEVNXEN1cnJlbnRDb250cm9sU2V0XENvbnRyb2xcTHNhIC1OYW1lICdTZWN1cml0eSBQYWNrYWdlcycgfAogICAgICAgIFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5ICdTZWN1cml0eSBQYWNrYWdlcycKCiAgICBpZiAoJFNlY3VyaXR5UGFja2FnZXMgLWNvbnRhaW5zICREbGxOYW1lKQogICAgewogICAgICAgIHRocm93ICInJERsbE5hbWUnIGlzIGFscmVhZHkgcHJlc2VudCBpbiBIS0xNOlxTWVNURU1cQ3VycmVudENvbnRyb2xTZXRcQ29udHJvbFxMc2FcU2VjdXJpdHkgUGFja2FnZXMuIgogICAgfQoKICAgICMgSW4gY2FzZSB5b3UncmUgcnVubmluZyAzMi1iaXQgUG93ZXJTaGVsbCBvbiBhIDY0LWJpdCBPUwogICAgJE5hdGl2ZUluc3RhbGxEaXIgPSAiJCgkRW52OndpbmRpcilcU3lzbmF0aXZlIgoKICAgIGlmIChUZXN0LVBhdGggJE5hdGl2ZUluc3RhbGxEaXIpCiAgICB7CiAgICAgICAgJEluc3RhbGxEaXIgPSAkTmF0aXZlSW5zdGFsbERpcgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRJbnN0YWxsRGlyID0gIiQoJEVudjp3aW5kaXIpXFN5c3RlbTMyIgogICAgfQoKICAgIGlmIChUZXN0LVBhdGggKEpvaW4tUGF0aCAkSW5zdGFsbERpciAkRGxsKSkKICAgIHsKICAgICAgICB0aHJvdyAiJERsbCBpcyBhbHJlYWR5IGluc3RhbGxlZCBpbiAkSW5zdGFsbERpci4iCiAgICB9CgogICAgIyBJZiB5b3UndmUgbWFkZSBpdCB0aGlzIGZhciwgeW91IGFyZSBjbGVhciB0byBpbnN0YWxsIHRoZSBTU1AgZGxsLgogICAgQ29weS1JdGVtICRGdWxsRGxsUGF0aCAkSW5zdGFsbERpcgoKICAgICRTZWN1cml0eVBhY2thZ2VzICs9ICREbGxOYW1lCgogICAgU2V0LUl0ZW1Qcm9wZXJ0eSBIS0xNOlxTWVNURU1cQ3VycmVudENvbnRyb2xTZXRcQ29udHJvbFxMc2EgLU5hbWUgJ1NlY3VyaXR5IFBhY2thZ2VzJyAtVmFsdWUgJFNlY3VyaXR5UGFja2FnZXMKCiAgICAkRHluQXNzZW1ibHkgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5TmFtZSgnU1NQSTInKQogICAgJEFzc2VtYmx5QnVpbGRlciA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluQXNzZW1ibHksIFtSZWZsZWN0aW9uLkVtaXQuQXNzZW1ibHlCdWlsZGVyQWNjZXNzXTo6UnVuKQogICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ1NTUEkyJywgJEZhbHNlKQoKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1NTUEkyLlNlY3VyMzInLCAnUHVibGljLCBDbGFzcycpCiAgICAkUEludm9rZU1ldGhvZCA9ICRUeXBlQnVpbGRlci5EZWZpbmVQSW52b2tlTWV0aG9kKCdBZGRTZWN1cml0eVBhY2thZ2UnLAogICAgICAgICdzZWN1cjMyLmRsbCcsCiAgICAgICAgJ1B1YmxpYywgU3RhdGljJywKICAgICAgICBbUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwKICAgICAgICBbSW50MzJdLAogICAgICAgIFtUeXBlW11dIEAoW1N0cmluZ10sIFtJbnRQdHJdKSwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dOjpXaW5hcGksCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdOjpBdXRvKQoKICAgICRTZWN1cjMyID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgIGlmIChbSW50UHRyXTo6U2l6ZSAtZXEgNCkgewogICAgICAgICRTdHJ1Y3RTaXplID0gMjAKICAgIH0gZWxzZSB7CiAgICAgICAgJFN0cnVjdFNpemUgPSAyNAogICAgfQoKICAgICRTdHJ1Y3RQdHIgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkU3RydWN0U2l6ZSkKICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6V3JpdGVJbnQzMigkU3RydWN0UHRyLCAkU3RydWN0U2l6ZSkKCiAgICAkUnVudGltZVN1Y2Nlc3MgPSAkVHJ1ZQoKICAgIHRyeSB7CiAgICAgICAgJFJlc3VsdCA9ICRTZWN1cjMyOjpBZGRTZWN1cml0eVBhY2thZ2UoJERsbE5hbWUsICRTdHJ1Y3RQdHIpCiAgICB9IGNhdGNoIHsKICAgICAgICAkSFJlc3VsdCA9ICRFcnJvclswXS5FeGNlcHRpb24uSW5uZXJFeGNlcHRpb24uSFJlc3VsdAogICAgICAgIFdyaXRlLVdhcm5pbmcgIlJ1bnRpbWUgbG9hZGluZyBvZiB0aGUgU1NQIGZhaWxlZC4gKDB4JCgkSFJlc3VsdC5Ub1N0cmluZygnWDgnKSkpIgogICAgICAgIFdyaXRlLVdhcm5pbmcgIlJlYXNvbjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkSFJlc3VsdCkuTWVzc2FnZSkiCiAgICAgICAgJFJ1bnRpbWVTdWNjZXNzID0gJEZhbHNlCiAgICB9CgogICAgaWYgKCRSdW50aW1lU3VjY2VzcykgewogICAgICAgIFdyaXRlLVZlcmJvc2UgJ0luc3RhbGxhdGlvbiBhbmQgbG9hZGluZyBjb21wbGV0ZSEnCiAgICB9IGVsc2UgewogICAgICAgIFdyaXRlLVZlcmJvc2UgJ0luc3RhbGxhdGlvbiBjb21wbGV0ZSEgUmVib290IGZvciBjaGFuZ2VzIHRvIHRha2UgZWZmZWN0LicKICAgIH0KfQoKZnVuY3Rpb24gR2V0LVNlY3VyaXR5UGFja2FnZXMKewo8IwouU1lOT1BTSVMKCkVudW1lcmF0ZXMgYWxsIGxvYWRlZCBzZWN1cml0eSBwYWNrYWdlcyAoU1NQcykuCgpBdXRob3I6IE1hdHRoZXcgR3JhZWJlciAoQG1hdHRpZmVzdGF0aW9uKQpMaWNlbnNlOiBCU0QgMy1DbGF1c2UKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCk9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQoKLkRFU0NSSVBUSU9OCgpHZXQtU2VjdXJpdHlQYWNrYWdlcyBpcyBhIHdyYXBwZXIgZm9yIHNlY3VyMzIhRW51bWVyYXRlU2VjdXJpdHlQYWNrYWdlcy4KSXQgYWxzbyBwYXJzZXMgdGhlIHJldHVybmVkIFNlY1BrZ0luZm8gc3RydWN0IGFycmF5LgoKLkVYQU1QTEUKCkdldC1TZWN1cml0eVBhY2thZ2VzCiM+CgogICAgW0NtZGxldEJpbmRpbmcoKV0gUGFyYW0oKQoKICAgICNyZWdpb24gUC9JbnZva2UgZGVjbGFyYXRpb25zIGZvciBzZWN1cjMyLmRsbAogICAgJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1NTUEknKQogICAgJEFzc2VtYmx5QnVpbGRlciA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluQXNzZW1ibHksIFtSZWZsZWN0aW9uLkVtaXQuQXNzZW1ibHlCdWlsZGVyQWNjZXNzXTo6UnVuKQogICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ1NTUEknLCAkRmFsc2UpCgogICAgJEZsYWdzQ29uc3RydWN0b3IgPSBbRmxhZ3NBdHRyaWJ1dGVdLkdldENvbnN0cnVjdG9yKEAoKSkKICAgICRGbGFnc0N1c3RvbUF0dHJpYnV0ZSA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJEZsYWdzQ29uc3RydWN0b3IsIEAoKSkKICAgICRTdHJ1Y3RBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgogICAgJEVudW1CdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lRW51bSgnU1NQSS5TRUNQS0dfRkxBRycsICdQdWJsaWMnLCBbSW50MzJdKQogICAgJEVudW1CdWlsZGVyLlNldEN1c3RvbUF0dHJpYnV0ZSgkRmxhZ3NDdXN0b21BdHRyaWJ1dGUpCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdJTlRFR1JJVFknLCAxKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnUFJJVkFDWScsIDIpCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUT0tFTl9PTkxZJywgNCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0RBVEFHUkFNJywgOCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0NPTk5FQ1RJT04nLCAweDEwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnTVVMVElfUkVRVUlSRUQnLCAweDIwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnQ0xJRU5UX09OTFknLCAweDQwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnRVhURU5ERURfRVJST1InLCAweDgwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU1QRVJTT05BVElPTicsIDB4MTAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnQUNDRVBUX1dJTjMyX05BTUUnLCAweDIwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1NUUkVBTScsIDB4NDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnTkVHT1RJQUJMRScsIDB4ODAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnR1NTX0NPTVBBVElCTEUnLCAweDEwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdMT0dPTicsIDB4MjAwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0FTQ0lJX0JVRkZFUlMnLCAweDQwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdGUkFHTUVOVCcsIDB4ODAwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ01VVFVBTF9BVVRIJywgMHgxMDAwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0RFTEVHQVRJT04nLCAweDIwMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnUkVBRE9OTFlfV0lUSF9DSEVDS1NVTScsIDB4NDAwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdSRVNUUklDVEVEX1RPS0VOUycsIDB4ODAwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdORUdPX0VYVEVOREVSJywgMHgxMDAwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdORUdPVElBQkxFMicsIDB4MjAwMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnQVBQQ09OVEFJTkVSX1BBU1NUSFJPVUdIJywgMHg0MDAwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdBUFBDT05UQUlORVJfQ0hFQ0tTJywgMHg4MDAwMDApCiAgICAkU0VDUEtHX0ZMQUcgPSAkRW51bUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnU1NQSS5TZWNQa2dJbmZvJywgJFN0cnVjdEF0dHJpYnV0ZXMsIFtPYmplY3RdLCBbUmVmbGVjdGlvbi5FbWl0LlBhY2tpbmdTaXplXTo6U2l6ZTgpCiAgICAkbnVsbCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZkNhcGFiaWxpdGllcycsICRTRUNQS0dfRkxBRywgJ1B1YmxpYycpCiAgICAkbnVsbCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnd1ZlcnNpb24nLCBbSW50MTZdLCAnUHVibGljJykKICAgICRudWxsID0gJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCd3UlBDSUQnLCBbSW50MTZdLCAnUHVibGljJykKICAgICRudWxsID0gJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdjYk1heFRva2VuJywgW0ludDMyXSwgJ1B1YmxpYycpCiAgICAkbnVsbCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTmFtZScsIFtJbnRQdHJdLCAnUHVibGljJykKICAgICRudWxsID0gJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdDb21tZW50JywgW0ludFB0cl0sICdQdWJsaWMnKQogICAgJFNlY1BrZ0luZm8gPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnU1NQSS5TZWN1cjMyJywgJ1B1YmxpYywgQ2xhc3MnKQogICAgJFBJbnZva2VNZXRob2QgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lUEludm9rZU1ldGhvZCgnRW51bWVyYXRlU2VjdXJpdHlQYWNrYWdlcycsCiAgICAgICAgJ3NlY3VyMzIuZGxsJywKICAgICAgICAnUHVibGljLCBTdGF0aWMnLAogICAgICAgIFtSZWZsZWN0aW9uLkNhbGxpbmdDb252ZW50aW9uc106OlN0YW5kYXJkLAogICAgICAgIFtJbnQzMl0sCiAgICAgICAgW1R5cGVbXV0gQChbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwKICAgICAgICAgICAgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpKSwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dOjpXaW5hcGksCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdOjpBbnNpKQoKICAgICRTZWN1cjMyID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICRQYWNrYWdlQ291bnQgPSAwCiAgICAkUGFja2FnZUFycmF5UHRyID0gW0ludFB0cl06Olplcm8KICAgICRSZXN1bHQgPSAkU2VjdXIzMjo6RW51bWVyYXRlU2VjdXJpdHlQYWNrYWdlcyhbUmVmXSAkUGFja2FnZUNvdW50LCBbUmVmXSAkUGFja2FnZUFycmF5UHRyKQoKICAgIGlmICgkUmVzdWx0IC1uZSAwKQogICAgewogICAgICAgIHRocm93ICJVbmFibGUgdG8gZW51bWVyYXRlIHNldWNyaXR5IHBhY2thZ2VzLiBFcnJvciAoMHgkKCRSZXN1bHQuVG9TdHJpbmcoJ1g4JykpKSIKICAgIH0KCiAgICBpZiAoJFBhY2thZ2VDb3VudCAtZXEgMCkKICAgIHsKICAgICAgICBXcml0ZS1WZXJib3NlICdUaGVyZSBhcmUgbm8gaW5zdGFsbGVkIHNlY3VyaXR5IHBhY2thZ2VzLicKICAgICAgICByZXR1cm4KICAgIH0KCiAgICAkU3RydWN0QWRkcmVzcyA9ICRQYWNrYWdlQXJyYXlQdHIKCiAgICBmb3JlYWNoICgkaSBpbiAxLi4kUGFja2FnZUNvdW50KQogICAgewogICAgICAgICRTZWNQYWNrYWdlU3RydWN0ID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkU3RydWN0QWRkcmVzcywgW1R5cGVdICRTZWNQa2dJbmZvKQogICAgICAgICRTdHJ1Y3RBZGRyZXNzID0gW0ludFB0cl0gKCRTdHJ1Y3RBZGRyZXNzLlRvSW50NjQoKSArIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSAkU2VjUGtnSW5mbykpCgogICAgICAgICROYW1lID0gJG51bGwKCiAgICAgICAgaWYgKCRTZWNQYWNrYWdlU3RydWN0Lk5hbWUgLW5lIFtJbnRQdHJdOjpaZXJvKQogICAgICAgIHsKICAgICAgICAgICAgJE5hbWUgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkU2VjUGFja2FnZVN0cnVjdC5OYW1lKQogICAgICAgIH0KCiAgICAgICAgJENvbW1lbnQgPSAkbnVsbAoKICAgICAgICBpZiAoJFNlY1BhY2thZ2VTdHJ1Y3QuQ29tbWVudCAtbmUgW0ludFB0cl06Olplcm8pCiAgICAgICAgewogICAgICAgICAgICAkQ29tbWVudCA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdBbnNpKCRTZWNQYWNrYWdlU3RydWN0LkNvbW1lbnQpCiAgICAgICAgfQoKICAgICAgICAkQXR0cmlidXRlcyA9IEB7CiAgICAgICAgICAgIE5hbWUgPSAkTmFtZQogICAgICAgICAgICBDb21tZW50ID0gJENvbW1lbnQKICAgICAgICAgICAgQ2FwYWJpbGl0aWVzID0gJFNlY1BhY2thZ2VTdHJ1Y3QuZkNhcGFiaWxpdGllcwogICAgICAgICAgICBNYXhUb2tlblNpemUgPSAkU2VjUGFja2FnZVN0cnVjdC5jYk1heFRva2VuCiAgICAgICAgfQoKICAgICAgICAkU2VjUGFja2FnZSA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5ICRBdHRyaWJ1dGVzCiAgICAgICAgJFNlY1BhY2thZ2UuUFNPYmplY3QuVHlwZU5hbWVzWzBdID0gJ1NFQ1VSMzIuU0VDUEtHSU5GTycKCiAgICAgICAgJFNlY1BhY2thZ2UKICAgIH0KfQ==
