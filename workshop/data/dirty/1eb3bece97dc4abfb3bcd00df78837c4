Persistence.psm1,9fd44562dfdb46e9c0795c9e8b0f86b1,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24Kewo8IwouU1lOT1BTSVMKCiAgICBDb25maWd1cmUgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucyBmb3IgdGhlIEFkZC1QZXJzaXN0ZW5jZSBmdW5jdGlvbi4KCiAgICBQb3dlclNwbG9pdCBGdW5jdGlvbjogTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24KICAgIEF1dGhvcjogTWF0dGhldyBHcmFlYmVyIChAbWF0dGlmZXN0YXRpb24pCiAgICBMaWNlbnNlOiBCU0QgMy1DbGF1c2UKICAgIFJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQogICAgT3B0aW9uYWwgRGVwZW5kZW5jaWVzOiBOb25lCiAKLkRFU0NSSVBUSU9OCgogICAgTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gYWxsb3dzIGZvciB0aGUgY29uZmlndXJhdGlvbiBvZiBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zLiBUaGUgb3V0cHV0IG9mIHRoaXMgZnVuY3Rpb24gaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgb2YgQWRkLVBlcnNpc3RlbmNlLiBBdmFpbGFibGUgcGVyc2l0ZW5jZSBvcHRpb25zIGluIG9yZGVyIG9mIHN0ZWFsdGggYXJlIHRoZSBmb2xsb3dpbmc6IHBlcm1hbmVudCBXTUkgc3Vic2NyaXB0aW9uLCBzY2hlZHVsZWQgdGFzaywgYW5kIHJlZ2lzdHJ5LgoKLlBBUkFNRVRFUiBQZXJtYW5lbnRXTUkKCiAgICBQZXJzaXN0IHZpYSBhIHBlcm1hbmVudCBXTUkgZXZlbnQgc3Vic2NyaXB0aW9uLiBUaGlzIG9wdGlvbiB3aWxsIGJlIHRoZSBtb3N0IGRpZmZpY3VsdCB0byBkZXRlY3QgYW5kIHJlbW92ZS4KCiAgICBEZXRlY3Rpb24gRGlmZmljdWx0eTogICAgICAgIERpZmZpY3VsdAogICAgUmVtb3ZhbCBEaWZmaWN1bHR5OiAgICAgICAgICBEaWZmaWN1bHQKICAgIFVzZXIgRGV0ZWN0YWJsZT8gICAgICAgICAgICAgTm8KCi5QQVJBTUVURVIgU2NoZWR1bGVkVGFzawoKICAgIFBlcnNpc3QgdmlhIGEgc2NoZWR1bGVkIHRhc2suCgogICAgRGV0ZWN0aW9uIERpZmZpY3VsdHk6ICAgICAgICBNb2RlcmF0ZQogICAgUmVtb3ZhbCBEaWZmaWN1bHR5OiAgICAgICAgICBNb2RlcmF0ZQogICAgVXNlciBEZXRlY3RhYmxlPyAgICAgICAgICAgICBObwoKLlBBUkFNRVRFUiBSZWdpc3RyeQoKICAgIFBlcnNpc3QgdmlhIHRoZSBIS0xNXFNPRlRXQVJFXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1biByZWdpc3RyeSBrZXkuIE5vdGU6IFRoaXMgb3B0aW9uIHdpbGwgYnJpZWZseSBwb3AgdXAgYSBQb3dlclNoZWxsIGNvbnNvbGUgdG8gdGhlIHVzZXIuCgogICAgRGV0ZWN0aW9uIERpZmZpY3VsdHk6ICAgICAgICBFYXN5CiAgICBSZW1vdmFsIERpZmZpY3VsdHk6ICAgICAgICAgIEVhc3kKICAgIFVzZXIgRGV0ZWN0YWJsZT8gICAgICAgICAgICAgWWVzCgouUEFSQU1FVEVSIEF0TG9nb24KCiAgICBTdGFydHMgdGhlIHBheWxvYWQgdXBvbiBhbnkgdXNlciBsb2dvbi4KCi5QQVJBTUVURVIgQXRTdGFydHVwCgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIHdpdGhpbiAyNDAgYW5kIDMyNSBzZWNvbmRzIG9mIGNvbXB1dGVyIHN0YXJ0dXAuCgouUEFSQU1FVEVSIE9uSWRsZQoKICAgIFN0YXJ0cyB0aGUgcGF5bG9hZCBhZnRlciBvbmUgbWludXRlIG9mIGlkbGluZy4KCi5QQVJBTUVURVIgRGFpbHkKCiAgICBTdGFydHMgdGhlIHBheWxvYWQgZGFpbHkuCgouUEFSQU1FVEVSIEF0CgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIGF0IHRoZSBzcGVjaWZpZWQgdGltZS4gWW91IG1heSBzcGVjaWZ5IHRpbWVzIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0czogJzEyOjMxIEFNJywgJzIgQU0nLCAnMjM6MDA6MDAnLCBvciAnNDowNjoyNiBQTScuCgouRVhBTVBMRQoKICAgIEM6XFBTPiAkRWxldmF0ZWRPcHRpb25zID0gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gLVBlcm1hbmVudFdNSSAtRGFpbHkgLUF0ICczIFBNJwoKLkVYQU1QTEUKCiAgICBDOlxQUz4gJEVsZXZhdGVkT3B0aW9ucyA9IE5ldy1FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uIC1SZWdpc3RyeSAtQXRTdGFydHVwCgouRVhBTVBMRQoKICAgIEM6XFBTPiAkRWxldmF0ZWRPcHRpb25zID0gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gLVNjaGVkdWxlZFRhc2sgLU9uSWRsZQoKLkxJTksKCiAgICBodHRwOi8vd3d3LmV4cGxvaXQtbW9uZGF5LmNvbQojPgoKICAgIFtDbWRsZXRCaW5kaW5nKCldIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSURhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSUF0U3RhcnR1cCcsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUGVybWFuZW50V01JLAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tEYWlseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrQXRMb2dvbicsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrT25JZGxlJywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRTY2hlZHVsZWRUYXNrLAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1JlZ2lzdHJ5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWdpc3RyeSwKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdQZXJtYW5lbnRXTUlEYWlseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrRGFpbHknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJERhaWx5LAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Blcm1hbmVudFdNSURhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1NjaGVkdWxlZFRhc2tEYWlseScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRBdCwKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrT25JZGxlJywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRPbklkbGUsCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0F0TG9nb24nLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnUmVnaXN0cnknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEF0TG9nb24sCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnUGVybWFuZW50V01JQXRTdGFydHVwJywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRBdFN0YXJ0dXAKICAgICkKCiAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGUgPSBAewogICAgICAgIE1ldGhvZCA9ICcnCiAgICAgICAgVHJpZ2dlciA9ICcnCiAgICAgICAgVGltZSA9ICcnCiAgICB9CgogICAgc3dpdGNoICgkUFNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSkKICAgIHsKICAgICAgICAnUGVybWFuZW50V01JQXRTdGFydHVwJwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdQZXJtYW5lbnRXTUknCiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnVHJpZ2dlciddID0gJ0F0U3RhcnR1cCcKICAgICAgICB9CgogICAgICAgICdQZXJtYW5lbnRXTUlEYWlseScKICAgICAgICB7CiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnTWV0aG9kJ10gPSAnUGVybWFuZW50V01JJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdEYWlseScKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUaW1lJ10gPSAkQXQKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrQXRMb2dvbicKICAgICAgICB7CiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnTWV0aG9kJ10gPSAnU2NoZWR1bGVkVGFzaycKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUcmlnZ2VyJ10gPSAnQXRMb2dvbicKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrT25JZGxlJwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdPbklkbGUnCiAgICAgICAgfQoKICAgICAgICAnU2NoZWR1bGVkVGFza0RhaWx5JwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdEYWlseScKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUaW1lJ10gPSAkQXQKICAgICAgICB9CgogICAgICAgICdSZWdpc3RyeScKICAgICAgICB7CiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnTWV0aG9kJ10gPSAnUmVnaXN0cnknCiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnVHJpZ2dlciddID0gJ0F0TG9nb24nCiAgICAgICAgfQogICAgfQoKICAgICRQZXJzaXN0ZW5jZU9wdGlvbnMgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlCiAgICAkUGVyc2lzdGVuY2VPcHRpb25zLlBTT2JqZWN0LlR5cGVOYW1lc1swXSA9ICdQb3dlclNwbG9pdC5QZXJzaXN0ZW5jZS5FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uJwoKICAgIFdyaXRlLU91dHB1dCAkUGVyc2lzdGVuY2VPcHRpb25zCn0KCmZ1bmN0aW9uIE5ldy1Vc2VyUGVyc2lzdGVuY2VPcHRpb24Kewo8IwouU1lOT1BTSVMKCiAgICBDb25maWd1cmUgdXNlci1sZXZlbCBwZXJzaXN0ZW5jZSBvcHRpb25zIGZvciB0aGUgQWRkLVBlcnNpc3RlbmNlIGZ1bmN0aW9uLgoKICAgIFBvd2VyU3Bsb2l0IEZ1bmN0aW9uOiBOZXctVXNlclBlcnNpc3RlbmNlT3B0aW9uCiAgICBBdXRob3I6IE1hdHRoZXcgR3JhZWJlciAoQG1hdHRpZmVzdGF0aW9uKQogICAgTGljZW5zZTogQlNEIDMtQ2xhdXNlCiAgICBSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUKICAgIE9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQogCi5ERVNDUklQVElPTgoKICAgIE5ldy1Vc2VyUGVyc2lzdGVuY2VPcHRpb24gYWxsb3dzIGZvciB0aGUgY29uZmlndXJhdGlvbiBvZiBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zLiBUaGUgb3V0cHV0IG9mIHRoaXMgZnVuY3Rpb24gaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgb2YgQWRkLVBlcnNpc3RlbmNlLiBBdmFpbGFibGUgcGVyc2l0ZW5jZSBvcHRpb25zIGluIG9yZGVyIG9mIHN0ZWFsdGggYXJlIHRoZSBmb2xsb3dpbmc6IHNjaGVkdWxlZCB0YXNrLCByZWdpc3RyeS4KCi5QQVJBTUVURVIgU2NoZWR1bGVkVGFzawoKICAgIFBlcnNpc3QgdmlhIGEgc2NoZWR1bGVkIHRhc2suCgogICAgRGV0ZWN0aW9uIERpZmZpY3VsdHk6ICAgICAgICBNb2RlcmF0ZQogICAgUmVtb3ZhbCBEaWZmaWN1bHR5OiAgICAgICAgICBNb2RlcmF0ZQogICAgVXNlciBEZXRlY3RhYmxlPyAgICAgICAgICAgICBObwoKLlBBUkFNRVRFUiBSZWdpc3RyeQoKICAgIFBlcnNpc3QgdmlhIHRoZSBIS0NVXFNPRlRXQVJFXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1biByZWdpc3RyeSBrZXkuIE5vdGU6IFRoaXMgb3B0aW9uIHdpbGwgYnJpZWZseSBwb3AgdXAgYSBQb3dlclNoZWxsIGNvbnNvbGUgdG8gdGhlIHVzZXIuCgogICAgRGV0ZWN0aW9uIERpZmZpY3VsdHk6ICAgICAgICBFYXN5CiAgICBSZW1vdmFsIERpZmZpY3VsdHk6ICAgICAgICAgIEVhc3kKICAgIFVzZXIgRGV0ZWN0YWJsZT8gICAgICAgICAgICAgWWVzCgouUEFSQU1FVEVSIEF0TG9nb24KCiAgICBTdGFydHMgdGhlIHBheWxvYWQgdXBvbiBhbnkgdXNlciBsb2dvbi4KCi5QQVJBTUVURVIgT25JZGxlCgogICAgU3RhcnRzIHRoZSBwYXlsb2FkIGFmdGVyIG9uZSBtaW51dGUgb2YgaWRsaW5nLgoKLlBBUkFNRVRFUiBEYWlseQoKICAgIFN0YXJ0cyB0aGUgcGF5bG9hZCBkYWlseS4KCi5QQVJBTUVURVIgQXQKCiAgICBTdGFydHMgdGhlIHBheWxvYWQgYXQgdGhlIHNwZWNpZmllZCB0aW1lLiBZb3UgbWF5IHNwZWNpZnkgdGltZXMgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXRzOiAnMTI6MzEgQU0nLCAnMiBBTScsICcyMzowMDowMCcsIG9yICc0OjA2OjI2IFBNJy4KCi5FWEFNUExFCgogICAgQzpcUFM+ICRVc2VyT3B0aW9ucyA9IE5ldy1Vc2VyUGVyc2lzdGVuY2VPcHRpb24gLVJlZ2lzdHJ5IC1BdExvZ29uCgouRVhBTVBMRQoKICAgIEM6XFBTPiAkVXNlck9wdGlvbnMgPSBOZXctVXNlclBlcnNpc3RlbmNlT3B0aW9uIC1TY2hlZHVsZWRUYXNrIC1PbklkbGUKCi5MSU5LCgogICAgaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20KIz4KCiAgICBbQ21kbGV0QmluZGluZygpXSBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrRGFpbHknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza09uSWRsZScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2NoZWR1bGVkVGFzaywKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdSZWdpc3RyeScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmVnaXN0cnksCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza0RhaWx5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICREYWlseSwKCiAgICAgICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdTY2hlZHVsZWRUYXNrRGFpbHknLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkQXQsCgogICAgICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnU2NoZWR1bGVkVGFza09uSWRsZScsIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkT25JZGxlLAoKICAgICAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1JlZ2lzdHJ5JywgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRBdExvZ29uCiAgICApCgogICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlID0gQHsKICAgICAgICBNZXRob2QgPSAnJwogICAgICAgIFRyaWdnZXIgPSAnJwogICAgICAgIFRpbWUgPSAnJwogICAgfQoKICAgIHN3aXRjaCAoJFBTQ21kbGV0LlBhcmFtZXRlclNldE5hbWUpCiAgICB7CiAgICAgICAgJ1NjaGVkdWxlZFRhc2tBdExvZ29uJwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdTY2hlZHVsZWRUYXNrJwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RyaWdnZXInXSA9ICdBdExvZ29uJwogICAgICAgIH0KCiAgICAgICAgJ1NjaGVkdWxlZFRhc2tPbklkbGUnCiAgICAgICAgewogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ01ldGhvZCddID0gJ1NjaGVkdWxlZFRhc2snCiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnVHJpZ2dlciddID0gJ09uSWRsZScKICAgICAgICB9CgogICAgICAgICdTY2hlZHVsZWRUYXNrRGFpbHknCiAgICAgICAgewogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ01ldGhvZCddID0gJ1NjaGVkdWxlZFRhc2snCiAgICAgICAgICAgICRQZXJzaXN0ZW5jZU9wdGlvbnNUYWJsZVsnVHJpZ2dlciddID0gJ0RhaWx5JwogICAgICAgICAgICAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGVbJ1RpbWUnXSA9ICRBdAogICAgICAgIH0KCiAgICAgICAgJ1JlZ2lzdHJ5JwogICAgICAgIHsKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydNZXRob2QnXSA9ICdSZWdpc3RyeScKICAgICAgICAgICAgJFBlcnNpc3RlbmNlT3B0aW9uc1RhYmxlWydUcmlnZ2VyJ10gPSAnQXRMb2dvbicKICAgICAgICB9CiAgICB9CgogICAgJFBlcnNpc3RlbmNlT3B0aW9ucyA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSAkUGVyc2lzdGVuY2VPcHRpb25zVGFibGUKICAgICRQZXJzaXN0ZW5jZU9wdGlvbnMuUFNPYmplY3QuVHlwZU5hbWVzWzBdID0gJ1Bvd2VyU3Bsb2l0LlBlcnNpc3RlbmNlLlVzZXJQZXJzaXN0ZW5jZU9wdGlvbicKCiAgICBXcml0ZS1PdXRwdXQgJFBlcnNpc3RlbmNlT3B0aW9ucwp9CgpmdW5jdGlvbiBBZGQtUGVyc2lzdGVuY2UKewo8IwouU1lOT1BTSVMKCiAgICBBZGQgcGVyc2lzdGVuY2UgY2FwYWJpbGl0aWVzIHRvIGEgc2NyaXB0LgoKICAgIFBvd2VyU3Bsb2l0IEZ1bmN0aW9uOiBBZGQtUGVyc2lzdGVuY2UKICAgIEF1dGhvcjogTWF0dGhldyBHcmFlYmVyIChAbWF0dGlmZXN0YXRpb24pCiAgICBMaWNlbnNlOiBCU0QgMy1DbGF1c2UKICAgIFJlcXVpcmVkIERlcGVuZGVuY2llczogTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24sIE5ldy1Vc2VyUGVyc2lzdGVuY2VPcHRpb24KICAgIE9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQogCi5ERVNDUklQVElPTgoKICAgIEFkZC1QZXJzaXN0ZW5jZSB3aWxsIGFkZCBwZXJzaXN0ZW5jZSBjYXBhYmlsaXRpZXMgdG8gYW55IHNjcmlwdCBvciBzY3JpcHRibG9jay4gVGhpcyBmdW5jdGlvbiB3aWxsIG91dHB1dCBib3RoIHRoZSBuZXdseSBjcmVhdGVkIHNjcmlwdCB3aXRoIHBlcnNpc3RlbmNlIGNhcGFiaWxpdGllcyBhcyB3ZWxsIGEgc2NyaXB0IHRoYXQgd2lsbCByZW1vdmUgYSBzY3JpcHQgYWZ0ZXIgaXQgaGFzIGJlZW4gcGVyc2lzdGVkLgoKLlBBUkFNRVRFUiBTY3JpcHRCbG9jawoKICAgIFNwZWNpZmllcyBhIHNjcmlwdGJsb2NrIGNvbnRhaW5pbmcgeW91ciBwYXlsb2FkLgoKLlBBUkFNRVRFUiBGaWxlUGF0aAoKICAgIFNwZWNpZmllcyB0aGUgcGF0aCB0byB5b3VyIHBheWxvYWQuCgouUEFSQU1FVEVSIEVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24KCiAgICBTcGVjaWZpZXMgdGhlIHRyaWdnZXIgZm9yIHRoZSBwZXJzaXN0ZW50IHBheWxvYWQgaWYgdGhlIHRhcmdldCBpcyBydW5uaW5nIGVsZXZhdGVkLgogICAgWW91IG11c3QgcnVuIE5ldy1FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uIHRvIGdlbmVyYXRlIHRoaXMgYXJndW1lbnQuCgouUEFSQU1FVEVSIFVzZXJQZXJzaXN0ZW5jZU9wdGlvbgoKICAgIFNwZWNpZmllcyB0aGUgdHJpZ2dlciBmb3IgdGhlIHBlcnNpc3RlbnQgcGF5bG9hZCBpZiB0aGUgdGFyZ2V0IGlzIG5vdCBydW5uaW5nIGVsZXZhdGVkLgogICAgWW91IG11c3QgcnVuIE5ldy1Vc2VyUGVyc2lzdGVuY2VPcHRpb24gdG8gZ2VuZXJhdGUgdGhpcyBhcmd1bWVudC4KCi5QQVJBTUVURVIgUGVyc2lzdGVuY2VTY3JpcHROYW1lCgogICAgU3BlY2lmaWVzIHRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgd3JhcCB0aGUgb3JpZ2luYWwgcGF5bG9hZC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgJ1VwZGF0ZS1XaW5kb3dzJy4KCi5QQVJBTUVURVIgRG9Ob3RQZXJzaXN0SW1tZWRpYXRlbHkKCiAgICBPdXRwdXQgb25seSB0aGUgd3JhcHBlciBmdW5jdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHBheWxvYWQuIEJ5IGRlZmF1bHQsIEFkZC1QZXJzaXN0ZW5jZSB3aWxsIG91dHB1dCBhIHNjcmlwdCB0aGF0IHdpbGwgYXV0b21hdGljYWxseSBhdHRlbXB0IHRvIHBlcnNpc3QgKGUuZy4gaXQgd2lsbCBlbmQgd2l0aCAnVXBkYXRlLVdpbmRvd3MgLVBlcnNpc3QnKS4gSWYgeW91IGFyZSBpbiBhIHBvc2l0aW9uIHdoZXJlIHlvdSBhcmUgcnVubmluZyBpbiBtZW1vcnkgYnV0IHdhbnQgdG8gcGVyc2lzdCBhdCBhIGxhdGVyIHRpbWUsIHVzZSB0aGlzIG9wdGlvbi4KCi5QQVJBTUVURVIgUGVyc2lzdGVudFNjcmlwdEZpbGVQYXRoCgogICAgU3BlY2lmaWVzIHRoZSBwYXRoIHdoZXJlIHlvdSB3b3VsZCBsaWtlIHRvIG91dHB1dCB0aGUgcGVyc2lzdGVuY2Ugc2NyaXB0LiBCeSBkZWZhdWx0LCBBZGQtUGVyc2lzdGVuY2Ugd2lsbCB3cml0ZSB0aGUgcmVtb3ZhbCBzY3JpcHQgdG8gJ1BlcnNpc3RlbmNlLnBzMScgaW4gdGhlIGN1cnJlbnQgZGlyZWN0b3J5LgoKLlBBUkFNRVRFUiBSZW1vdmFsU2NyaXB0RmlsZVBhdGgKCiAgICBTcGVjaWZpZXMgdGhlIHBhdGggd2hlcmUgeW91IHdvdWxkIGxpa2UgdG8gb3V0cHV0IGEgc2NyaXB0IHRoYXQgd2lsbCByZW1vdmUgdGhlIHBlcnNpc3RlbnQgcGF5bG9hZC4gQnkgZGVmYXVsdCwgQWRkLVBlcnNpc3RlbmNlIHdpbGwgd3JpdGUgdGhlIHJlbW92YWwgc2NyaXB0IHRvICdSZW1vdmVQZXJzaXN0ZW5jZS5wczEnIGluIHRoZSBjdXJyZW50IGRpcmVjdG9yeS4KCi5QQVJBTUVURVIgUGFzc1RocnUKCiAgICBPdXRwdXRzIHRoZSBjb250ZW50cyBvZiB0aGUgcGVyc2lzdGVudCBzY3JpcHQgdG8gdGhlIHBpcGVsaW5lLiBUaGlzIG9wdGlvbiBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byB3cml0ZSB0aGUgb3JpZ2luYWwgcGVyc2lzdGVudCBzY3JpcHQgdG8gZGlzayBhbmQgcGFzcyB0aGUgc2NyaXB0IHRvIE91dC1FbmNvZGVkQ29tbWFuZCB2aWEgdGhlIHBpcGVsaW5lLgoKLklOUFVUUwoKICAgIE5vbmUKCiAgICBBZGQtUGVyc2lzdGVuY2UgY2Fubm90IHJlY2VpdmUgYW55IGlucHV0IGZyb20gdGhlIHBpcGVsaW5lLgoKLk9VVFBVVFMKCiAgICBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlNjcmlwdEJsb2NrCgogICAgSWYgdGhlICctUGFzc1RocnUnIHN3aXRjaCBpcyBwcm92aWRlZCwgQWRkLVBlcnNpc3RlbmNlIHdpbGwgb3V0cHV0IGEgc2NyaXB0YmxvY2sgY29udGFpbmluZyB0aGUgY29udGVudHMgb2YgdGhlIHBlcnNpc3RlbmNlIHNjcmlwdC4KCi5OT1RFUwoKICAgIFdoZW4gdGhlIHBlcnNpc3RlbnQgc2NyaXB0IGV4ZWN1dGVzLCBpdCB3aWxsIG5vdCBnZW5lcmF0ZSBhbnkgbWVhbmluZ2Z1bCBvdXRwdXQgYXMgaXQgd2FzIGRlc2lnbmVkIHRvIHJ1biBhcyBzaWxlbnRseSBhcyBwb3NzaWJsZSBvbiB0aGUgdmljdGltJ3MgbWFjaGluZS4KCi5FWEFNUExFCgogICAgQzpcUFM+JEVsZXZhdGVkT3B0aW9ucyA9IE5ldy1FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uIC1QZXJtYW5lbnRXTUkgLURhaWx5IC1BdCAnMyBQTScKICAgIEM6XFBTPiRVc2VyT3B0aW9ucyA9IE5ldy1Vc2VyUGVyc2lzdGVuY2VPcHRpb24gLVJlZ2lzdHJ5IC1BdExvZ29uCiAgICBDOlxQUz5BZGQtUGVyc2lzdGVuY2UgLUZpbGVQYXRoIC5cRXZpbFBheWxvYWQucHMxIC1FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uICRFbGV2YXRlZE9wdGlvbnMgLVVzZXJQZXJzaXN0ZW5jZU9wdGlvbiAkVXNlck9wdGlvbnMgLVZlcmJvc2UKCiAgICBEZXNjcmlwdGlvbgogICAgLS0tLS0tLS0tLS0KICAgIENyZWF0ZXMgYSBzY3JpcHQgY29udGFpbmluZyB0aGUgY29udGVudHMgb2YgRXZpbFBheWxvYWQucHMxIHRoYXQgd2hlbiBleGVjdXRlZCB3aXRoIHRoZSAnLVBlcnNpc3QnIHN3aXRjaCB3aWxsIHBlcnNpc3QgdGhlIHBheWxvYWQgdXNpbmcgaXRzIHJlc3BlY3RpdmUgcGVyc2lzdGVuY2UgbWVjaGFuaXNtICh1c2VyLW1vZGUgdnMuIGVsZXZhdGVkKSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWUuCgouRVhBTVBMRQoKICAgIEM6XFBTPiRSaWNrcm9sbCA9IHsgaWV4IChpd3IgaHR0cDovL2JpdC5seS9lME13OXcgKSB9CiAgICBDOlxQUz4kRWxldmF0ZWRPcHRpb25zID0gTmV3LUVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24gLVNjaGVkdWxlZFRhc2sgLU9uSWRsZQogICAgQzpcUFM+JFVzZXJPcHRpb25zID0gTmV3LVVzZXJQZXJzaXN0ZW5jZU9wdGlvbiAtU2NoZWR1bGVkVGFzayAtT25JZGxlCiAgICBDOlxQUz5BZGQtUGVyc2lzdGVuY2UgLVNjcmlwdEJsb2NrICRSaWNrUm9sbCAtRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbiAkRWxldmF0ZWRPcHRpb25zIC1Vc2VyUGVyc2lzdGVuY2VPcHRpb24gJFVzZXJPcHRpb25zIC1WZXJib3NlIC1QYXNzVGhydSB8IE91dC1FbmNvZGVkQ29tbWFuZCB8IE91dC1GaWxlIC5cRW5jb2RlZFBlcnNpc3RlbnRTY3JpcHQucHMxCgogICAgRGVzY3JpcHRpb24KICAgIC0tLS0tLS0tLS0tCiAgICBDcmVhdGVzIGEgc2NyaXB0IGNvbnRhaW5pbmcgdGhlIGNvbnRlbnRzIG9mIHRoZSBwcm92aWRlZCBzY3JpcHRibG9jayB0aGF0IHdoZW4gZXhlY3V0ZWQgd2l0aCB0aGUgJy1QZXJzaXN0JyBzd2l0Y2ggd2lsbCBwZXJzaXN0IHRoZSBwYXlsb2FkIHVzaW5nIGl0cyByZXNwZWN0aXZlIHBlcnNpc3RlbmNlIG1lY2hhbmlzbSAodXNlci1tb2RlIHZzLiBlbGV2YXRlZCkgZGV0ZXJtaW5lZCBhdCBydW50aW1lLiBUaGUgb3V0cHV0IGlzIHRoZW4gcGFzc2VkIHRocm91Z2ggdG8gT3V0LUVuY29kZWRDb21tYW5kIHNvIHRoYXQgaXQgY2FuIGJlIGV4ZWN1dGVkIGluIGEgc2luZ2xlIGNvbW1hbmQgbGluZSBzdGF0ZW1lbnQuIFRoZSBmaW5hbCwgZW5jb2RlZCBvdXRwdXQgaXMgZmluYWxseSBzYXZlZCB0byAuXEVuY29kZWRQZXJzaXN0ZW50U2NyaXB0LnBzMQoKLkxJTksKCiAgICBodHRwOi8vd3d3LmV4cGxvaXQtbW9uZGF5LmNvbQojPgoKICAgIFtDbWRsZXRCaW5kaW5nKCldIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdTY3JpcHRCbG9jaycgKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTY3JpcHRCbG9ja10KICAgICAgICAkU2NyaXB0QmxvY2ssCgogICAgICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVQYXRoJyApXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRmlsZVBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgJEVsZXZhdGVkUGVyc2lzdGVuY2VPcHRpb24sCgogICAgICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgJFVzZXJQZXJzaXN0ZW5jZU9wdGlvbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQZXJzaXN0ZW5jZVNjcmlwdE5hbWUgPSAnVXBkYXRlLVdpbmRvd3MnLAoKICAgICAgICBbU3RyaW5nXQogICAgICAgICRQZXJzaXN0ZW50U2NyaXB0RmlsZVBhdGggPSAiJFBXRFxQZXJzaXN0ZW5jZS5wczEiLAoKICAgICAgICBbU3RyaW5nXQogICAgICAgICRSZW1vdmFsU2NyaXB0RmlsZVBhdGggPSAiJFBXRFxSZW1vdmVQZXJzaXN0ZW5jZS5wczEiLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICREb05vdFBlcnNpc3RJbW1lZGlhdGVseSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUGFzc1RocnUKICAgICkKCiAgICBTZXQtU3RyaWN0TW9kZSAtVmVyc2lvbiAyCgojcmVnaW9uIFZhbGlkYXRlIGFyZ3VtZW50cwoKICAgIGlmICgkRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbi5QU09iamVjdC5UeXBlTmFtZXNbMF0gLW5lICdQb3dlclNwbG9pdC5QZXJzaXN0ZW5jZS5FbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uJykKICAgIHsKICAgICAgICB0aHJvdyAnWW91IHByb3ZpZGVkIGludmFsaWQgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucy4nCiAgICB9CgogICAgaWYgKCRVc2VyUGVyc2lzdGVuY2VPcHRpb24uUFNPYmplY3QuVHlwZU5hbWVzWzBdIC1uZSAnUG93ZXJTcGxvaXQuUGVyc2lzdGVuY2UuVXNlclBlcnNpc3RlbmNlT3B0aW9uJykKICAgIHsKICAgICAgICB0aHJvdyAnWW91IHByb3ZpZGVkIGludmFsaWQgdXNlci1sZXZlbCBwZXJzaXN0ZW5jZSBvcHRpb25zLicKICAgIH0KCiAgICAkUmVzdWx0ID0gR2V0LUl0ZW0gJFBlcnNpc3RlbnRTY3JpcHRGaWxlUGF0aCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgaWYgKCRSZXN1bHQgLWFuZCAkUmVzdWx0LlBTSXNDb250YWluZXIpCiAgICB7CiAgICAgICAgdGhyb3cgJ1lvdSBtdXN0IHByb3ZpZGUgYSBmaWxlIG5hbWUgd2l0aCB0aGUgUGVyc2lzdGVudFNjcmlwdEZpbGVQYXRoIG9wdGlvbi4nCiAgICB9CgogICAgJFJlc3VsdCA9IEdldC1JdGVtICRSZW1vdmFsU2NyaXB0RmlsZVBhdGggLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgIGlmICgkUmVzdWx0IC1hbmQgJFJlc3VsdC5QU0lzQ29udGFpbmVyKQogICAgewogICAgICAgIHRocm93ICdZb3UgbXVzdCBwcm92aWRlIGEgZmlsZSBuYW1lIHdpdGggdGhlIFJlbW92YWxTY3JpcHRGaWxlUGF0aCBvcHRpb24uJwogICAgfQoKICAgICRQZXJzaXN0ZW50UGF0aCA9IFNwbGl0LVBhdGggJFBlcnNpc3RlbnRTY3JpcHRGaWxlUGF0aCAtRXJyb3JBY3Rpb24gU3RvcAogICAgJExlYWYgPSBTcGxpdC1QYXRoICRQZXJzaXN0ZW50U2NyaXB0RmlsZVBhdGggLUxlYWYgLUVycm9yQWN0aW9uIFN0b3AKICAgICRQZXJzaXN0ZW50U2NyaXB0RmlsZSA9ICcnCiAgICAkUmVtb3ZhbFNjcmlwdEZpbGUgPSAnJwoKICAgIGlmICgkUGVyc2lzdGVudFBhdGggLWVxICcnKQogICAgewogICAgICAgICMgaS5lLiBPbmx5IGEgZmlsZSBuYW1lIHdhcyBwcm92aWRlZCBpbXBseWluZyAkUFdECiAgICAgICAgJFBlcnNpc3RlbnRTY3JpcHRGaWxlID0gIiQoJFBXRClcJCgkTGVhZikiCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFBlcnNpc3RlbnRTY3JpcHRGaWxlID0gIiQoUmVzb2x2ZS1QYXRoICRQZXJzaXN0ZW50UGF0aClcJCgkTGVhZikiCiAgICB9CgogICAgJFJlbW92YWxQYXRoID0gU3BsaXQtUGF0aCAkUmVtb3ZhbFNjcmlwdEZpbGVQYXRoIC1FcnJvckFjdGlvbiBTdG9wCiAgICAkTGVhZiA9IFNwbGl0LVBhdGggJFJlbW92YWxTY3JpcHRGaWxlUGF0aCAtTGVhZiAtRXJyb3JBY3Rpb24gU3RvcAogICAgaWYgKCRSZW1vdmFsUGF0aCAtZXEgJycpCiAgICB7CiAgICAgICAgIyBpLmUuIE9ubHkgYSBmaWxlIG5hbWUgd2FzIHByb3ZpZGVkIGltcGx5aW5nICRQV0QKICAgICAgICAkUmVtb3ZhbFNjcmlwdEZpbGUgPSAiJCgkUFdEKVwkKCRMZWFmKSIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkUmVtb3ZhbFNjcmlwdEZpbGUgPSAiJChSZXNvbHZlLVBhdGggJFJlbW92YWxQYXRoKVwkKCRMZWFmKSIKICAgIH0KCiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaWxlUGF0aCddKQogICAgewogICAgICAgICRudWxsID0gR2V0LUNoaWxkSXRlbSAkRmlsZVBhdGggLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAkU2NyaXB0ID0gW0lPLkZpbGVdOjpSZWFkQWxsVGV4dCgoUmVzb2x2ZS1QYXRoICRGaWxlUGF0aCkpCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFNjcmlwdCA9ICRTY3JpcHRCbG9jawogICAgfQoKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBJbml0aWFsaXplIGRhdGEKCiAgICAkQ29tcHJlc3NlZFNjcmlwdCA9ICcnCiAgICAkVXNlclRyaWdnZXIgPSAnJwogICAgJFVzZXJUcmlnZ2VyUmVtb3ZhbCA9ICcnCiAgICAkRWxldmF0ZWRUcmlnZ2VyID0gIicnIgogICAgJEVsZXZhdGVkVHJpZ2dlclJlbW92YWwgPSAnJwogICAgJFVzZXJUcmlnZ2VyID0gIicnIgogICAgJFVzZXJUcmlnZ2VyUmVtb3ZhbCA9ICcnCiAgICAkQ29tbWFuZExpbmUgPSAnJwoKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBDb21wcmVzcyB0aGUgb3JpZ2luYWwgcGF5bG9hZCBpbiBwcmVwYXJhdGlvbiBmb3IgdGhlIHBlcnNpc3RlbmNlIHNjcmlwdAoKICAgICRTY3JpcHRCeXRlcyA9IChbVGV4dC5FbmNvZGluZ106OkFTQ0lJKS5HZXRCeXRlcygkU2NyaXB0KQogICAgJENvbXByZXNzZWRTdHJlYW0gPSBOZXctT2JqZWN0IElPLk1lbW9yeVN0cmVhbQogICAgJERlZmxhdGVTdHJlYW0gPSBOZXctT2JqZWN0IElPLkNvbXByZXNzaW9uLkRlZmxhdGVTdHJlYW0gKCRDb21wcmVzc2VkU3RyZWFtLCBbSU8uQ29tcHJlc3Npb24uQ29tcHJlc3Npb25Nb2RlXTo6Q29tcHJlc3MpCiAgICAkRGVmbGF0ZVN0cmVhbS5Xcml0ZSgkU2NyaXB0Qnl0ZXMsIDAsICRTY3JpcHRCeXRlcy5MZW5ndGgpCiAgICAkRGVmbGF0ZVN0cmVhbS5EaXNwb3NlKCkKICAgICRDb21wcmVzc2VkU2NyaXB0Qnl0ZXMgPSAkQ29tcHJlc3NlZFN0cmVhbS5Ub0FycmF5KCkKICAgICRDb21wcmVzc2VkU3RyZWFtLkRpc3Bvc2UoKQogICAgJEVuY29kZWRDb21wcmVzc2VkU2NyaXB0ID0gW0NvbnZlcnRdOjpUb0Jhc2U2NFN0cmluZygkQ29tcHJlc3NlZFNjcmlwdEJ5dGVzKQoKICAgICMgR2VuZXJhdGUgdGhlIGNvZGUgdGhhdCB3aWxsIGRlY29tcHJlc3MgYW5kIGV4ZWN1dGUgdGhlIHBheWxvYWQuCiAgICAjIFRoaXMgY29kZSBpcyBpbnRlbnRpb25hbGx5IHVnbHkgdG8gc2F2ZSBzcGFjZS4KICAgICROZXdTY3JpcHQgPSAnc2FsIGEgTmV3LU9iamVjdDtpZXgoYSBJTy5TdHJlYW1SZWFkZXIoKGEgSU8uQ29tcHJlc3Npb24uRGVmbGF0ZVN0cmVhbShbSU8uTWVtb3J5U3RyZWFtXVtDb252ZXJ0XTo6RnJvbUJhc2U2NFN0cmluZygnICsgIickRW5jb2RlZENvbXByZXNzZWRTY3JpcHQnIiArICcpLFtJTy5Db21wcmVzc2lvbi5Db21wcmVzc2lvbk1vZGVdOjpEZWNvbXByZXNzKSksW1RleHQuRW5jb2RpbmddOjpBU0NJSSkpLlJlYWRUb0VuZCgpJwoKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBQcm9jZXNzIHBlcnNpc3RlbmNlIG9wdGlvbnMKCiAgICAjIEJlZ2luIHByb2Nlc3NpbmcgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucwogICAgc3dpdGNoICgkRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbi5NZXRob2QpCiAgICB7CiAgICAgICAgJ1Blcm1hbmVudFdNSScKICAgICAgICB7CiAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXJSZW1vdmFsID0gewpHZXQtV21pT2JqZWN0IF9fZXZlbnRGaWx0ZXIgLW5hbWVzcGFjZSByb290XHN1YnNjcmlwdGlvbiAtZmlsdGVyICJuYW1lPSdVcGRhdGVyJyJ8IFJlbW92ZS1XbWlPYmplY3QKR2V0LVdtaU9iamVjdCBDb21tYW5kTGluZUV2ZW50Q29uc3VtZXIgLU5hbWVzcGFjZSByb290XHN1YnNjcmlwdGlvbiAtZmlsdGVyICJuYW1lPSdVcGRhdGVyJyIgfCBSZW1vdmUtV21pT2JqZWN0CkdldC1XbWlPYmplY3QgX19GaWx0ZXJUb0NvbnN1bWVyQmluZGluZyAtTmFtZXNwYWNlIHJvb3Rcc3Vic2NyaXB0aW9uIHwgV2hlcmUtT2JqZWN0IHsgJF8uZmlsdGVyIC1tYXRjaCAnVXBkYXRlcid9IHwgUmVtb3ZlLVdtaU9iamVjdAogICAgICAgICAgICB9CgogICAgICAgICAgICBzd2l0Y2ggKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLlRyaWdnZXIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICdBdFN0YXJ0dXAnCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlciA9ICJgImBgYCRGaWx0ZXI9U2V0LVdtaUluc3RhbmNlIC1DbGFzcyBfX0V2ZW50RmlsdGVyIC1OYW1lc3BhY2UgYGBgInJvb3Rcc3Vic2NyaXB0aW9uYGBgIiAtQXJndW1lbnRzIEB7bmFtZT0nVXBkYXRlcic7RXZlbnROYW1lU3BhY2U9J3Jvb3RcQ2ltVjInO1F1ZXJ5TGFuZ3VhZ2U9YGBgIldRTGBgYCI7UXVlcnk9YGBgIlNFTEVDVCAqIEZST00gX19JbnN0YW5jZU1vZGlmaWNhdGlvbkV2ZW50IFdJVEhJTiA2MCBXSEVSRSBUYXJnZXRJbnN0YW5jZSBJU0EgJ1dpbjMyX1BlcmZGb3JtYXR0ZWREYXRhX1BlcmZPU19TeXN0ZW0nIEFORCBUYXJnZXRJbnN0YW5jZS5TeXN0ZW1VcFRpbWUgPj0gMjQwIEFORCBUYXJnZXRJbnN0YW5jZS5TeXN0ZW1VcFRpbWUgPCAzMjVgYGAifTtgYGAkQ29uc3VtZXI9U2V0LVdtaUluc3RhbmNlIC1OYW1lc3BhY2UgYGBgInJvb3Rcc3Vic2NyaXB0aW9uYGBgIiAtQ2xhc3MgJ0NvbW1hbmRMaW5lRXZlbnRDb25zdW1lcicgLUFyZ3VtZW50cyBAeyBuYW1lPSdVcGRhdGVyJztDb21tYW5kTGluZVRlbXBsYXRlPWBgYCJgYGAkKGBgYCRFbnY6U3lzdGVtUm9vdClcU3lzdGVtMzJcV2luZG93c1Bvd2VyU2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSAtTm9uSW50ZXJhY3RpdmVgYGAiO1J1bkludGVyYWN0aXZlbHk9J2ZhbHNlJ307U2V0LVdtaUluc3RhbmNlIC1OYW1lc3BhY2UgYGBgInJvb3Rcc3Vic2NyaXB0aW9uYGBgIiAtQ2xhc3MgX19GaWx0ZXJUb0NvbnN1bWVyQmluZGluZyAtQXJndW1lbnRzIEB7RmlsdGVyPWBgYCRGaWx0ZXI7Q29uc3VtZXI9YGBgJENvbnN1bWVyfSB8IE91dC1OdWxsYCIiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJ0RhaWx5JwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAiYCJgYGAkRmlsdGVyPVNldC1XbWlJbnN0YW5jZSAtQ2xhc3MgX19FdmVudEZpbHRlciAtTmFtZXNwYWNlIGBgYCJyb290XHN1YnNjcmlwdGlvbmBgYCIgLUFyZ3VtZW50cyBAe25hbWU9J1VwZGF0ZXInO0V2ZW50TmFtZVNwYWNlPSdyb290XENpbVYyJztRdWVyeUxhbmd1YWdlPWBgYCJXUUxgYGAiO1F1ZXJ5PWBgYCJTRUxFQ1QgKiBGUk9NIF9fSW5zdGFuY2VNb2RpZmljYXRpb25FdmVudCBXSVRISU4gNjAgV0hFUkUgVGFyZ2V0SW5zdGFuY2UgSVNBICdXaW4zMl9Mb2NhbFRpbWUnIEFORCBUYXJnZXRJbnN0YW5jZS5Ib3VyID0gJCgkRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbi5UaW1lLlRvU3RyaW5nKCdISCcpKSBBTkQgVGFyZ2V0SW5zdGFuY2UuTWludXRlID0gJCgkRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbi5UaW1lLlRvU3RyaW5nKCdtbScpKSBHUk9VUCBXSVRISU4gNjBgYGAifTtgYGAkQ29uc3VtZXI9U2V0LVdtaUluc3RhbmNlIC1OYW1lc3BhY2UgYGBgInJvb3Rcc3Vic2NyaXB0aW9uYGBgIiAtQ2xhc3MgJ0NvbW1hbmRMaW5lRXZlbnRDb25zdW1lcicgLUFyZ3VtZW50cyBAeyBuYW1lPSdVcGRhdGVyJztDb21tYW5kTGluZVRlbXBsYXRlPWBgYCJgYGAkKGBgYCRFbnY6U3lzdGVtUm9vdClcU3lzdGVtMzJcV2luZG93c1Bvd2VyU2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSAtTm9uSW50ZXJhY3RpdmVgYGAiO1J1bkludGVyYWN0aXZlbHk9J2ZhbHNlJ307U2V0LVdtaUluc3RhbmNlIC1OYW1lc3BhY2UgYGBgInJvb3Rcc3Vic2NyaXB0aW9uYGBgIiAtQ2xhc3MgX19GaWx0ZXJUb0NvbnN1bWVyQmluZGluZyAtQXJndW1lbnRzIEB7RmlsdGVyPWBgYCRGaWx0ZXI7Q29uc3VtZXI9YGBgJENvbnN1bWVyfSB8IE91dC1OdWxsYCIiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGVmYXVsdAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRocm93ICdJbnZhbGlkIGVsZXZhdGVkIHBlcnNpc3RlbmNlIG9wdGlvbnMgcHJvdmlkZWQhJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAnU2NoZWR1bGVkVGFzaycKICAgICAgICB7CiAgICAgICAgICAgICRDb21tYW5kTGluZSA9ICdgIiQoJEVudjpTeXN0ZW1Sb290KVxTeXN0ZW0zMlxXaW5kb3dzUG93ZXJTaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIC1Ob25JbnRlcmFjdGl2ZWAiJwogICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyUmVtb3ZhbCA9ICJzY2h0YXNrcyAvRGVsZXRlIC9UTiBVcGRhdGVyIgoKICAgICAgICAgICAgc3dpdGNoICgkRWxldmF0ZWRQZXJzaXN0ZW5jZU9wdGlvbi5UcmlnZ2VyKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAnQXRMb2dvbicKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyID0gInNjaHRhc2tzIC9DcmVhdGUgL1JVIHN5c3RlbSAvU0MgT05MT0dPTiAvVE4gVXBkYXRlciAvVFIgIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAnRGFpbHknCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlciA9ICJzY2h0YXNrcyAvQ3JlYXRlIC9SVSBzeXN0ZW0gL1NDIERBSUxZIC9TVCAkKCRFbGV2YXRlZFBlcnNpc3RlbmNlT3B0aW9uLlRpbWUuVG9TdHJpbmcoJ0hIOm1tOnNzJykpIC9UTiBVcGRhdGVyIC9UUiAiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJ09uSWRsZScKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyID0gInNjaHRhc2tzIC9DcmVhdGUgL1JVIHN5c3RlbSAvU0MgT05JRExFIC9JIDEgL1ROIFVwZGF0ZXIgL1RSICIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkZWZhdWx0CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ0ludmFsaWQgZWxldmF0ZWQgcGVyc2lzdGVuY2Ugb3B0aW9ucyBwcm92aWRlZCEnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAnIicgKyAkRWxldmF0ZWRUcmlnZ2VyICsgJENvbW1hbmRMaW5lICsgJyInCiAgICAgICAgfQoKICAgICAgICAnUmVnaXN0cnknCiAgICAgICAgewogICAgICAgICAgICAkRWxldmF0ZWRUcmlnZ2VyID0gIk5ldy1JdGVtUHJvcGVydHkgLVBhdGggSEtMTTpTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxSdW5cIC1OYW1lIFVwZGF0ZXIgLVByb3BlcnR5VHlwZSBTdHJpbmcgLVZhbHVlICIKICAgICAgICAgICAgJEVsZXZhdGVkVHJpZ2dlclJlbW92YWwgPSAiUmVtb3ZlLUl0ZW1Qcm9wZXJ0eSAtUGF0aCBIS0xNOlNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1blwgLU5hbWUgVXBkYXRlciIKICAgICAgICAgICAgJENvbW1hbmRMaW5lID0gImAiYGBgImAkKGAkRW52OlN5c3RlbVJvb3QpXFN5c3RlbTMyXFdpbmRvd3NQb3dlclNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGVgYGAiIC1Ob25JbnRlcmFjdGl2ZSAtV2luZG93U3R5bGUgSGlkZGVuYCIiCiAgICAgICAgICAgICRFbGV2YXRlZFRyaWdnZXIgPSAiJyIgKyAkRWxldmF0ZWRUcmlnZ2VyICsgJENvbW1hbmRMaW5lICsgIiciCiAgICAgICAgfQoKICAgICAgICBkZWZhdWx0CiAgICAgICAgewogICAgICAgICAgICB0aHJvdyAnSW52YWxpZCBlbGV2YXRlZCBwZXJzaXN0ZW5jZSBvcHRpb25zIHByb3ZpZGVkIScKICAgICAgICB9CiAgICB9CgogICAgIyBCZWdpbiBwcm9jZXNzaW5nIHVzZXItbGV2ZWwgcGVyc2lzdGVuY2Ugb3B0aW9ucwogICAgc3dpdGNoICgkVXNlclBlcnNpc3RlbmNlT3B0aW9uLk1ldGhvZCkKICAgIHsKICAgICAgICAnU2NoZWR1bGVkVGFzaycKICAgICAgICB7CiAgICAgICAgICAgICRDb21tYW5kTGluZSA9ICdgIiQoJEVudjpTeXN0ZW1Sb290KVxTeXN0ZW0zMlxXaW5kb3dzUG93ZXJTaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIC1Ob25JbnRlcmFjdGl2ZWAiJwogICAgICAgICAgICAkVXNlclRyaWdnZXJSZW1vdmFsID0gInNjaHRhc2tzIC9EZWxldGUgL1ROIFVwZGF0ZXIiCgogICAgICAgICAgICBzd2l0Y2ggKCRVc2VyUGVyc2lzdGVuY2VPcHRpb24uVHJpZ2dlcikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJ0RhaWx5JwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRVc2VyVHJpZ2dlciA9ICJzY2h0YXNrcyAvQ3JlYXRlIC9TQyBEQUlMWSAvU1QgJCgkVXNlclBlcnNpc3RlbmNlT3B0aW9uLlRpbWUuVG9TdHJpbmcoJ0hIOm1tOnNzJykpIC9UTiBVcGRhdGVyIC9UUiAiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJ09uSWRsZScKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVXNlclRyaWdnZXIgPSAic2NodGFza3MgL0NyZWF0ZSAvU0MgT05JRExFIC9JIDEgL1ROIFVwZGF0ZXIgL1RSICIKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkZWZhdWx0CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ0ludmFsaWQgdXNlci1sZXZlbCBwZXJzaXN0ZW5jZSBvcHRpb25zIHByb3ZpZGVkIScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFVzZXJUcmlnZ2VyID0gJyInICsgJFVzZXJUcmlnZ2VyICsgJENvbW1hbmRMaW5lICsgJyInCiAgICAgICAgfQoKICAgICAgICAnUmVnaXN0cnknCiAgICAgICAgewogICAgICAgICAgICAkVXNlclRyaWdnZXIgPSAiTmV3LUl0ZW1Qcm9wZXJ0eSAtUGF0aCBIS0NVOlNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXFJ1blwgLU5hbWUgVXBkYXRlciAtUHJvcGVydHlUeXBlIFN0cmluZyAtVmFsdWUgIgogICAgICAgICAgICAkVXNlclRyaWdnZXJSZW1vdmFsID0gIlJlbW92ZS1JdGVtUHJvcGVydHkgLVBhdGggSEtDVTpTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxSdW5cIC1OYW1lIFVwZGF0ZXIiCiAgICAgICAgICAgICRDb21tYW5kTGluZSA9ICJgImBgYCJgJChgJEVudjpTeXN0ZW1Sb290KVxTeXN0ZW0zMlxXaW5kb3dzUG93ZXJTaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlYGBgIiAtTm9uSW50ZXJhY3RpdmUgLVdpbmRvd1N0eWxlIEhpZGRlbmAiIgogICAgICAgICAgICAkVXNlclRyaWdnZXIgPSAiJyIgKyAkVXNlclRyaWdnZXIgKyAkQ29tbWFuZExpbmUgKyAiJyIKICAgICAgICB9CgogICAgICAgIGRlZmF1bHQKICAgICAgICB7CiAgICAgICAgICAgIHRocm93ICdJbnZhbGlkIHVzZXItbGV2ZWwgcGVyc2lzdGVuY2Ugb3B0aW9ucyBwcm92aWRlZCEnCiAgICAgICAgfQogICAgfQoKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBPcmlnaW5hbCBzY3JpcHQgd2l0aCBpdHMgcGVyc2lzdGVuY2UgbG9naWMgd2lsbCByZXNpZGUgaGVyZQoKIyBUaGlzIGlzIGludGVudGlvbmFsbHkgdWdseSBpbiB0aGUgaW50ZXJlc3Qgb2Ygc2F2aW5nIHNwYWNlIG9uIHRoZSB2aWN0aW0gbWFjaGluZS4KJFBlcnNpc3RhbnRTY3JpcHQgPSB7CmZ1bmN0aW9uIEZVTkNUSU9OTkFNRXsKUGFyYW0oW1N3aXRjaF0kUGVyc2lzdCkKJEVycm9yQWN0aW9uUHJlZmVyZW5jZT0nU2lsZW50bHlDb250aW51ZScKJFNjcmlwdD17T1JJR0lOQUxTQ1JJUFR9CmlmKCRQZXJzaXN0KXsKaWYoKFtTZWN1cml0eS5QcmluY2lwYWwuV2luZG93c1ByaW5jaXBhbF1bU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NJZGVudGl0eV06OkdldEN1cnJlbnQoKSkuSXNJblJvbGUoW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzQnVpbHRJblJvbGVdJ0FkbWluaXN0cmF0b3InKSkKeyRQcm9mPSRQUk9GSUxFLkFsbFVzZXJzQWxsSG9zdHM7JFBheWxvYWQ9RUxFVkFURURUUklHR0VSfQplbHNlCnskUHJvZj0kUFJPRklMRS5DdXJyZW50VXNlckFsbEhvc3RzOyRQYXlsb2FkPVVTRVJUUklHR0VSfQonICcqNjAwKyRTY3JpcHQuVG9TdHJpbmcoKXxPdXQtRmlsZSAkUHJvZiAtQSAtTm9DIC1GbwppZXggJFBheWxvYWR8T3V0LU51bGwKV3JpdGUtT3V0cHV0ICRQYXlsb2FkfQplbHNlCnskU2NyaXB0Lkludm9rZSgpfQp9IEVYRUNVVEVGVU5DVElPTgoKfQoKICAgICRQZXJzaXN0YW50U2NyaXB0ID0gJFBlcnNpc3RhbnRTY3JpcHQuVG9TdHJpbmcoKS5SZXBsYWNlKCdGVU5DVElPTk5BTUUnLCAkUGVyc2lzdGVuY2VTY3JpcHROYW1lKQogICAgJFBlcnNpc3RhbnRTY3JpcHQgPSAkUGVyc2lzdGFudFNjcmlwdC5Ub1N0cmluZygpLlJlcGxhY2UoJ09SSUdJTkFMU0NSSVBUJywgJE5ld1NjcmlwdCkKICAgICRQZXJzaXN0YW50U2NyaXB0ID0gJFBlcnNpc3RhbnRTY3JpcHQuVG9TdHJpbmcoKS5SZXBsYWNlKCdFTEVWQVRFRFRSSUdHRVInLCAkRWxldmF0ZWRUcmlnZ2VyKQogICAgJFBlcnNpc3RhbnRTY3JpcHQgPSAkUGVyc2lzdGFudFNjcmlwdC5Ub1N0cmluZygpLlJlcGxhY2UoJ1VTRVJUUklHR0VSJywgJFVzZXJUcmlnZ2VyKQoKICAgIGlmICgkRG9Ob3RQZXJzaXN0SW1tZWRpYXRlbHkpCiAgICB7CiAgICAgICAgJFBlcnNpc3RhbnRTY3JpcHQgPSAkUGVyc2lzdGFudFNjcmlwdC5Ub1N0cmluZygpLlJlcGxhY2UoJ0VYRUNVVEVGVU5DVElPTicsICcnKQogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRQZXJzaXN0YW50U2NyaXB0ID0gJFBlcnNpc3RhbnRTY3JpcHQuVG9TdHJpbmcoKS5SZXBsYWNlKCdFWEVDVVRFRlVOQ1RJT04nLCAiJFBlcnNpc3RlbmNlU2NyaXB0TmFtZSAtUGVyc2lzdCIpCiAgICB9CgojZW5kcmVnaW9uCgojcmVnaW9uIEdlbmVyYXRlIGZpbmFsIG91dHB1dAoKIyBHZW5lcmF0ZSB0aGUgcGVyc2lzdGVuY2UgcmVtb3ZhbCBzY3JpcHQKJFBlcnNpc3RlbmNlUmVtb3ZhbCA9IEAiCiMgRXhlY3V0ZSB0aGUgZm9sbG93aW5nIHRvIHJlbW92ZSB0aGUgZWxldmF0ZWQgcGVyc2lzdGVudCBwYXlsb2FkCiRFbGV2YXRlZFRyaWdnZXJSZW1vdmFsCiMgRXhlY3V0ZSB0aGUgZm9sbG93aW5nIHRvIHJlbW92ZSB0aGUgdXNlci1sZXZlbCBwZXJzaXN0ZW50IHBheWxvYWQKJFVzZXJUcmlnZ2VyUmVtb3ZhbAoiQAoKICAgIAogICAgJFBlcnNpc3RhbnRTY3JpcHQgfCBPdXQtRmlsZSAkUGVyc2lzdGVudFNjcmlwdEZpbGUKICAgIFdyaXRlLVZlcmJvc2UgIlBlcnNpc3RlbmNlIHNjcmlwdCB3cml0dGVuIHRvICRQZXJzaXN0ZW50U2NyaXB0RmlsZSIKCiAgICAkUGVyc2lzdGVuY2VSZW1vdmFsIHwgT3V0LUZpbGUgJFJlbW92YWxTY3JpcHRGaWxlCiAgICBXcml0ZS1WZXJib3NlICJQZXJzaXN0ZW5jZSByZW1vdmFsIHNjcmlwdCB3cml0dGVuIHRvICRSZW1vdmFsU2NyaXB0RmlsZSIKCiAgICBpZiAoJFBhc3NUaHJ1KQogICAgewogICAgICAgICMgT3V0cHV0IGEgc2NyaXB0YmxvY2sgb2YgdGhlIHBlcnNpc3RlbnQgZnVuY3Rpb24uIFRoaXMgY2FuIGJlIHBhc3NlZCB0byBPdXQtRW5jb2RlZENvbW1hbmQgdmlhIHRoZSBwaXBlbGluZS4KICAgICAgICBXcml0ZS1PdXRwdXQgKFtTY3JpcHRCbG9ja106OkNyZWF0ZSgkUGVyc2lzdGFudFNjcmlwdCkpCiAgICB9CgojZW5kcmVnaW9uCn0KCmZ1bmN0aW9uIEluc3RhbGwtU1NQCnsKPCMKLlNZTk9QU0lTCgpJbnN0YWxscyBhIHNlY3VyaXR5IHN1cHBvcnQgcHJvdmlkZXIgKFNTUCkgZGxsLgoKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKCi5ERVNDUklQVElPTgoKSW5zdGFsbC1TU1AgaW5zdGFsbHMgYW4gU1NQIGRsbC4gSW5zdGFsbGF0aW9uIGludm9sdmVzIGNvcHlpbmcgdGhlIGRsbCB0bwold2luZGlyJVxTeXN0ZW0zMiBhbmQgYWRkaW5nIHRoZSBuYW1lIG9mIHRoZSBkbGwgdG8KSEtMTVxTWVNURU1cQ3VycmVudENvbnRyb2xTZXRcQ29udHJvbFxMc2FcU2VjdXJpdHkgUGFja2FnZXMuCgouUEFSQU1FVEVSIFJlbW92ZQoKU3BlY2lmaWVzIHRoZSBwYXRoIHRvIHRoZSBTU1AgZGxsIHlvdSB3b3VsZCBsaWtlIHRvIGluc3RhbGwuCgouRVhBTVBMRQoKSW5zdGFsbC1TU1AgLVBhdGggLlxtaW1pbGliLmRsbAoKLk5PVEVTCgpUaGUgU1NQIGRsbCBtdXN0IG1hdGNoIHRoZSBPUyBhcmNoaXRlY3R1cmUuIGkuZS4gWW91IG11c3QgaGF2ZSBhIDY0LWJpdCBTU1AgZGxsCmlmIHlvdSBhcmUgcnVubmluZyBhIDY0LWJpdCBPUy4gSW4gb3JkZXIgZm9yIHRoZSBTU1AgZGxsIHRvIGJlIGxvYWRlZCBwcm9wZXJseQppbnRvIGxzYXNzLCB0aGUgZGxsIG11c3QgZXhwb3J0IFNwTHNhTW9kZUluaXRpYWxpemUuCiM+CgogICAgW0NtZGxldEJpbmRpbmcoKV0gUGFyYW0gKAogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7VGVzdC1QYXRoIChSZXNvbHZlLVBhdGggJF8pfSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUGF0aAogICAgKQoKICAgICRQcmluY2lwYWwgPSBbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NQcmluY2lwYWxdW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzSWRlbnRpdHldOjpHZXRDdXJyZW50KCkKCiAgICBpZigtbm90ICRQcmluY2lwYWwuSXNJblJvbGUoW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzQnVpbHRJblJvbGVdOjpBZG1pbmlzdHJhdG9yKSkKICAgIHsKICAgICAgICB0aHJvdyAnSW5zdGFsbGluZyBhbiBTU1AgZGxsIHJlcXVpcmVzIGFkbWluaXN0cmF0aXZlIHJpZ2h0cy4gRXhlY3V0ZSB0aGlzIHNjcmlwdCBmcm9tIGFuIGVsZXZhdGVkIFBvd2VyU2hlbGwgcHJvbXB0LicKICAgIH0KCiAgICAjIFJlc29sdmUgdGhlIGZ1bGwgcGF0aCBpZiBhIHJlbGF0aXZlIHBhdGggd2FzIHByb3ZpZGVkLgogICAgJEZ1bGxEbGxQYXRoID0gUmVzb2x2ZS1QYXRoICRQYXRoCgogICAgIyBIZWxwZXIgZnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgdGhlIGRsbCBhcmNoaXRlY3R1cmUKICAgIGZ1bmN0aW9uIGxvY2FsOkdldC1QRUFyY2hpdGVjdHVyZQogICAgewogICAgICAgIFBhcmFtCiAgICAgICAgKAogICAgICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDAsCiAgICAgICAgICAgICAgICAgICAgICAgIE1hbmRhdG9yeSA9ICRUcnVlICldCiAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICRQYXRoCiAgICAgICAgKQogICAgCiAgICAgICAgIyBQYXJzZSBQRSBoZWFkZXIgdG8gc2VlIGlmIGJpbmFyeSB3YXMgY29tcGlsZWQgMzIgb3IgNjQtYml0CiAgICAgICAgJEZpbGVTdHJlYW0gPSBOZXctT2JqZWN0IFN5c3RlbS5JTy5GaWxlU3RyZWFtKCRQYXRoLCBbU3lzdGVtLklPLkZpbGVNb2RlXTo6T3BlbiwgW1N5c3RlbS5JTy5GaWxlQWNjZXNzXTo6UmVhZCkKICAgIAogICAgICAgIFtCeXRlW11dICRNWkhlYWRlciA9IE5ldy1PYmplY3QgQnl0ZVtdKDIpCiAgICAgICAgJEZpbGVTdHJlYW0uUmVhZCgkTVpIZWFkZXIsMCwyKSB8IE91dC1OdWxsCiAgICAKICAgICAgICAkSGVhZGVyID0gW1N5c3RlbS5UZXh0LkFzY2lpRW5jb2RpbmddOjpBU0NJSS5HZXRTdHJpbmcoJE1aSGVhZGVyKQogICAgICAgIGlmICgkSGVhZGVyIC1uZSAnTVonKQogICAgICAgIHsKICAgICAgICAgICAgJEZpbGVTdHJlYW0uQ2xvc2UoKQogICAgICAgICAgICBUaHJvdyAnSW52YWxpZCBQRSBoZWFkZXIuJwogICAgICAgIH0KICAgIAogICAgICAgICMgU2VlayB0byAweDNjIC0gSU1BR0VfRE9TX0hFQURFUi5lX2xmYW5ldyAoaS5lLiBPZmZzZXQgdG8gUEUgSGVhZGVyKQogICAgICAgICRGaWxlU3RyZWFtLlNlZWsoMHgzYywgW1N5c3RlbS5JTy5TZWVrT3JpZ2luXTo6QmVnaW4pIHwgT3V0LU51bGwKICAgIAogICAgICAgIFtCeXRlW11dICRsZmFuZXcgPSBOZXctT2JqZWN0IEJ5dGVbXSg0KQogICAgCiAgICAgICAgIyBSZWFkIG9mZnNldCB0byB0aGUgUEUgSGVhZGVyICh3aWxsIGJlIHJlYWQgaW4gcmV2ZXJzZSkKICAgICAgICAkRmlsZVN0cmVhbS5SZWFkKCRsZmFuZXcsMCw0KSB8IE91dC1OdWxsCiAgICAgICAgJFBFT2Zmc2V0ID0gW0ludF0gKCcweHswfScgLWYgKCggJGxmYW5ld1stMS4uLTRdIHwgJSB7ICRfLlRvU3RyaW5nKCdYMicpIH0gKSAtam9pbiAnJykpCiAgICAKICAgICAgICAjIFNlZWsgdG8gSU1BR0VfRklMRV9IRUFERVIuSU1BR0VfRklMRV9NQUNISU5FCiAgICAgICAgJEZpbGVTdHJlYW0uU2VlaygkUEVPZmZzZXQgKyA0LCBbU3lzdGVtLklPLlNlZWtPcmlnaW5dOjpCZWdpbikgfCBPdXQtTnVsbAogICAgICAgIFtCeXRlW11dICRJTUFHRV9GSUxFX01BQ0hJTkUgPSBOZXctT2JqZWN0IEJ5dGVbXSgyKQogICAgCiAgICAgICAgIyBSZWFkIGNvbXBpbGVkIGFyY2hpdGVjdHVyZQogICAgICAgICRGaWxlU3RyZWFtLlJlYWQoJElNQUdFX0ZJTEVfTUFDSElORSwwLDIpIHwgT3V0LU51bGwKICAgICAgICAkQXJjaGl0ZWN0dXJlID0gJ3swfScgLWYgKCggJElNQUdFX0ZJTEVfTUFDSElORVstMS4uLTJdIHwgJSB7ICRfLlRvU3RyaW5nKCdYMicpIH0gKSAtam9pbiAnJykKICAgICAgICAkRmlsZVN0cmVhbS5DbG9zZSgpCiAgICAKICAgICAgICBpZiAoKCRBcmNoaXRlY3R1cmUgLW5lICcwMTRDJykgLWFuZCAoJEFyY2hpdGVjdHVyZSAtbmUgJzg2NjQnKSkKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICdJbnZhbGlkIFBFIGhlYWRlciBvciB1bnN1cHBvcnRlZCBhcmNoaXRlY3R1cmUuJwogICAgICAgIH0KICAgIAogICAgICAgIGlmICgkQXJjaGl0ZWN0dXJlIC1lcSAnMDE0QycpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgJzMyLWJpdCcKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkQXJjaGl0ZWN0dXJlIC1lcSAnODY2NCcpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgJzY0LWJpdCcKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICdPdGhlcicKICAgICAgICB9CiAgICB9CgogICAgJERsbEFyY2hpdGVjdHVyZSA9IEdldC1QRUFyY2hpdGVjdHVyZSAkRnVsbERsbFBhdGgKCiAgICAkT1NBcmNoID0gR2V0LVdtaU9iamVjdCBXaW4zMl9PcGVyYXRpbmdTeXN0ZW0gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBPU0FyY2hpdGVjdHVyZQoKICAgIGlmICgkRGxsQXJjaGl0ZWN0dXJlIC1uZSAkT1NBcmNoKQogICAgewogICAgICAgIHRocm93ICdUaGUgb3BlcmF0aW5nIHN5c3RlbSBhcmNoaXRlY3R1cmUgbXVzdCBtYXRjaCB0aGUgYXJjaGl0ZWN0dXJlIG9mIHRoZSBTU1AgZGxsLicKICAgIH0KCiAgICAkRGxsID0gR2V0LUl0ZW0gJEZ1bGxEbGxQYXRoIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTmFtZQoKICAgICMgR2V0IHRoZSBkbGwgZmlsZW5hbWUgd2l0aG91dCB0aGUgZXh0ZW5zaW9uLgogICAgIyBUaGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIHJlZ2lzdHJ5LgogICAgJERsbE5hbWUgPSAkRGxsIHwgJSB7ICUgeygkXyAtc3BsaXQgJ1wuJylbMF19IH0KCiAgICAjIEVudW1lcmF0ZSBhbGwgb2YgdGhlIGN1cnJlbnRseSBpbnN0YWxsZWQgU1NQcwogICAgJFNlY3VyaXR5UGFja2FnZXMgPSBHZXQtSXRlbVByb3BlcnR5IEhLTE06XFNZU1RFTVxDdXJyZW50Q29udHJvbFNldFxDb250cm9sXExzYSAtTmFtZSAnU2VjdXJpdHkgUGFja2FnZXMnIHwKICAgICAgICBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSAnU2VjdXJpdHkgUGFja2FnZXMnCgogICAgaWYgKCRTZWN1cml0eVBhY2thZ2VzIC1jb250YWlucyAkRGxsTmFtZSkKICAgIHsKICAgICAgICB0aHJvdyAiJyREbGxOYW1lJyBpcyBhbHJlYWR5IHByZXNlbnQgaW4gSEtMTTpcU1lTVEVNXEN1cnJlbnRDb250cm9sU2V0XENvbnRyb2xcTHNhXFNlY3VyaXR5IFBhY2thZ2VzLiIKICAgIH0KCiAgICAjIEluIGNhc2UgeW91J3JlIHJ1bm5pbmcgMzItYml0IFBvd2VyU2hlbGwgb24gYSA2NC1iaXQgT1MKICAgICROYXRpdmVJbnN0YWxsRGlyID0gIiQoJEVudjp3aW5kaXIpXFN5c25hdGl2ZSIKCiAgICBpZiAoVGVzdC1QYXRoICROYXRpdmVJbnN0YWxsRGlyKQogICAgewogICAgICAgICRJbnN0YWxsRGlyID0gJE5hdGl2ZUluc3RhbGxEaXIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkSW5zdGFsbERpciA9ICIkKCRFbnY6d2luZGlyKVxTeXN0ZW0zMiIKICAgIH0KCiAgICBpZiAoVGVzdC1QYXRoIChKb2luLVBhdGggJEluc3RhbGxEaXIgJERsbCkpCiAgICB7CiAgICAgICAgdGhyb3cgIiREbGwgaXMgYWxyZWFkeSBpbnN0YWxsZWQgaW4gJEluc3RhbGxEaXIuIgogICAgfQoKICAgICMgSWYgeW91J3ZlIG1hZGUgaXQgdGhpcyBmYXIsIHlvdSBhcmUgY2xlYXIgdG8gaW5zdGFsbCB0aGUgU1NQIGRsbC4KICAgIENvcHktSXRlbSAkRnVsbERsbFBhdGggJEluc3RhbGxEaXIKCiAgICAkU2VjdXJpdHlQYWNrYWdlcyArPSAkRGxsTmFtZQoKICAgIFNldC1JdGVtUHJvcGVydHkgSEtMTTpcU1lTVEVNXEN1cnJlbnRDb250cm9sU2V0XENvbnRyb2xcTHNhIC1OYW1lICdTZWN1cml0eSBQYWNrYWdlcycgLVZhbHVlICRTZWN1cml0eVBhY2thZ2VzCgogICAgJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1NTUEkyJykKICAgICRBc3NlbWJseUJ1aWxkZXIgPSBbQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbUmVmbGVjdGlvbi5FbWl0LkFzc2VtYmx5QnVpbGRlckFjY2Vzc106OlJ1bikKICAgICRNb2R1bGVCdWlsZGVyID0gJEFzc2VtYmx5QnVpbGRlci5EZWZpbmVEeW5hbWljTW9kdWxlKCdTU1BJMicsICRGYWxzZSkKCiAgICAkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdTU1BJMi5TZWN1cjMyJywgJ1B1YmxpYywgQ2xhc3MnKQogICAgJFBJbnZva2VNZXRob2QgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lUEludm9rZU1ldGhvZCgnQWRkU2VjdXJpdHlQYWNrYWdlJywKICAgICAgICAnc2VjdXIzMi5kbGwnLAogICAgICAgICdQdWJsaWMsIFN0YXRpYycsCiAgICAgICAgW1JlZmxlY3Rpb24uQ2FsbGluZ0NvbnZlbnRpb25zXTo6U3RhbmRhcmQsCiAgICAgICAgW0ludDMyXSwKICAgICAgICBbVHlwZVtdXSBAKFtTdHJpbmddLCBbSW50UHRyXSksCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNhbGxpbmdDb252ZW50aW9uXTo6V2luYXBpLAogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DaGFyU2V0XTo6QXV0bykKCiAgICAkU2VjdXIzMiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCiAgICBpZiAoW0ludFB0cl06OlNpemUgLWVxIDQpIHsKICAgICAgICAkU3RydWN0U2l6ZSA9IDIwCiAgICB9IGVsc2UgewogICAgICAgICRTdHJ1Y3RTaXplID0gMjQKICAgIH0KCiAgICAkU3RydWN0UHRyID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFN0cnVjdFNpemUpCiAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OldyaXRlSW50MzIoJFN0cnVjdFB0ciwgJFN0cnVjdFNpemUpCgogICAgJFJ1bnRpbWVTdWNjZXNzID0gJFRydWUKCiAgICB0cnkgewogICAgICAgICRSZXN1bHQgPSAkU2VjdXIzMjo6QWRkU2VjdXJpdHlQYWNrYWdlKCREbGxOYW1lLCAkU3RydWN0UHRyKQogICAgfSBjYXRjaCB7CiAgICAgICAgJEhSZXN1bHQgPSAkRXJyb3JbMF0uRXhjZXB0aW9uLklubmVyRXhjZXB0aW9uLkhSZXN1bHQKICAgICAgICBXcml0ZS1XYXJuaW5nICJSdW50aW1lIGxvYWRpbmcgb2YgdGhlIFNTUCBmYWlsZWQuICgweCQoJEhSZXN1bHQuVG9TdHJpbmcoJ1g4JykpKSIKICAgICAgICBXcml0ZS1XYXJuaW5nICJSZWFzb246ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJEhSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICRSdW50aW1lU3VjY2VzcyA9ICRGYWxzZQogICAgfQoKICAgIGlmICgkUnVudGltZVN1Y2Nlc3MpIHsKICAgICAgICBXcml0ZS1WZXJib3NlICdJbnN0YWxsYXRpb24gYW5kIGxvYWRpbmcgY29tcGxldGUhJwogICAgfSBlbHNlIHsKICAgICAgICBXcml0ZS1WZXJib3NlICdJbnN0YWxsYXRpb24gY29tcGxldGUhIFJlYm9vdCBmb3IgY2hhbmdlcyB0byB0YWtlIGVmZmVjdC4nCiAgICB9Cn0KCmZ1bmN0aW9uIEdldC1TZWN1cml0eVBhY2thZ2VzCnsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGVzIGFsbCBsb2FkZWQgc2VjdXJpdHkgcGFja2FnZXMgKFNTUHMpLgoKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKCi5ERVNDUklQVElPTgoKR2V0LVNlY3VyaXR5UGFja2FnZXMgaXMgYSB3cmFwcGVyIGZvciBzZWN1cjMyIUVudW1lcmF0ZVNlY3VyaXR5UGFja2FnZXMuCkl0IGFsc28gcGFyc2VzIHRoZSByZXR1cm5lZCBTZWNQa2dJbmZvIHN0cnVjdCBhcnJheS4KCi5FWEFNUExFCgpHZXQtU2VjdXJpdHlQYWNrYWdlcwojPgoKICAgIFtDbWRsZXRCaW5kaW5nKCldIFBhcmFtKCkKCiAgICAjcmVnaW9uIFAvSW52b2tlIGRlY2xhcmF0aW9ucyBmb3Igc2VjdXIzMi5kbGwKICAgICREeW5Bc3NlbWJseSA9IE5ldy1PYmplY3QgU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHlOYW1lKCdTU1BJJykKICAgICRBc3NlbWJseUJ1aWxkZXIgPSBbQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbUmVmbGVjdGlvbi5FbWl0LkFzc2VtYmx5QnVpbGRlckFjY2Vzc106OlJ1bikKICAgICRNb2R1bGVCdWlsZGVyID0gJEFzc2VtYmx5QnVpbGRlci5EZWZpbmVEeW5hbWljTW9kdWxlKCdTU1BJJywgJEZhbHNlKQoKICAgICRGbGFnc0NvbnN0cnVjdG9yID0gW0ZsYWdzQXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcihAKCkpCiAgICAkRmxhZ3NDdXN0b21BdHRyaWJ1dGUgPSBOZXctT2JqZWN0IFJlZmxlY3Rpb24uRW1pdC5DdXN0b21BdHRyaWJ1dGVCdWlsZGVyKCRGbGFnc0NvbnN0cnVjdG9yLCBAKCkpCiAgICAkU3RydWN0QXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoKICAgICRFbnVtQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZUVudW0oJ1NTUEkuU0VDUEtHX0ZMQUcnLCAnUHVibGljJywgW0ludDMyXSkKICAgICRFbnVtQnVpbGRlci5TZXRDdXN0b21BdHRyaWJ1dGUoJEZsYWdzQ3VzdG9tQXR0cmlidXRlKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnSU5URUdSSVRZJywgMSkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1BSSVZBQ1knLCAyKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVE9LRU5fT05MWScsIDQpCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdEQVRBR1JBTScsIDgpCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdDT05ORUNUSU9OJywgMHgxMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ01VTFRJX1JFUVVJUkVEJywgMHgyMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0NMSUVOVF9PTkxZJywgMHg0MCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0VYVEVOREVEX0VSUk9SJywgMHg4MCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0lNUEVSU09OQVRJT04nLCAweDEwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0FDQ0VQVF9XSU4zMl9OQU1FJywgMHgyMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdTVFJFQU0nLCAweDQwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ05FR09USUFCTEUnLCAweDgwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0dTU19DT01QQVRJQkxFJywgMHgxMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnTE9HT04nLCAweDIwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdBU0NJSV9CVUZGRVJTJywgMHg0MDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnRlJBR01FTlQnLCAweDgwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdNVVRVQUxfQVVUSCcsIDB4MTAwMDApCiAgICAkbnVsbCA9ICRFbnVtQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdERUxFR0FUSU9OJywgMHgyMDAwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1JFQURPTkxZX1dJVEhfQ0hFQ0tTVU0nLCAweDQwMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnUkVTVFJJQ1RFRF9UT0tFTlMnLCAweDgwMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnTkVHT19FWFRFTkRFUicsIDB4MTAwMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnTkVHT1RJQUJMRTInLCAweDIwMDAwMCkKICAgICRudWxsID0gJEVudW1CdWlsZGVyLkRlZmluZUxpdGVyYWwoJ0FQUENPTlRBSU5FUl9QQVNTVEhST1VHSCcsIDB4NDAwMDAwKQogICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnQVBQQ09OVEFJTkVSX0NIRUNLUycsIDB4ODAwMDAwKQogICAgJFNFQ1BLR19GTEFHID0gJEVudW1CdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1NTUEkuU2VjUGtnSW5mbycsICRTdHJ1Y3RBdHRyaWJ1dGVzLCBbT2JqZWN0XSwgW1JlZmxlY3Rpb24uRW1pdC5QYWNraW5nU2l6ZV06OlNpemU4KQogICAgJG51bGwgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2ZDYXBhYmlsaXRpZXMnLCAkU0VDUEtHX0ZMQUcsICdQdWJsaWMnKQogICAgJG51bGwgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3dWZXJzaW9uJywgW0ludDE2XSwgJ1B1YmxpYycpCiAgICAkbnVsbCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnd1JQQ0lEJywgW0ludDE2XSwgJ1B1YmxpYycpCiAgICAkbnVsbCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnY2JNYXhUb2tlbicsIFtJbnQzMl0sICdQdWJsaWMnKQogICAgJG51bGwgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ05hbWUnLCBbSW50UHRyXSwgJ1B1YmxpYycpCiAgICAkbnVsbCA9ICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQ29tbWVudCcsIFtJbnRQdHJdLCAnUHVibGljJykKICAgICRTZWNQa2dJbmZvID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1NTUEkuU2VjdXIzMicsICdQdWJsaWMsIENsYXNzJykKICAgICRQSW52b2tlTWV0aG9kID0gJFR5cGVCdWlsZGVyLkRlZmluZVBJbnZva2VNZXRob2QoJ0VudW1lcmF0ZVNlY3VyaXR5UGFja2FnZXMnLAogICAgICAgICdzZWN1cjMyLmRsbCcsCiAgICAgICAgJ1B1YmxpYywgU3RhdGljJywKICAgICAgICBbUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwKICAgICAgICBbSW50MzJdLAogICAgICAgIFtUeXBlW11dIEAoW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksCiAgICAgICAgICAgIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSksCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNhbGxpbmdDb252ZW50aW9uXTo6V2luYXBpLAogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DaGFyU2V0XTo6QW5zaSkKCiAgICAkU2VjdXIzMiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCiAgICAkUGFja2FnZUNvdW50ID0gMAogICAgJFBhY2thZ2VBcnJheVB0ciA9IFtJbnRQdHJdOjpaZXJvCiAgICAkUmVzdWx0ID0gJFNlY3VyMzI6OkVudW1lcmF0ZVNlY3VyaXR5UGFja2FnZXMoW1JlZl0gJFBhY2thZ2VDb3VudCwgW1JlZl0gJFBhY2thZ2VBcnJheVB0cikKCiAgICBpZiAoJFJlc3VsdCAtbmUgMCkKICAgIHsKICAgICAgICB0aHJvdyAiVW5hYmxlIHRvIGVudW1lcmF0ZSBzZXVjcml0eSBwYWNrYWdlcy4gRXJyb3IgKDB4JCgkUmVzdWx0LlRvU3RyaW5nKCdYOCcpKSkiCiAgICB9CgogICAgaWYgKCRQYWNrYWdlQ291bnQgLWVxIDApCiAgICB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAnVGhlcmUgYXJlIG5vIGluc3RhbGxlZCBzZWN1cml0eSBwYWNrYWdlcy4nCiAgICAgICAgcmV0dXJuCiAgICB9CgogICAgJFN0cnVjdEFkZHJlc3MgPSAkUGFja2FnZUFycmF5UHRyCgogICAgZm9yZWFjaCAoJGkgaW4gMS4uJFBhY2thZ2VDb3VudCkKICAgIHsKICAgICAgICAkU2VjUGFja2FnZVN0cnVjdCA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFN0cnVjdEFkZHJlc3MsIFtUeXBlXSAkU2VjUGtnSW5mbykKICAgICAgICAkU3RydWN0QWRkcmVzcyA9IFtJbnRQdHJdICgkU3RydWN0QWRkcmVzcy5Ub0ludDY0KCkgKyBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0gJFNlY1BrZ0luZm8pKQoKICAgICAgICAkTmFtZSA9ICRudWxsCgogICAgICAgIGlmICgkU2VjUGFja2FnZVN0cnVjdC5OYW1lIC1uZSBbSW50UHRyXTo6WmVybykKICAgICAgICB7CiAgICAgICAgICAgICROYW1lID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ0Fuc2koJFNlY1BhY2thZ2VTdHJ1Y3QuTmFtZSkKICAgICAgICB9CgogICAgICAgICRDb21tZW50ID0gJG51bGwKCiAgICAgICAgaWYgKCRTZWNQYWNrYWdlU3RydWN0LkNvbW1lbnQgLW5lIFtJbnRQdHJdOjpaZXJvKQogICAgICAgIHsKICAgICAgICAgICAgJENvbW1lbnQgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nQW5zaSgkU2VjUGFja2FnZVN0cnVjdC5Db21tZW50KQogICAgICAgIH0KCiAgICAgICAgJEF0dHJpYnV0ZXMgPSBAewogICAgICAgICAgICBOYW1lID0gJE5hbWUKICAgICAgICAgICAgQ29tbWVudCA9ICRDb21tZW50CiAgICAgICAgICAgIENhcGFiaWxpdGllcyA9ICRTZWNQYWNrYWdlU3RydWN0LmZDYXBhYmlsaXRpZXMKICAgICAgICAgICAgTWF4VG9rZW5TaXplID0gJFNlY1BhY2thZ2VTdHJ1Y3QuY2JNYXhUb2tlbgogICAgICAgIH0KCiAgICAgICAgJFNlY1BhY2thZ2UgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkQXR0cmlidXRlcwogICAgICAgICRTZWNQYWNrYWdlLlBTT2JqZWN0LlR5cGVOYW1lc1swXSA9ICdTRUNVUjMyLlNFQ1BLR0lORk8nCgogICAgICAgICRTZWNQYWNrYWdlCiAgICB9Cn0=
