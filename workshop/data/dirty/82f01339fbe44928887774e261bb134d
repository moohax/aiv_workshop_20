InvokeTokenManipulation.ps1,bb32a3f869f8e36b1d25708f518a8182,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gSW52b2tlLVRva2VuTWFuaXB1bGF0aW9uCnsKPCMKLlNZTk9QU0lTCgpUaGlzIHNjcmlwdCByZXF1aXJlcyBBZG1pbmlzdHJhdG9yIHByaXZpbGVnZXMuIEl0IGNhbiBlbnVtZXJhdGUgdGhlIExvZ29uIFRva2VucyBhdmFpbGFibGUgYW5kIHVzZSB0aGVtIHRvIGNyZWF0ZSBuZXcgcHJvY2Vzc2VzLiBUaGlzIGFsbG93cyB5b3UgdG8gdXNlCmFub3RoZXJzIHVzZXJzIGNyZWRlbnRpYWxzIG92ZXIgdGhlIG5ldHdvcmsgYnkgY3JlYXRpbmcgYSBwcm9jZXNzIHdpdGggdGhlaXIgbG9nb24gdG9rZW4uIFRoaXMgd2lsbCB3b3JrIGV2ZW4gd2l0aCBXaW5kb3dzIDguMSBMU0FTUyBwcm90ZWN0aW9ucy4KVGhpcyBmdW5jdGlvbmFsaXR5IGlzIHZlcnkgc2ltaWxhciB0byB0aGUgaW5jb2duaXRvIHRvb2wgKHdpdGggc29tZSBkaWZmZXJlbmNlcywgYW5kIGRpZmZlcmVudCB1c2UgZ29hbHMpLgoKVGhpcyBzY3JpcHQgY2FuIGFsc28gbWFrZSB0aGUgUG93ZXJTaGVsbCB0aHJlYWQgaW1wZXJzb25hdGUgYW5vdGhlciB1c2VycyBMb2dvbiBUb2tlbi4gVW5mb3J0dW5hdGVseSB0aGlzIGRvZXNuJ3Qgd29yayB3ZWxsLCBiZWNhdXNlIFBvd2VyU2hlbGwKY3JlYXRlcyBuZXcgdGhyZWFkcyB0byBkbyB0aGluZ3MsIGFuZCB0aG9zZSB0aHJlYWRzIHdpbGwgdXNlIHRoZSBQcmltYXJ5IHRva2VuIG9mIHRoZSBQb3dlclNoZWxsIHByb2Nlc3MgKHlvdXIgb3JpZ2luYWwgdG9rZW4pIGFuZCBub3QgdGhlIHRva2VuCnRoYXQgb25lIHRocmVhZCBpcyBpbXBlcnNvbmF0aW5nLiBCZWNhdXNlIG9mIHRoaXMsIHlvdSBjYW5ub3QgdXNlIHRocmVhZCBpbXBlcnNvbmF0aW9uIHRvIGltcGVyc29uYXRlIGEgdXNlciBhbmQgdGhlbiB1c2UgUG93ZXJTaGVsbCByZW1vdGluZyB0byBjb25uZWN0CnRvIGFub3RoZXIgc2VydmVyIGFzIHRoYXQgdXNlciAoaXQgd2lsbCBhdXRoZW50aWNhdGUgdXNpbmcgdGhlIHByaW1hcnkgdG9rZW4gb2YgdGhlIHByb2Nlc3MsIHdoaWNoIGlzIHlvdXIgb3JpZ2luYWwgbG9nb24gdG9rZW4pLgoKQmVjYXVzZSBvZiB0aGlzIGxpbWl0YXRpb24sIHRoZSByZWNvbW1lbmRlZCB3YXkgdG8gdXNlIHRoaXMgc2NyaXB0IGlzIHRvIHVzZSBDcmVhdGVQcm9jZXNzIHRvIGNyZWF0ZSBhIG5ldyBQb3dlclNoZWxsIHByb2Nlc3Mgd2l0aCBhbm90aGVyIHVzZXJzIExvZ29uIApUb2tlbiwgYW5kIHRoZW4gdXNlIHRoaXMgcHJvY2VzcyB0byBwaXZvdC4gVGhpcyB3b3JrcyBiZWNhdXNlIHRoZSBlbnRpcmUgcHJvY2VzcyBpcyBjcmVhdGVkIHVzaW5nIHRoZSBvdGhlciB1c2VycyBMb2dvbiBUb2tlbiwgc28gaXQgd2lsbCB1c2UgdGhlaXIKY3JlZGVudGlhbHMgZm9yIHRoZSBhdXRoZW50aWNhdGlvbi4KCklNUE9SVEFOVDogSWYgeW91IGFyZSBjcmVhdGluZyBhIHByb2Nlc3MsIGJ5IGRlZmF1bHQgdGhpcyBzY3JpcHQgd2lsbCBtb2RpZnkgdGhlIEFDTCBvZiB0aGUgY3VycmVudCB1c2VycyBkZXNrdG9wIHRvIGFsbG93IGZ1bGwgY29udHJvbCB0byAiRXZlcnlvbmUiLiAKVGhpcyBpcyBkb25lIHNvIHRoYXQgdGhlIFVJIG9mIHRoZSBwcm9jZXNzIGlzIHNob3duLiBJZiB5b3UgZG8gbm90IG5lZWQgdGhlIFVJLCB1c2UgdGhlIC1Ob1VJIGZsYWcgdG8gcHJldmVudCB0aGUgQUNMIGZyb20gYmVpbmcgbW9kaWZpZWQuIFRoaXMgQUNMCmlzIG5vdCBwZXJtZW5hbnQsIGFzIGluLCB3aGVuIHRoZSBjdXJyZW50IGxvZ3Mgb2ZmIHRoZSBBQ0wgaXMgY2xlYXJlZC4gSXQgaXMgc3RpbGwgcHJlZmVycmFibGUgdG8gbm90IG1vZGlmeSB0aGluZ3MgdW5sZXNzIHRoZXkgbmVlZCB0byBiZSBtb2RpZmllZCB0aG91Z2gsCnNvIEkgY3JlYXRlZCB0aGUgTm9VSSBmbGFnLiBBTFNPOiBXaGVuIGNyZWF0aW5nIGEgcHJvY2VzcywgdGhlIHNjcmlwdCB3aWxsIHJlcXVlc3QgU2VTZWN1cml0eVByaXZpbGVnZSBzbyBpdCBjYW4gZW51bWVyYXRlIGFuZCBtb2RpZnkgdGhlIEFDTCBvZiB0aGUgZGVza3RvcC4KVGhpcyBjb3VsZCBzaG93IHVwIGluIGxvZ3MgZGVwZW5kaW5nIG9uIHRoZSBsZXZlbCBvZiBtb25pdG9yaW5nLgoKClBFUk1JU1NJT05TIFJFUVVJUkVEOgpTZVNlY3VyaXR5UHJpdmlsZWdlOiBOZWVkZWQgaWYgbGF1bmNoaW5nIGEgcHJvY2VzcyB3aXRoIGEgVUkgdGhhdCBuZWVkcyB0byBiZSByZW5kZXJlZC4gVXNpbmcgdGhlIC1Ob1VJIGZsYWcgYmxvY2tzIHRoaXMuClNlQXNzaWduUHJpbWFyeVRva2VuUHJpdmlsZWdlIDogTmVlZGVkIGlmIGxhdW5jaGluZyBhIHByb2Nlc3Mgd2hpbGUgdGhlIHNjcmlwdCBpcyBydW5uaW5nIGluIFNlc3Npb24gMC4KCgpJbXBvcnRhbnQgZGlmZmVyZW5jZXMgZnJvbSBpbmNvZ25pdG86CkZpcnN0IG9mIGFsbCwgeW91IHNob3VsZCBwcm9iYWJseSByZWFkIHRoZSBpbmNvZ25pdG8gd2hpdGUgcGFwZXIgdG8gdW5kZXJzdGFuZCB3aGF0IGluY29nbml0byBkb2VzLiBJZiB5b3UgdXNlIGluY29nbml0bywgeW91J2xsIG5vdGljZSBpdCBkaWZmZXJlbnRpYXRlcwpiZXR3ZWVuICJJbXBlcnNvbmF0aW9uIiBhbmQgIkRlbGVnYXRpb24iIHRva2Vucy4gVGhpcyBpcyBiZWNhdXNlIGluY29nbml0byBjYW4gYmUgdXNlZCBpbiBzaXR1YXRpb25zIHdoZXJlIHlvdSBnZXQgcmVtb3RlIGNvZGUgZXhlY3V0aW9uIGFnYWluc3QgYSBzZXJ2aWNlCndoaWNoIGhhcyB0aHJlYWRzIGltcGVyc29uYXRpbmcgbXVsdGlwbGUgdXNlcnMuIEluY29nbml0byBjYW4gZW51bWVyYXRlIGFsbCB0b2tlbnMgYXZhaWxhYmxlIHRvIHRoZSBzZXJ2aWNlIHByb2Nlc3MsIGFuZCBpbXBlcnNvbmF0ZSB0aGVtICh3aGljaCBtaWdodCBhbGxvdwp5b3UgdG8gZWxldmF0ZSBwcml2aWxlZ2VzKS4gVGhpcyBzY3JpcHQgbXVzdCBiZSBydW4gYXMgYWRtaW5pc3RyYXRvciwgYW5kIGJlY2F1c2UgeW91IGFyZSBhbHJlYWR5IGFuIGFkbWluaXN0cmF0b3IsIHRoZSBwcmltYXJ5IHVzZSBvZiB0aGlzIHNjcmlwdCBpcyBmb3IgcGl2b3RpbmcKd2l0aG91dCBkdW1waW5nIGNyZWRlbnRpYWxzLiAKCkluIHRoaXMgc2l0dWF0aW9uLCBJbXBlcnNvbmF0aW9uIHZzIERlbGVnYXRpb24gZG9lcyBub3QgbWF0dGVyIGJlY2F1c2UgYW4gYWRtaW5pc3RyYXRvciBjYW4gdHVybiBhbnkgdG9rZW4gaW4gdG8gYSBwcmltYXJ5IHRva2VuIChkZWxlZ2F0aW9uIHJpZ2h0cykuIFdoYXQgZG9lcwptYXR0ZXIgaXMgdGhlIGxvZ29uIHR5cGUgdXNlZCB0byBjcmVhdGUgdGhlIGxvZ29uIHRva2VuLiBJZiBhIHVzZXIgY29ubmVjdHMgdXNpbmcgTmV0d29yayBMb2dvbiAoYWthIHR5cGUgMyBsb2dvbiksIHRoZSBjb21wdXRlciB3aWxsIG5vdCBoYXZlIGFueSBjcmVkZW50aWFscyBmb3IgCnRoZSB1c2VyLiBTaW5jZSB0aGUgY29tcHV0ZXIgaGFzIG5vIGNyZWRlbnRpYWxzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4sIGl0IHdpbGwgbm90IGJlIHBvc3NpYmxlIHRvIGF1dGhlbnRpY2F0ZSBvZmYtYm94IHdpdGggdGhlIHRva2VuLiBBbGwgb3RoZXIgbG9nb24gdHlwZXMKc2hvdWxkIGhhdmUgY3JlZGVudGlhbHMgYXNzb2NpYXRlZCB3aXRoIHRoZW0gKHN1Y2ggYXMgSW50ZXJhY3RpdmUgbG9nb24sIFNlcnZpY2UgbG9nb24sIFJlbW90ZSBpbnRlcmFjdGl2ZSBsb2dvbiwgZXRjKS4gVGhlcmVmb3JlLCB0aGlzIHNjcmlwdCBsb29rcwpmb3IgdG9rZW5zIHdoaWNoIHdlcmUgY3JlYXRlZCB3aXRoIGRlc2lyYWJsZSBsb2dvbiB0b2tlbnMgKGFuZCBvbmx5IGRpc3BsYXlzIHRoZW0gYnkgZGVmYXVsdCkuCgpJbiBhIG51dHNoZWxsLCBpbnN0ZWFkIG9mIHdvcnJ5aW5nIGFib3V0ICJkZWxlZ2F0aW9uIHZzIGltcGVyc29uYXRpb24iIHRva2VucywgeW91IHNob3VsZCB3b3JyeSBhYm91dCBOZXR3b3JrTG9nb24gKGJhZCkgdnMgTm9uLU5ldHdvcmtMb2dvbiAoZ29vZCkuCgoKUG93ZXJTcGxvaXQgRnVuY3Rpb246IEludm9rZS1Ub2tlbk1hbmlwdWxhdGlvbgpBdXRob3I6IEpvZSBCaWFsZWssIFR3aXR0ZXI6IEBKb3NlcGhCaWFsZWsKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKVmVyc2lvbjogMS4xMQooMS4xIC0+IDEuMTE6IFBhc3NUaHJ1IG9mIFN5c3RlbS5EaWFnbm9zdGljcy5Qcm9jZXNzIG9iamVjdCBhZGRlZCBieSBSdW5lIE1hcmlib2UsIGh0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9pbi9ydW5lbWFyaWJvZSkKCi5ERVNDUklQVElPTgoKTGlzdHMgYXZhaWxhYmxlIGxvZ29uIHRva2Vucy4gQ3JlYXRlcyBwcm9jZXNzZXMgd2l0aCBvdGhlciB1c2VycyBsb2dvbiB0b2tlbnMsIGFuZCBpbXBlcnNvbmF0ZXMgbG9nb24gdG9rZW5zIGluIHRoZSBjdXJyZW50IHRocmVhZC4KCi5QQVJBTUVURVIgRW51bWVyYXRlCgpTd2l0Y2guIFNwZWNpZmljcyB0byBlbnVtZXJhdGUgbG9nb24gdG9rZW5zIGF2YWlsYWJsZS4gQnkgZGVmYXVsdCB0aGlzIHdpbGwgb25seSBsaXN0IHVucWl1ZSB1c2FibGUgdG9rZW5zIChub3QgbmV0d29yay1sb2dvbiB0b2tlbnMpLgoKLlBBUkFNRVRFUiBSZXZUb1NlbGYKClN3aXRjaC4gU3RvcHMgaW1wZXJzb25hdGluZyBhbiBhbHRlcm5hdGUgdXNlcnMgVG9rZW4uCgouUEFSQU1FVEVSIFNob3dBbGwKClN3aXRjaC4gRW51bWVyYXRlIGFsbCBMb2dvbiBUb2tlbnMgKGluY2x1ZGluZyBub24tdW5pcXVlIHRva2VucyBhbmQgTmV0d29ya0xvZ29uIHRva2VucykuCgouUEFSQU1FVEVSIEltcGVyc29uYXRlVXNlcgoKU3dpdGNoLiBXaWxsIGltcGVyc29uYXRlIGFuIGFsdGVybmF0ZSB1c2VycyBsb2dvbiB0b2tlbiBpbiB0aGUgUG93ZXJTaGVsbCB0aHJlYWQuIENhbiBzcGVjaWZ5IHRoZSB0b2tlbiB0byB1c2UgYnkgVXNlcm5hbWUsIFByb2Nlc3NJZCwgb3IgVGhyZWFkSWQuCiAgICBUaGlzIG1vZGUgaXMgbm90IHJlY29tbWVuZGVkIGJlY2F1c2UgUG93ZXJTaGVsbCBpcyBoZWF2aWx5IHRocmVhZGVkIGFuZCBtYW55IGFjdGlvbnMgd29uJ3QgYmUgZG9uZSBpbiB0aGUgY3VycmVudCB0aHJlYWQuIFVzZSBDcmVhdGVQcm9jZXNzIGluc3RlYWQuCiAgICAKLlBBUkFNRVRFUiBDcmVhdGVQcm9jZXNzCgpTcGVjaWZ5IGEgcHJvY2VzcyB0byBjcmVhdGUgd2l0aCBhbiBhbHRlcm5hdGUgdXNlcnMgbG9nb24gdG9rZW4uIENhbiBzcGVjaWZ5IHRoZSB0b2tlbiB0byB1c2UgYnkgVXNlcm5hbWUsIFByb2Nlc3NJZCwgb3IgVGhyZWFkSWQuCiAgICAKLlBBUkFNRVRFUiBXaG9BbUkKClN3aXRjaC4gRGlzcGxheXMgdGhlIGNyZWRlbnRpYWxzIHRoZSBQb3dlclNoZWxsIHRocmVhZCBpcyBydW5uaW5nIHVuZGVyLgoKLlBBUkFNRVRFUiBVc2VybmFtZQoKU3BlY2lmeSB0aGUgVG9rZW4gdG8gdXNlIGJ5IHVzZXJuYW1lLiBUaGlzIHdpbGwgY2hvb3NlIGEgbm9uLU5ldHdvcmtMb2dvbiB0b2tlbiBiZWxvbmdpbmcgdG8gdGhlIHVzZXIuCgouUEFSQU1FVEVSIFByb2Nlc3NJZAoKU3BlY2lmeSB0aGUgVG9rZW4gdG8gdXNlIGJ5IFByb2Nlc3NJZC4gVGhpcyB3aWxsIHVzZSB0aGUgcHJpbWFyeSB0b2tlbiBvZiB0aGUgcHJvY2VzcyBzcGVjaWZpZWQuCgouUEFSQU1FVEVSIFByb2Nlc3MKClNwZWNpZnkgdGhlIHRva2VuIHRvIHVzZSBieSBwcm9jZXNzIG9iamVjdCAod2lsbCB1c2UgdGhlIHByb2Nlc3NJZCB1bmRlciB0aGUgY292ZXJzKS4gVGhpcyB3aWxsIGltcGVyc29uYXRlIHRoZSBwcmltYXJ5IHRva2VuIG9mIHRoZSBwcm9jZXNzLgoKLlBBUkFNRVRFUiBUaHJlYWRJZAoKU3BlY2lmeSB0aGUgVG9rZW4gdG8gdXNlIGJ5IFRocmVhZElkLiBUaGlzIHdpbGwgdXNlIHRoZSB0b2tlbiBvZiB0aGUgdGhyZWFkIHNwZWNpZmllZC4KCi5QQVJBTUVURVIgUHJvY2Vzc0FyZ3MKClNwZWNpZnkgdGhlIGFyZ3VtZW50cyB0byBzdGFydCB0aGUgc3BlY2lmaWVkIHByb2Nlc3Mgd2l0aCB3aGVuIHVzaW5nIHRoZSAtQ3JlYXRlUHJvY2VzcyBtb2RlLgoKLlBBUkFNRVRFUiBOb1VJCgpJZiB5b3UgYXJlIGNyZWF0aW5nIGEgcHJvY2VzcyB3aGljaCBkb2Vzbid0IG5lZWQgYSBVSSB0byBiZSByZW5kZXJlZCwgdXNlIHRoaXMgZmxhZy4gVGhpcyB3aWxsIHByZXZlbnQgdGhlIHNjcmlwdCBmcm9tIG1vZGlmeWluZyB0aGUgRGVza3RvcCBBQ0wncyBvZiB0aGUgCmN1cnJlbnQgdXNlci4gSWYgdGhpcyBmbGFnIGlzbid0IHNldCBhbmQgLUNyZWF0ZVByb2Nlc3MgaXMgdXNlZCwgdGhpcyBzY3JpcHQgd2lsbCBtb2RpZnkgdGhlIEFDTCdzIG9mIHRoZSBjdXJyZW50IHVzZXJzIGRlc2t0b3AgdG8gYWxsb3cgZnVsbCBjb250cm9sCnRvICJFdmVyeW9uZSIuCgouUEFSQU1FVEVSIFBhc3NUaHJ1CgpJZiB5b3UgYXJlIGNyZWF0aW5nIGEgcHJvY2VzcywgdGhpcyB3aWxsIHBhc3MgdGhlIFN5c3RlbS5EaWFnbm9zdGljcy5Qcm9jZXNzIG9iamVjdCB0byB0aGUgcGlwZWxpbmUuCgogICAgCi5FWEFNUExFCgpJbnZva2UtVG9rZW5NYW5pcHVsYXRpb24gLUVudW1lcmF0ZQoKTGlzdHMgYWxsIHVuaXF1ZSB1c2FibGUgdG9rZW5zIG9uIHRoZSBjb21wdXRlci4KCi5FWEFNUExFCgpJbnZva2UtVG9rZW5NYW5pcHVsYXRpb24gLUNyZWF0ZVByb2Nlc3MgImNtZC5leGUiIC1Vc2VybmFtZSAibnQgYXV0aG9yaXR5XHN5c3RlbSIKClNwYXducyBjbWQuZXhlIGFzIFNZU1RFTS4KCi5FWEFNUExFCgpJbnZva2UtVG9rZW5NYW5pcHVsYXRpb24gLUltcGVyc29uYXRlVXNlciAtVXNlcm5hbWUgIm50IGF1dGhvcml0eVxzeXN0ZW0iCgpNYWtlcyB0aGUgY3VycmVudCBQb3dlclNoZWxsIHRocmVhZCBpbXBlcnNvbmF0ZSBTWVNURU0uCgouRVhBTVBMRQoKSW52b2tlLVRva2VuTWFuaXB1bGF0aW9uIC1DcmVhdGVQcm9jZXNzICJjbWQuZXhlIiAtUHJvY2Vzc0lkIDUwMAoKU3Bhd25zIGNtZC5leGUgdXNpbmcgdGhlIHByaW1hcnkgdG9rZW4gYmVsb25naW5nIHRvIHByb2Nlc3MgSUQgNTAwLgoKLkVYQU1QTEUKCkludm9rZS1Ub2tlbk1hbmlwdWxhdGlvbiAtU2hvd0FsbAoKTGlzdHMgYWxsIHRva2VucyBhdmFpbGFibGUgb24gdGhlIGNvbXB1dGVyLCBpbmNsdWRpbmcgbm9uLXVuaXF1ZSB0b2tlbnMgYW5kIHRva2VucyBjcmVhdGVkIHVzaW5nIE5ldHdvcmtMb2dvbi4KCi5FWEFNUExFCgpJbnZva2UtVG9rZW5NYW5pcHVsYXRpb24gLUNyZWF0ZVByb2Nlc3MgImNtZC5leGUiIC1UaHJlYWRJZCA1MDAKClNwYXducyBjbWQuZXhlIHVzaW5nIHRoZSB0b2tlbiBiZWxvbmdpbmcgdG8gdGhyZWFkIElEIDUwMC4KCi5FWEFNUExFCgpHZXQtUHJvY2VzcyB3aW5pbml0IHwgSW52b2tlLVRva2VuTWFuaXB1bGF0aW9uIC1DcmVhdGVQcm9jZXNzICJjbWQuZXhlIgoKU3Bhd25zIGNtZC5leGUgdXNpbmcgdGhlIHByaW1hcnkgdG9rZW4gb2YgTFNBU1MuZXhlLiBUaGlzIHBpcGVzIHRoZSBvdXRwdXQgb2YgR2V0LVByb2Nlc3MgdG8gdGhlICItUHJvY2VzcyIgcGFyYW1ldGVyIG9mIHRoZSBzY3JpcHQuCgouRVhBTVBMRQoKKEdldC1Qcm9jZXNzIHdpbmluaXQgfCBJbnZva2UtVG9rZW5NYW5pcHVsYXRpb24gLUNyZWF0ZVByb2Nlc3MgImNtZC5leGUiIC1QYXNzVGhydSkuV2FpdEZvckV4aXQoKQoKU3Bhd25zIGNtZC5leGUgdXNpbmcgdGhlIHByaW1hcnkgdG9rZW4gb2YgTFNBU1MuZXhlLiBUaGVuIGhvbGRzIHRoZSBzcGF3bmluZyBQb3dlclNoZWxsIHNlc3Npb24gdW50aWwgdGhhdCBwcm9jZXNzIGhhcyBleGl0ZWQuCgouRVhBTVBMRQoKR2V0LVByb2Nlc3Mgd2luaW5pdCB8IEludm9rZS1Ub2tlbk1hbmlwdWxhdGlvbiAtSW1wZXJzb25hdGVVc2VyCgpNYWtlcyB0aGUgY3VycmVudCB0aHJlYWQgaW1wZXJzb25hdGUgdGhlIGxzYXNzIHNlY3VyaXR5IHRva2VuLgoKLk5PVEVTClRoaXMgc2NyaXB0IHdhcyBpbnNwaXJlZCBieSBpbmNvZ25pdG8uIAoKU2V2ZXJhbCBvZiB0aGUgZnVuY3Rpb25zIHVzZWQgaW4gdGhpcyBzY3JpcHQgd2VyZSB3cml0dGVuIGJ5IE1hdHQgR3JhZWJlcihUd2l0dGVyOiBAbWF0dGlmZXN0YXRpb24sIEJsb2c6IGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tLykuCkJJRyBUSEFOS1MgdG8gTWF0dCBHcmFlYmVyIGZvciBoZWxwaW5nIGRlYnVnLgoKLkxJTksKCkJsb2c6IGh0dHA6Ly9jbHltYjNyLndvcmRwcmVzcy5jb20vCkdpdGh1YiByZXBvOiBodHRwczovL2dpdGh1Yi5jb20vY2x5bWIzci9Qb3dlclNoZWxsCkJsb2cgb24gdGhpcyBzY3JpcHQ6IGh0dHA6Ly9jbHltYjNyLndvcmRwcmVzcy5jb20vMjAxMy8xMS8wMy9wb3dlcnNoZWxsLWFuZC10b2tlbi1pbXBlcnNvbmF0aW9uLwoKIz4KCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZT0iRW51bWVyYXRlIildCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiRW51bWVyYXRlIildCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRW51bWVyYXRlLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiUmV2VG9TZWxmIildCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmV2VG9TZWxmLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiU2hvd0FsbCIpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNob3dBbGwsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJJbXBlcnNvbmF0ZVVzZXIiKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRJbXBlcnNvbmF0ZVVzZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJDcmVhdGVQcm9jZXNzIildCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ3JlYXRlUHJvY2VzcywKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIldob0FtSSIpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFdob0FtSSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkltcGVyc29uYXRlVXNlciIpXQogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJDcmVhdGVQcm9jZXNzIildCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlcm5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJJbXBlcnNvbmF0ZVVzZXIiKV0KICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiQ3JlYXRlUHJvY2VzcyIpXQogICAgICAgIFtJbnRdCiAgICAgICAgJFByb2Nlc3NJZCwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkltcGVyc29uYXRlVXNlciIsIFZhbHVlRnJvbVBpcGVsaW5lPSR0cnVlKV0KICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiQ3JlYXRlUHJvY2VzcyIsIFZhbHVlRnJvbVBpcGVsaW5lPSR0cnVlKV0KICAgICAgICBbU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3NdCiAgICAgICAgJFByb2Nlc3MsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJJbXBlcnNvbmF0ZVVzZXIiKV0KICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiQ3JlYXRlUHJvY2VzcyIpXQogICAgICAgICRUaHJlYWRJZCwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkNyZWF0ZVByb2Nlc3MiKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcm9jZXNzQXJncywKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkNyZWF0ZVByb2Nlc3MiKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICROb1VJLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiQ3JlYXRlUHJvY2VzcyIpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFBhc3NUaHJ1CiAgICApCgogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgI1dpbjMyQ29uc3RhbnRzCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAkQ29uc3RhbnRzID0gQHsKICAgICAgICBBQ0NFU1NfU1lTVEVNX1NFQ1VSSVRZID0gMHgwMTAwMDAwMAogICAgICAgIFJFQURfQ09OVFJPTCA9IDB4MDAwMjAwMDAKICAgICAgICBTWU5DSFJPTklaRSA9IDB4MDAxMDAwMDAKICAgICAgICBTVEFOREFSRF9SSUdIVFNfQUxMID0gMHgwMDFGMDAwMAogICAgICAgIFRPS0VOX1FVRVJZID0gOAogICAgICAgIFRPS0VOX0FESlVTVF9QUklWSUxFR0VTID0gMHgyMAogICAgICAgIEVSUk9SX05PX1RPS0VOID0gMHgzZjAKICAgICAgICBTRUNVUklUWV9ERUxFR0FUSU9OID0gMwogICAgICAgIERBQ0xfU0VDVVJJVFlfSU5GT1JNQVRJT04gPSAweDQKICAgICAgICBBQ0NFU1NfQUxMT1dFRF9BQ0VfVFlQRSA9IDB4MAogICAgICAgIFNUQU5EQVJEX1JJR0hUU19SRVFVSVJFRCA9IDB4MDAwRjAwMDAKICAgICAgICBERVNLVE9QX0dFTkVSSUNfQUxMID0gMHgwMDBGMDFGRgogICAgICAgIFdSSVRFX0RBQyA9IDB4MDAwNDAwMDAKICAgICAgICBPQkpFQ1RfSU5IRVJJVF9BQ0UgPSAweDEKICAgICAgICBHUkFOVF9BQ0NFU1MgPSAweDEKICAgICAgICBUUlVTVEVFX0lTX05BTUUgPSAweDEKICAgICAgICBUUlVTVEVFX0lTX1NJRCA9IDB4MAogICAgICAgIFRSVVNURUVfSVNfVVNFUiA9IDB4MQogICAgICAgIFRSVVNURUVfSVNfV0VMTF9LTk9XTl9HUk9VUCA9IDB4NQogICAgICAgIFRSVVNURUVfSVNfR1JPVVAgPSAweDIKICAgICAgICBQUk9DRVNTX1FVRVJZX0lORk9STUFUSU9OID0gMHg0MDAKICAgICAgICBUT0tFTl9BU1NJR05fUFJJTUFSWSA9IDB4MQogICAgICAgIFRPS0VOX0RVUExJQ0FURSA9IDB4MgogICAgICAgIFRPS0VOX0lNUEVSU09OQVRFID0gMHg0CiAgICAgICAgVE9LRU5fUVVFUllfU09VUkNFID0gMHgxMAogICAgICAgIFNUQU5EQVJEX1JJR0hUU19SRUFEID0gMHgyMDAwMAogICAgICAgIFRva2VuU3RhdGlzdGljcyA9IDEwCiAgICAgICAgVE9LRU5fQUxMX0FDQ0VTUyA9IDB4ZjAxZmYKICAgICAgICBNQVhJTVVNX0FMTE9XRUQgPSAweDAyMDAwMDAwCiAgICAgICAgVEhSRUFEX0FMTF9BQ0NFU1MgPSAweDFmMDNmZgogICAgICAgIEVSUk9SX0lOVkFMSURfUEFSQU1FVEVSID0gMHg1NwogICAgICAgIExPR09OX05FVENSRURFTlRJQUxTX09OTFkgPSAweDIKICAgICAgICBTRV9QUklWSUxFR0VfRU5BQkxFRCA9IDB4MgogICAgICAgIFNFX1BSSVZJTEVHRV9FTkFCTEVEX0JZX0RFRkFVTFQgPSAweDEKICAgICAgICBTRV9QUklWSUxFR0VfUkVNT1ZFRCA9IDB4NAogICAgfQoKICAgICRXaW4zMkNvbnN0YW50cyA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5ICRDb25zdGFudHMKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgI1dpbjMyU3RydWN0dXJlcwogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgI0RlZmluZSBhbGwgdGhlIHN0cnVjdHVyZXMvZW51bXMgdGhhdCB3aWxsIGJlIHVzZWQKICAgICMgICAgVGhpcyBhcnRpY2xlIHNob3dzIHlvdSBob3cgdG8gZG8gdGhpcyB3aXRoIHJlZmxlY3Rpb246IGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tLzIwMTIvMDcvc3RydWN0cy1hbmQtZW51bXMtdXNpbmctcmVmbGVjdGlvbi5odG1sCiAgICAkRG9tYWluID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4KICAgICREeW5hbWljQXNzZW1ibHkgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5TmFtZSgnRHluYW1pY0Fzc2VtYmx5JykKICAgICRBc3NlbWJseUJ1aWxkZXIgPSAkRG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluYW1pY0Fzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCiAgICAkTW9kdWxlQnVpbGRlciA9ICRBc3NlbWJseUJ1aWxkZXIuRGVmaW5lRHluYW1pY01vZHVsZSgnRHluYW1pY01vZHVsZScsICRmYWxzZSkKICAgICRDb25zdHJ1Y3RvckluZm8gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KCiAgICAjRU5VTXMKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZUVudW0oJ1RPS0VOX0lORk9STUFUSU9OX0NMQVNTJywgJ1B1YmxpYycsIFtVSW50MzJdKQogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuVXNlcicsIFtVSW50MzJdIDEpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkdyb3VwcycsIFtVSW50MzJdIDIpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblByaXZpbGVnZXMnLCBbVUludDMyXSAzKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Pd25lcicsIFtVSW50MzJdIDQpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblByaW1hcnlHcm91cCcsIFtVSW50MzJdIDUpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkRlZmF1bHREYWNsJywgW1VJbnQzMl0gNikgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuU291cmNlJywgW1VJbnQzMl0gNykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuVHlwZScsIFtVSW50MzJdIDgpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkltcGVyc29uYXRpb25MZXZlbCcsIFtVSW50MzJdIDkpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblN0YXRpc3RpY3MnLCBbVUludDMyXSAxMCkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuUmVzdHJpY3RlZFNpZHMnLCBbVUludDMyXSAxMSkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuU2Vzc2lvbklkJywgW1VJbnQzMl0gMTIpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkdyb3Vwc0FuZFByaXZpbGVnZXMnLCBbVUludDMyXSAxMykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuU2Vzc2lvblJlZmVyZW5jZScsIFtVSW50MzJdIDE0KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5TYW5kQm94SW5lcnQnLCBbVUludDMyXSAxNSkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuQXVkaXRQb2xpY3knLCBbVUludDMyXSAxNikgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuT3JpZ2luJywgW1VJbnQzMl0gMTcpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkVsZXZhdGlvblR5cGUnLCBbVUludDMyXSAxOCkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuTGlua2VkVG9rZW4nLCBbVUludDMyXSAxOSkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuRWxldmF0aW9uJywgW1VJbnQzMl0gMjApIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkhhc1Jlc3RyaWN0aW9ucycsIFtVSW50MzJdIDIxKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5BY2Nlc3NJbmZvcm1hdGlvbicsIFtVSW50MzJdIDIyKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5WaXJ0dWFsaXphdGlvbkFsbG93ZWQnLCBbVUludDMyXSAyMykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuVmlydHVhbGl6YXRpb25FbmFibGVkJywgW1VJbnQzMl0gMjQpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkludGVncml0eUxldmVsJywgW1VJbnQzMl0gMjUpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblVJQWNjZXNzJywgW1VJbnQzMl0gMjYpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbk1hbmRhdG9yeVBvbGljeScsIFtVSW50MzJdIDI3KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Mb2dvblNpZCcsIFtVSW50MzJdIDI4KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Jc0FwcENvbnRhaW5lcicsIFtVSW50MzJdIDI5KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5DYXBhYmlsaXRpZXMnLCBbVUludDMyXSAzMCkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuQXBwQ29udGFpbmVyU2lkJywgW1VJbnQzMl0gMzEpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkFwcENvbnRhaW5lck51bWJlcicsIFtVSW50MzJdIDMyKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Vc2VyQ2xhaW1BdHRyaWJ1dGVzJywgW1VJbnQzMl0gMzMpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkRldmljZUNsYWltQXR0cmlidXRlcycsIFtVSW50MzJdIDM0KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5SZXN0cmljdGVkVXNlckNsYWltQXR0cmlidXRlcycsIFtVSW50MzJdIDM1KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5SZXN0cmljdGVkRGV2aWNlQ2xhaW1BdHRyaWJ1dGVzJywgW1VJbnQzMl0gMzYpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkRldmljZUdyb3VwcycsIFtVSW50MzJdIDM3KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5SZXN0cmljdGVkRGV2aWNlR3JvdXBzJywgW1VJbnQzMl0gMzgpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblNlY3VyaXR5QXR0cmlidXRlcycsIFtVSW50MzJdIDM5KSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Jc1Jlc3RyaWN0ZWQnLCBbVUludDMyXSA0MCkgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ01heFRva2VuSW5mb0NsYXNzJywgW1VJbnQzMl0gNDEpIHwgT3V0LU51bGwKICAgICRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUyA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCiAgICAjU1RSVUNUcwogICAgJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0xBUkdFX0lOVEVHRVInLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA4KQogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb3dQYXJ0JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0hpZ2hQYXJ0JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkTEFSR0VfSU5URUdFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCiAgICAjU3RydWN0IExVSUQKICAgICRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCiAgICAkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdMVUlEJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgOCkKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG93UGFydCcsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdIaWdoUGFydCcsIFtJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkTFVJRCA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCiAgICAjU3RydWN0IFRPS0VOX1NUQVRJU1RJQ1MKICAgICRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCiAgICAkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdUT0tFTl9TVEFUSVNUSUNTJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVG9rZW5JZCcsICRMVUlELCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBdXRoZW50aWNhdGlvbklkJywgJExVSUQsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0V4cGlyYXRpb25UaW1lJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1Rva2VuVHlwZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdJbXBlcnNvbmF0aW9uTGV2ZWwnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRHluYW1pY0NoYXJnZWQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRHluYW1pY0F2YWlsYWJsZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdHcm91cENvdW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1ByaXZpbGVnZUNvdW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01vZGlmaWVkSWQnLCAkTFVJRCwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUT0tFTl9TVEFUSVNUSUNTID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgTFNBX1VOSUNPREVfU1RSSU5HCiAgICAkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnTFNBX1VOSUNPREVfU1RSSU5HJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTGVuZ3RoJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01heGltdW1MZW5ndGgnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQnVmZmVyJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkTFNBX1VOSUNPREVfU1RSSU5HID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgTFNBX0xBU1RfSU5URVJfTE9HT05fSU5GTwogICAgJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0xTQV9MQVNUX0lOVEVSX0xPR09OX0lORk8nLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdKQogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMYXN0U3VjY2Vzc2Z1bExvZ29uJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xhc3RGYWlsZWRMb2dvbicsICRMQVJHRV9JTlRFR0VSLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGYWlsZWRBdHRlbXB0Q291bnRTaW5jZUxhc3RTdWNjZXNzZnVsTG9nb24nLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRMU0FfTEFTVF9JTlRFUl9MT0dPTl9JTkZPID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgU0VDVVJJVFlfTE9HT05fU0VTU0lPTl9EQVRBCiAgICAkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnU0VDVVJJVFlfTE9HT05fU0VTU0lPTl9EQVRBJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb2dpbklEJywgJExVSUQsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1VzZXJuYW1lJywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9naW5Eb21haW4nLCAkTFNBX1VOSUNPREVfU1RSSU5HLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBdXRoZW50aWNhdGlvblBhY2thZ2UnLCAkTFNBX1VOSUNPREVfU1RSSU5HLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb2dvblR5cGUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2Vzc2lvbicsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaWQnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9naW5UaW1lJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvZ2luU2VydmVyJywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRG5zRG9tYWluTmFtZScsICRMU0FfVU5JQ09ERV9TVFJJTkcsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1VwbicsICRMU0FfVU5JQ09ERV9TVFJJTkcsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1VzZXJGbGFncycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMYXN0TG9nb25JbmZvJywgJExTQV9MQVNUX0lOVEVSX0xPR09OX0lORk8sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvZ29uU2NyaXB0JywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUHJvZmlsZVBhdGgnLCAkTFNBX1VOSUNPREVfU1RSSU5HLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdIb21lRGlyZWN0b3J5JywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSG9tZURpcmVjdG9yeURyaXZlJywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9nb2ZmVGltZScsICRMQVJHRV9JTlRFR0VSLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdLaWNrT2ZmVGltZScsICRMQVJHRV9JTlRFR0VSLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQYXNzd29yZExhc3RTZXQnLCAkTEFSR0VfSU5URUdFUiwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUGFzc3dvcmRDYW5DaGFuZ2UnLCAkTEFSR0VfSU5URUdFUiwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUGFzc3dvcmRNdXN0Q2hhbmdlJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkU0VDVVJJVFlfTE9HT05fU0VTU0lPTl9EQVRBID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgU1RBUlRVUElORk8KICAgICRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCiAgICAkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdTVEFSVFVQSU5GTycsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2NiJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2xwUmVzZXJ2ZWQnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnbHBEZXNrdG9wJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2xwVGl0bGUnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZHdYJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3WScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdkd1hTaXplJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3WVNpemUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZHdYQ291bnRDaGFycycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdkd1lDb3VudENoYXJzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3RmlsbEF0dHJpYnV0ZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdkd0ZsYWdzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3dTaG93V2luZG93JywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2NiUmVzZXJ2ZWQyJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2xwUmVzZXJ2ZWQyJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2hTdGRJbnB1dCcsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdoU3RkT3V0cHV0JywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2hTdGRFcnJvcicsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFNUQVJUVVBJTkZPID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgUFJPQ0VTU19JTkZPUk1BVElPTgogICAgJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1BST0NFU1NfSU5GT1JNQVRJT04nLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdKQogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdoUHJvY2VzcycsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdoVGhyZWFkJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3UHJvY2Vzc0lkJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3VGhyZWFkSWQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRQUk9DRVNTX0lORk9STUFUSU9OID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgVE9LRU5fRUxFVkFUSU9OCiAgICAkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnVE9LRU5fRUxFVkFUSU9OJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVG9rZW5Jc0VsZXZhdGVkJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVE9LRU5fRUxFVkFUSU9OID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKICAgICNTdHJ1Y3QgTFVJRF9BTkRfQVRUUklCVVRFUwogICAgJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0xVSURfQU5EX0FUVFJJQlVURVMnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCAxMikKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTHVpZCcsICRMVUlELCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBdHRyaWJ1dGVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkTFVJRF9BTkRfQVRUUklCVVRFUyA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKICAgICAgICAKICAgICNTdHJ1Y3QgVE9LRU5fUFJJVklMRUdFUwogICAgJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1RPS0VOX1BSSVZJTEVHRVMnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCAxNikKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUHJpdmlsZWdlQ291bnQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUHJpdmlsZWdlcycsICRMVUlEX0FORF9BVFRSSUJVVEVTLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFRPS0VOX1BSSVZJTEVHRVMgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgogICAgI1N0cnVjdCBBQ0VfSEVBREVSCiAgICAkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnQUNFX0hFQURFUicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjZVR5cGUnLCBbQnl0ZV0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjZUZsYWdzJywgW0J5dGVdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBY2VTaXplJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkQUNFX0hFQURFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCiAgICAjU3RydWN0IEFDTAogICAgJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0FDTCcsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjbFJldmlzaW9uJywgW0J5dGVdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTYnoxJywgW0J5dGVdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBY2xTaXplJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjZUNvdW50JywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NiejInLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRBQ0wgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgogICAgI1N0cnVjdCBBQ0VfSEVBREVSCiAgICAkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnQUNDRVNTX0FMTE9XRURfQUNFJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSGVhZGVyJywgJEFDRV9IRUFERVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01hc2snLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2lkU3RhcnQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRBQ0NFU1NfQUxMT1dFRF9BQ0UgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgogICAgI1N0cnVjdCBUUlVTVEVFCiAgICAkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwogICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnVFJVU1RFRScsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3BNdWx0aXBsZVRydXN0ZWUnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTXVsdGlwbGVUcnVzdGVlT3BlcmF0aW9uJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RydXN0ZWVGb3JtJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RydXN0ZWVUeXBlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3B0c3RyTmFtZScsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFRSVVNURUUgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgogICAgI1N0cnVjdCBFWFBMSUNJVF9BQ0NFU1MKICAgICRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCiAgICAkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdFWFBMSUNJVF9BQ0NFU1MnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdKQogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdncmZBY2Nlc3NQZXJtaXNzaW9ucycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAogICAgJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdncmZBY2Nlc3NNb2RlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2dyZkluaGVyaXRhbmNlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCiAgICAkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RydXN0ZWUnLCAkVFJVU1RFRSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKICAgICRFWFBMSUNJVF9BQ0NFU1MgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICNXaW4zMkZ1bmN0aW9ucwogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgJE9wZW5Qcm9jZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgT3BlblByb2Nlc3MKICAgICRPcGVuUHJvY2Vzc0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtVSW50MzJdLCBbQm9vbF0sIFtVSW50MzJdKSAoW0ludFB0cl0pCiAgICAkT3BlblByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkT3BlblByb2Nlc3NBZGRyLCAkT3BlblByb2Nlc3NEZWxlZ2F0ZSkKCiAgICAkT3BlblByb2Nlc3NUb2tlbkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIE9wZW5Qcm9jZXNzVG9rZW4KICAgICRPcGVuUHJvY2Vzc1Rva2VuRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAkT3BlblByb2Nlc3NUb2tlbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuUHJvY2Vzc1Rva2VuQWRkciwgJE9wZW5Qcm9jZXNzVG9rZW5EZWxlZ2F0ZSkgICAgCgogICAgJEdldFRva2VuSW5mb3JtYXRpb25BZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBHZXRUb2tlbkluZm9ybWF0aW9uCiAgICAkR2V0VG9rZW5JbmZvcm1hdGlvbkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCAkVE9LRU5fSU5GT1JNQVRJT05fQ0xBU1MsIFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQogICAgJEdldFRva2VuSW5mb3JtYXRpb24gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0VG9rZW5JbmZvcm1hdGlvbkFkZHIsICRHZXRUb2tlbkluZm9ybWF0aW9uRGVsZWdhdGUpICAgIAoKICAgICRTZXRUaHJlYWRUb2tlbkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFNldFRocmVhZFRva2VuCiAgICAkU2V0VGhyZWFkVG9rZW5EZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0pIChbQm9vbF0pCiAgICAkU2V0VGhyZWFkVG9rZW4gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkU2V0VGhyZWFkVG9rZW5BZGRyLCAkU2V0VGhyZWFkVG9rZW5EZWxlZ2F0ZSkgICAgCgogICAgJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgSW1wZXJzb25hdGVMb2dnZWRPblVzZXIKICAgICRJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlckRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdKSAoW0Jvb2xdKQogICAgJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyQWRkciwgJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyRGVsZWdhdGUpCgogICAgJFJldmVydFRvU2VsZkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFJldmVydFRvU2VsZgogICAgJFJldmVydFRvU2VsZkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKCkgKFtCb29sXSkKICAgICRSZXZlcnRUb1NlbGYgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkUmV2ZXJ0VG9TZWxmQWRkciwgJFJldmVydFRvU2VsZkRlbGVnYXRlKQoKICAgICRMc2FHZXRMb2dvblNlc3Npb25EYXRhQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBzZWN1cjMyLmRsbCBMc2FHZXRMb2dvblNlc3Npb25EYXRhCiAgICAkTHNhR2V0TG9nb25TZXNzaW9uRGF0YURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbVUludDMyXSkKICAgICRMc2FHZXRMb2dvblNlc3Npb25EYXRhID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJExzYUdldExvZ29uU2Vzc2lvbkRhdGFBZGRyLCAkTHNhR2V0TG9nb25TZXNzaW9uRGF0YURlbGVnYXRlKQoKICAgICRDcmVhdGVQcm9jZXNzV2l0aFRva2VuV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XCiAgICAkQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlbldEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdKSAoW0Jvb2xdKQogICAgJENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XQWRkciwgJENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XRGVsZWdhdGUpCgogICAgJG1lbXNldEFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgbXN2Y3J0LmRsbCBtZW1zZXQKICAgICRtZW1zZXREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludDMyXSwgW0ludFB0cl0pIChbSW50UHRyXSkKICAgICRtZW1zZXQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkbWVtc2V0QWRkciwgJG1lbXNldERlbGVnYXRlKQoKICAgICREdXBsaWNhdGVUb2tlbkV4QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgRHVwbGljYXRlVG9rZW5FeAogICAgJER1cGxpY2F0ZVRva2VuRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICREdXBsaWNhdGVUb2tlbkV4ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJER1cGxpY2F0ZVRva2VuRXhBZGRyLCAkRHVwbGljYXRlVG9rZW5FeERlbGVnYXRlKQoKICAgICRMb29rdXBBY2NvdW50U2lkV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIExvb2t1cEFjY291bnRTaWRXCiAgICAkTG9va3VwQWNjb3VudFNpZFdEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICRMb29rdXBBY2NvdW50U2lkVyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMb29rdXBBY2NvdW50U2lkV0FkZHIsICRMb29rdXBBY2NvdW50U2lkV0RlbGVnYXRlKQoKICAgICRDbG9zZUhhbmRsZUFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIENsb3NlSGFuZGxlCiAgICAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSkgKFtCb29sXSkKICAgICRDbG9zZUhhbmRsZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDbG9zZUhhbmRsZUFkZHIsICRDbG9zZUhhbmRsZURlbGVnYXRlKQoKICAgICRMc2FGcmVlUmV0dXJuQnVmZmVyQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBzZWN1cjMyLmRsbCBMc2FGcmVlUmV0dXJuQnVmZmVyCiAgICAkTHNhRnJlZVJldHVybkJ1ZmZlckRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdKSAoW1VJbnQzMl0pCiAgICAkTHNhRnJlZVJldHVybkJ1ZmZlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMc2FGcmVlUmV0dXJuQnVmZmVyQWRkciwgJExzYUZyZWVSZXR1cm5CdWZmZXJEZWxlZ2F0ZSkKCiAgICAkT3BlblRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIE9wZW5UaHJlYWQKICAgICRPcGVuVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sIFtCb29sXSwgW1VJbnQzMl0pIChbSW50UHRyXSkKICAgICRPcGVuVGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE9wZW5UaHJlYWRBZGRyLCAkT3BlblRocmVhZERlbGVnYXRlKQoKICAgICRPcGVuVGhyZWFkVG9rZW5BZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBPcGVuVGhyZWFkVG9rZW4KICAgICRPcGVuVGhyZWFkVG9rZW5EZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtCb29sXSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQogICAgJE9wZW5UaHJlYWRUb2tlbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuVGhyZWFkVG9rZW5BZGRyLCAkT3BlblRocmVhZFRva2VuRGVsZWdhdGUpCgogICAgJENyZWF0ZVByb2Nlc3NBc1VzZXJXQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgQ3JlYXRlUHJvY2Vzc0FzVXNlclcKICAgICRDcmVhdGVQcm9jZXNzQXNVc2VyV0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0Jvb2xdLCBbVUludDMyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0pIChbQm9vbF0pCiAgICAkQ3JlYXRlUHJvY2Vzc0FzVXNlclcgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ3JlYXRlUHJvY2Vzc0FzVXNlcldBZGRyLCAkQ3JlYXRlUHJvY2Vzc0FzVXNlcldEZWxlZ2F0ZSkKCiAgICAkT3BlbldpbmRvd1N0YXRpb25XQWRkciA9IEdldC1Qcm9jQWRkcmVzcyB1c2VyMzIuZGxsIE9wZW5XaW5kb3dTdGF0aW9uVwogICAgJE9wZW5XaW5kb3dTdGF0aW9uV0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbQm9vbF0sIFtVSW50MzJdKSAoW0ludFB0cl0pCiAgICAkT3BlbldpbmRvd1N0YXRpb25XID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE9wZW5XaW5kb3dTdGF0aW9uV0FkZHIsICRPcGVuV2luZG93U3RhdGlvbldEZWxlZ2F0ZSkKCiAgICAkT3BlbkRlc2t0b3BBQWRkciA9IEdldC1Qcm9jQWRkcmVzcyB1c2VyMzIuZGxsIE9wZW5EZXNrdG9wQQogICAgJE9wZW5EZXNrdG9wQURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtTdHJpbmddLCBbVUludDMyXSwgW0Jvb2xdLCBbVUludDMyXSkgKFtJbnRQdHJdKQogICAgJE9wZW5EZXNrdG9wQSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuRGVza3RvcEFBZGRyLCAkT3BlbkRlc2t0b3BBRGVsZWdhdGUpCgogICAgJEltcGVyc29uYXRlU2VsZkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgQWR2YXBpMzIuZGxsIEltcGVyc29uYXRlU2VsZgogICAgJEltcGVyc29uYXRlU2VsZkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnQzMl0pIChbQm9vbF0pCiAgICAkSW1wZXJzb25hdGVTZWxmID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEltcGVyc29uYXRlU2VsZkFkZHIsICRJbXBlcnNvbmF0ZVNlbGZEZWxlZ2F0ZSkKCiAgICAkTG9va3VwUHJpdmlsZWdlVmFsdWVBZGRyID0gR2V0LVByb2NBZGRyZXNzIEFkdmFwaTMyLmRsbCBMb29rdXBQcml2aWxlZ2VWYWx1ZUEKICAgICRMb29rdXBQcml2aWxlZ2VWYWx1ZURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtTdHJpbmddLCBbU3RyaW5nXSwgJExVSUQuTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQogICAgJExvb2t1cFByaXZpbGVnZVZhbHVlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJExvb2t1cFByaXZpbGVnZVZhbHVlQWRkciwgJExvb2t1cFByaXZpbGVnZVZhbHVlRGVsZWdhdGUpCgogICAgJEFkanVzdFRva2VuUHJpdmlsZWdlc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgQWR2YXBpMzIuZGxsIEFkanVzdFRva2VuUHJpdmlsZWdlcwogICAgJEFkanVzdFRva2VuUHJpdmlsZWdlc0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbQm9vbF0sICRUT0tFTl9QUklWSUxFR0VTLk1ha2VCeVJlZlR5cGUoKSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSkgKFtCb29sXSkKICAgICRBZGp1c3RUb2tlblByaXZpbGVnZXMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQWRqdXN0VG9rZW5Qcml2aWxlZ2VzQWRkciwgJEFkanVzdFRva2VuUHJpdmlsZWdlc0RlbGVnYXRlKQoKICAgICRHZXRDdXJyZW50VGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0Q3VycmVudFRocmVhZAogICAgJEdldEN1cnJlbnRUaHJlYWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQCgpIChbSW50UHRyXSkKICAgICRHZXRDdXJyZW50VGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEdldEN1cnJlbnRUaHJlYWRBZGRyLCAkR2V0Q3VycmVudFRocmVhZERlbGVnYXRlKQoKICAgICRHZXRTZWN1cml0eUluZm9BZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBHZXRTZWN1cml0eUluZm8KICAgICRHZXRTZWN1cml0eUluZm9EZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgKFtVSW50MzJdKQogICAgJEdldFNlY3VyaXR5SW5mbyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRHZXRTZWN1cml0eUluZm9BZGRyLCAkR2V0U2VjdXJpdHlJbmZvRGVsZWdhdGUpCgogICAgJFNldFNlY3VyaXR5SW5mb0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFNldFNlY3VyaXR5SW5mbwogICAgJFNldFNlY3VyaXR5SW5mb0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdKSAoW1VJbnQzMl0pCiAgICAkU2V0U2VjdXJpdHlJbmZvID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFNldFNlY3VyaXR5SW5mb0FkZHIsICRTZXRTZWN1cml0eUluZm9EZWxlZ2F0ZSkKCiAgICAkR2V0QWNlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgR2V0QWNlCiAgICAkR2V0QWNlRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbSW50UHRyXSkKICAgICRHZXRBY2UgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0QWNlQWRkciwgJEdldEFjZURlbGVnYXRlKQoKICAgICRMb29rdXBBY2NvdW50U2lkV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIExvb2t1cEFjY291bnRTaWRXCiAgICAkTG9va3VwQWNjb3VudFNpZFdEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICRMb29rdXBBY2NvdW50U2lkVyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMb29rdXBBY2NvdW50U2lkV0FkZHIsICRMb29rdXBBY2NvdW50U2lkV0RlbGVnYXRlKQoKICAgICRBZGRBY2Nlc3NBbGxvd2VkQWNlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgQWRkQWNjZXNzQWxsb3dlZEFjZQogICAgJEFkZEFjY2Vzc0FsbG93ZWRBY2VEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtCb29sXSkKICAgICRBZGRBY2Nlc3NBbGxvd2VkQWNlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEFkZEFjY2Vzc0FsbG93ZWRBY2VBZGRyLCAkQWRkQWNjZXNzQWxsb3dlZEFjZURlbGVnYXRlKQoKICAgICRDcmVhdGVXZWxsS25vd25TaWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBDcmVhdGVXZWxsS25vd25TaWQKICAgICRDcmVhdGVXZWxsS25vd25TaWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbVUludDMyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAkQ3JlYXRlV2VsbEtub3duU2lkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJENyZWF0ZVdlbGxLbm93blNpZEFkZHIsICRDcmVhdGVXZWxsS25vd25TaWREZWxlZ2F0ZSkKCiAgICAkU2V0RW50cmllc0luQWNsV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFNldEVudHJpZXNJbkFjbFcKICAgICRTZXRFbnRyaWVzSW5BY2xXRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sICRFWFBMSUNJVF9BQ0NFU1MuTWFrZUJ5UmVmVHlwZSgpLCBbSW50UHRyXSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpKSAoW1VJbnQzMl0pCiAgICAkU2V0RW50cmllc0luQWNsVyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRTZXRFbnRyaWVzSW5BY2xXQWRkciwgJFNldEVudHJpZXNJbkFjbFdEZWxlZ2F0ZSkKCiAgICAkTG9jYWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgTG9jYWxGcmVlCiAgICAkTG9jYWxGcmVlRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0pIChbSW50UHRyXSkKICAgICRMb2NhbEZyZWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTG9jYWxGcmVlQWRkciwgJExvY2FsRnJlZURlbGVnYXRlKQoKICAgICRMb29rdXBQcml2aWxlZ2VOYW1lV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIExvb2t1cFByaXZpbGVnZU5hbWVXCiAgICAkTG9va3VwUHJpdmlsZWdlTmFtZVdEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAkTG9va3VwUHJpdmlsZWdlTmFtZVcgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTG9va3VwUHJpdmlsZWdlTmFtZVdBZGRyLCAkTG9va3VwUHJpdmlsZWdlTmFtZVdEZWxlZ2F0ZSkKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiAgICBpZiAoLW5vdCAoW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzUHJpbmNpcGFsXSBbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NJZGVudGl0eV06OkdldEN1cnJlbnQoKSkuSXNJblJvbGUoW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzQnVpbHRJblJvbGVdICJBZG1pbmlzdHJhdG9yIikgLWFuZCAkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaW5lICJSZXZUb1NlbGYiKQogICAgewogICAgICAgIFdyaXRlLUVycm9yICJTY3JpcHQgbXVzdCBiZSBydW4gYXMgYWRtaW5pc3RyYXRvciIgLUVycm9yQWN0aW9uIFN0b3AKICAgIH0KCiAgICAjSWYgcnVubmluZyBpbiBzZXNzaW9uIDAsIGZvcmNlIE5vVUkKICAgIGlmIChbU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3NdOjpHZXRDdXJyZW50UHJvY2VzcygpLlNlc3Npb25JZCAtZXEgMCkKICAgIHsKICAgICAgICBXcml0ZS1WZXJib3NlICJSdW5uaW5nIGluIFNlc3Npb24gMCwgZm9yY2luZyBOb1VJIChwcm9jZXNzZXMgaW4gU2Vzc2lvbiAwIGNhbm5vdCBoYXZlIGEgVUkpIgogICAgICAgICROb1VJID0gJHRydWUKICAgIH0KCiAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWllcSAiUmV2VG9TZWxmIikKICAgIHsKICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1TaG93T3V0cHV0CiAgICB9CiAgICBlbHNlaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1pZXEgIkNyZWF0ZVByb2Nlc3MiIC1vciAkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJJbXBlcnNvbmF0ZVVzZXIiKQogICAgewogICAgICAgICRBbGxUb2tlbnMgPSBFbnVtLUFsbFRva2VucwogICAgICAgIAogICAgICAgICNTZWxlY3QgdGhlIHRva2VuIHRvIHVzZQogICAgICAgIFtJbnRQdHJdJGhUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgJFVuaXF1ZVRva2VucyA9IChHZXQtVW5pcXVlVG9rZW5zIC1BbGxUb2tlbnMgJEFsbFRva2VucykuVG9rZW5CeVVzZXIKICAgICAgICBpZiAoJFVzZXJuYW1lIC1uZSAkbnVsbCAtYW5kICRVc2VybmFtZSAtbmUgJycpCiAgICAgICAgewogICAgICAgICAgICBpZiAoJFVuaXF1ZVRva2Vucy5Db250YWluc0tleSgkVXNlcm5hbWUpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkaFRva2VuID0gJFVuaXF1ZVRva2Vuc1skVXNlcm5hbWVdLmhUb2tlbgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2VsZWN0aW5nIHRva2VuIGJ5IHVzZXJuYW1lIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtRXJyb3IgIkEgdG9rZW4gYmVsb25naW5nIHRvIHRoZSBzcGVjaWZpZWQgdXNlcm5hbWUgd2FzIG5vdCBmb3VuZC4gVXNlcm5hbWU6ICQoJFVzZXJuYW1lKSIgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCAkUHJvY2Vzc0lkIC1uZSAkbnVsbCAtYW5kICRQcm9jZXNzSWQgLW5lIDApCiAgICAgICAgewogICAgICAgICAgICBmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCgkVG9rZW4gfCBHZXQtTWVtYmVyIFByb2Nlc3NJZCkgLWFuZCAkVG9rZW4uUHJvY2Vzc0lkIC1lcSAkUHJvY2Vzc0lkKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRoVG9rZW4gPSAkVG9rZW4uaFRva2VuCiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2VsZWN0aW5nIHRva2VuIGJ5IFByb2Nlc3NJRCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRoVG9rZW4gLWVxIFtJbnRQdHJdOjpaZXJvKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1FcnJvciAiQSB0b2tlbiBiZWxvbmdpbmcgdG8gUHJvY2Vzc0lkICQoJFByb2Nlc3NJZCkgY291bGQgbm90IGJlIGZvdW5kLiBFaXRoZXIgdGhlIHByb2Nlc3MgZG9lc24ndCBleGlzdCBvciBpdCBpcyBhIHByb3RlY3RlZCBwcm9jZXNzIGFuZCBjYW5ub3QgYmUgb3BlbmVkLiIgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRUaHJlYWRJZCAtbmUgJG51bGwgLWFuZCAkVGhyZWFkSWQgLW5lIDApCiAgICAgICAgewogICAgICAgICAgICBmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCgkVG9rZW4gfCBHZXQtTWVtYmVyIFRocmVhZElkKSAtYW5kICRUb2tlbi5UaHJlYWRJZCAtZXEgJFRocmVhZElkKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRoVG9rZW4gPSAkVG9rZW4uaFRva2VuCiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2VsZWN0aW5nIHRva2VuIGJ5IFRocmVhZElkIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJGhUb2tlbiAtZXEgW0ludFB0cl06Olplcm8pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLUVycm9yICJBIHRva2VuIGJlbG9uZ2luZyB0byBUaHJlYWRJZCAkKCRUaHJlYWRJZCkgY291bGQgbm90IGJlIGZvdW5kLiBFaXRoZXIgdGhlIHRocmVhZCBkb2Vzbid0IGV4aXN0IG9yIHRoZSB0aHJlYWQgaXMgaW4gYSBwcm90ZWN0ZWQgcHJvY2VzcyBhbmQgY2Fubm90IGJlIG9wZW5lZC4iIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUHJvY2VzcyAtbmUgJG51bGwpCiAgICAgICAgewogICAgICAgICAgICBmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCgkVG9rZW4gfCBHZXQtTWVtYmVyIFByb2Nlc3NJZCkgLWFuZCAkVG9rZW4uUHJvY2Vzc0lkIC1lcSAkUHJvY2Vzcy5JZCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkaFRva2VuID0gJFRva2VuLmhUb2tlbgogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlNlbGVjdGluZyB0b2tlbiBieSBQcm9jZXNzIG9iamVjdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRoVG9rZW4gLWVxIFtJbnRQdHJdOjpaZXJvKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1FcnJvciAiQSB0b2tlbiBiZWxvbmdpbmcgdG8gUHJvY2VzcyAkKCRQcm9jZXNzLk5hbWUpIFByb2Nlc3NJZCAkKCRQcm9jZXNzLklkKSBjb3VsZCBub3QgYmUgZm91bmQuIEVpdGhlciB0aGUgcHJvY2VzcyBkb2Vzbid0IGV4aXN0IG9yIGl0IGlzIGEgcHJvdGVjdGVkIHByb2Nlc3MgYW5kIGNhbm5vdCBiZSBvcGVuZWQuIiAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLUVycm9yICJNdXN0IHN1cHBseSBhIFVzZXJuYW1lLCBQcm9jZXNzSWQsIFRocmVhZElkLCBvciBQcm9jZXNzIG9iamVjdCIgIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgfQoKICAgICAgICAjVXNlIHRoZSB0b2tlbiBmb3IgdGhlIHNlbGVjdGVkIGFjdGlvbgogICAgICAgIGlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJDcmVhdGVQcm9jZXNzIikKICAgICAgICB7CiAgICAgICAgICAgIGlmICgtbm90ICROb1VJKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBTZXQtRGVza3RvcEFDTHMKICAgICAgICAgICAgfQoKICAgICAgICAgICAgQ3JlYXRlLVByb2Nlc3NXaXRoVG9rZW4gLWhUb2tlbiAkaFRva2VuIC1Qcm9jZXNzTmFtZSAkQ3JlYXRlUHJvY2VzcyAtUHJvY2Vzc0FyZ3MgJFByb2Nlc3NBcmdzIC1QYXNzVGhydTokUGFzc1RocnUKCiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkSW1wZXJzb25hdGVVc2VyKQogICAgICAgIHsKICAgICAgICAgICAgSW52b2tlLUltcGVyc29uYXRlVXNlciAtaFRva2VuICRoVG9rZW4gfCBPdXQtTnVsbAogICAgICAgICAgICBXcml0ZS1PdXRwdXQgIlJ1bm5pbmcgQXM6ICQoW0Vudmlyb25tZW50XTo6VXNlckRvbWFpbk5hbWUpXCQoW0Vudmlyb25tZW50XTo6VXNlck5hbWUpIgogICAgICAgIH0KCiAgICAgICAgRnJlZS1BbGxUb2tlbnMgLVRva2VuSW5mb09ianMgJEFsbFRva2VucwogICAgfQogICAgZWxzZWlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJXaG9BbUkiKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiJChbRW52aXJvbm1lbnRdOjpVc2VyRG9tYWluTmFtZSlcJChbRW52aXJvbm1lbnRdOjpVc2VyTmFtZSkiCiAgICB9CiAgICBlbHNlICNFbnVtZXJhdGUgdG9rZW5zCiAgICB7CiAgICAgICAgJEFsbFRva2VucyA9IEVudW0tQWxsVG9rZW5zCgogICAgICAgIGlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJTaG93QWxsIikKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAkQWxsVG9rZW5zCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAoR2V0LVVuaXF1ZVRva2VucyAtQWxsVG9rZW5zICRBbGxUb2tlbnMpLlRva2VuQnlVc2VyLlZhbHVlcwogICAgICAgIH0KCiAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZgoKICAgICAgICBGcmVlLUFsbFRva2VucyAtVG9rZW5JbmZvT2JqcyAkQWxsVG9rZW5zCiAgICB9Cn0KCmZ1bmN0aW9uIEZyZWUtQWxsVG9rZW5zCnsKICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KICAgICAgICBbUFNPYmplY3RbXV0KICAgICAgICAkVG9rZW5JbmZvT2JqcwogICAgKQoKICAgIGZvcmVhY2ggKCRPYmogaW4gJFRva2VuSW5mb09ianMpCiAgICB7CiAgICAgICAgJFN1Y2Nlc3MgPSAkQ2xvc2VIYW5kbGUuSW52b2tlKCRPYmouaFRva2VuKQogICAgICAgIGlmICgtbm90ICRTdWNjZXNzKQogICAgICAgIHsKICAgICAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRmFpbGVkIHRvIGNsb3NlIHRva2VuIGhhbmRsZSBpbiBGcmVlLUFsbFRva2Vucy4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgogICAgICAgIH0KICAgICAgICAkT2JqLmhUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCiAgICB9Cn0KCmZ1bmN0aW9uIEludm9rZS1SZXZlcnRUb1NlbGYKewogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRTaG93T3V0cHV0CiAgICApCgogICAgJFN1Y2Nlc3MgPSAkUmV2ZXJ0VG9TZWxmLkludm9rZSgpCgogICAgaWYgKCRTaG93T3V0cHV0KQogICAgewogICAgICAgIGlmICgkU3VjY2VzcykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiUmV2ZXJ0VG9TZWxmIHdhcyBzdWNjZXNzZnVsLiBSdW5uaW5nIGFzOiAkKFtFbnZpcm9ubWVudF06OlVzZXJEb21haW5OYW1lKVwkKFtFbnZpcm9ubWVudF06OlVzZXJOYW1lKSIKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJSZXZlcnRUb1NlbGYgZmFpbGVkLiBSdW5uaW5nIGFzOiAkKFtFbnZpcm9ubWVudF06OlVzZXJEb21haW5OYW1lKVwkKFtFbnZpcm9ubWVudF06OlVzZXJOYW1lKSIKICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIEludm9rZS1JbXBlcnNvbmF0ZVVzZXIKewogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtJbnRQdHJdCiAgICAgICAgJGhUb2tlbgogICAgKQoKICAgICNEdXBsaWNhdGUgdGhlIHRva2VuIHNvIGl0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBwcm9jZXNzCiAgICBbSW50UHRyXSROZXdIVG9rZW4gPSBbSW50UHRyXTo6WmVybwogICAgJFN1Y2Nlc3MgPSAkRHVwbGljYXRlVG9rZW5FeC5JbnZva2UoJGhUb2tlbiwgJFdpbjMyQ29uc3RhbnRzLk1BWElNVU1fQUxMT1dFRCwgW0ludFB0cl06Olplcm8sIDMsIDEsIFtSZWZdJE5ld0hUb2tlbikgI3RvZG8gZG9lcyB0aGlzIG5lZWQgdG8gYmUgZnJlZWQKICAgIGlmICgtbm90ICRTdWNjZXNzKQogICAgewogICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgV3JpdGUtV2FybmluZyAiRHVwbGljYXRlVG9rZW5FeCBmYWlsZWQuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkU3VjY2VzcyA9ICRJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlci5JbnZva2UoJE5ld0hUb2tlbikKICAgICAgICBpZiAoLW5vdCAkU3VjY2VzcykKICAgICAgICB7CiAgICAgICAgICAgICRFcnJvcmNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkZhaWxlZCB0byBJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlci4gRXJyb3IgY29kZTogJEVycm9yY29kZSIKICAgICAgICB9CiAgICB9CgogICAgJFN1Y2Nlc3MgPSAkQ2xvc2VIYW5kbGUuSW52b2tlKCROZXdIVG9rZW4pCiAgICAkTmV3SFRva2VuID0gW0ludFB0cl06Olplcm8KICAgIGlmICgtbm90ICRTdWNjZXNzKQogICAgewogICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgV3JpdGUtV2FybmluZyAiQ2xvc2VIYW5kbGUgZmFpbGVkIHRvIGNsb3NlIE5ld0hUb2tlbi4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgogICAgfQoKICAgIHJldHVybiAkU3VjY2Vzcwp9CgpmdW5jdGlvbiBDcmVhdGUtUHJvY2Vzc1dpdGhUb2tlbgp7CiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW0ludFB0cl0KICAgICAgICAkaFRva2VuLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTEsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUHJvY2Vzc05hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MildCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUHJvY2Vzc0FyZ3MsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb249MyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUGFzc1RocnUKICAgICkKICAgIFdyaXRlLVZlcmJvc2UgIkVudGVyaW5nIENyZWF0ZS1Qcm9jZXNzV2l0aFRva2VuIgogICAgI0R1cGxpY2F0ZSB0aGUgdG9rZW4gc28gaXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEgbmV3IHByb2Nlc3MKICAgIFtJbnRQdHJdJE5ld0hUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCiAgICAkU3VjY2VzcyA9ICREdXBsaWNhdGVUb2tlbkV4Lkludm9rZSgkaFRva2VuLCAkV2luMzJDb25zdGFudHMuTUFYSU1VTV9BTExPV0VELCBbSW50UHRyXTo6WmVybywgMywgMSwgW1JlZl0kTmV3SFRva2VuKQogICAgaWYgKC1ub3QgJFN1Y2Nlc3MpCiAgICB7CiAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICBXcml0ZS1XYXJuaW5nICJEdXBsaWNhdGVUb2tlbkV4IGZhaWxlZC4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRTdGFydHVwSW5mb1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFNUQVJUVVBJTkZPKQogICAgICAgIFtJbnRQdHJdJFN0YXJ0dXBJbmZvUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRTdGFydHVwSW5mb1NpemUpCiAgICAgICAgJG1lbXNldC5JbnZva2UoJFN0YXJ0dXBJbmZvUHRyLCAwLCAkU3RhcnR1cEluZm9TaXplKSB8IE91dC1OdWxsCiAgICAgICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6V3JpdGVJbnQzMigkU3RhcnR1cEluZm9QdHIsICRTdGFydHVwSW5mb1NpemUpICNUaGUgZmlyc3QgcGFyYW1ldGVyIChjYikgaXMgYSBEV09SRCB3aGljaCBpcyB0aGUgc2l6ZSBvZiB0aGUgc3RydWN0CgogICAgICAgICRQcm9jZXNzSW5mb1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFBST0NFU1NfSU5GT1JNQVRJT04pCiAgICAgICAgW0ludFB0cl0kUHJvY2Vzc0luZm9QdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFByb2Nlc3NJbmZvU2l6ZSkKCiAgICAgICAgJFByb2Nlc3NOYW1lUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RyaW5nVG9IR2xvYmFsVW5pKCIkUHJvY2Vzc05hbWUiKQogICAgICAgICRQcm9jZXNzQXJnc1B0ciA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgaWYgKC1ub3QgW1N0cmluZ106OklzTnVsbE9yRW1wdHkoJFByb2Nlc3NBcmdzKSkKICAgICAgICB7CiAgICAgICAgICAgICRQcm9jZXNzQXJnc1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cmluZ1RvSEdsb2JhbFVuaSgiYCIkUHJvY2Vzc05hbWVgIiAkUHJvY2Vzc0FyZ3MiKQogICAgICAgIH0KICAgICAgICAKICAgICAgICAkRnVuY3Rpb25OYW1lID0gIiIKICAgICAgICBpZiAoW1N5c3RlbS5EaWFnbm9zdGljcy5Qcm9jZXNzXTo6R2V0Q3VycmVudFByb2Nlc3MoKS5TZXNzaW9uSWQgLWVxIDApCiAgICAgICAgewogICAgICAgICAgICAjQ2Fubm90IHVzZSBDcmVhdGVQcm9jZXNzV2l0aFRva2VuVyB3aGVuIGluIFNlc3Npb24wIGJlY2F1c2UgQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlblcgdGhyb3dzIGFuIEFDQ0VTU19ERU5JRUQgZXJyb3IuIEkgYmVsaWV2ZSBpdCBpcyBiZWNhdXNlCiAgICAgICAgICAgICN0aGlzIEFQSSBhdHRlbXB0cyB0byBtb2RpZnkgdGhlIGRlc2t0b3AgQUNMLiBJIHdvdWxkIGp1c3QgdXNlIHRoaXMgQVBJIGFsbCB0aGUgdGltZSwgYnV0IGl0IHJlcXVpcmVzIHRoYXQgSSBlbmFibGUgU2VBc3NpZ25QcmltYXJ5VG9rZW5Qcml2aWxlZ2UKICAgICAgICAgICAgI3doaWNoIGlzIG5vdCBpZGVhbC4gCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJ1bm5pbmcgaW4gU2Vzc2lvbiAwLiBFbmFibGluZyBTZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZSBhbmQgY2FsbGluZyBDcmVhdGVQcm9jZXNzQXNVc2VyVyB0byBjcmVhdGUgYSBwcm9jZXNzIHdpdGggYWx0ZXJuYXRlIHRva2VuLiIKICAgICAgICAgICAgRW5hYmxlLVByaXZpbGVnZSAtUHJpdmlsZWdlIFNlQXNzaWduUHJpbWFyeVRva2VuUHJpdmlsZWdlCiAgICAgICAgICAgICRTdWNjZXNzID0gJENyZWF0ZVByb2Nlc3NBc1VzZXJXLkludm9rZSgkTmV3SFRva2VuLCAkUHJvY2Vzc05hbWVQdHIsICRQcm9jZXNzQXJnc1B0ciwgW0ludFB0cl06Olplcm8sIFtJbnRQdHJdOjpaZXJvLCAkZmFsc2UsIDAsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybywgJFN0YXJ0dXBJbmZvUHRyLCAkUHJvY2Vzc0luZm9QdHIpCiAgICAgICAgICAgICRGdW5jdGlvbk5hbWUgPSAiQ3JlYXRlUHJvY2Vzc0FzVXNlclciCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIk5vdCBydW5uaW5nIGluIFNlc3Npb24gMCwgY2FsbGluZyBDcmVhdGVQcm9jZXNzV2l0aFRva2VuVyB0byBjcmVhdGUgYSBwcm9jZXNzIHdpdGggYWx0ZXJuYXRlIHRva2VuLiIKICAgICAgICAgICAgJFN1Y2Nlc3MgPSAkQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlblcuSW52b2tlKCROZXdIVG9rZW4sIDB4MCwgJFByb2Nlc3NOYW1lUHRyLCAkUHJvY2Vzc0FyZ3NQdHIsIDAsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybywgJFN0YXJ0dXBJbmZvUHRyLCAkUHJvY2Vzc0luZm9QdHIpCiAgICAgICAgICAgICRGdW5jdGlvbk5hbWUgPSAiQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlblciCiAgICAgICAgfQogICAgICAgIGlmICgkU3VjY2VzcykKICAgICAgICB7CiAgICAgICAgICAgICNGcmVlIHRoZSBoYW5kbGVzIHJldHVybmVkIGluIHRoZSBQcm9jZXNzSW5mbyBzdHJ1Y3R1cmUKICAgICAgICAgICAgJFByb2Nlc3NJbmZvID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFByb2Nlc3NJbmZvUHRyLCBbVHlwZV0kUFJPQ0VTU19JTkZPUk1BVElPTikKICAgICAgICAgICAgJENsb3NlSGFuZGxlLkludm9rZSgkUHJvY2Vzc0luZm8uaFByb2Nlc3MpIHwgT3V0LU51bGwKICAgICAgICAgICAgJENsb3NlSGFuZGxlLkludm9rZSgkUHJvY2Vzc0luZm8uaFRocmVhZCkgfCBPdXQtTnVsbAoKCSNQYXNzIGNyZWF0ZWQgU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3Mgb2JqZWN0IHRvIHBpcGVsaW5lCglpZiAoJFBhc3NUaHJ1KSB7CgkJI1JldHJpZXZpbmcgY3JlYXRlZCBTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2VzcyBvYmplY3QKCQkkcmV0dXJuUHJvY2VzcyA9IEdldC1Qcm9jZXNzIC1JZCAkUHJvY2Vzc0luZm8uZHdQcm9jZXNzSWQKCgkJI0NhY2hpbmcgcHJvY2VzcyBoYW5kbGUgc28gd2UgZG9uJ3QgbG9zZSBpdCB3aGVuIHRoZSBwcm9jZXNzIGV4aXRzCgkJJG51bGwgPSAkcmV0dXJuUHJvY2Vzcy5IYW5kbGUKCgkJI1Bhc3NpbmcgU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3Mgb2JqZWN0IHRvIHBpcGVsaW5lCgkJJHJldHVyblByb2Nlc3MKCX0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiJEZ1bmN0aW9uTmFtZSBmYWlsZWQuIEVycm9yIGNvZGU6ICRFcnJvckNvZGUiCiAgICAgICAgfQoKICAgICAgICAjRnJlZSBTdGFydHVwSW5mbyBtZW1vcnkgYW5kIFByb2Nlc3NJbmZvIG1lbW9yeQogICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRTdGFydHVwSW5mb1B0cikKICAgICAgICAkU3RhcnR1cEluZm9QdHIgPSBbSW50cHRyXTo6WmVybwogICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRQcm9jZXNzSW5mb1B0cikKICAgICAgICAkUHJvY2Vzc0luZm9QdHIgPSBbSW50UHRyXTo6WmVybwogICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06Olplcm9GcmVlR2xvYmFsQWxsb2NVbmljb2RlKCRQcm9jZXNzTmFtZVB0cikKICAgICAgICAkUHJvY2Vzc05hbWVQdHIgPSBbSW50UHRyXTo6WmVybwoKICAgICAgICAjQ2xvc2UgaGFuZGxlIGZvciB0aGUgdG9rZW4gZHVwbGljYXRlZCB3aXRoIER1cGxpY2F0ZVRva2VuRXgKICAgICAgICAkU3VjY2VzcyA9ICRDbG9zZUhhbmRsZS5JbnZva2UoJE5ld0hUb2tlbikKICAgICAgICAkTmV3SFRva2VuID0gW0ludFB0cl06Olplcm8KICAgICAgICBpZiAoLW5vdCAkU3VjY2VzcykKICAgICAgICB7CiAgICAgICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkNsb3NlSGFuZGxlIGZhaWxlZCB0byBjbG9zZSBOZXdIVG9rZW4uIEVycm9yQ29kZTogJEVycm9yQ29kZSIKICAgICAgICB9CiAgICB9Cn0KCiNUYWtlcyBhbiBhcnJheSBvZiBUb2tlbk9iamVjdHMgYnVpbHQgYnkgdGhlIHNjcmlwdCBhbmQgcmV0dXJucyB0aGUgdW5pcXVlIG9uZXMKZnVuY3Rpb24gR2V0LVVuaXF1ZVRva2Vucwp7CiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW09iamVjdFtdXQogICAgICAgICRBbGxUb2tlbnMKICAgICkKCiAgICAkVG9rZW5CeVVzZXIgPSBAe30KICAgICRUb2tlbkJ5RW5hYmxlZFByaXYgPSBAe30KICAgICRUb2tlbkJ5QXZhaWxhYmxlUHJpdiA9IEB7fQoKICAgICNGaWx0ZXIgdG9rZW5zIGJ5IHVzZXIKICAgIGZvcmVhY2ggKCRUb2tlbiBpbiAkQWxsVG9rZW5zKQogICAgewogICAgICAgICRLZXkgPSAkVG9rZW4uRG9tYWluICsgIlwiICsgJFRva2VuLlVzZXJuYW1lCiAgICAgICAgaWYgKC1ub3QgJFRva2VuQnlVc2VyLkNvbnRhaW5zS2V5KCRLZXkpKQogICAgICAgIHsKICAgICAgICAgICAgI0ZpbHRlciBvdXQgbmV0d29yayBsb2dvbnMgYW5kIGp1bmsgV2luZG93cyBhY2NvdW50cy4gVGhpcyBmaWx0ZXIgZWxpbWluYXRlcyBhY2NvdW50cyB3aGljaCB3b24ndCBoYXZlIGNyZWRzIGJlY2F1c2UKICAgICAgICAgICAgIyAgICB0aGV5IGFyZSBuZXR3b3JrIGxvZ29ucyAodHlwZSAzKSBvciBsb2dvbnMgZm9yIHdoaWNoIHRoZSBjcmVkcyBkb24ndCBtYXR0ZXIgbGlrZSBMT0NPQUwgU0VSVklDRSwgRFdNLCBldGMuLgogICAgICAgICAgICBpZiAoJFRva2VuLkxvZ29uVHlwZSAtbmUgMyAtYW5kCiAgICAgICAgICAgICAgICAkVG9rZW4uVXNlcm5hbWUgLWlub3RtYXRjaCAiXkRXTS1cZCskIiAtYW5kCiAgICAgICAgICAgICAgICAkVG9rZW4uVXNlcm5hbWUgLWlub3RtYXRjaCAiXkxPQ0FMXHNTRVJWSUNFJCIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRUb2tlbkJ5VXNlci5BZGQoJEtleSwgJFRva2VuKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICNJZiBUb2tlbnMgaGF2ZSBlcXVhbCBlbGV2YXRpb24gbGV2ZWxzLCBjb21wYXJlIHRoZWlyIHByaXZpbGVnZXMuCiAgICAgICAgICAgIGlmKCRUb2tlbi5Jc0VsZXZhdGVkIC1lcSAkVG9rZW5CeVVzZXJbJEtleV0uSXNFbGV2YXRlZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCgkVG9rZW4uUHJpdmlsZWdlc0VuYWJsZWQuQ291bnQgKyAkVG9rZW4uUHJpdmlsZWdlc0F2YWlsYWJsZS5Db3VudCkgLWd0ICgkVG9rZW5CeVVzZXJbJEtleV0uUHJpdmlsZWdlc0VuYWJsZWQuQ291bnQgKyAkVG9rZW5CeVVzZXJbJEtleV0uUHJpdmlsZWdlc0F2YWlsYWJsZS5Db3VudCkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFRva2VuQnlVc2VyWyRLZXldID0gJFRva2VuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgI0lmIHRoZSBuZXcgdG9rZW4gaXMgZWxldmF0ZWQgYW5kIHRoZSBjdXJyZW50IHRva2VuIGlzbid0LCB1c2UgdGhlIG5ldyB0b2tlbgogICAgICAgICAgICBlbHNlaWYgKCgkVG9rZW4uSXNFbGV2YXRlZCAtZXEgJHRydWUpIC1hbmQgKCRUb2tlbkJ5VXNlclskS2V5XS5Jc0VsZXZhdGVkIC1lcSAkZmFsc2UpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkVG9rZW5CeVVzZXJbJEtleV0gPSAkVG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAjRmlsdGVyIHRva2VucyBieSBwcml2aWxlZ2UKICAgIGZvcmVhY2ggKCRUb2tlbiBpbiAkQWxsVG9rZW5zKQogICAgewogICAgICAgICRGdWxsbmFtZSA9ICIkKCRUb2tlbi5Eb21haW4pXCQoJFRva2VuLlVzZXJuYW1lKSIKCiAgICAgICAgI0ZpbHRlciBjdXJyZW50bHkgZW5hYmxlZCBwcml2aWxlZ2VzCiAgICAgICAgZm9yZWFjaCAoJFByaXZpbGVnZSBpbiAkVG9rZW4uUHJpdmlsZWdlc0VuYWJsZWQpCiAgICAgICAgewogICAgICAgICAgICBpZiAoJFRva2VuQnlFbmFibGVkUHJpdi5Db250YWluc0tleSgkUHJpdmlsZWdlKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYoJFRva2VuQnlFbmFibGVkUHJpdlskUHJpdmlsZWdlXSAtbm90Y29udGFpbnMgJEZ1bGxuYW1lKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRUb2tlbkJ5RW5hYmxlZFByaXZbJFByaXZpbGVnZV0gKz0gLCRGdWxsbmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFRva2VuQnlFbmFibGVkUHJpdi5BZGQoJFByaXZpbGVnZSwgQCgkRnVsbG5hbWUpKQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjRmlsdGVyIGN1cnJlbnRseSBhdmFpbGFibGUgKGJ1dCBub3QgZW5hYmxlKSBwcml2aWxlZ2VzCiAgICAgICAgZm9yZWFjaCAoJFByaXZpbGVnZSBpbiAkVG9rZW4uUHJpdmlsZWdlc0F2YWlsYWJsZSkKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkVG9rZW5CeUF2YWlsYWJsZVByaXYuQ29udGFpbnNLZXkoJFByaXZpbGVnZSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmKCRUb2tlbkJ5QXZhaWxhYmxlUHJpdlskUHJpdmlsZWdlXSAtbm90Y29udGFpbnMgJEZ1bGxuYW1lKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRUb2tlbkJ5QXZhaWxhYmxlUHJpdlskUHJpdmlsZWdlXSArPSAsJEZ1bGxuYW1lCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkVG9rZW5CeUF2YWlsYWJsZVByaXYuQWRkKCRQcml2aWxlZ2UsIEAoJEZ1bGxuYW1lKSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAkUmV0dXJuRGljdCA9IEB7CiAgICAgICAgVG9rZW5CeVVzZXIgPSAkVG9rZW5CeVVzZXIKICAgICAgICBUb2tlbkJ5RW5hYmxlZFByaXYgPSAkVG9rZW5CeUVuYWJsZWRQcml2CiAgICAgICAgVG9rZW5CeUF2YWlsYWJsZVByaXYgPSAkVG9rZW5CeUF2YWlsYWJsZVByaXYKICAgIH0KCiAgICByZXR1cm4gKE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5ICRSZXR1cm5EaWN0KQp9CgojRnVuY3Rpb24gd3JpdHRlbiBieSBNYXR0IEdyYWViZXIsIFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbiwgQmxvZzogaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20vCkZ1bmN0aW9uIEdldC1Qcm9jQWRkcmVzcwp7CiAgICBQYXJhbQogICAgKAogICAgICAgIFtPdXRwdXRUeXBlKFtJbnRQdHJdKV0KICAgIAogICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRNb2R1bGUsCiAgICAgICAgCiAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFByb2NlZHVyZQogICAgKQoKICAgICMgR2V0IGEgcmVmZXJlbmNlIHRvIFN5c3RlbS5kbGwgaW4gdGhlIEdBQwogICAgJFN5c3RlbUFzc2VtYmx5ID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4uR2V0QXNzZW1ibGllcygpIHwKICAgICAgICBXaGVyZS1PYmplY3QgeyAkXy5HbG9iYWxBc3NlbWJseUNhY2hlIC1BbmQgJF8uTG9jYXRpb24uU3BsaXQoJ1xcJylbLTFdLkVxdWFscygnU3lzdGVtLmRsbCcpIH0KICAgICRVbnNhZmVOYXRpdmVNZXRob2RzID0gJFN5c3RlbUFzc2VtYmx5LkdldFR5cGUoJ01pY3Jvc29mdC5XaW4zMi5VbnNhZmVOYXRpdmVNZXRob2RzJykKICAgICMgR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBHZXRNb2R1bGVIYW5kbGUgYW5kIEdldFByb2NBZGRyZXNzIG1ldGhvZHMKICAgICRHZXRNb2R1bGVIYW5kbGUgPSAkVW5zYWZlTmF0aXZlTWV0aG9kcy5HZXRNZXRob2QoJ0dldE1vZHVsZUhhbmRsZScpCiAgICAkR2V0UHJvY0FkZHJlc3MgPSAkVW5zYWZlTmF0aXZlTWV0aG9kcy5HZXRNZXRob2QoJ0dldFByb2NBZGRyZXNzJykKICAgICMgR2V0IGEgaGFuZGxlIHRvIHRoZSBtb2R1bGUgc3BlY2lmaWVkCiAgICAkS2VybjMySGFuZGxlID0gJEdldE1vZHVsZUhhbmRsZS5JbnZva2UoJG51bGwsIEAoJE1vZHVsZSkpCiAgICAkdG1wUHRyID0gTmV3LU9iamVjdCBJbnRQdHIKICAgICRIYW5kbGVSZWYgPSBOZXctT2JqZWN0IFN5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5IYW5kbGVSZWYoJHRtcFB0ciwgJEtlcm4zMkhhbmRsZSkKCiAgICAjIFJldHVybiB0aGUgYWRkcmVzcyBvZiB0aGUgZnVuY3Rpb24KICAgIFdyaXRlLU91dHB1dCAkR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRudWxsLCBAKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmXSRIYW5kbGVSZWYsICRQcm9jZWR1cmUpKQp9CgojRnVuY3Rpb24gd3JpdHRlbiBieSBNYXR0IEdyYWViZXIsIFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbiwgQmxvZzogaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20vCkZ1bmN0aW9uIEdldC1EZWxlZ2F0ZVR5cGUKewogICAgUGFyYW0KICAgICgKICAgICAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQogICAgICAgIAogICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCldCiAgICAgICAgW1R5cGVbXV0KICAgICAgICAkUGFyYW1ldGVycyA9IChOZXctT2JqZWN0IFR5cGVbXSgwKSksCiAgICAgICAgCiAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxICldCiAgICAgICAgW1R5cGVdCiAgICAgICAgJFJldHVyblR5cGUgPSBbVm9pZF0KICAgICkKCiAgICAkRG9tYWluID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4KICAgICREeW5Bc3NlbWJseSA9IE5ldy1PYmplY3QgU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHlOYW1lKCdSZWZsZWN0ZWREZWxlZ2F0ZScpCiAgICAkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCiAgICAkTW9kdWxlQnVpbGRlciA9ICRBc3NlbWJseUJ1aWxkZXIuRGVmaW5lRHluYW1pY01vZHVsZSgnSW5NZW1vcnlNb2R1bGUnLCAkZmFsc2UpCiAgICAkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdNeURlbGVnYXRlVHlwZScsICdDbGFzcywgUHVibGljLCBTZWFsZWQsIEFuc2lDbGFzcywgQXV0b0NsYXNzJywgW1N5c3RlbS5NdWx0aWNhc3REZWxlZ2F0ZV0pCiAgICAkQ29uc3RydWN0b3JCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZUNvbnN0cnVjdG9yKCdSVFNwZWNpYWxOYW1lLCBIaWRlQnlTaWcsIFB1YmxpYycsIFtTeXN0ZW0uUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwgJFBhcmFtZXRlcnMpCiAgICAkQ29uc3RydWN0b3JCdWlsZGVyLlNldEltcGxlbWVudGF0aW9uRmxhZ3MoJ1J1bnRpbWUsIE1hbmFnZWQnKQogICAgJE1ldGhvZEJ1aWxkZXIgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lTWV0aG9kKCdJbnZva2UnLCAnUHVibGljLCBIaWRlQnlTaWcsIE5ld1Nsb3QsIFZpcnR1YWwnLCAkUmV0dXJuVHlwZSwgJFBhcmFtZXRlcnMpCiAgICAkTWV0aG9kQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKICAgIAogICAgV3JpdGUtT3V0cHV0ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKfQoKI0VudW1lcmF0ZSBhbGwgdG9rZW5zIG9uIHRoZSBzeXN0ZW0uIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSB0b2tlbiBhbmQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRva2VuLgpmdW5jdGlvbiBFbnVtLUFsbFRva2Vucwp7CiAgICAkQWxsVG9rZW5zID0gQCgpCgogICAgI0ZpcnN0IEdldFN5c3RlbS4gVGhlIHNjcmlwdCBjYW5ub3QgZW51bWVyYXRlIGFsbCB0b2tlbnMgdW5sZXNzIGl0IGlzIHN5c3RlbSBmb3Igc29tZSByZWFzb24uIEx1Y2tpbHkgaXQgY2FuIGltcGVyc29uYXRlIGEgc3lzdGVtIHRva2VuLgogICAgI0V2ZW4gaWYgYWxyZWFkeSBydW5uaW5nIGFzIHN5c3RlbSwgbGF0ZXIgcGFydHMgb24gdGhlIHNjcmlwdCBkZXBlbmQgb24gaGF2aW5nIGEgU1lTVEVNIHRva2VuIHdpdGggbW9zdCBwcml2aWxlZ2VzLCBzbyBpbXBlcnNvbmF0ZSB0aGUgd2luaW5pdCB0b2tlbi4KICAgICRzeXN0ZW1Ub2tlbkluZm8gPSBHZXQtUHJpbWFyeVRva2VuIC1Qcm9jZXNzSWQgKEdldC1Qcm9jZXNzIHdpbmluaXQgfCB3aGVyZSB7JF8uU2Vzc2lvbklkIC1lcSAwfSkuSWQKICAgIGlmICgkc3lzdGVtVG9rZW5JbmZvIC1lcSAkbnVsbCAtb3IgKC1ub3QgKEludm9rZS1JbXBlcnNvbmF0ZVVzZXIgLWhUb2tlbiAkc3lzdGVtVG9rZW5JbmZvLmhQcm9jVG9rZW4pKSkKICAgIHsKICAgICAgICBXcml0ZS1XYXJuaW5nICJVbmFibGUgdG8gaW1wZXJzb25hdGUgU1lTVEVNLCB0aGUgc2NyaXB0IHdpbGwgbm90IGJlIGFibGUgdG8gZW51bWVyYXRlIGFsbCB0b2tlbnMiCiAgICB9CgogICAgaWYgKCRzeXN0ZW1Ub2tlbkluZm8gLW5lICRudWxsIC1hbmQgJHN5c3RlbVRva2VuSW5mby5oUHJvY1Rva2VuIC1uZSBbSW50UHRyXTo6WmVybykKICAgIHsKICAgICAgICAkQ2xvc2VIYW5kbGUuSW52b2tlKCRzeXN0ZW1Ub2tlbkluZm8uaFByb2NUb2tlbikgfCBPdXQtTnVsbAogICAgICAgICRzeXN0ZW1Ub2tlbkluZm8gPSAkbnVsbAogICAgfQoKICAgICRQcm9jZXNzSWRzID0gZ2V0LXByb2Nlc3MgfCB3aGVyZSB7JF8ubmFtZSAtaW5vdG1hdGNoICJeY3Nyc3MkIiAtYW5kICRfLm5hbWUgLWlub3RtYXRjaCAiXnN5c3RlbSQiIC1hbmQgJF8uaWQgLW5lIDB9CgogICAgI0dldCBhbGwgdG9rZW5zCiAgICBmb3JlYWNoICgkUHJvY2VzcyBpbiAkUHJvY2Vzc0lkcykKICAgIHsKICAgICAgICAkUHJpbWFyeVRva2VuSW5mbyA9IChHZXQtUHJpbWFyeVRva2VuIC1Qcm9jZXNzSWQgJFByb2Nlc3MuSWQgLUZ1bGxQcml2cykKCiAgICAgICAgI0lmIGEgcHJvY2VzcyBpcyBhIHByb3RlY3RlZCBwcm9jZXNzLCBpdCdzIHByaW1hcnkgdG9rZW4gY2Fubm90IGJlIG9idGFpbmVkLiBEb24ndCB0cnkgdG8gZW51bWVyYXRlIGl0LgogICAgICAgIGlmICgkUHJpbWFyeVRva2VuSW5mbyAtbmUgJG51bGwpCiAgICAgICAgewogICAgICAgICAgICBbSW50UHRyXSRoVG9rZW4gPSBbSW50UHRyXSRQcmltYXJ5VG9rZW5JbmZvLmhQcm9jVG9rZW4KCiAgICAgICAgICAgIGlmICgkaFRva2VuIC1uZSBbSW50UHRyXTo6WmVybykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgI0dldCB0aGUgTFVJRCBjb3Jyb3Nwb25kaW5nIHRvIHRoZSBsb2dvbgogICAgICAgICAgICAgICAgJFJldHVybk9iaiA9IEdldC1Ub2tlbkluZm9ybWF0aW9uIC1oVG9rZW4gJGhUb2tlbgogICAgICAgICAgICAgICAgaWYgKCRSZXR1cm5PYmogLW5lICRudWxsKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQcm9jZXNzSWQgLVZhbHVlICRQcm9jZXNzLklkCgogICAgICAgICAgICAgICAgICAgICRBbGxUb2tlbnMgKz0gJFJldHVybk9iagogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiQ291bGRuJ3QgcmV0cmlldmUgdG9rZW4gZm9yIFByb2Nlc3M6ICQoJFByb2Nlc3MuTmFtZSkuIFByb2Nlc3NJZDogJCgkUHJvY2Vzcy5JZCkiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvcmVhY2ggKCRUaHJlYWQgaW4gJFByb2Nlc3MuVGhyZWFkcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFRocmVhZFRva2VuSW5mbyA9IEdldC1UaHJlYWRUb2tlbiAtVGhyZWFkSWQgJFRocmVhZC5JZAogICAgICAgICAgICAgICAgW0ludFB0cl0kaFRva2VuID0gKCRUaHJlYWRUb2tlbkluZm8uaFRocmVhZFRva2VuKQoKICAgICAgICAgICAgICAgIGlmICgkaFRva2VuIC1uZSBbSW50UHRyXTo6WmVybykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkUmV0dXJuT2JqID0gR2V0LVRva2VuSW5mb3JtYXRpb24gLWhUb2tlbiAkaFRva2VuCiAgICAgICAgICAgICAgICAgICAgaWYgKCRSZXR1cm5PYmogLW5lICRudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFJldHVybk9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFRocmVhZElkIC1WYWx1ZSAkVGhyZWFkLklkCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgJEFsbFRva2VucyArPSAkUmV0dXJuT2JqCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAkQWxsVG9rZW5zCn0KCiNHZXQgdGhlIHByaW1hcnkgdG9rZW4gZm9yIHRoZSBzcGVjaWZpZWQgcHJvY2Vzc0lkCmZ1bmN0aW9uIEdldC1QcmltYXJ5VG9rZW4KewogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtVSW50MzJdCiAgICAgICAgJFByb2Nlc3NJZCwKCiAgICAgICAgI09wZW4gdGhlIHRva2VuIHdpdGggYWxsIHByaXZpbGVnZXMuIFJlcXVpcmVzIFNZU1RFTSBiZWNhdXNlIHNvbWUgb2YgdGhlIHByaXZpbGVnZXMgYXJlIHJlc3RyaWN0ZWQgdG8gU1lTVEVNLgogICAgICAgIFtQYXJhbWV0ZXIoKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGdWxsUHJpdnMKICAgICkKCiAgICBpZiAoJEZ1bGxQcml2cykKICAgIHsKICAgICAgICAkVG9rZW5Qcml2cyA9ICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BTExfQUNDRVNTCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFRva2VuUHJpdnMgPSAkV2luMzJDb25zdGFudHMuVE9LRU5fQVNTSUdOX1BSSU1BUlkgLWJvciAkV2luMzJDb25zdGFudHMuVE9LRU5fRFVQTElDQVRFIC1ib3IgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX0lNUEVSU09OQVRFIC1ib3IgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX1FVRVJZIAogICAgfQoKICAgICRSZXR1cm5TdHJ1Y3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CgogICAgJGhQcm9jZXNzID0gJE9wZW5Qcm9jZXNzLkludm9rZSgkV2luMzJDb25zdGFudHMuUFJPQ0VTU19RVUVSWV9JTkZPUk1BVElPTiwgJHRydWUsIFtVSW50MzJdJFByb2Nlc3NJZCkKICAgICRSZXR1cm5TdHJ1Y3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBoUHJvY2VzcyAtVmFsdWUgJGhQcm9jZXNzCiAgICBpZiAoJGhQcm9jZXNzIC1lcSBbSW50UHRyXTo6WmVybykKICAgIHsKICAgICAgICAjSWYgYSBwcm9jZXNzIGlzIGEgcHJvdGVjdGVkIHByb2Nlc3MgaXQgY2Fubm90IGJlIGVudW1lcmF0ZWQuIFRoaXMgY2FsbCBzaG91bGQgb25seSBmYWlsIGZvciBwcm90ZWN0ZWQgcHJvY2Vzc2VzLgogICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiRmFpbGVkIHRvIG9wZW4gcHJvY2VzcyBoYW5kbGUgZm9yIFByb2Nlc3NJZDogJFByb2Nlc3NJZC4gUHJvY2Vzc05hbWUgJCgoR2V0LVByb2Nlc3MgLUlkICRQcm9jZXNzSWQpLk5hbWUpLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlIC4gVGhpcyBpcyBsaWtlbHkgYmVjYXVzZSB0aGlzIGlzIGEgcHJvdGVjdGVkIHByb2Nlc3MuIgogICAgICAgIHJldHVybiAkbnVsbAogICAgfQogICAgZWxzZQogICAgewogICAgICAgIFtJbnRQdHJdJGhQcm9jVG9rZW4gPSBbSW50UHRyXTo6WmVybwogICAgICAgICRTdWNjZXNzID0gJE9wZW5Qcm9jZXNzVG9rZW4uSW52b2tlKCRoUHJvY2VzcywgJFRva2VuUHJpdnMsIFtSZWZdJGhQcm9jVG9rZW4pCgogICAgICAgICNDbG9zZSB0aGUgaGFuZGxlIHRvIGhQcm9jZXNzICh0aGUgcHJvY2VzcyBoYW5kbGUpCiAgICAgICAgaWYgKC1ub3QgJENsb3NlSGFuZGxlLkludm9rZSgkaFByb2Nlc3MpKQogICAgICAgIHsKICAgICAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiRmFpbGVkIHRvIGNsb3NlIHByb2Nlc3MgaGFuZGxlLCB0aGlzIGlzIHVuZXhwZWN0ZWQuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKICAgICAgICB9CiAgICAgICAgJGhQcm9jZXNzID0gW0ludFB0cl06Olplcm8KCiAgICAgICAgaWYgKCRTdWNjZXNzIC1lcSAkZmFsc2UgLW9yICRoUHJvY1Rva2VuIC1lcSBbSW50UHRyXTo6WmVybykKICAgICAgICB7CiAgICAgICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkZhaWxlZCB0byBnZXQgcHJvY2Vzc2VzIHByaW1hcnkgdG9rZW4uIFByb2Nlc3NJZDogJFByb2Nlc3NJZC4gUHJvY2Vzc05hbWUgJCgoR2V0LVByb2Nlc3MgLUlkICRQcm9jZXNzSWQpLk5hbWUpLiBFcnJvcjogJEVycm9yQ29kZSIKICAgICAgICAgICAgcmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRSZXR1cm5TdHJ1Y3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBoUHJvY1Rva2VuIC1WYWx1ZSAkaFByb2NUb2tlbgogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gJFJldHVyblN0cnVjdAp9CgojR2V0cyBpbXBvcnRhbnQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHRva2VuIHN1Y2ggYXMgdGhlIGxvZ29uIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBsb2dvbgpmdW5jdGlvbiBHZXQtVG9rZW5JbmZvcm1hdGlvbgp7CiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCiAgICAgICAgW0ludFB0cl0KICAgICAgICAkaFRva2VuCiAgICApCgogICAgJFJldHVybk9iaiA9ICRudWxsCgogICAgJFRva2VuU3RhdHNTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRUT0tFTl9TVEFUSVNUSUNTKQogICAgW0ludFB0cl0kVG9rZW5TdGF0c1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5TdGF0c1NpemUpCiAgICBbVUludDMyXSRSZWFsU2l6ZSA9IDAKICAgICRTdWNjZXNzID0gJEdldFRva2VuSW5mb3JtYXRpb24uSW52b2tlKCRoVG9rZW4sICRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUzo6VG9rZW5TdGF0aXN0aWNzLCAkVG9rZW5TdGF0c1B0ciwgJFRva2VuU3RhdHNTaXplLCBbUmVmXSRSZWFsU2l6ZSkKICAgIGlmICgtbm90ICRTdWNjZXNzKQogICAgewogICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgV3JpdGUtV2FybmluZyAiR2V0VG9rZW5JbmZvcm1hdGlvbiBmYWlsZWQuIEVycm9yIGNvZGU6ICRFcnJvckNvZGUiCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFRva2VuU3RhdHMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVG9rZW5TdGF0c1B0ciwgW1R5cGVdJFRPS0VOX1NUQVRJU1RJQ1MpCgogICAgICAgICNRdWVyeSBMU0EgdG8gZGV0ZXJtaW5lIHdoYXQgdGhlIGxvZ29udHlwZSBvZiB0aGUgc2Vzc2lvbiBpcyB0aGF0IHRoZSB0b2tlbiBjb3Jyb3Nwb25kcyB0bywgYXMgd2VsbCBhcyB0aGUgdXNlcm5hbWUvZG9tYWluIG9mIHRoZSBsb2dvbgogICAgICAgICRMdWlkUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kTFVJRCkpCiAgICAgICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RydWN0dXJlVG9QdHIoJFRva2VuU3RhdHMuQXV0aGVudGljYXRpb25JZCwgJEx1aWRQdHIsICRmYWxzZSkKCiAgICAgICAgW0ludFB0cl0kTG9nb25TZXNzaW9uRGF0YVB0ciA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgJFJldHVyblZhbCA9ICRMc2FHZXRMb2dvblNlc3Npb25EYXRhLkludm9rZSgkTHVpZFB0ciwgW1JlZl0kTG9nb25TZXNzaW9uRGF0YVB0cikKICAgICAgICBpZiAoJFJldHVyblZhbCAtbmUgMCAtYW5kICRMb2dvblNlc3Npb25EYXRhUHRyIC1lcSBbSW50UHRyXTo6WmVybykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkNhbGwgdG8gTHNhR2V0TG9nb25TZXNzaW9uRGF0YSBmYWlsZWQuIEVycm9yIGNvZGU6ICRSZXR1cm5WYWwuIExvZ29uU2Vzc2lvbkRhdGFQdHIgPSAkTG9nb25TZXNzaW9uRGF0YVB0ciIKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJExvZ29uU2Vzc2lvbkRhdGEgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkTG9nb25TZXNzaW9uRGF0YVB0ciwgW1R5cGVdJFNFQ1VSSVRZX0xPR09OX1NFU1NJT05fREFUQSkKICAgICAgICAgICAgaWYgKCRMb2dvblNlc3Npb25EYXRhLlVzZXJuYW1lLkJ1ZmZlciAtbmUgW0ludFB0cl06Olplcm8gLWFuZCAKICAgICAgICAgICAgICAgICRMb2dvblNlc3Npb25EYXRhLkxvZ2luRG9tYWluLkJ1ZmZlciAtbmUgW0ludFB0cl06Olplcm8pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICNHZXQgdGhlIHVzZXJuYW1lIGFuZCBkb21haW5uYW1lIGFzc29jaWF0ZWQgd2l0aCB0aGUgdG9rZW4KICAgICAgICAgICAgICAgICRVc2VybmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCRMb2dvblNlc3Npb25EYXRhLlVzZXJuYW1lLkJ1ZmZlciwgJExvZ29uU2Vzc2lvbkRhdGEuVXNlcm5hbWUuTGVuZ3RoLzIpCiAgICAgICAgICAgICAgICAkRG9tYWluID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdVbmkoJExvZ29uU2Vzc2lvbkRhdGEuTG9naW5Eb21haW4uQnVmZmVyLCAkTG9nb25TZXNzaW9uRGF0YS5Mb2dpbkRvbWFpbi5MZW5ndGgvMikKCiAgICAgICAgICAgICAgICAjSWYgVXNlck5hbWUgaXMgZm9yIHRoZSBjb21wdXRlciBhY2NvdW50LCBmaWd1cmUgb3V0IHdoYXQgYWNjb3VudCBpdCBhY3R1YWxseSBpcyAoU1lTVEVNLCBORVRXT1JLIFNFUlZJQ0UpCiAgICAgICAgICAgICAgICAjT25seSBkbyB0aGlzIGZvciB0aGUgY29tcHV0ZXIgYWNjb3VudCBiZWNhdXNlIG90aGVyIGFjY291bnRzIHJldHVybiBjb3JyZWN0bHkuIEFsc28sIGRvaW5nIHRoaXMgZm9yIGEgZG9tYWluIGFjY291bnQgCiAgICAgICAgICAgICAgICAjcmVzdWx0cyBpbiBxdWVyeWluZyB0aGUgZG9tYWluIGNvbnRyb2xsZXIgd2hpY2ggaXMgdW53YW50ZWQuCiAgICAgICAgICAgICAgICBpZiAoJFVzZXJuYW1lIC1pZXEgIiQoJGVudjpDT01QVVRFUk5BTUUpYCQiKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFtVSW50MzJdJFNpemUgPSAxMDAKICAgICAgICAgICAgICAgICAgICBbVUludDMyXSROdW1Vc2VybmFtZUNoYXIgPSAkU2l6ZSAvIDIKICAgICAgICAgICAgICAgICAgICBbVUludDMyXSROdW1Eb21haW5DaGFyID0gJFNpemUgLyAyCiAgICAgICAgICAgICAgICAgICAgW1VJbnQzMl0kU2lkTmFtZVVzZSA9IDAKICAgICAgICAgICAgICAgICAgICAkVXNlcm5hbWVCdWZmZXIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFNpemUpCiAgICAgICAgICAgICAgICAgICAgJERvbWFpbkJ1ZmZlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkU2l6ZSkKICAgICAgICAgICAgICAgICAgICAkU3VjY2VzcyA9ICRMb29rdXBBY2NvdW50U2lkVy5JbnZva2UoW0ludFB0cl06Olplcm8sICRMb2dvblNlc3Npb25EYXRhLlNpZCwgJFVzZXJuYW1lQnVmZmVyLCBbUmVmXSROdW1Vc2VybmFtZUNoYXIsICREb21haW5CdWZmZXIsIFtSZWZdJE51bURvbWFpbkNoYXIsIFtSZWZdJFNpZE5hbWVVc2UpCgogICAgICAgICAgICAgICAgICAgIGlmICgkU3VjY2VzcykKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VybmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCRVc2VybmFtZUJ1ZmZlcikKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCREb21haW5CdWZmZXIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yIGNhbGxpbmcgTG9va3VwQWNjb3VudFNpZFcuIEVycm9yIGNvZGU6ICRFcnJvckNvZGUiCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkVXNlcm5hbWVCdWZmZXIpCiAgICAgICAgICAgICAgICAgICAgJFVzZXJuYW1lQnVmZmVyID0gW0ludFB0cl06Olplcm8KICAgICAgICAgICAgICAgICAgICBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkRG9tYWluQnVmZmVyKQogICAgICAgICAgICAgICAgICAgICREb21haW5CdWZmZXIgPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRSZXR1cm5PYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRG9tYWluIC1WYWx1ZSAkRG9tYWluCiAgICAgICAgICAgICAgICAkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVXNlcm5hbWUgLVZhbHVlICRVc2VybmFtZSAgICAKICAgICAgICAgICAgICAgICRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBoVG9rZW4gLVZhbHVlICRoVG9rZW4KICAgICAgICAgICAgICAgICRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBMb2dvblR5cGUgLVZhbHVlICRMb2dvblNlc3Npb25EYXRhLkxvZ29uVHlwZQoKCiAgICAgICAgICAgICAgICAjUXVlcnkgYWRkaXRpb25hbCBpbmZvIGFib3V0IHRoZSB0b2tlbiBzdWNoIGFzIGlmIGl0IGlzIGVsZXZhdGVkCiAgICAgICAgICAgICAgICAkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgSXNFbGV2YXRlZCAtVmFsdWUgJGZhbHNlCgogICAgICAgICAgICAgICAgJFRva2VuRWxldmF0aW9uU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kVE9LRU5fRUxFVkFUSU9OKQogICAgICAgICAgICAgICAgJFRva2VuRWxldmF0aW9uUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRUb2tlbkVsZXZhdGlvblNpemUpCiAgICAgICAgICAgICAgICBbVUludDMyXSRSZWFsU2l6ZSA9IDAKICAgICAgICAgICAgICAgICRTdWNjZXNzID0gJEdldFRva2VuSW5mb3JtYXRpb24uSW52b2tlKCRoVG9rZW4sICRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUzo6VG9rZW5FbGV2YXRpb24sICRUb2tlbkVsZXZhdGlvblB0ciwgJFRva2VuRWxldmF0aW9uU2l6ZSwgW1JlZl0kUmVhbFNpemUpCiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU3VjY2VzcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkdldFRva2VuSW5mb3JtYXRpb24gZmFpbGVkIHRvIHJldHJpZXZlIFRva2VuRWxldmF0aW9uIHN0YXR1cy4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIiAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVG9rZW5FbGV2YXRpb24gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVG9rZW5lbGV2YXRpb25QdHIsIFtUeXBlXSRUT0tFTl9FTEVWQVRJT04pCiAgICAgICAgICAgICAgICAgICAgaWYgKCRUb2tlbkVsZXZhdGlvbi5Ub2tlbklzRWxldmF0ZWQgLW5lIDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkUmV0dXJuT2JqLklzRWxldmF0ZWQgPSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlbkVsZXZhdGlvblB0cikKCgogICAgICAgICAgICAgICAgI1F1ZXJ5IHRoZSB0b2tlbiB0eXBlIHRvIGRldGVybWluZSBpZiB0aGUgdG9rZW4gaXMgYSBwcmltYXJ5IG9yIGltcGVyc29uYXRpb24gdG9rZW4KICAgICAgICAgICAgICAgICRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBUb2tlblR5cGUgLVZhbHVlICJVbmFibGVUb1JldHJpZXZlIgoKICAgICAgICAgICAgICAgIFtVSW50MzJdJFRva2VuVHlwZVNpemUgPSA0CiAgICAgICAgICAgICAgICBbSW50UHRyXSRUb2tlblR5cGVQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRva2VuVHlwZVNpemUpCiAgICAgICAgICAgICAgICBbVUludDMyXSRSZWFsU2l6ZSA9IDAKICAgICAgICAgICAgICAgICRTdWNjZXNzID0gJEdldFRva2VuSW5mb3JtYXRpb24uSW52b2tlKCRoVG9rZW4sICRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUzo6VG9rZW5UeXBlLCAkVG9rZW5UeXBlUHRyLCAkVG9rZW5UeXBlU2l6ZSwgW1JlZl0kUmVhbFNpemUpCiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU3VjY2VzcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkdldFRva2VuSW5mb3JtYXRpb24gZmFpbGVkIHRvIHJldHJpZXZlIFRva2VuSW1wZXJzb25hdGlvbkxldmVsIHN0YXR1cy4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFtVSW50MzJdJFRva2VuVHlwZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRUb2tlblR5cGVQdHIsIFtUeXBlXVtVSW50MzJdKQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCgkVG9rZW5UeXBlKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgMSB7JFJldHVybk9iai5Ub2tlblR5cGUgPSAiUHJpbWFyeSJ9CiAgICAgICAgICAgICAgICAgICAgICAgIDIgeyRSZXR1cm5PYmouVG9rZW5UeXBlID0gIkltcGVyc29uYXRpb24ifQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlblR5cGVQdHIpCgoKICAgICAgICAgICAgICAgICNRdWVyeSB0aGUgaW1wZXJzb25hdGlvbiBsZXZlbCBpZiB0aGUgdG9rZW4gaXMgYW4gSW1wZXJzb25hdGlvbiB0b2tlbgogICAgICAgICAgICAgICAgaWYgKCRSZXR1cm5PYmouVG9rZW5UeXBlIC1pZXEgIkltcGVyc29uYXRpb24iKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJbXBlcnNvbmF0aW9uTGV2ZWwgLVZhbHVlICJVbmFibGVUb1JldHJpZXZlIgoKICAgICAgICAgICAgICAgICAgICBbVUludDMyXSRJbXBlcnNvbmF0aW9uTGV2ZWxTaXplID0gNAogICAgICAgICAgICAgICAgICAgIFtJbnRQdHJdJEltcGVyc29uYXRpb25MZXZlbFB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkSW1wZXJzb25hdGlvbkxldmVsU2l6ZSkgI3NpemVvZiB1aW50MzIKICAgICAgICAgICAgICAgICAgICBbVUludDMyXSRSZWFsU2l6ZSA9IDAKICAgICAgICAgICAgICAgICAgICAkU3VjY2VzcyA9ICRHZXRUb2tlbkluZm9ybWF0aW9uLkludm9rZSgkaFRva2VuLCAkVE9LRU5fSU5GT1JNQVRJT05fQ0xBU1M6OlRva2VuSW1wZXJzb25hdGlvbkxldmVsLCAkSW1wZXJzb25hdGlvbkxldmVsUHRyLCAkSW1wZXJzb25hdGlvbkxldmVsU2l6ZSwgW1JlZl0kUmVhbFNpemUpCiAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJFN1Y2Nlc3MpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJHZXRUb2tlbkluZm9ybWF0aW9uIGZhaWxlZCB0byByZXRyaWV2ZSBUb2tlbkltcGVyc29uYXRpb25MZXZlbCBzdGF0dXMuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgW1VJbnQzMl0kSW1wZXJzb25hdGlvbkxldmVsID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEltcGVyc29uYXRpb25MZXZlbFB0ciwgW1R5cGVdW1VJbnQzMl0pCiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJEltcGVyc29uYXRpb25MZXZlbCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgMCB7ICRSZXR1cm5PYmouSW1wZXJzb25hdGlvbkxldmVsID0gIlNlY3VyaXR5QW5vbnltb3VzIiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxIHsgJFJldHVybk9iai5JbXBlcnNvbmF0aW9uTGV2ZWwgPSAiU2VjdXJpdHlJZGVudGlmaWNhdGlvbiIgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgMiB7ICRSZXR1cm5PYmouSW1wZXJzb25hdGlvbkxldmVsID0gIlNlY3VyaXR5SW1wZXJzb25hdGlvbiIgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgMyB7ICRSZXR1cm5PYmouSW1wZXJzb25hdGlvbkxldmVsID0gIlNlY3VyaXR5RGVsZWdhdGlvbiIgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRJbXBlcnNvbmF0aW9uTGV2ZWxQdHIpCiAgICAgICAgICAgICAgICB9CgoKICAgICAgICAgICAgICAgICNRdWVyeSB0aGUgdG9rZW4gc2Vzc2lvbmlkCiAgICAgICAgICAgICAgICAkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU2Vzc2lvbklEIC1WYWx1ZSAiVW5rbm93biIKCiAgICAgICAgICAgICAgICBbVUludDMyXSRUb2tlblNlc3Npb25JZFNpemUgPSA0CiAgICAgICAgICAgICAgICBbSW50UHRyXSRUb2tlblNlc3Npb25JZFB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5TZXNzaW9uSWRTaXplKQogICAgICAgICAgICAgICAgW1VJbnQzMl0kUmVhbFNpemUgPSAwCiAgICAgICAgICAgICAgICAkU3VjY2VzcyA9ICRHZXRUb2tlbkluZm9ybWF0aW9uLkludm9rZSgkaFRva2VuLCAkVE9LRU5fSU5GT1JNQVRJT05fQ0xBU1M6OlRva2VuU2Vzc2lvbklkLCAkVG9rZW5TZXNzaW9uSWRQdHIsICRUb2tlblNlc3Npb25JZFNpemUsIFtSZWZdJFJlYWxTaXplKQogICAgICAgICAgICAgICAgaWYgKC1ub3QgJFN1Y2Nlc3MpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJHZXRUb2tlbkluZm9ybWF0aW9uIGZhaWxlZCB0byByZXRyaWV2ZSBUb2tlbiBTZXNzaW9uSWQuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBbVUludDMyXSRUb2tlblNlc3Npb25JZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRUb2tlblNlc3Npb25JZFB0ciwgW1R5cGVdW1VJbnQzMl0pCiAgICAgICAgICAgICAgICAgICAgJFJldHVybk9iai5TZXNzaW9uSUQgPSAkVG9rZW5TZXNzaW9uSWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlblNlc3Npb25JZFB0cikKCgogICAgICAgICAgICAgICAgI1F1ZXJ5IHRoZSB0b2tlbiBwcml2aWxlZ2VzCiAgICAgICAgICAgICAgICAkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUHJpdmlsZWdlc0VuYWJsZWQgLVZhbHVlIEAoKQogICAgICAgICAgICAgICAgJFJldHVybk9iaiB8IEFkZC1NZW1iZXIgLVR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFByaXZpbGVnZXNBdmFpbGFibGUgLVZhbHVlIEAoKQoKICAgICAgICAgICAgICAgIFtVSW50MzJdJFRva2VuUHJpdmlsZWdlc1NpemUgPSAxMDAwCiAgICAgICAgICAgICAgICBbSW50UHRyXSRUb2tlblByaXZpbGVnZXNQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRva2VuUHJpdmlsZWdlc1NpemUpCiAgICAgICAgICAgICAgICBbVUludDMyXSRSZWFsU2l6ZSA9IDAKICAgICAgICAgICAgICAgICRTdWNjZXNzID0gJEdldFRva2VuSW5mb3JtYXRpb24uSW52b2tlKCRoVG9rZW4sICRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUzo6VG9rZW5Qcml2aWxlZ2VzLCAkVG9rZW5Qcml2aWxlZ2VzUHRyLCAkVG9rZW5Qcml2aWxlZ2VzU2l6ZSwgW1JlZl0kUmVhbFNpemUpCiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU3VjY2VzcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkdldFRva2VuSW5mb3JtYXRpb24gZmFpbGVkIHRvIHJldHJpZXZlIFRva2VuIFNlc3Npb25JZC4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRUb2tlblByaXZpbGVnZXMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVG9rZW5Qcml2aWxlZ2VzUHRyLCBbVHlwZV0kVE9LRU5fUFJJVklMRUdFUykKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAjTG9vcCB0aHJvdWdoIGVhY2ggcHJpdmlsZWdlCiAgICAgICAgICAgICAgICAgICAgW0ludFB0cl0kUHJpdmlsZWdlc0Jhc2VQdHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkVG9rZW5Qcml2aWxlZ2VzUHRyIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpPZmZzZXRPZihbVHlwZV0kVE9LRU5fUFJJVklMRUdFUywgIlByaXZpbGVnZXMiKSkpCiAgICAgICAgICAgICAgICAgICAgJEx1aWRBbmRBdHRyaWJ1dGVTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRMVUlEX0FORF9BVFRSSUJVVEVTKQogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAkaSAtbHQgJFRva2VuUHJpdmlsZWdlcy5Qcml2aWxlZ2VDb3VudDsgJGkrKykKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRMdWlkQW5kQXR0cmlidXRlUHRyID0gW0ludFB0cl0oQWRkLVNpZ25lZEludEFzVW5zaWduZWQgJFByaXZpbGVnZXNCYXNlUHRyICgkTHVpZEFuZEF0dHJpYnV0ZVNpemUgKiAkaSkpCgogICAgICAgICAgICAgICAgICAgICAgICAkTHVpZEFuZEF0dHJpYnV0ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRMdWlkQW5kQXR0cmlidXRlUHRyLCBbVHlwZV0kTFVJRF9BTkRfQVRUUklCVVRFUykKCiAgICAgICAgICAgICAgICAgICAgICAgICNMb29rdXAgcHJpdmlsZWdlIG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgW1VJbnQzMl0kUHJpdmlsZWdlTmFtZVNpemUgPSA2MAogICAgICAgICAgICAgICAgICAgICAgICAkUHJpdmlsZWdlTmFtZVB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkUHJpdmlsZWdlTmFtZVNpemUpCiAgICAgICAgICAgICAgICAgICAgICAgICRQTHVpZCA9ICRMdWlkQW5kQXR0cmlidXRlUHRyICNUaGUgTHVpZCBzdHJ1Y3R1cmUgaXMgdGhlIGZpcnN0IG9iamVjdCBpbiB0aGUgTHVpZEFuZEF0dHJpYnV0ZXMgc3RydWN0dXJlLCBzbyBhIHB0ciB0byBMdWlkQW5kQXR0cmlidXRlcyBhbHNvIHBvaW50cyB0byBMdWlkCgogICAgICAgICAgICAgICAgICAgICAgICAkU3VjY2VzcyA9ICRMb29rdXBQcml2aWxlZ2VOYW1lVy5JbnZva2UoW0ludFB0cl06Olplcm8sICRQTHVpZCwgJFByaXZpbGVnZU5hbWVQdHIsIFtSZWZdJFByaXZpbGVnZU5hbWVTaXplKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU3VjY2VzcykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkNhbGwgdG8gTG9va3VwUHJpdmlsZWdlTmFtZVcgZmFpbGVkLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlLiBSZWFsU2l6ZTogJFByaXZpbGVnZU5hbWVTaXplIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRQcml2aWxlZ2VOYW1lID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdVbmkoJFByaXZpbGVnZU5hbWVQdHIpCgogICAgICAgICAgICAgICAgICAgICAgICAjR2V0IHRoZSBwcml2aWxlZ2UgYXR0cmlidXRlcwogICAgICAgICAgICAgICAgICAgICAgICAkUHJpdmlsZWdlU3RhdHVzID0gIiIKICAgICAgICAgICAgICAgICAgICAgICAgJEVuYWJsZWQgPSAkZmFsc2UKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTHVpZEFuZEF0dHJpYnV0ZS5BdHRyaWJ1dGVzIC1lcSAwKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRW5hYmxlZCA9ICRmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJEx1aWRBbmRBdHRyaWJ1dGUuQXR0cmlidXRlcyAtYmFuZCAkV2luMzJDb25zdGFudHMuU0VfUFJJVklMRUdFX0VOQUJMRURfQllfREVGQVVMVCkgLWVxICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfRU5BQkxFRF9CWV9ERUZBVUxUKSAjZW5hYmxlZCBieSBkZWZhdWx0CiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRFbmFibGVkID0gJHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRMdWlkQW5kQXR0cmlidXRlLkF0dHJpYnV0ZXMgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLlNFX1BSSVZJTEVHRV9FTkFCTEVEKSAtZXEgJFdpbjMyQ29uc3RhbnRzLlNFX1BSSVZJTEVHRV9FTkFCTEVEKSAjZW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRW5hYmxlZCA9ICR0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkTHVpZEFuZEF0dHJpYnV0ZS5BdHRyaWJ1dGVzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfUkVNT1ZFRCkgLWVxICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfUkVNT1ZFRCkgI1NFX1BSSVZJTEVHRV9SRU1PVkVELiBUaGlzIHNob3VsZCBuZXZlciBleGlzdC4gV3JpdGUgYSB3YXJuaW5nIGlmIGl0IGlzIGZvdW5kIHNvIEkgY2FuIGludmVzdGlnYXRlIHdoeS9ob3cgaXQgd2FzIGZvdW5kLgogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJVbmV4cGVjdGVkIGJlaGF2aW9yOiBGb3VuZCBhIHRva2VuIHdpdGggU0VfUFJJVklMRUdFX1JFTU9WRUQuIFBsZWFzZSByZXBvcnQgdGhpcyBhcyBhIGJ1Zy4gIgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEVuYWJsZWQpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSZXR1cm5PYmouUHJpdmlsZWdlc0VuYWJsZWQgKz0gLCRQcml2aWxlZ2VOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmV0dXJuT2JqLlByaXZpbGVnZXNBdmFpbGFibGUgKz0gLCRQcml2aWxlZ2VOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRQcml2aWxlZ2VOYW1lUHRyKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlblByaXZpbGVnZXNQdHIpCgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiQ2FsbCB0byBMc2FHZXRMb2dvblNlc3Npb25EYXRhIHN1Y2NlZWRlZC4gVGhpcyBTSE9VTEQgYmUgU1lTVEVNIHNpbmNlIHRoZXJlIGlzIG5vIGRhdGEuICQoJExvZ29uU2Vzc2lvbkRhdGEuVXNlck5hbWUuTGVuZ3RoKSIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgI0ZyZWUgTG9nb25TZXNzaW9uRGF0YQogICAgICAgICAgICAkbnRzdGF0dXMgPSAkTHNhRnJlZVJldHVybkJ1ZmZlci5JbnZva2UoJExvZ29uU2Vzc2lvbkRhdGFQdHIpCiAgICAgICAgICAgICRMb2dvblNlc3Npb25EYXRhUHRyID0gW0ludFB0cl06Olplcm8KICAgICAgICAgICAgaWYgKCRudHN0YXR1cyAtbmUgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiQ2FsbCB0byBMc2FGcmVlUmV0dXJuQnVmZmVyIGZhaWxlZC4gRXJyb3IgY29kZTogJG50c3RhdHVzIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkTHVpZFB0cikKICAgICAgICAkTHVpZFB0ciA9IFtJbnRQdHJdOjpaZXJvCiAgICB9CgogICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFRva2VuU3RhdHNQdHIpCiAgICAkVG9rZW5TdGF0c1B0ciA9IFtJbnRQdHJdOjpaZXJvCgogICAgcmV0dXJuICRSZXR1cm5PYmoKfQoKI1VzZWQgdG8gYWRkIDY0Yml0IG1lbW9yeSBhZGRyZXNzZXMKRnVuY3Rpb24gQWRkLVNpZ25lZEludEFzVW5zaWduZWQKewoJUGFyYW0oCglbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJHRydWUpXQoJW0ludDY0XQoJJFZhbHVlMSwKCQoJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCVtJbnQ2NF0KCSRWYWx1ZTIKCSkKCQoJW0J5dGVbXV0kVmFsdWUxQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlMSkKCVtCeXRlW11dJFZhbHVlMkJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRWYWx1ZTIpCglbQnl0ZVtdXSRGaW5hbEJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKFtVSW50NjRdMCkKCglpZiAoJFZhbHVlMUJ5dGVzLkNvdW50IC1lcSAkVmFsdWUyQnl0ZXMuQ291bnQpCgl7CgkJJENhcnJ5T3ZlciA9IDAKCQlmb3IgKCRpID0gMDsgJGkgLWx0ICRWYWx1ZTFCeXRlcy5Db3VudDsgJGkrKykKCQl7CgkJCSNBZGQgYnl0ZXMKCQkJW1VJbnQxNl0kU3VtID0gJFZhbHVlMUJ5dGVzWyRpXSArICRWYWx1ZTJCeXRlc1skaV0gKyAkQ2FycnlPdmVyCgoJCQkkRmluYWxCeXRlc1skaV0gPSAkU3VtIC1iYW5kIDB4MDBGRgoJCQkKCQkJaWYgKCgkU3VtIC1iYW5kIDB4RkYwMCkgLWVxIDB4MTAwKQoJCQl7CgkJCQkkQ2FycnlPdmVyID0gMQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJJENhcnJ5T3ZlciA9IDAKCQkJfQoJCX0KCX0KCWVsc2UKCXsKCQlUaHJvdyAiQ2Fubm90IGFkZCBieXRlYXJyYXlzIG9mIGRpZmZlcmVudCBzaXplcyIKCX0KCQoJcmV0dXJuIFtCaXRDb252ZXJ0ZXJdOjpUb0ludDY0KCRGaW5hbEJ5dGVzLCAwKQp9CgpmdW5jdGlvbiBHZXQtVGhyZWFkVG9rZW4KewogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbj0wLCBNYW5kYXRvcnk9JHRydWUpXQogICAgICAgIFtVSW50MzJdCiAgICAgICAgJFRocmVhZElkCiAgICApCgogICAgJFRva2VuUHJpdnMgPSAkV2luMzJDb25zdGFudHMuVE9LRU5fQUxMX0FDQ0VTUwoKICAgICRSZXRTdHJ1Y3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICBbSW50UHRyXSRoVGhyZWFkVG9rZW4gPSBbSW50UHRyXTo6WmVybwoKICAgICRoVGhyZWFkID0gJE9wZW5UaHJlYWQuSW52b2tlKCRXaW4zMkNvbnN0YW50cy5USFJFQURfQUxMX0FDQ0VTUywgJGZhbHNlLCAkVGhyZWFkSWQpCiAgICBpZiAoJGhUaHJlYWQgLWVxIFtJbnRQdHJdOjpaZXJvKQogICAgewogICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgaWYgKCRFcnJvckNvZGUgLW5lICRXaW4zMkNvbnN0YW50cy5FUlJPUl9JTlZBTElEX1BBUkFNRVRFUikgI1RoZSB0aHJlYWQgcHJvYmFibHkgbm8gbG9uZ2VyIGV4aXN0cwogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiRmFpbGVkIHRvIG9wZW4gdGhyZWFkIGhhbmRsZSBmb3IgVGhyZWFkSWQ6ICRUaHJlYWRJZC4gRXJyb3IgY29kZTogJEVycm9yQ29kZSIKICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFN1Y2Nlc3MgPSAkT3BlblRocmVhZFRva2VuLkludm9rZSgkaFRocmVhZCwgJFRva2VuUHJpdnMsICRmYWxzZSwgW1JlZl0kaFRocmVhZFRva2VuKQogICAgICAgIGlmICgtbm90ICRTdWNjZXNzKQogICAgICAgIHsKICAgICAgICAgICAgJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKICAgICAgICAgICAgaWYgKCgkRXJyb3JDb2RlIC1uZSAkV2luMzJDb25zdGFudHMuRVJST1JfTk9fVE9LRU4pIC1hbmQgICNUaGlzIGVycm9yIGlzIHJldHVybmVkIHdoZW4gdGhlIHRocmVhZCBpc24ndCBpbXBlcnNvbmF0ZWQKICAgICAgICAgICAgICgkRXJyb3JDb2RlIC1uZSAkV2luMzJDb25zdGFudHMuRVJST1JfSU5WQUxJRF9QQVJBTUVURVIpKSAjUHJvYmFibHkgbWVhbnMgdGhlIHRocmVhZCB3YXMgY2xvc2VkCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkZhaWxlZCB0byBjYWxsIE9wZW5UaHJlYWRUb2tlbiBmb3IgVGhyZWFkSWQ6ICRUaHJlYWRJZC4gRXJyb3IgY29kZTogJEVycm9yQ29kZSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJTdWNjZXNzZnVsbHkgcXVlcmllZCB0aHJlYWQgdG9rZW4iCiAgICAgICAgfQoKICAgICAgICAjQ2xvc2UgdGhlIGhhbmRsZSB0byBoVGhyZWFkICh0aGUgdGhyZWFkIGhhbmRsZSkKICAgICAgICBpZiAoLW5vdCAkQ2xvc2VIYW5kbGUuSW52b2tlKCRoVGhyZWFkKSkKICAgICAgICB7CiAgICAgICAgICAgICRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkZhaWxlZCB0byBjbG9zZSB0aHJlYWQgaGFuZGxlLCB0aGlzIGlzIHVuZXhwZWN0ZWQuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKICAgICAgICB9CiAgICAgICAgJGhUaHJlYWQgPSBbSW50UHRyXTo6WmVybwogICAgfQoKICAgICRSZXRTdHJ1Y3QgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBoVGhyZWFkVG9rZW4gLVZhbHVlICRoVGhyZWFkVG9rZW4KICAgIHJldHVybiAkUmV0U3RydWN0Cn0KCg==
