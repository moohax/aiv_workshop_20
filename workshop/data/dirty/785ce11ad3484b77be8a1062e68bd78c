Invoke-ProcessWithLogonToken.ps1,57c92d9d9c18273d27cf298cc132fe00,Scan result is 32768. IsMalware: 1,ZnVuY3Rpb24gSW52b2tlLVByb2Nlc3NXaXRoTG9nb25Ub2tlbgp7CjwjCi5TWU5PUFNJUwoKVGhpcyBzY3JpcHQgcmVxdWlyZXMgQWRtaW5pc3RyYXRvciBwcml2aWxlZ2VzLiBJdCBjYW4gZW51bWVyYXRlIHRoZSBMb2dvbiBUb2tlbnMgYXZhaWxhYmxlIGFuZCB1c2UgdGhlbSB0byBjcmVhdGUgbmV3IHByb2Nlc3Nlcy4gVGhpcyBhbGxvd3MgeW91IHRvIHVzZQphbm90aGVycyB1c2VycyBjcmVkZW50aWFscyBvdmVyIHRoZSBuZXR3b3JrIGJ5IGNyZWF0aW5nIGEgcHJvY2VzcyB3aXRoIHRoZWlyIGxvZ29uIHRva2VuLiBUaGlzIHdpbGwgd29yayBldmVuIHdpdGggV2luZG93cyA4LjEgTFNBU1MgcHJvdGVjdGlvbnMuClRoaXMgZnVuY3Rpb25hbGl0eSBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhlIGluY29nbml0byB0b29sICh3aXRoIHNvbWUgZGlmZmVyZW5jZXMsIGFuZCBkaWZmZXJlbnQgdXNlIGdvYWxzKS4KClRoaXMgc2NyaXB0IGNhbiBhbHNvIG1ha2UgdGhlIFBvd2VyU2hlbGwgdGhyZWFkIGltcGVyc29uYXRlIGFub3RoZXIgdXNlcnMgTG9nb24gVG9rZW4uIFVuZm9ydHVuYXRlbHkgdGhpcyBkb2Vzbid0IHdvcmsgd2VsbCwgYmVjYXVzZSBQb3dlclNoZWxsCmNyZWF0ZXMgbmV3IHRocmVhZHMgdG8gZG8gdGhpbmdzLCBhbmQgdGhvc2UgdGhyZWFkcyB3aWxsIHVzZSB0aGUgUHJpbWFyeSB0b2tlbiBvZiB0aGUgUG93ZXJTaGVsbCBwcm9jZXNzICh5b3VyIG9yaWdpbmFsIHRva2VuKSBhbmQgbm90IHRoZSB0b2tlbgp0aGF0IG9uZSB0aHJlYWQgaXMgaW1wZXJzb25hdGluZy4gQmVjYXVzZSBvZiB0aGlzLCB5b3UgY2Fubm90IHVzZSB0aHJlYWQgaW1wZXJzb25hdGlvbiB0byBpbXBlcnNvbmF0ZSBhIHVzZXIgYW5kIHRoZW4gdXNlIFBvd2VyU2hlbGwgcmVtb3RpbmcgdG8gY29ubmVjdAp0byBhbm90aGVyIHNlcnZlciBhcyB0aGF0IHVzZXIgKGl0IHdpbGwgYXV0aGVudGljYXRlIHVzaW5nIHRoZSBwcmltYXJ5IHRva2VuIG9mIHRoZSBwcm9jZXNzLCB3aGljaCBpcyB5b3VyIG9yaWdpbmFsIGxvZ29uIHRva2VuKS4KCkJlY2F1c2Ugb2YgdGhpcyBsaW1pdGF0aW9uLCB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIHVzZSB0aGlzIHNjcmlwdCBpcyB0byB1c2UgQ3JlYXRlUHJvY2VzcyB0byBjcmVhdGUgYSBuZXcgUG93ZXJTaGVsbCBwcm9jZXNzIHdpdGggYW5vdGhlciB1c2VycyBMb2dvbiAKVG9rZW4sIGFuZCB0aGVuIHVzZSB0aGlzIHByb2Nlc3MgdG8gcGl2b3QuIFRoaXMgd29ya3MgYmVjYXVzZSB0aGUgZW50aXJlIHByb2Nlc3MgaXMgY3JlYXRlZCB1c2luZyB0aGUgb3RoZXIgdXNlcnMgTG9nb24gVG9rZW4sIHNvIGl0IHdpbGwgdXNlIHRoZWlyCmNyZWRlbnRpYWxzIGZvciB0aGUgYXV0aGVudGljYXRpb24uCgpJTVBPUlRBTlQ6IElmIHlvdSBhcmUgY3JlYXRpbmcgYSBwcm9jZXNzLCBieSBkZWZhdWx0IHRoaXMgc2NyaXB0IHdpbGwgbW9kaWZ5IHRoZSBBQ0wgb2YgdGhlIGN1cnJlbnQgdXNlcnMgZGVza3RvcCB0byBhbGxvdyBmdWxsIGNvbnRyb2wgdG8gIkV2ZXJ5b25lIi4gClRoaXMgaXMgZG9uZSBzbyB0aGF0IHRoZSBVSSBvZiB0aGUgcHJvY2VzcyBpcyBzaG93bi4gSWYgeW91IGRvIG5vdCBuZWVkIHRoZSBVSSwgdXNlIHRoZSAtTm9VSSBmbGFnIHRvIHByZXZlbnQgdGhlIEFDTCBmcm9tIGJlaW5nIG1vZGlmaWVkLiBUaGlzIEFDTAppcyBub3QgcGVybWVuYW50LCBhcyBpbiwgd2hlbiB0aGUgY3VycmVudCBsb2dzIG9mZiB0aGUgQUNMIGlzIGNsZWFyZWQuIEl0IGlzIHN0aWxsIHByZWZlcnJhYmxlIHRvIG5vdCBtb2RpZnkgdGhpbmdzIHVubGVzcyB0aGV5IG5lZWQgdG8gYmUgbW9kaWZpZWQgdGhvdWdoLApzbyBJIGNyZWF0ZWQgdGhlIE5vVUkgZmxhZy4gQUxTTzogV2hlbiBjcmVhdGluZyBhIHByb2Nlc3MsIHRoZSBzY3JpcHQgd2lsbCByZXF1ZXN0IFNlU2VjdXJpdHlQcml2aWxlZ2Ugc28gaXQgY2FuIGVudW1lcmF0ZSBhbmQgbW9kaWZ5IHRoZSBBQ0wgb2YgdGhlIGRlc2t0b3AuClRoaXMgY291bGQgc2hvdyB1cCBpbiBsb2dzIGRlcGVuZGluZyBvbiB0aGUgbGV2ZWwgb2YgbW9uaXRvcmluZy4KCgpQRVJNSVNTSU9OUyBSRVFVSVJFRDoKU2VTZWN1cml0eVByaXZpbGVnZTogTmVlZGVkIGlmIGxhdW5jaGluZyBhIHByb2Nlc3Mgd2l0aCBhIFVJIHRoYXQgbmVlZHMgdG8gYmUgcmVuZGVyZWQuIFVzaW5nIHRoZSAtTm9VSSBmbGFnIGJsb2NrcyB0aGlzLgpTZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZSA6IE5lZWRlZCBpZiBsYXVuY2hpbmcgYSBwcm9jZXNzIHdoaWxlIHRoZSBzY3JpcHQgaXMgcnVubmluZyBpbiBTZXNzaW9uIDAuCgoKSW1wb3J0YW50IGRpZmZlcmVuY2VzIGZyb20gaW5jb2duaXRvOgpGaXJzdCBvZiBhbGwsIHlvdSBzaG91bGQgcHJvYmFibHkgcmVhZCB0aGUgaW5jb2duaXRvIHdoaXRlIHBhcGVyIHRvIHVuZGVyc3RhbmQgd2hhdCBpbmNvZ25pdG8gZG9lcy4gSWYgeW91IHVzZSBpbmNvZ25pdG8sIHlvdSdsbCBub3RpY2UgaXQgZGlmZmVyZW50aWF0ZXMKYmV0d2VlbiAiSW1wZXJzb25hdGlvbiIgYW5kICJEZWxlZ2F0aW9uIiB0b2tlbnMuIFRoaXMgaXMgYmVjYXVzZSBpbmNvZ25pdG8gY2FuIGJlIHVzZWQgaW4gc2l0dWF0aW9ucyB3aGVyZSB5b3UgZ2V0IHJlbW90ZSBjb2RlIGV4ZWN1dGlvbiBhZ2FpbnN0IGEgc2VydmljZQp3aGljaCBoYXMgdGhyZWFkcyBpbXBlcnNvbmF0aW5nIG11bHRpcGxlIHVzZXJzLiBJbmNvZ25pdG8gY2FuIGVudW1lcmF0ZSBhbGwgdG9rZW5zIGF2YWlsYWJsZSB0byB0aGUgc2VydmljZSBwcm9jZXNzLCBhbmQgaW1wZXJzb25hdGUgdGhlbSAod2hpY2ggbWlnaHQgYWxsb3cKeW91IHRvIGVsZXZhdGUgcHJpdmlsZWdlcykuIFRoaXMgc2NyaXB0IG11c3QgYmUgcnVuIGFzIGFkbWluaXN0cmF0b3IsIGFuZCBiZWNhdXNlIHlvdSBhcmUgYWxyZWFkeSBhbiBhZG1pbmlzdHJhdG9yLCB0aGUgcHJpbWFyeSB1c2Ugb2YgdGhpcyBzY3JpcHQgaXMgZm9yIHBpdm90aW5nCndpdGhvdXQgZHVtcGluZyBjcmVkZW50aWFscy4gCgpJbiB0aGlzIHNpdHVhdGlvbiwgSW1wZXJzb25hdGlvbiB2cyBEZWxlZ2F0aW9uIGRvZXMgbm90IG1hdHRlciBiZWNhdXNlIGFuIGFkbWluaXN0cmF0b3IgY2FuIHR1cm4gYW55IHRva2VuIGluIHRvIGEgcHJpbWFyeSB0b2tlbiAoZGVsZWdhdGlvbiByaWdodHMpLiBXaGF0IGRvZXMKbWF0dGVyIGlzIHRoZSBsb2dvbiB0eXBlIHVzZWQgdG8gY3JlYXRlIHRoZSBsb2dvbiB0b2tlbi4gSWYgYSB1c2VyIGNvbm5lY3RzIHVzaW5nIE5ldHdvcmsgTG9nb24gKGFrYSB0eXBlIDMgbG9nb24pLCB0aGUgY29tcHV0ZXIgd2lsbCBub3QgaGF2ZSBhbnkgY3JlZGVudGlhbHMgZm9yIAp0aGUgdXNlci4gU2luY2UgdGhlIGNvbXB1dGVyIGhhcyBubyBjcmVkZW50aWFscyBhc3NvY2lhdGVkIHdpdGggdGhlIHRva2VuLCBpdCB3aWxsIG5vdCBiZSBwb3NzaWJsZSB0byBhdXRoZW50aWNhdGUgb2ZmLWJveCB3aXRoIHRoZSB0b2tlbi4gQWxsIG90aGVyIGxvZ29uIHR5cGVzCnNob3VsZCBoYXZlIGNyZWRlbnRpYWxzIGFzc29jaWF0ZWQgd2l0aCB0aGVtIChzdWNoIGFzIEludGVyYWN0aXZlIGxvZ29uLCBTZXJ2aWNlIGxvZ29uLCBSZW1vdGUgaW50ZXJhY3RpdmUgbG9nb24sIGV0YykuIFRoZXJlZm9yZSwgdGhpcyBzY3JpcHQgbG9va3MKZm9yIHRva2VucyB3aGljaCB3ZXJlIGNyZWF0ZWQgd2l0aCBkZXNpcmFibGUgbG9nb24gdG9rZW5zIChhbmQgb25seSBkaXNwbGF5cyB0aGVtIGJ5IGRlZmF1bHQpLgoKSW4gYSBudXRzaGVsbCwgaW5zdGVhZCBvZiB3b3JyeWluZyBhYm91dCAiZGVsZWdhdGlvbiB2cyBpbXBlcnNvbmF0aW9uIiB0b2tlbnMsIHlvdSBzaG91bGQgd29ycnkgYWJvdXQgTmV0d29ya0xvZ29uIChiYWQpIHZzIE5vbi1OZXR3b3JrTG9nb24gKGdvb2QpLgoKClBvd2VyU3Bsb2l0IEZ1bmN0aW9uOiBJbnZva2UtUHJvY2Vzc1dpdGhMb2dvblRva2VuCkF1dGhvcjogSm9lIEJpYWxlaywgVHdpdHRlcjogQEpvc2VwaEJpYWxlawpMaWNlbnNlOiBCU0QgMy1DbGF1c2UKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCk9wdGlvbmFsIERlcGVuZGVuY2llczogTm9uZQpWZXJzaW9uOiAxLjExCigxLjEgLT4gMS4xMTogUGFzc1RocnUgb2YgU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3Mgb2JqZWN0IGFkZGVkIGJ5IFJ1bmUgTWFyaWJvZSwgaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL3J1bmVtYXJpYm9lKQoKLkRFU0NSSVBUSU9OCgpMaXN0cyBhdmFpbGFibGUgbG9nb24gdG9rZW5zLiBDcmVhdGVzIHByb2Nlc3NlcyB3aXRoIG90aGVyIHVzZXJzIGxvZ29uIHRva2VucywgYW5kIGltcGVyc29uYXRlcyBsb2dvbiB0b2tlbnMgaW4gdGhlIGN1cnJlbnQgdGhyZWFkLgoKLlBBUkFNRVRFUiBFbnVtZXJhdGUKClN3aXRjaC4gU3BlY2lmaWNzIHRvIGVudW1lcmF0ZSBsb2dvbiB0b2tlbnMgYXZhaWxhYmxlLiBCeSBkZWZhdWx0IHRoaXMgd2lsbCBvbmx5IGxpc3QgdW5xaXVlIHVzYWJsZSB0b2tlbnMgKG5vdCBuZXR3b3JrLWxvZ29uIHRva2VucykuCgouUEFSQU1FVEVSIFJldlRvU2VsZgoKU3dpdGNoLiBTdG9wcyBpbXBlcnNvbmF0aW5nIGFuIGFsdGVybmF0ZSB1c2VycyBUb2tlbi4KCi5QQVJBTUVURVIgU2hvd0FsbAoKU3dpdGNoLiBFbnVtZXJhdGUgYWxsIExvZ29uIFRva2VucyAoaW5jbHVkaW5nIG5vbi11bmlxdWUgdG9rZW5zIGFuZCBOZXR3b3JrTG9nb24gdG9rZW5zKS4KCi5QQVJBTUVURVIgSW1wZXJzb25hdGVVc2VyCgpTd2l0Y2guIFdpbGwgaW1wZXJzb25hdGUgYW4gYWx0ZXJuYXRlIHVzZXJzIGxvZ29uIHRva2VuIGluIHRoZSBQb3dlclNoZWxsIHRocmVhZC4gQ2FuIHNwZWNpZnkgdGhlIHRva2VuIHRvIHVzZSBieSBVc2VybmFtZSwgUHJvY2Vzc0lkLCBvciBUaHJlYWRJZC4KCVRoaXMgbW9kZSBpcyBub3QgcmVjb21tZW5kZWQgYmVjYXVzZSBQb3dlclNoZWxsIGlzIGhlYXZpbHkgdGhyZWFkZWQgYW5kIG1hbnkgYWN0aW9ucyB3b24ndCBiZSBkb25lIGluIHRoZSBjdXJyZW50IHRocmVhZC4gVXNlIENyZWF0ZVByb2Nlc3MgaW5zdGVhZC4KCQouUEFSQU1FVEVSIENyZWF0ZVByb2Nlc3MKClNwZWNpZnkgYSBwcm9jZXNzIHRvIGNyZWF0ZSB3aXRoIGFuIGFsdGVybmF0ZSB1c2VycyBsb2dvbiB0b2tlbi4gQ2FuIHNwZWNpZnkgdGhlIHRva2VuIHRvIHVzZSBieSBVc2VybmFtZSwgUHJvY2Vzc0lkLCBvciBUaHJlYWRJZC4KCQouUEFSQU1FVEVSIFdob0FtSQoKU3dpdGNoLiBEaXNwbGF5cyB0aGUgY3JlZGVudGlhbHMgdGhlIFBvd2VyU2hlbGwgdGhyZWFkIGlzIHJ1bm5pbmcgdW5kZXIuCgouUEFSQU1FVEVSIFVzZXJuYW1lCgpTcGVjaWZ5IHRoZSBUb2tlbiB0byB1c2UgYnkgdXNlcm5hbWUuIFRoaXMgd2lsbCBjaG9vc2UgYSBub24tTmV0d29ya0xvZ29uIHRva2VuIGJlbG9uZ2luZyB0byB0aGUgdXNlci4KCi5QQVJBTUVURVIgUHJvY2Vzc0lkCgpTcGVjaWZ5IHRoZSBUb2tlbiB0byB1c2UgYnkgUHJvY2Vzc0lkLiBUaGlzIHdpbGwgdXNlIHRoZSBwcmltYXJ5IHRva2VuIG9mIHRoZSBwcm9jZXNzIHNwZWNpZmllZC4KCi5QQVJBTUVURVIgUHJvY2VzcwoKU3BlY2lmeSB0aGUgdG9rZW4gdG8gdXNlIGJ5IHByb2Nlc3Mgb2JqZWN0ICh3aWxsIHVzZSB0aGUgcHJvY2Vzc0lkIHVuZGVyIHRoZSBjb3ZlcnMpLiBUaGlzIHdpbGwgaW1wZXJzb25hdGUgdGhlIHByaW1hcnkgdG9rZW4gb2YgdGhlIHByb2Nlc3MuCgouUEFSQU1FVEVSIFRocmVhZElkCgpTcGVjaWZ5IHRoZSBUb2tlbiB0byB1c2UgYnkgVGhyZWFkSWQuIFRoaXMgd2lsbCB1c2UgdGhlIHRva2VuIG9mIHRoZSB0aHJlYWQgc3BlY2lmaWVkLgoKLlBBUkFNRVRFUiBQcm9jZXNzQXJncwoKU3BlY2lmeSB0aGUgYXJndW1lbnRzIHRvIHN0YXJ0IHRoZSBzcGVjaWZpZWQgcHJvY2VzcyB3aXRoIHdoZW4gdXNpbmcgdGhlIC1DcmVhdGVQcm9jZXNzIG1vZGUuCgouUEFSQU1FVEVSIE5vVUkKCklmIHlvdSBhcmUgY3JlYXRpbmcgYSBwcm9jZXNzIHdoaWNoIGRvZXNuJ3QgbmVlZCBhIFVJIHRvIGJlIHJlbmRlcmVkLCB1c2UgdGhpcyBmbGFnLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgc2NyaXB0IGZyb20gbW9kaWZ5aW5nIHRoZSBEZXNrdG9wIEFDTCdzIG9mIHRoZSAKY3VycmVudCB1c2VyLiBJZiB0aGlzIGZsYWcgaXNuJ3Qgc2V0IGFuZCAtQ3JlYXRlUHJvY2VzcyBpcyB1c2VkLCB0aGlzIHNjcmlwdCB3aWxsIG1vZGlmeSB0aGUgQUNMJ3Mgb2YgdGhlIGN1cnJlbnQgdXNlcnMgZGVza3RvcCB0byBhbGxvdyBmdWxsIGNvbnRyb2wKdG8gIkV2ZXJ5b25lIi4KCi5QQVJBTUVURVIgUGFzc1RocnUKCklmIHlvdSBhcmUgY3JlYXRpbmcgYSBwcm9jZXNzLCB0aGlzIHdpbGwgcGFzcyB0aGUgU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3Mgb2JqZWN0IHRvIHRoZSBwaXBlbGluZS4KCgkKLkVYQU1QTEUKCkludm9rZS1Qcm9jZXNzV2l0aExvZ29uVG9rZW4gLUVudW1lcmF0ZQoKTGlzdHMgYWxsIHVuaXF1ZSB1c2FibGUgdG9rZW5zIG9uIHRoZSBjb21wdXRlci4KCi5FWEFNUExFCgpJbnZva2UtUHJvY2Vzc1dpdGhMb2dvblRva2VuIC1DcmVhdGVQcm9jZXNzICJjbWQuZXhlIiAtVXNlcm5hbWUgIm50IGF1dGhvcml0eVxzeXN0ZW0iCgpTcGF3bnMgY21kLmV4ZSBhcyBTWVNURU0uCgouRVhBTVBMRQoKSW52b2tlLVByb2Nlc3NXaXRoTG9nb25Ub2tlbiAtSW1wZXJzb25hdGVVc2VyIC1Vc2VybmFtZSAibnQgYXV0aG9yaXR5XHN5c3RlbSIKCk1ha2VzIHRoZSBjdXJyZW50IFBvd2VyU2hlbGwgdGhyZWFkIGltcGVyc29uYXRlIFNZU1RFTS4KCi5FWEFNUExFCgpJbnZva2UtUHJvY2Vzc1dpdGhMb2dvblRva2VuIC1DcmVhdGVQcm9jZXNzICJjbWQuZXhlIiAtUHJvY2Vzc0lkIDUwMAoKU3Bhd25zIGNtZC5leGUgdXNpbmcgdGhlIHByaW1hcnkgdG9rZW4gYmVsb25naW5nIHRvIHByb2Nlc3MgSUQgNTAwLgoKLkVYQU1QTEUKCkludm9rZS1Qcm9jZXNzV2l0aExvZ29uVG9rZW4gLVNob3dBbGwKCkxpc3RzIGFsbCB0b2tlbnMgYXZhaWxhYmxlIG9uIHRoZSBjb21wdXRlciwgaW5jbHVkaW5nIG5vbi11bmlxdWUgdG9rZW5zIGFuZCB0b2tlbnMgY3JlYXRlZCB1c2luZyBOZXR3b3JrTG9nb24uCgouRVhBTVBMRQoKSW52b2tlLVByb2Nlc3NXaXRoTG9nb25Ub2tlbiAtQ3JlYXRlUHJvY2VzcyAiY21kLmV4ZSIgLVRocmVhZElkIDUwMAoKU3Bhd25zIGNtZC5leGUgdXNpbmcgdGhlIHRva2VuIGJlbG9uZ2luZyB0byB0aHJlYWQgSUQgNTAwLgoKLkVYQU1QTEUKCkdldC1Qcm9jZXNzIHdpbmluaXQgfCBJbnZva2UtUHJvY2Vzc1dpdGhMb2dvblRva2VuIC1DcmVhdGVQcm9jZXNzICJjbWQuZXhlIgoKU3Bhd25zIGNtZC5leGUgdXNpbmcgdGhlIHByaW1hcnkgdG9rZW4gb2YgTFNBU1MuZXhlLiBUaGlzIHBpcGVzIHRoZSBvdXRwdXQgb2YgR2V0LVByb2Nlc3MgdG8gdGhlICItUHJvY2VzcyIgcGFyYW1ldGVyIG9mIHRoZSBzY3JpcHQuCgouRVhBTVBMRQoKKEdldC1Qcm9jZXNzIHdpbmluaXQgfCBJbnZva2UtUHJvY2Vzc1dpdGhMb2dvblRva2VuIC1DcmVhdGVQcm9jZXNzICJjbWQuZXhlIiAtUGFzc1RocnUpLldhaXRGb3JFeGl0KCkKClNwYXducyBjbWQuZXhlIHVzaW5nIHRoZSBwcmltYXJ5IHRva2VuIG9mIExTQVNTLmV4ZS4gVGhlbiBob2xkcyB0aGUgc3Bhd25pbmcgUG93ZXJTaGVsbCBzZXNzaW9uIHVudGlsIHRoYXQgcHJvY2VzcyBoYXMgZXhpdGVkLgoKLkVYQU1QTEUKCkdldC1Qcm9jZXNzIHdpbmluaXQgfCBJbnZva2UtUHJvY2Vzc1dpdGhMb2dvblRva2VuIC1JbXBlcnNvbmF0ZVVzZXIKCk1ha2VzIHRoZSBjdXJyZW50IHRocmVhZCBpbXBlcnNvbmF0ZSB0aGUgbHNhc3Mgc2VjdXJpdHkgdG9rZW4uCgouTk9URVMKVGhpcyBzY3JpcHQgd2FzIGluc3BpcmVkIGJ5IGluY29nbml0by4gCgpTZXZlcmFsIG9mIHRoZSBmdW5jdGlvbnMgdXNlZCBpbiB0aGlzIHNjcmlwdCB3ZXJlIHdyaXR0ZW4gYnkgTWF0dCBHcmFlYmVyKFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbiwgQmxvZzogaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20vKS4KQklHIFRIQU5LUyB0byBNYXR0IEdyYWViZXIgZm9yIGhlbHBpbmcgZGVidWcuCgouTElOSwoKQmxvZzogaHR0cDovL2NseW1iM3Iud29yZHByZXNzLmNvbS8KR2l0aHViIHJlcG86IGh0dHBzOi8vZ2l0aHViLmNvbS9jbHltYjNyL1Bvd2VyU2hlbGwKQmxvZyBvbiB0aGlzIHNjcmlwdDogaHR0cDovL2NseW1iM3Iud29yZHByZXNzLmNvbS8yMDEzLzExLzAzL3Bvd2Vyc2hlbGwtYW5kLXRva2VuLWltcGVyc29uYXRpb24vCgojPgoKCVtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lPSJFbnVtZXJhdGUiKV0KCVBhcmFtKAoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJFbnVtZXJhdGUiKV0KCQlbU3dpdGNoXQoJCSRFbnVtZXJhdGUsCgoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJSZXZUb1NlbGYiKV0KCQlbU3dpdGNoXQoJCSRSZXZUb1NlbGYsCgoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJTaG93QWxsIildCgkJW1N3aXRjaF0KCQkkU2hvd0FsbCwKCgkJW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkltcGVyc29uYXRlVXNlciIpXQoJCVtTd2l0Y2hdCgkJJEltcGVyc29uYXRlVXNlciwKCgkJW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkNyZWF0ZVByb2Nlc3MiKV0KCQlbU3RyaW5nXQoJCSRDcmVhdGVQcm9jZXNzLAoKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiV2hvQW1JIildCgkJW1N3aXRjaF0KCQkkV2hvQW1JLAoKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiSW1wZXJzb25hdGVVc2VyIildCgkJW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkNyZWF0ZVByb2Nlc3MiKV0KCQlbU3RyaW5nXQoJCSRVc2VybmFtZSwKCgkJW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkltcGVyc29uYXRlVXNlciIpXQoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJDcmVhdGVQcm9jZXNzIildCgkJW0ludF0KCQkkUHJvY2Vzc0lkLAoKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiSW1wZXJzb25hdGVVc2VyIiwgVmFsdWVGcm9tUGlwZWxpbmU9JHRydWUpXQoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJDcmVhdGVQcm9jZXNzIiwgVmFsdWVGcm9tUGlwZWxpbmU9JHRydWUpXQoJCVtTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2Vzc10KCQkkUHJvY2VzcywKCgkJW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gIkltcGVyc29uYXRlVXNlciIpXQoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJDcmVhdGVQcm9jZXNzIildCgkJJFRocmVhZElkLAoKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiQ3JlYXRlUHJvY2VzcyIpXQoJCVtTdHJpbmddCgkJJFByb2Nlc3NBcmdzLAoKCQlbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAiQ3JlYXRlUHJvY2VzcyIpXQoJCVtTd2l0Y2hdCgkJJE5vVUksCgoJCVtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICJDcmVhdGVQcm9jZXNzIildCgkJW1N3aXRjaF0KCQkkUGFzc1RocnUKCSkKICAgCglTZXQtU3RyaWN0TW9kZSAtVmVyc2lvbiAyCgoJI0Z1bmN0aW9uIHdyaXR0ZW4gYnkgTWF0dCBHcmFlYmVyLCBUd2l0dGVyOiBAbWF0dGlmZXN0YXRpb24sIEJsb2c6IGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tLwoJRnVuY3Rpb24gR2V0LURlbGVnYXRlVHlwZQoJewoJCVBhcmFtCgkJKAoJCQlbT3V0cHV0VHlwZShbVHlwZV0pXQoJCQkKCQkJW1BhcmFtZXRlciggUG9zaXRpb24gPSAwKV0KCQkJW1R5cGVbXV0KCQkJJFBhcmFtZXRlcnMgPSAoTmV3LU9iamVjdCBUeXBlW10oMCkpLAoJCQkKCQkJW1BhcmFtZXRlciggUG9zaXRpb24gPSAxICldCgkJCVtUeXBlXQoJCQkkUmV0dXJuVHlwZSA9IFtWb2lkXQoJCSkKCgkJJERvbWFpbiA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluCgkJJER5bkFzc2VtYmx5ID0gTmV3LU9iamVjdCBTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJ1JlZmxlY3RlZERlbGVnYXRlJykKCQkkQXNzZW1ibHlCdWlsZGVyID0gJERvbWFpbi5EZWZpbmVEeW5hbWljQXNzZW1ibHkoJER5bkFzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCgkJJE1vZHVsZUJ1aWxkZXIgPSAkQXNzZW1ibHlCdWlsZGVyLkRlZmluZUR5bmFtaWNNb2R1bGUoJ0luTWVtb3J5TW9kdWxlJywgJGZhbHNlKQoJCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ015RGVsZWdhdGVUeXBlJywgJ0NsYXNzLCBQdWJsaWMsIFNlYWxlZCwgQW5zaUNsYXNzLCBBdXRvQ2xhc3MnLCBbU3lzdGVtLk11bHRpY2FzdERlbGVnYXRlXSkKCQkkQ29uc3RydWN0b3JCdWlsZGVyID0gJFR5cGVCdWlsZGVyLkRlZmluZUNvbnN0cnVjdG9yKCdSVFNwZWNpYWxOYW1lLCBIaWRlQnlTaWcsIFB1YmxpYycsIFtTeXN0ZW0uUmVmbGVjdGlvbi5DYWxsaW5nQ29udmVudGlvbnNdOjpTdGFuZGFyZCwgJFBhcmFtZXRlcnMpCgkJJENvbnN0cnVjdG9yQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKCQkkTWV0aG9kQnVpbGRlciA9ICRUeXBlQnVpbGRlci5EZWZpbmVNZXRob2QoJ0ludm9rZScsICdQdWJsaWMsIEhpZGVCeVNpZywgTmV3U2xvdCwgVmlydHVhbCcsICRSZXR1cm5UeXBlLCAkUGFyYW1ldGVycykKCQkkTWV0aG9kQnVpbGRlci5TZXRJbXBsZW1lbnRhdGlvbkZsYWdzKCdSdW50aW1lLCBNYW5hZ2VkJykKCQkKCQlXcml0ZS1PdXRwdXQgJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoJfQoKCgkjRnVuY3Rpb24gd3JpdHRlbiBieSBNYXR0IEdyYWViZXIsIFR3aXR0ZXI6IEBtYXR0aWZlc3RhdGlvbiwgQmxvZzogaHR0cDovL3d3dy5leHBsb2l0LW1vbmRheS5jb20vCglGdW5jdGlvbiBHZXQtUHJvY0FkZHJlc3MKCXsKCQlQYXJhbQoJCSgKCQkJW091dHB1dFR5cGUoW0ludFB0cl0pXQoJCQoJCQlbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlICldCgkJCVtTdHJpbmddCgkJCSRNb2R1bGUsCgkJCQoJCQlbUGFyYW1ldGVyKCBQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICRUcnVlICldCgkJCVtTdHJpbmddCgkJCSRQcm9jZWR1cmUKCQkpCgoJCSMgR2V0IGEgcmVmZXJlbmNlIHRvIFN5c3RlbS5kbGwgaW4gdGhlIEdBQwoJCSRTeXN0ZW1Bc3NlbWJseSA9IFtBcHBEb21haW5dOjpDdXJyZW50RG9tYWluLkdldEFzc2VtYmxpZXMoKSB8CgkJCVdoZXJlLU9iamVjdCB7ICRfLkdsb2JhbEFzc2VtYmx5Q2FjaGUgLUFuZCAkXy5Mb2NhdGlvbi5TcGxpdCgnXFwnKVstMV0uRXF1YWxzKCdTeXN0ZW0uZGxsJykgfQoJCSRVbnNhZmVOYXRpdmVNZXRob2RzID0gJFN5c3RlbUFzc2VtYmx5LkdldFR5cGUoJ01pY3Jvc29mdC5XaW4zMi5VbnNhZmVOYXRpdmVNZXRob2RzJykKCQkjIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgR2V0TW9kdWxlSGFuZGxlIGFuZCBHZXRQcm9jQWRkcmVzcyBtZXRob2RzCgkJJEdldE1vZHVsZUhhbmRsZSA9ICRVbnNhZmVOYXRpdmVNZXRob2RzLkdldE1ldGhvZCgnR2V0TW9kdWxlSGFuZGxlJykKCQkkR2V0UHJvY0FkZHJlc3MgPSAkVW5zYWZlTmF0aXZlTWV0aG9kcy5HZXRNZXRob2QoJ0dldFByb2NBZGRyZXNzJykKCQkjIEdldCBhIGhhbmRsZSB0byB0aGUgbW9kdWxlIHNwZWNpZmllZAoJCSRLZXJuMzJIYW5kbGUgPSAkR2V0TW9kdWxlSGFuZGxlLkludm9rZSgkbnVsbCwgQCgkTW9kdWxlKSkKCQkkdG1wUHRyID0gTmV3LU9iamVjdCBJbnRQdHIKCQkkSGFuZGxlUmVmID0gTmV3LU9iamVjdCBTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmKCR0bXBQdHIsICRLZXJuMzJIYW5kbGUpCgoJCSMgUmV0dXJuIHRoZSBhZGRyZXNzIG9mIHRoZSBmdW5jdGlvbgoJCVdyaXRlLU91dHB1dCAkR2V0UHJvY0FkZHJlc3MuSW52b2tlKCRudWxsLCBAKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuSGFuZGxlUmVmXSRIYW5kbGVSZWYsICRQcm9jZWR1cmUpKQoJfQoKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSNXaW4zMkNvbnN0YW50cwoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJJENvbnN0YW50cyA9IEB7CgkJQUNDRVNTX1NZU1RFTV9TRUNVUklUWSA9IDB4MDEwMDAwMDAKCQlSRUFEX0NPTlRST0wgPSAweDAwMDIwMDAwCgkJU1lOQ0hST05JWkUgPSAweDAwMTAwMDAwCgkJU1RBTkRBUkRfUklHSFRTX0FMTCA9IDB4MDAxRjAwMDAKCQlUT0tFTl9RVUVSWSA9IDgKCQlUT0tFTl9BREpVU1RfUFJJVklMRUdFUyA9IDB4MjAKCQlFUlJPUl9OT19UT0tFTiA9IDB4M2YwCgkJU0VDVVJJVFlfREVMRUdBVElPTiA9IDMKCQlEQUNMX1NFQ1VSSVRZX0lORk9STUFUSU9OID0gMHg0CgkJQUNDRVNTX0FMTE9XRURfQUNFX1RZUEUgPSAweDAKCQlTVEFOREFSRF9SSUdIVFNfUkVRVUlSRUQgPSAweDAwMEYwMDAwCgkJREVTS1RPUF9HRU5FUklDX0FMTCA9IDB4MDAwRjAxRkYKCQlXUklURV9EQUMgPSAweDAwMDQwMDAwCgkJT0JKRUNUX0lOSEVSSVRfQUNFID0gMHgxCgkJR1JBTlRfQUNDRVNTID0gMHgxCgkJVFJVU1RFRV9JU19OQU1FID0gMHgxCgkJVFJVU1RFRV9JU19TSUQgPSAweDAKCQlUUlVTVEVFX0lTX1VTRVIgPSAweDEKCQlUUlVTVEVFX0lTX1dFTExfS05PV05fR1JPVVAgPSAweDUKCQlUUlVTVEVFX0lTX0dST1VQID0gMHgyCgkJUFJPQ0VTU19RVUVSWV9JTkZPUk1BVElPTiA9IDB4NDAwCgkJVE9LRU5fQVNTSUdOX1BSSU1BUlkgPSAweDEKCQlUT0tFTl9EVVBMSUNBVEUgPSAweDIKCQlUT0tFTl9JTVBFUlNPTkFURSA9IDB4NAoJCVRPS0VOX1FVRVJZX1NPVVJDRSA9IDB4MTAKCQlTVEFOREFSRF9SSUdIVFNfUkVBRCA9IDB4MjAwMDAKCQlUb2tlblN0YXRpc3RpY3MgPSAxMAoJCVRPS0VOX0FMTF9BQ0NFU1MgPSAweGYwMWZmCgkJTUFYSU1VTV9BTExPV0VEID0gMHgwMjAwMDAwMAoJCVRIUkVBRF9BTExfQUNDRVNTID0gMHgxZjAzZmYKCQlFUlJPUl9JTlZBTElEX1BBUkFNRVRFUiA9IDB4NTcKCQlMT0dPTl9ORVRDUkVERU5USUFMU19PTkxZID0gMHgyCgkJU0VfUFJJVklMRUdFX0VOQUJMRUQgPSAweDIKCQlTRV9QUklWSUxFR0VfRU5BQkxFRF9CWV9ERUZBVUxUID0gMHgxCgkJU0VfUFJJVklMRUdFX1JFTU9WRUQgPSAweDQKCX0KCgkkV2luMzJDb25zdGFudHMgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkQ29uc3RhbnRzCgkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSNXaW4zMlN0cnVjdHVyZXMKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSNEZWZpbmUgYWxsIHRoZSBzdHJ1Y3R1cmVzL2VudW1zIHRoYXQgd2lsbCBiZSB1c2VkCgkjICAgVGhpcyBhcnRpY2xlIHNob3dzIHlvdSBob3cgdG8gZG8gdGhpcyB3aXRoIHJlZmxlY3Rpb246IGh0dHA6Ly93d3cuZXhwbG9pdC1tb25kYXkuY29tLzIwMTIvMDcvc3RydWN0cy1hbmQtZW51bXMtdXNpbmctcmVmbGVjdGlvbi5odG1sCgkkRG9tYWluID0gW0FwcERvbWFpbl06OkN1cnJlbnREb21haW4KCSREeW5hbWljQXNzZW1ibHkgPSBOZXctT2JqZWN0IFN5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5TmFtZSgnRHluYW1pY0Fzc2VtYmx5JykKCSRBc3NlbWJseUJ1aWxkZXIgPSAkRG9tYWluLkRlZmluZUR5bmFtaWNBc3NlbWJseSgkRHluYW1pY0Fzc2VtYmx5LCBbU3lzdGVtLlJlZmxlY3Rpb24uRW1pdC5Bc3NlbWJseUJ1aWxkZXJBY2Nlc3NdOjpSdW4pCgkkTW9kdWxlQnVpbGRlciA9ICRBc3NlbWJseUJ1aWxkZXIuRGVmaW5lRHluYW1pY01vZHVsZSgnRHluYW1pY01vZHVsZScsICRmYWxzZSkKCSRDb25zdHJ1Y3RvckluZm8gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0Q29uc3RydWN0b3JzKClbMF0KCgkjRU5VTXMKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZUVudW0oJ1RPS0VOX0lORk9STUFUSU9OX0NMQVNTJywgJ1B1YmxpYycsIFtVSW50MzJdKQoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuVXNlcicsIFtVSW50MzJdIDEpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkdyb3VwcycsIFtVSW50MzJdIDIpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblByaXZpbGVnZXMnLCBbVUludDMyXSAzKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Pd25lcicsIFtVSW50MzJdIDQpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblByaW1hcnlHcm91cCcsIFtVSW50MzJdIDUpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkRlZmF1bHREYWNsJywgW1VJbnQzMl0gNikgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuU291cmNlJywgW1VJbnQzMl0gNykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuVHlwZScsIFtVSW50MzJdIDgpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkltcGVyc29uYXRpb25MZXZlbCcsIFtVSW50MzJdIDkpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblN0YXRpc3RpY3MnLCBbVUludDMyXSAxMCkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuUmVzdHJpY3RlZFNpZHMnLCBbVUludDMyXSAxMSkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuU2Vzc2lvbklkJywgW1VJbnQzMl0gMTIpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkdyb3Vwc0FuZFByaXZpbGVnZXMnLCBbVUludDMyXSAxMykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuU2Vzc2lvblJlZmVyZW5jZScsIFtVSW50MzJdIDE0KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5TYW5kQm94SW5lcnQnLCBbVUludDMyXSAxNSkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuQXVkaXRQb2xpY3knLCBbVUludDMyXSAxNikgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuT3JpZ2luJywgW1VJbnQzMl0gMTcpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkVsZXZhdGlvblR5cGUnLCBbVUludDMyXSAxOCkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuTGlua2VkVG9rZW4nLCBbVUludDMyXSAxOSkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuRWxldmF0aW9uJywgW1VJbnQzMl0gMjApIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkhhc1Jlc3RyaWN0aW9ucycsIFtVSW50MzJdIDIxKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5BY2Nlc3NJbmZvcm1hdGlvbicsIFtVSW50MzJdIDIyKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5WaXJ0dWFsaXphdGlvbkFsbG93ZWQnLCBbVUludDMyXSAyMykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuVmlydHVhbGl6YXRpb25FbmFibGVkJywgW1VJbnQzMl0gMjQpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkludGVncml0eUxldmVsJywgW1VJbnQzMl0gMjUpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblVJQWNjZXNzJywgW1VJbnQzMl0gMjYpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbk1hbmRhdG9yeVBvbGljeScsIFtVSW50MzJdIDI3KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Mb2dvblNpZCcsIFtVSW50MzJdIDI4KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Jc0FwcENvbnRhaW5lcicsIFtVSW50MzJdIDI5KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5DYXBhYmlsaXRpZXMnLCBbVUludDMyXSAzMCkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ1Rva2VuQXBwQ29udGFpbmVyU2lkJywgW1VJbnQzMl0gMzEpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkFwcENvbnRhaW5lck51bWJlcicsIFtVSW50MzJdIDMyKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Vc2VyQ2xhaW1BdHRyaWJ1dGVzJywgW1VJbnQzMl0gMzMpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkRldmljZUNsYWltQXR0cmlidXRlcycsIFtVSW50MzJdIDM0KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5SZXN0cmljdGVkVXNlckNsYWltQXR0cmlidXRlcycsIFtVSW50MzJdIDM1KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5SZXN0cmljdGVkRGV2aWNlQ2xhaW1BdHRyaWJ1dGVzJywgW1VJbnQzMl0gMzYpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlbkRldmljZUdyb3VwcycsIFtVSW50MzJdIDM3KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5SZXN0cmljdGVkRGV2aWNlR3JvdXBzJywgW1VJbnQzMl0gMzgpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVMaXRlcmFsKCdUb2tlblNlY3VyaXR5QXR0cmlidXRlcycsIFtVSW50MzJdIDM5KSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgnVG9rZW5Jc1Jlc3RyaWN0ZWQnLCBbVUludDMyXSA0MCkgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUxpdGVyYWwoJ01heFRva2VuSW5mb0NsYXNzJywgW1VJbnQzMl0gNDEpIHwgT3V0LU51bGwKCSRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUyA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCgkjU1RSVUNUcwoJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0xBUkdFX0lOVEVHRVInLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCA4KQoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb3dQYXJ0JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0hpZ2hQYXJ0JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkTEFSR0VfSU5URUdFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCgkjU3RydWN0IExVSUQKCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdMVUlEJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSwgOCkKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG93UGFydCcsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdIaWdoUGFydCcsIFtJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkTFVJRCA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCgkjU3RydWN0IFRPS0VOX1NUQVRJU1RJQ1MKCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdUT0tFTl9TVEFUSVNUSUNTJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVG9rZW5JZCcsICRMVUlELCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBdXRoZW50aWNhdGlvbklkJywgJExVSUQsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0V4cGlyYXRpb25UaW1lJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1Rva2VuVHlwZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdJbXBlcnNvbmF0aW9uTGV2ZWwnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRHluYW1pY0NoYXJnZWQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRHluYW1pY0F2YWlsYWJsZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdHcm91cENvdW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1ByaXZpbGVnZUNvdW50JywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01vZGlmaWVkSWQnLCAkTFVJRCwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUT0tFTl9TVEFUSVNUSUNTID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgTFNBX1VOSUNPREVfU1RSSU5HCgkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnTFNBX1VOSUNPREVfU1RSSU5HJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTGVuZ3RoJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01heGltdW1MZW5ndGgnLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnQnVmZmVyJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkTFNBX1VOSUNPREVfU1RSSU5HID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgTFNBX0xBU1RfSU5URVJfTE9HT05fSU5GTwoJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0xTQV9MQVNUX0lOVEVSX0xPR09OX0lORk8nLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdKQoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMYXN0U3VjY2Vzc2Z1bExvZ29uJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xhc3RGYWlsZWRMb2dvbicsICRMQVJHRV9JTlRFR0VSLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdGYWlsZWRBdHRlbXB0Q291bnRTaW5jZUxhc3RTdWNjZXNzZnVsTG9nb24nLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRMU0FfTEFTVF9JTlRFUl9MT0dPTl9JTkZPID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgU0VDVVJJVFlfTE9HT05fU0VTU0lPTl9EQVRBCgkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnU0VDVVJJVFlfTE9HT05fU0VTU0lPTl9EQVRBJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2l6ZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb2dpbklEJywgJExVSUQsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1VzZXJuYW1lJywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9naW5Eb21haW4nLCAkTFNBX1VOSUNPREVfU1RSSU5HLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBdXRoZW50aWNhdGlvblBhY2thZ2UnLCAkTFNBX1VOSUNPREVfU1RSSU5HLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMb2dvblR5cGUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2Vzc2lvbicsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTaWQnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9naW5UaW1lJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvZ2luU2VydmVyJywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnRG5zRG9tYWluTmFtZScsICRMU0FfVU5JQ09ERV9TVFJJTkcsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1VwbicsICRMU0FfVU5JQ09ERV9TVFJJTkcsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1VzZXJGbGFncycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdMYXN0TG9nb25JbmZvJywgJExTQV9MQVNUX0lOVEVSX0xPR09OX0lORk8sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0xvZ29uU2NyaXB0JywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUHJvZmlsZVBhdGgnLCAkTFNBX1VOSUNPREVfU1RSSU5HLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdIb21lRGlyZWN0b3J5JywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSG9tZURpcmVjdG9yeURyaXZlJywgJExTQV9VTklDT0RFX1NUUklORywgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTG9nb2ZmVGltZScsICRMQVJHRV9JTlRFR0VSLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdLaWNrT2ZmVGltZScsICRMQVJHRV9JTlRFR0VSLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdQYXNzd29yZExhc3RTZXQnLCAkTEFSR0VfSU5URUdFUiwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUGFzc3dvcmRDYW5DaGFuZ2UnLCAkTEFSR0VfSU5URUdFUiwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUGFzc3dvcmRNdXN0Q2hhbmdlJywgJExBUkdFX0lOVEVHRVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkU0VDVVJJVFlfTE9HT05fU0VTU0lPTl9EQVRBID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgU1RBUlRVUElORk8KCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdTVEFSVFVQSU5GTycsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2NiJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2xwUmVzZXJ2ZWQnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnbHBEZXNrdG9wJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2xwVGl0bGUnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZHdYJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3WScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdkd1hTaXplJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3WVNpemUnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnZHdYQ291bnRDaGFycycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdkd1lDb3VudENoYXJzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3RmlsbEF0dHJpYnV0ZScsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdkd0ZsYWdzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3dTaG93V2luZG93JywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2NiUmVzZXJ2ZWQyJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2xwUmVzZXJ2ZWQyJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2hTdGRJbnB1dCcsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdoU3RkT3V0cHV0JywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2hTdGRFcnJvcicsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFNUQVJUVVBJTkZPID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgUFJPQ0VTU19JTkZPUk1BVElPTgoJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1BST0NFU1NfSU5GT1JNQVRJT04nLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdKQoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdoUHJvY2VzcycsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdoVGhyZWFkJywgW0ludFB0cl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3UHJvY2Vzc0lkJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2R3VGhyZWFkSWQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRQUk9DRVNTX0lORk9STUFUSU9OID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgVE9LRU5fRUxFVkFUSU9OCgkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnVE9LRU5fRUxFVkFUSU9OJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnVG9rZW5Jc0VsZXZhdGVkJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVE9LRU5fRUxFVkFUSU9OID0gJFR5cGVCdWlsZGVyLkNyZWF0ZVR5cGUoKQoKCSNTdHJ1Y3QgTFVJRF9BTkRfQVRUUklCVVRFUwoJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0xVSURfQU5EX0FUVFJJQlVURVMnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCAxMikKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTHVpZCcsICRMVUlELCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBdHRyaWJ1dGVzJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkTFVJRF9BTkRfQVRUUklCVVRFUyA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCQkKCSNTdHJ1Y3QgVE9LRU5fUFJJVklMRUdFUwoJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ1RPS0VOX1BSSVZJTEVHRVMnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdLCAxNikKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUHJpdmlsZWdlQ291bnQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnUHJpdmlsZWdlcycsICRMVUlEX0FORF9BVFRSSUJVVEVTLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFRPS0VOX1BSSVZJTEVHRVMgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgoJI1N0cnVjdCBBQ0VfSEVBREVSCgkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnQUNFX0hFQURFUicsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjZVR5cGUnLCBbQnl0ZV0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjZUZsYWdzJywgW0J5dGVdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBY2VTaXplJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkQUNFX0hFQURFUiA9ICRUeXBlQnVpbGRlci5DcmVhdGVUeXBlKCkKCgkjU3RydWN0IEFDTAoJJEF0dHJpYnV0ZXMgPSAnQXV0b0xheW91dCwgQW5zaUNsYXNzLCBDbGFzcywgUHVibGljLCBTZXF1ZW50aWFsTGF5b3V0LCBTZWFsZWQsIEJlZm9yZUZpZWxkSW5pdCcKCSRUeXBlQnVpbGRlciA9ICRNb2R1bGVCdWlsZGVyLkRlZmluZVR5cGUoJ0FDTCcsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjbFJldmlzaW9uJywgW0J5dGVdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdTYnoxJywgW0J5dGVdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdBY2xTaXplJywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ0FjZUNvdW50JywgW1VJbnQxNl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1NiejInLCBbVUludDE2XSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRBQ0wgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgoJI1N0cnVjdCBBQ0VfSEVBREVSCgkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnQUNDRVNTX0FMTE9XRURfQUNFJywgJEF0dHJpYnV0ZXMsIFtTeXN0ZW0uVmFsdWVUeXBlXSkKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnSGVhZGVyJywgJEFDRV9IRUFERVIsICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ01hc2snLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnU2lkU3RhcnQnLCBbVUludDMyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRBQ0NFU1NfQUxMT1dFRF9BQ0UgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgoJI1N0cnVjdCBUUlVTVEVFCgkkQXR0cmlidXRlcyA9ICdBdXRvTGF5b3V0LCBBbnNpQ2xhc3MsIENsYXNzLCBQdWJsaWMsIFNlcXVlbnRpYWxMYXlvdXQsIFNlYWxlZCwgQmVmb3JlRmllbGRJbml0JwoJJFR5cGVCdWlsZGVyID0gJE1vZHVsZUJ1aWxkZXIuRGVmaW5lVHlwZSgnVFJVU1RFRScsICRBdHRyaWJ1dGVzLCBbU3lzdGVtLlZhbHVlVHlwZV0pCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3BNdWx0aXBsZVRydXN0ZWUnLCBbSW50UHRyXSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRUeXBlQnVpbGRlci5EZWZpbmVGaWVsZCgnTXVsdGlwbGVUcnVzdGVlT3BlcmF0aW9uJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RydXN0ZWVGb3JtJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RydXN0ZWVUeXBlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ3B0c3RyTmFtZScsIFtJbnRQdHJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFRSVVNURUUgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgoJI1N0cnVjdCBFWFBMSUNJVF9BQ0NFU1MKCSRBdHRyaWJ1dGVzID0gJ0F1dG9MYXlvdXQsIEFuc2lDbGFzcywgQ2xhc3MsIFB1YmxpYywgU2VxdWVudGlhbExheW91dCwgU2VhbGVkLCBCZWZvcmVGaWVsZEluaXQnCgkkVHlwZUJ1aWxkZXIgPSAkTW9kdWxlQnVpbGRlci5EZWZpbmVUeXBlKCdFWFBMSUNJVF9BQ0NFU1MnLCAkQXR0cmlidXRlcywgW1N5c3RlbS5WYWx1ZVR5cGVdKQoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdncmZBY2Nlc3NQZXJtaXNzaW9ucycsIFtVSW50MzJdLCAnUHVibGljJykgfCBPdXQtTnVsbAoJJFR5cGVCdWlsZGVyLkRlZmluZUZpZWxkKCdncmZBY2Nlc3NNb2RlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ2dyZkluaGVyaXRhbmNlJywgW1VJbnQzMl0sICdQdWJsaWMnKSB8IE91dC1OdWxsCgkkVHlwZUJ1aWxkZXIuRGVmaW5lRmllbGQoJ1RydXN0ZWUnLCAkVFJVU1RFRSwgJ1B1YmxpYycpIHwgT3V0LU51bGwKCSRFWFBMSUNJVF9BQ0NFU1MgPSAkVHlwZUJ1aWxkZXIuQ3JlYXRlVHlwZSgpCgkjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCSNXaW4zMkZ1bmN0aW9ucwoJIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoJJE9wZW5Qcm9jZXNzQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgT3BlblByb2Nlc3MKCSRPcGVuUHJvY2Vzc0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtVSW50MzJdLCBbQm9vbF0sIFtVSW50MzJdKSAoW0ludFB0cl0pCgkkT3BlblByb2Nlc3MgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkT3BlblByb2Nlc3NBZGRyLCAkT3BlblByb2Nlc3NEZWxlZ2F0ZSkKCgkkT3BlblByb2Nlc3NUb2tlbkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIE9wZW5Qcm9jZXNzVG9rZW4KCSRPcGVuUHJvY2Vzc1Rva2VuRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCgkkT3BlblByb2Nlc3NUb2tlbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuUHJvY2Vzc1Rva2VuQWRkciwgJE9wZW5Qcm9jZXNzVG9rZW5EZWxlZ2F0ZSkgICAgCgoJJEdldFRva2VuSW5mb3JtYXRpb25BZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBHZXRUb2tlbkluZm9ybWF0aW9uCgkkR2V0VG9rZW5JbmZvcm1hdGlvbkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCAkVE9LRU5fSU5GT1JNQVRJT05fQ0xBU1MsIFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQoJJEdldFRva2VuSW5mb3JtYXRpb24gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0VG9rZW5JbmZvcm1hdGlvbkFkZHIsICRHZXRUb2tlbkluZm9ybWF0aW9uRGVsZWdhdGUpICAgIAoKCSRTZXRUaHJlYWRUb2tlbkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFNldFRocmVhZFRva2VuCgkkU2V0VGhyZWFkVG9rZW5EZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0pIChbQm9vbF0pCgkkU2V0VGhyZWFkVG9rZW4gPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkU2V0VGhyZWFkVG9rZW5BZGRyLCAkU2V0VGhyZWFkVG9rZW5EZWxlZ2F0ZSkgICAgCgoJJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgSW1wZXJzb25hdGVMb2dnZWRPblVzZXIKCSRJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlckRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdKSAoW0Jvb2xdKQoJJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyQWRkciwgJEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyRGVsZWdhdGUpCgoJJFJldmVydFRvU2VsZkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFJldmVydFRvU2VsZgoJJFJldmVydFRvU2VsZkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKCkgKFtCb29sXSkKCSRSZXZlcnRUb1NlbGYgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkUmV2ZXJ0VG9TZWxmQWRkciwgJFJldmVydFRvU2VsZkRlbGVnYXRlKQoKCSRMc2FHZXRMb2dvblNlc3Npb25EYXRhQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBzZWN1cjMyLmRsbCBMc2FHZXRMb2dvblNlc3Npb25EYXRhCgkkTHNhR2V0TG9nb25TZXNzaW9uRGF0YURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbVUludDMyXSkKCSRMc2FHZXRMb2dvblNlc3Npb25EYXRhID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJExzYUdldExvZ29uU2Vzc2lvbkRhdGFBZGRyLCAkTHNhR2V0TG9nb25TZXNzaW9uRGF0YURlbGVnYXRlKQoKCSRDcmVhdGVQcm9jZXNzV2l0aFRva2VuV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XCgkkQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlbldEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdKSAoW0Jvb2xdKQoJJENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XQWRkciwgJENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XRGVsZWdhdGUpCgoJJG1lbXNldEFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgbXN2Y3J0LmRsbCBtZW1zZXQKCSRtZW1zZXREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludDMyXSwgW0ludFB0cl0pIChbSW50UHRyXSkKCSRtZW1zZXQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkbWVtc2V0QWRkciwgJG1lbXNldERlbGVnYXRlKQoKCSREdXBsaWNhdGVUb2tlbkV4QWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgRHVwbGljYXRlVG9rZW5FeAoJJER1cGxpY2F0ZVRva2VuRXhEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKCSREdXBsaWNhdGVUb2tlbkV4ID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJER1cGxpY2F0ZVRva2VuRXhBZGRyLCAkRHVwbGljYXRlVG9rZW5FeERlbGVnYXRlKQoKCSRMb29rdXBBY2NvdW50U2lkV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIExvb2t1cEFjY291bnRTaWRXCgkkTG9va3VwQWNjb3VudFNpZFdEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKCSRMb29rdXBBY2NvdW50U2lkVyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMb29rdXBBY2NvdW50U2lkV0FkZHIsICRMb29rdXBBY2NvdW50U2lkV0RlbGVnYXRlKQoKCSRDbG9zZUhhbmRsZUFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIENsb3NlSGFuZGxlCgkkQ2xvc2VIYW5kbGVEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSkgKFtCb29sXSkKCSRDbG9zZUhhbmRsZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRDbG9zZUhhbmRsZUFkZHIsICRDbG9zZUhhbmRsZURlbGVnYXRlKQoKCSRMc2FGcmVlUmV0dXJuQnVmZmVyQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBzZWN1cjMyLmRsbCBMc2FGcmVlUmV0dXJuQnVmZmVyCgkkTHNhRnJlZVJldHVybkJ1ZmZlckRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdKSAoW1VJbnQzMl0pCgkkTHNhRnJlZVJldHVybkJ1ZmZlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMc2FGcmVlUmV0dXJuQnVmZmVyQWRkciwgJExzYUZyZWVSZXR1cm5CdWZmZXJEZWxlZ2F0ZSkKCgkkT3BlblRocmVhZEFkZHIgPSBHZXQtUHJvY0FkZHJlc3Mga2VybmVsMzIuZGxsIE9wZW5UaHJlYWQKCSRPcGVuVGhyZWFkRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sIFtCb29sXSwgW1VJbnQzMl0pIChbSW50UHRyXSkKCSRPcGVuVGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE9wZW5UaHJlYWRBZGRyLCAkT3BlblRocmVhZERlbGVnYXRlKQoKCSRPcGVuVGhyZWFkVG9rZW5BZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBPcGVuVGhyZWFkVG9rZW4KCSRPcGVuVGhyZWFkVG9rZW5EZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtCb29sXSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQoJJE9wZW5UaHJlYWRUb2tlbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuVGhyZWFkVG9rZW5BZGRyLCAkT3BlblRocmVhZFRva2VuRGVsZWdhdGUpCgoJJENyZWF0ZVByb2Nlc3NBc1VzZXJXQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgQ3JlYXRlUHJvY2Vzc0FzVXNlclcKCSRDcmVhdGVQcm9jZXNzQXNVc2VyV0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0Jvb2xdLCBbVUludDMyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0pIChbQm9vbF0pCgkkQ3JlYXRlUHJvY2Vzc0FzVXNlclcgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQ3JlYXRlUHJvY2Vzc0FzVXNlcldBZGRyLCAkQ3JlYXRlUHJvY2Vzc0FzVXNlcldEZWxlZ2F0ZSkKCgkkT3BlbldpbmRvd1N0YXRpb25XQWRkciA9IEdldC1Qcm9jQWRkcmVzcyB1c2VyMzIuZGxsIE9wZW5XaW5kb3dTdGF0aW9uVwoJJE9wZW5XaW5kb3dTdGF0aW9uV0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbQm9vbF0sIFtVSW50MzJdKSAoW0ludFB0cl0pCgkkT3BlbldpbmRvd1N0YXRpb25XID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJE9wZW5XaW5kb3dTdGF0aW9uV0FkZHIsICRPcGVuV2luZG93U3RhdGlvbldEZWxlZ2F0ZSkKCgkkT3BlbkRlc2t0b3BBQWRkciA9IEdldC1Qcm9jQWRkcmVzcyB1c2VyMzIuZGxsIE9wZW5EZXNrdG9wQQoJJE9wZW5EZXNrdG9wQURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtTdHJpbmddLCBbVUludDMyXSwgW0Jvb2xdLCBbVUludDMyXSkgKFtJbnRQdHJdKQoJJE9wZW5EZXNrdG9wQSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRPcGVuRGVza3RvcEFBZGRyLCAkT3BlbkRlc2t0b3BBRGVsZWdhdGUpCgoJJEltcGVyc29uYXRlU2VsZkFkZHIgPSBHZXQtUHJvY0FkZHJlc3MgQWR2YXBpMzIuZGxsIEltcGVyc29uYXRlU2VsZgoJJEltcGVyc29uYXRlU2VsZkRlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnQzMl0pIChbQm9vbF0pCgkkSW1wZXJzb25hdGVTZWxmID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEltcGVyc29uYXRlU2VsZkFkZHIsICRJbXBlcnNvbmF0ZVNlbGZEZWxlZ2F0ZSkKCgkkTG9va3VwUHJpdmlsZWdlVmFsdWVBZGRyID0gR2V0LVByb2NBZGRyZXNzIEFkdmFwaTMyLmRsbCBMb29rdXBQcml2aWxlZ2VWYWx1ZUEKCSRMb29rdXBQcml2aWxlZ2VWYWx1ZURlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtTdHJpbmddLCBbU3RyaW5nXSwgJExVSUQuTWFrZUJ5UmVmVHlwZSgpKSAoW0Jvb2xdKQoJJExvb2t1cFByaXZpbGVnZVZhbHVlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJExvb2t1cFByaXZpbGVnZVZhbHVlQWRkciwgJExvb2t1cFByaXZpbGVnZVZhbHVlRGVsZWdhdGUpCgoJJEFkanVzdFRva2VuUHJpdmlsZWdlc0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgQWR2YXBpMzIuZGxsIEFkanVzdFRva2VuUHJpdmlsZWdlcwoJJEFkanVzdFRva2VuUHJpdmlsZWdlc0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbQm9vbF0sICRUT0tFTl9QUklWSUxFR0VTLk1ha2VCeVJlZlR5cGUoKSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSkgKFtCb29sXSkKCSRBZGp1c3RUb2tlblByaXZpbGVnZXMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkQWRqdXN0VG9rZW5Qcml2aWxlZ2VzQWRkciwgJEFkanVzdFRva2VuUHJpdmlsZWdlc0RlbGVnYXRlKQoKCSRHZXRDdXJyZW50VGhyZWFkQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgR2V0Q3VycmVudFRocmVhZAoJJEdldEN1cnJlbnRUaHJlYWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQCgpIChbSW50UHRyXSkKCSRHZXRDdXJyZW50VGhyZWFkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEdldEN1cnJlbnRUaHJlYWRBZGRyLCAkR2V0Q3VycmVudFRocmVhZERlbGVnYXRlKQoKCSRHZXRTZWN1cml0eUluZm9BZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBHZXRTZWN1cml0eUluZm8KCSRHZXRTZWN1cml0eUluZm9EZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkgKFtVSW50MzJdKQoJJEdldFNlY3VyaXR5SW5mbyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRHZXRTZWN1cml0eUluZm9BZGRyLCAkR2V0U2VjdXJpdHlJbmZvRGVsZWdhdGUpCgoJJFNldFNlY3VyaXR5SW5mb0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFNldFNlY3VyaXR5SW5mbwoJJFNldFNlY3VyaXR5SW5mb0RlbGVnYXRlID0gR2V0LURlbGVnYXRlVHlwZSBAKFtJbnRQdHJdLCBbVUludDMyXSwgW1VJbnQzMl0sIFtJbnRQdHJdLCBbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdKSAoW1VJbnQzMl0pCgkkU2V0U2VjdXJpdHlJbmZvID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJFNldFNlY3VyaXR5SW5mb0FkZHIsICRTZXRTZWN1cml0eUluZm9EZWxlZ2F0ZSkKCgkkR2V0QWNlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgR2V0QWNlCgkkR2V0QWNlRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIChbSW50UHRyXSkKCSRHZXRBY2UgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkR2V0QWNlQWRkciwgJEdldEFjZURlbGVnYXRlKQoKCSRMb29rdXBBY2NvdW50U2lkV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIExvb2t1cEFjY291bnRTaWRXCgkkTG9va3VwQWNjb3VudFNpZFdEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtVSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgKFtCb29sXSkKCSRMb29rdXBBY2NvdW50U2lkVyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRMb29rdXBBY2NvdW50U2lkV0FkZHIsICRMb29rdXBBY2NvdW50U2lkV0RlbGVnYXRlKQoKCSRBZGRBY2Nlc3NBbGxvd2VkQWNlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBhZHZhcGkzMi5kbGwgQWRkQWNjZXNzQWxsb3dlZEFjZQoJJEFkZEFjY2Vzc0FsbG93ZWRBY2VEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbSW50UHRyXSkgKFtCb29sXSkKCSRBZGRBY2Nlc3NBbGxvd2VkQWNlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJEFkZEFjY2Vzc0FsbG93ZWRBY2VBZGRyLCAkQWRkQWNjZXNzQWxsb3dlZEFjZURlbGVnYXRlKQoKCSRDcmVhdGVXZWxsS25vd25TaWRBZGRyID0gR2V0LVByb2NBZGRyZXNzIGFkdmFwaTMyLmRsbCBDcmVhdGVXZWxsS25vd25TaWQKCSRDcmVhdGVXZWxsS25vd25TaWREZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbVUludDMyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCgkkQ3JlYXRlV2VsbEtub3duU2lkID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0RGVsZWdhdGVGb3JGdW5jdGlvblBvaW50ZXIoJENyZWF0ZVdlbGxLbm93blNpZEFkZHIsICRDcmVhdGVXZWxsS25vd25TaWREZWxlZ2F0ZSkKCgkkU2V0RW50cmllc0luQWNsV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIFNldEVudHJpZXNJbkFjbFcKCSRTZXRFbnRyaWVzSW5BY2xXRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW1VJbnQzMl0sICRFWFBMSUNJVF9BQ0NFU1MuTWFrZUJ5UmVmVHlwZSgpLCBbSW50UHRyXSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpKSAoW1VJbnQzMl0pCgkkU2V0RW50cmllc0luQWNsVyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldERlbGVnYXRlRm9yRnVuY3Rpb25Qb2ludGVyKCRTZXRFbnRyaWVzSW5BY2xXQWRkciwgJFNldEVudHJpZXNJbkFjbFdEZWxlZ2F0ZSkKCgkkTG9jYWxGcmVlQWRkciA9IEdldC1Qcm9jQWRkcmVzcyBrZXJuZWwzMi5kbGwgTG9jYWxGcmVlCgkkTG9jYWxGcmVlRGVsZWdhdGUgPSBHZXQtRGVsZWdhdGVUeXBlIEAoW0ludFB0cl0pIChbSW50UHRyXSkKCSRMb2NhbEZyZWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTG9jYWxGcmVlQWRkciwgJExvY2FsRnJlZURlbGVnYXRlKQoKCSRMb29rdXBQcml2aWxlZ2VOYW1lV0FkZHIgPSBHZXQtUHJvY0FkZHJlc3MgYWR2YXBpMzIuZGxsIExvb2t1cFByaXZpbGVnZU5hbWVXCgkkTG9va3VwUHJpdmlsZWdlTmFtZVdEZWxlZ2F0ZSA9IEdldC1EZWxlZ2F0ZVR5cGUgQChbSW50UHRyXSwgW0ludFB0cl0sIFtJbnRQdHJdLCBbVUludDMyXS5NYWtlQnlSZWZUeXBlKCkpIChbQm9vbF0pCgkkTG9va3VwUHJpdmlsZWdlTmFtZVcgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXREZWxlZ2F0ZUZvckZ1bmN0aW9uUG9pbnRlcigkTG9va3VwUHJpdmlsZWdlTmFtZVdBZGRyLCAkTG9va3VwUHJpdmlsZWdlTmFtZVdEZWxlZ2F0ZSkKCSMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCgoJI1VzZWQgdG8gYWRkIDY0Yml0IG1lbW9yeSBhZGRyZXNzZXMKCUZ1bmN0aW9uIEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkCgl7CgkJUGFyYW0oCgkJW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICR0cnVlKV0KCQlbSW50NjRdCgkJJFZhbHVlMSwKCQkKCQlbUGFyYW1ldGVyKFBvc2l0aW9uID0gMSwgTWFuZGF0b3J5ID0gJHRydWUpXQoJCVtJbnQ2NF0KCQkkVmFsdWUyCgkJKQoJCQoJCVtCeXRlW11dJFZhbHVlMUJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKCRWYWx1ZTEpCgkJW0J5dGVbXV0kVmFsdWUyQnl0ZXMgPSBbQml0Q29udmVydGVyXTo6R2V0Qnl0ZXMoJFZhbHVlMikKCQlbQnl0ZVtdXSRGaW5hbEJ5dGVzID0gW0JpdENvbnZlcnRlcl06OkdldEJ5dGVzKFtVSW50NjRdMCkKCgkJaWYgKCRWYWx1ZTFCeXRlcy5Db3VudCAtZXEgJFZhbHVlMkJ5dGVzLkNvdW50KQoJCXsKCQkJJENhcnJ5T3ZlciA9IDAKCQkJZm9yICgkaSA9IDA7ICRpIC1sdCAkVmFsdWUxQnl0ZXMuQ291bnQ7ICRpKyspCgkJCXsKCQkJCSNBZGQgYnl0ZXMKCQkJCVtVSW50MTZdJFN1bSA9ICRWYWx1ZTFCeXRlc1skaV0gKyAkVmFsdWUyQnl0ZXNbJGldICsgJENhcnJ5T3ZlcgoKCQkJCSRGaW5hbEJ5dGVzWyRpXSA9ICRTdW0gLWJhbmQgMHgwMEZGCgkJCQkKCQkJCWlmICgoJFN1bSAtYmFuZCAweEZGMDApIC1lcSAweDEwMCkKCQkJCXsKCQkJCQkkQ2FycnlPdmVyID0gMQoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRDYXJyeU92ZXIgPSAwCgkJCQl9CgkJCX0KCQl9CgkJZWxzZQoJCXsKCQkJVGhyb3cgIkNhbm5vdCBhZGQgYnl0ZWFycmF5cyBvZiBkaWZmZXJlbnQgc2l6ZXMiCgkJfQoJCQoJCXJldHVybiBbQml0Q29udmVydGVyXTo6VG9JbnQ2NCgkRmluYWxCeXRlcywgMCkKCX0KCgoJI0VuYWJsZSBTZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZSwgbmVlZGVkIHRvIHF1ZXJ5IHNlY3VyaXR5IGluZm9ybWF0aW9uIGZvciBkZXNrdG9wIERBQ0wKCWZ1bmN0aW9uIEVuYWJsZS1TZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZQoJeyAgIAoJCVtJbnRQdHJdJFRocmVhZEhhbmRsZSA9ICRHZXRDdXJyZW50VGhyZWFkLkludm9rZSgpCgkJaWYgKCRUaHJlYWRIYW5kbGUgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJVGhyb3cgIlVuYWJsZSB0byBnZXQgdGhlIGhhbmRsZSB0byB0aGUgY3VycmVudCB0aHJlYWQiCgkJfQoJCQoJCVtJbnRQdHJdJFRocmVhZFRva2VuID0gW0ludFB0cl06Olplcm8KCQlbQm9vbF0kUmVzdWx0ID0gJE9wZW5UaHJlYWRUb2tlbi5JbnZva2UoJFRocmVhZEhhbmRsZSwgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX1FVRVJZIC1ib3IgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX0FESlVTVF9QUklWSUxFR0VTLCAkZmFsc2UsIFtSZWZdJFRocmVhZFRva2VuKQoJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgoJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJewoJCQlpZiAoJEVycm9yQ29kZSAtZXEgJFdpbjMyQ29uc3RhbnRzLkVSUk9SX05PX1RPS0VOKQoJCQl7CgkJCQkkUmVzdWx0ID0gJEltcGVyc29uYXRlU2VsZi5JbnZva2UoJFdpbjMyQ29uc3RhbnRzLlNFQ1VSSVRZX0RFTEVHQVRJT04pCgkJCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCQkJewoJCQkJCVRocm93IChOZXctT2JqZWN0IENvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uKQoJCQkJfQoJCQkJCgkJCQkkUmVzdWx0ID0gJE9wZW5UaHJlYWRUb2tlbi5JbnZva2UoJFRocmVhZEhhbmRsZSwgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX1FVRVJZIC1ib3IgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX0FESlVTVF9QUklWSUxFR0VTLCAkZmFsc2UsIFtSZWZdJFRocmVhZFRva2VuKQoJCQkJaWYgKCRSZXN1bHQgLWVxICRmYWxzZSkKCQkJCXsKCQkJCQlUaHJvdyAoTmV3LU9iamVjdCBDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbikKCQkJCX0KCQkJfQoJCQllbHNlCgkJCXsKCQkJCVRocm93IChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRFcnJvckNvZGUpCgkJCX0KCQl9CgoJCSRDbG9zZUhhbmRsZS5JbnZva2UoJFRocmVhZEhhbmRsZSkgfCBPdXQtTnVsbAoJCgkJJEx1aWRTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRMVUlEKQoJCSRMdWlkUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRMdWlkU2l6ZSkKCQkkTHVpZE9iamVjdCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRMdWlkUHRyLCBbVHlwZV0kTFVJRCkKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkTHVpZFB0cikKCgkJJFJlc3VsdCA9ICRMb29rdXBQcml2aWxlZ2VWYWx1ZS5JbnZva2UoJG51bGwsICJTZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZSIsIFtSZWZdICRMdWlkT2JqZWN0KQoKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJVGhyb3cgKE5ldy1PYmplY3QgQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb24pCgkJfQoKCQlbVUludDMyXSRMdWlkQW5kQXR0cmlidXRlc1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJExVSURfQU5EX0FUVFJJQlVURVMpCgkJJEx1aWRBbmRBdHRyaWJ1dGVzUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRMdWlkQW5kQXR0cmlidXRlc1NpemUpCgkJJEx1aWRBbmRBdHRyaWJ1dGVzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEx1aWRBbmRBdHRyaWJ1dGVzUHRyLCBbVHlwZV0kTFVJRF9BTkRfQVRUUklCVVRFUykKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkTHVpZEFuZEF0dHJpYnV0ZXNQdHIpCgoJCSRMdWlkQW5kQXR0cmlidXRlcy5MdWlkID0gJEx1aWRPYmplY3QKCQkkTHVpZEFuZEF0dHJpYnV0ZXMuQXR0cmlidXRlcyA9ICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfRU5BQkxFRAoKCQlbVUludDMyXSRUb2tlblByaXZTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRUT0tFTl9QUklWSUxFR0VTKQoJCSRUb2tlblByaXZpbGVnZXNQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRva2VuUHJpdlNpemUpCgkJJFRva2VuUHJpdmlsZWdlcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRUb2tlblByaXZpbGVnZXNQdHIsIFtUeXBlXSRUT0tFTl9QUklWSUxFR0VTKQoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlblByaXZpbGVnZXNQdHIpCgkJJFRva2VuUHJpdmlsZWdlcy5Qcml2aWxlZ2VDb3VudCA9IDEKCQkkVG9rZW5Qcml2aWxlZ2VzLlByaXZpbGVnZXMgPSAkTHVpZEFuZEF0dHJpYnV0ZXMKCgkJJEdsb2JhbDpUb2tlblByaXYgPSAkVG9rZW5Qcml2aWxlZ2VzCgoJCSRSZXN1bHQgPSAkQWRqdXN0VG9rZW5Qcml2aWxlZ2VzLkludm9rZSgkVGhyZWFkVG9rZW4sICRmYWxzZSwgW1JlZl0gJFRva2VuUHJpdmlsZWdlcywgJFRva2VuUHJpdlNpemUsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybykKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJVGhyb3cgKE5ldy1PYmplY3QgQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb24pCgkJfQoKCQkkQ2xvc2VIYW5kbGUuSW52b2tlKCRUaHJlYWRUb2tlbikgfCBPdXQtTnVsbAoJfQoKCgkjRW5hYmxlIFNlU2VjdXJpdHlQcml2aWxlZ2UsIG5lZWRlZCB0byBxdWVyeSBzZWN1cml0eSBpbmZvcm1hdGlvbiBmb3IgZGVza3RvcCBEQUNMCglmdW5jdGlvbiBFbmFibGUtUHJpdmlsZWdlCgl7CgkJUGFyYW0oCgkJCVtQYXJhbWV0ZXIoKV0KCQkJW1ZhbGlkYXRlU2V0KCJTZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZSIsICJTZUF1ZGl0UHJpdmlsZWdlIiwgIlNlQmFja3VwUHJpdmlsZWdlIiwgIlNlQ2hhbmdlTm90aWZ5UHJpdmlsZWdlIiwgIlNlQ3JlYXRlR2xvYmFsUHJpdmlsZWdlIiwKCQkJCSJTZUNyZWF0ZVBhZ2VmaWxlUHJpdmlsZWdlIiwgIlNlQ3JlYXRlUGVybWFuZW50UHJpdmlsZWdlIiwgIlNlQ3JlYXRlU3ltYm9saWNMaW5rUHJpdmlsZWdlIiwgIlNlQ3JlYXRlVG9rZW5Qcml2aWxlZ2UiLAoJCQkJIlNlRGVidWdQcml2aWxlZ2UiLCAiU2VFbmFibGVEZWxlZ2F0aW9uUHJpdmlsZWdlIiwgIlNlSW1wZXJzb25hdGVQcml2aWxlZ2UiLCAiU2VJbmNyZWFzZUJhc2VQcmlvcml0eVByaXZpbGVnZSIsCgkJCQkiU2VJbmNyZWFzZVF1b3RhUHJpdmlsZWdlIiwgIlNlSW5jcmVhc2VXb3JraW5nU2V0UHJpdmlsZWdlIiwgIlNlTG9hZERyaXZlclByaXZpbGVnZSIsICJTZUxvY2tNZW1vcnlQcml2aWxlZ2UiLCAiU2VNYWNoaW5lQWNjb3VudFByaXZpbGVnZSIsCgkJCQkiU2VNYW5hZ2VWb2x1bWVQcml2aWxlZ2UiLCAiU2VQcm9maWxlU2luZ2xlUHJvY2Vzc1ByaXZpbGVnZSIsICJTZVJlbGFiZWxQcml2aWxlZ2UiLCAiU2VSZW1vdGVTaHV0ZG93blByaXZpbGVnZSIsICJTZVJlc3RvcmVQcml2aWxlZ2UiLAoJCQkJIlNlU2VjdXJpdHlQcml2aWxlZ2UiLCAiU2VTaHV0ZG93blByaXZpbGVnZSIsICJTZVN5bmNBZ2VudFByaXZpbGVnZSIsICJTZVN5c3RlbUVudmlyb25tZW50UHJpdmlsZWdlIiwgIlNlU3lzdGVtUHJvZmlsZVByaXZpbGVnZSIsCgkJCQkiU2VTeXN0ZW10aW1lUHJpdmlsZWdlIiwgIlNlVGFrZU93bmVyc2hpcFByaXZpbGVnZSIsICJTZVRjYlByaXZpbGVnZSIsICJTZVRpbWVab25lUHJpdmlsZWdlIiwgIlNlVHJ1c3RlZENyZWRNYW5BY2Nlc3NQcml2aWxlZ2UiLAoJCQkJIlNlVW5kb2NrUHJpdmlsZWdlIiwgIlNlVW5zb2xpY2l0ZWRJbnB1dFByaXZpbGVnZSIpXQoJCQlbU3RyaW5nXQoJCQkkUHJpdmlsZWdlCgkJKQoKCQlbSW50UHRyXSRUaHJlYWRIYW5kbGUgPSAkR2V0Q3VycmVudFRocmVhZC5JbnZva2UoKQoJCWlmICgkVGhyZWFkSGFuZGxlIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93ICJVbmFibGUgdG8gZ2V0IHRoZSBoYW5kbGUgdG8gdGhlIGN1cnJlbnQgdGhyZWFkIgoJCX0KCQkKCQlbSW50UHRyXSRUaHJlYWRUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCgkJW0Jvb2xdJFJlc3VsdCA9ICRPcGVuVGhyZWFkVG9rZW4uSW52b2tlKCRUaHJlYWRIYW5kbGUsICRXaW4zMkNvbnN0YW50cy5UT0tFTl9RVUVSWSAtYm9yICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BREpVU1RfUFJJVklMRUdFUywgJGZhbHNlLCBbUmVmXSRUaHJlYWRUb2tlbikKCQkkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoKCQlpZiAoJFJlc3VsdCAtZXEgJGZhbHNlKQoJCXsKCQkJaWYgKCRFcnJvckNvZGUgLWVxICRXaW4zMkNvbnN0YW50cy5FUlJPUl9OT19UT0tFTikKCQkJewoJCQkJJFJlc3VsdCA9ICRJbXBlcnNvbmF0ZVNlbGYuSW52b2tlKCRXaW4zMkNvbnN0YW50cy5TRUNVUklUWV9ERUxFR0FUSU9OKQoJCQkJaWYgKCRSZXN1bHQgLWVxICRmYWxzZSkKCQkJCXsKCQkJCQlUaHJvdyAoTmV3LU9iamVjdCBDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbikKCQkJCX0KCQkJCQoJCQkJJFJlc3VsdCA9ICRPcGVuVGhyZWFkVG9rZW4uSW52b2tlKCRUaHJlYWRIYW5kbGUsICRXaW4zMkNvbnN0YW50cy5UT0tFTl9RVUVSWSAtYm9yICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BREpVU1RfUFJJVklMRUdFUywgJGZhbHNlLCBbUmVmXSRUaHJlYWRUb2tlbikKCQkJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJCQl7CgkJCQkJVGhyb3cgKE5ldy1PYmplY3QgQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb24pCgkJCQl9CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlUaHJvdyAoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkRXJyb3JDb2RlKQoJCQl9CgkJfQoKCQkkQ2xvc2VIYW5kbGUuSW52b2tlKCRUaHJlYWRIYW5kbGUpIHwgT3V0LU51bGwKCQoJCSRMdWlkU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kTFVJRCkKCQkkTHVpZFB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkTHVpZFNpemUpCgkJJEx1aWRPYmplY3QgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkTHVpZFB0ciwgW1R5cGVdJExVSUQpCgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJEx1aWRQdHIpCgoJCSRSZXN1bHQgPSAkTG9va3VwUHJpdmlsZWdlVmFsdWUuSW52b2tlKCRudWxsLCAkUHJpdmlsZWdlLCBbUmVmXSAkTHVpZE9iamVjdCkKCgkJaWYgKCRSZXN1bHQgLWVxICRmYWxzZSkKCQl7CgkJCVRocm93IChOZXctT2JqZWN0IENvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uKQoJCX0KCgkJW1VJbnQzMl0kTHVpZEFuZEF0dHJpYnV0ZXNTaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRMVUlEX0FORF9BVFRSSUJVVEVTKQoJCSRMdWlkQW5kQXR0cmlidXRlc1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkTHVpZEFuZEF0dHJpYnV0ZXNTaXplKQoJCSRMdWlkQW5kQXR0cmlidXRlcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRMdWlkQW5kQXR0cmlidXRlc1B0ciwgW1R5cGVdJExVSURfQU5EX0FUVFJJQlVURVMpCgkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJEx1aWRBbmRBdHRyaWJ1dGVzUHRyKQoKCQkkTHVpZEFuZEF0dHJpYnV0ZXMuTHVpZCA9ICRMdWlkT2JqZWN0CgkJJEx1aWRBbmRBdHRyaWJ1dGVzLkF0dHJpYnV0ZXMgPSAkV2luMzJDb25zdGFudHMuU0VfUFJJVklMRUdFX0VOQUJMRUQKCgkJW1VJbnQzMl0kVG9rZW5Qcml2U2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kVE9LRU5fUFJJVklMRUdFUykKCQkkVG9rZW5Qcml2aWxlZ2VzUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRUb2tlblByaXZTaXplKQoJCSRUb2tlblByaXZpbGVnZXMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVG9rZW5Qcml2aWxlZ2VzUHRyLCBbVHlwZV0kVE9LRU5fUFJJVklMRUdFUykKCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkVG9rZW5Qcml2aWxlZ2VzUHRyKQoJCSRUb2tlblByaXZpbGVnZXMuUHJpdmlsZWdlQ291bnQgPSAxCgkJJFRva2VuUHJpdmlsZWdlcy5Qcml2aWxlZ2VzID0gJEx1aWRBbmRBdHRyaWJ1dGVzCgoJCSRHbG9iYWw6VG9rZW5Qcml2ID0gJFRva2VuUHJpdmlsZWdlcwoKCQlXcml0ZS1WZXJib3NlICJBdHRlbXB0aW5nIHRvIGVuYWJsZSBwcml2aWxlZ2U6ICRQcml2aWxlZ2UiCgkJJFJlc3VsdCA9ICRBZGp1c3RUb2tlblByaXZpbGVnZXMuSW52b2tlKCRUaHJlYWRUb2tlbiwgJGZhbHNlLCBbUmVmXSAkVG9rZW5Qcml2aWxlZ2VzLCAkVG9rZW5Qcml2U2l6ZSwgW0ludFB0cl06Olplcm8sIFtJbnRQdHJdOjpaZXJvKQoJCWlmICgkUmVzdWx0IC1lcSAkZmFsc2UpCgkJewoJCQlUaHJvdyAoTmV3LU9iamVjdCBDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbikKCQl9CgoJCSRDbG9zZUhhbmRsZS5JbnZva2UoJFRocmVhZFRva2VuKSB8IE91dC1OdWxsCgkJV3JpdGUtVmVyYm9zZSAiRW5hYmxlZCBwcml2aWxlZ2U6ICRQcml2aWxlZ2UiCgl9CgoKCSNDaGFuZ2UgdGhlIEFDTCBvZiB0aGUgV2luZG93U3RhdGlvbiBhbmQgRGVza3RvcAoJZnVuY3Rpb24gU2V0LURlc2t0b3BBQ0xzCgl7CgkJRW5hYmxlLVByaXZpbGVnZSAtUHJpdmlsZWdlIFNlU2VjdXJpdHlQcml2aWxlZ2UKCgkJI0NoYW5nZSB0aGUgcHJpdmlsZWdlIGZvciB0aGUgY3VycmVudCB3aW5kb3cgc3RhdGlvbiB0byBhbGxvdyBmdWxsIHByaXZpbGVnZSBmb3IgYWxsIHVzZXJzCgkJJFdpbmRvd1N0YXRpb25TdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJpbmdUb0hHbG9iYWxVbmkoIldpblN0YTAiKQoJCSRoV2luc3RhID0gJE9wZW5XaW5kb3dTdGF0aW9uVy5JbnZva2UoJFdpbmRvd1N0YXRpb25TdHIsICRmYWxzZSwgJFdpbjMyQ29uc3RhbnRzLkFDQ0VTU19TWVNURU1fU0VDVVJJVFkgLWJvciAkV2luMzJDb25zdGFudHMuUkVBRF9DT05UUk9MIC1ib3IgJFdpbjMyQ29uc3RhbnRzLldSSVRFX0RBQykKCgkJaWYgKCRoV2luc3RhIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93IChOZXctT2JqZWN0IENvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uKQoJCX0KCgkJU2V0LURlc2t0b3BBQ0xUb0FsbG93RXZlcnlvbmUgLWhPYmplY3QgJGhXaW5zdGEKCQkkQ2xvc2VIYW5kbGUuSW52b2tlKCRoV2luc3RhKSB8IE91dC1OdWxsCgoJCSNDaGFuZ2UgdGhlIHByaXZpbGVnZSBmb3IgdGhlIGN1cnJlbnQgZGVza3RvcCB0byBhbGxvdyBmdWxsIHByaXZpbGVnZSBmb3IgYWxsIHVzZXJzCgkJJGhEZXNrdG9wID0gJE9wZW5EZXNrdG9wQS5JbnZva2UoImRlZmF1bHQiLCAwLCAkZmFsc2UsICRXaW4zMkNvbnN0YW50cy5ERVNLVE9QX0dFTkVSSUNfQUxMIC1ib3IgJFdpbjMyQ29uc3RhbnRzLldSSVRFX0RBQykKCQlpZiAoJGhEZXNrdG9wIC1lcSBbSW50UHRyXTo6WmVybykKCQl7CgkJCVRocm93IChOZXctT2JqZWN0IENvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uKQoJCX0KCgkJU2V0LURlc2t0b3BBQ0xUb0FsbG93RXZlcnlvbmUgLWhPYmplY3QgJGhEZXNrdG9wCgkJJENsb3NlSGFuZGxlLkludm9rZSgkaERlc2t0b3ApIHwgT3V0LU51bGwKCX0KCgoJZnVuY3Rpb24gU2V0LURlc2t0b3BBQ0xUb0FsbG93RXZlcnlvbmUKCXsKCQlQYXJhbSgKCQkJW0ludFB0cl0kaE9iamVjdAoJCQkpCgoJCVtJbnRQdHJdJHBwU2lkT3duZXIgPSBbSW50UHRyXTo6WmVybwoJCVtJbnRQdHJdJHBwc2lkR3JvdXAgPSBbSW50UHRyXTo6WmVybwoJCVtJbnRQdHJdJHBwRGFjbCA9IFtJbnRQdHJdOjpaZXJvCgkJW0ludFB0cl0kcHBTYWNsID0gW0ludFB0cl06Olplcm8KCQlbSW50UHRyXSRwcFNlY3VyaXR5RGVzY3JpcHRvciA9IFtJbnRQdHJdOjpaZXJvCgkJIzB4NyBpcyB3aW5kb3cgc3RhdGlvbiwgY2hhbmdlIGZvciBvdGhlciB0eXBlcwoJCSRyZXRWYWwgPSAkR2V0U2VjdXJpdHlJbmZvLkludm9rZSgkaE9iamVjdCwgMHg3LCAkV2luMzJDb25zdGFudHMuREFDTF9TRUNVUklUWV9JTkZPUk1BVElPTiwgW1JlZl0kcHBTaWRPd25lciwgW1JlZl0kcHBTaWRHcm91cCwgW1JlZl0kcHBEYWNsLCBbUmVmXSRwcFNhY2wsIFtSZWZdJHBwU2VjdXJpdHlEZXNjcmlwdG9yKQoJCWlmICgkcmV0VmFsIC1uZSAwKQoJCXsKCQkJV3JpdGUtRXJyb3IgIlVuYWJsZSB0byBjYWxsIEdldFNlY3VyaXR5SW5mby4gRXJyb3JDb2RlOiAkcmV0VmFsIgoJCX0KCgkJaWYgKCRwcERhY2wgLW5lIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJJEFjbE9iaiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRwcERhY2wsIFtUeXBlXSRBQ0wpCgoJCQkjQWRkIGFsbCB1c2VycyB0byBhY2wKCQkJW1VJbnQzMl0kUmVhbFNpemUgPSAyMDAwCgkJCSRwQWxsVXNlcnNTaWQgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFJlYWxTaXplKQoJCQkkU3VjY2VzcyA9ICRDcmVhdGVXZWxsS25vd25TaWQuSW52b2tlKDEsIFtJbnRQdHJdOjpaZXJvLCAkcEFsbFVzZXJzU2lkLCBbUmVmXSRSZWFsU2l6ZSkKCQkJaWYgKC1ub3QgJFN1Y2Nlc3MpCgkJCXsKCQkJCVRocm93IChOZXctT2JqZWN0IENvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uKQoJCQl9CgoJCQkjRm9yIHVzZXIgIkV2ZXJ5b25lIgoJCQkkVHJ1c3RlZVNpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFRSVVNURUUpCgkJCSRUcnVzdGVlUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRUcnVzdGVlU2l6ZSkKCQkJJFRydXN0ZWVPYmogPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVHJ1c3RlZVB0ciwgW1R5cGVdJFRSVVNURUUpCgkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUcnVzdGVlUHRyKQoJCQkkVHJ1c3RlZU9iai5wTXVsdGlwbGVUcnVzdGVlID0gW0ludFB0cl06Olplcm8KCQkJJFRydXN0ZWVPYmouTXVsdGlwbGVUcnVzdGVlT3BlcmF0aW9uID0gMAoJCQkkVHJ1c3RlZU9iai5UcnVzdGVlRm9ybSA9ICRXaW4zMkNvbnN0YW50cy5UUlVTVEVFX0lTX1NJRAoJCQkkVHJ1c3RlZU9iai5UcnVzdGVlVHlwZSA9ICRXaW4zMkNvbnN0YW50cy5UUlVTVEVFX0lTX1dFTExfS05PV05fR1JPVVAKCQkJJFRydXN0ZWVPYmoucHRzdHJOYW1lID0gJHBBbGxVc2Vyc1NpZAoKCQkJI0dpdmUgZnVsbCBwZXJtaXNzaW9uCgkJCSRFeHBsaWNpdEFjY2Vzc1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJEVYUExJQ0lUX0FDQ0VTUykKCQkJJEV4cGxpY2l0QWNjZXNzUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRFeHBsaWNpdEFjY2Vzc1NpemUpCgkJCSRFeHBsaWNpdEFjY2VzcyA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRFeHBsaWNpdEFjY2Vzc1B0ciwgW1R5cGVdJEVYUExJQ0lUX0FDQ0VTUykKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJEV4cGxpY2l0QWNjZXNzUHRyKQoJCQkkRXhwbGljaXRBY2Nlc3MuZ3JmQWNjZXNzUGVybWlzc2lvbnMgPSAweGYwM2ZmCgkJCSRFeHBsaWNpdEFjY2Vzcy5ncmZBY2Nlc3NNb2RlID0gJFdpbjMyY29uc3RhbnRzLkdSQU5UX0FDQ0VTUwoJCQkkRXhwbGljaXRBY2Nlc3MuZ3JmSW5oZXJpdGFuY2UgPSAkV2luMzJDb25zdGFudHMuT0JKRUNUX0lOSEVSSVRfQUNFCgkJCSRFeHBsaWNpdEFjY2Vzcy5UcnVzdGVlID0gJFRydXN0ZWVPYmoKCgkJCVtJbnRQdHJdJE5ld0RhY2wgPSBbSW50UHRyXTo6WmVybwoKCQkJJFJldFZhbCA9ICRTZXRFbnRyaWVzSW5BY2xXLkludm9rZSgxLCBbUmVmXSRFeHBsaWNpdEFjY2VzcywgJHBwRGFjbCwgW1JlZl0kTmV3RGFjbCkKCQkJaWYgKCRSZXRWYWwgLW5lIDApCgkJCXsKCQkJCVdyaXRlLUVycm9yICJFcnJvciBjYWxsaW5nIFNldEVudHJpZXNJbkFjbFc6ICRSZXRWYWwiCgkJCX0KCgkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRwQWxsVXNlcnNTaWQpCgoJCQlpZiAoJE5ld0RhY2wgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQl0aHJvdyAiTmV3IERBQ0wgaXMgbnVsbCIKCQkJfQoKCQkJIzB4NyBpcyB3aW5kb3cgc3RhdGlvbiwgY2hhbmdlIGZvciBvdGhlciB0eXBlcwoJCQkkUmV0VmFsID0gJFNldFNlY3VyaXR5SW5mby5JbnZva2UoJGhPYmplY3QsIDB4NywgJFdpbjMyQ29uc3RhbnRzLkRBQ0xfU0VDVVJJVFlfSU5GT1JNQVRJT04sICRwcFNpZE93bmVyLCAkcHBTaWRHcm91cCwgJE5ld0RhY2wsICRwcFNhY2wpCgkJCWlmICgkUmV0VmFsIC1uZSAwKQoJCQl7CgkJCQlXcml0ZS1FcnJvciAiU2V0U2VjdXJpdHlJbmZvIGZhaWxlZC4gUmV0dXJuIHZhbHVlOiAkUmV0VmFsIgoJCQl9CgoJCQkkTG9jYWxGcmVlLkludm9rZSgkcHBTZWN1cml0eURlc2NyaXB0b3IpIHwgT3V0LU51bGwKCQl9Cgl9CgoKCSNHZXQgdGhlIHByaW1hcnkgdG9rZW4gZm9yIHRoZSBzcGVjaWZpZWQgcHJvY2Vzc0lkCglmdW5jdGlvbiBHZXQtUHJpbWFyeVRva2VuCgl7CgkJUGFyYW0oCgkJCVtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KCQkJW1VJbnQzMl0KCQkJJFByb2Nlc3NJZCwKCgkJCSNPcGVuIHRoZSB0b2tlbiB3aXRoIGFsbCBwcml2aWxlZ2VzLiBSZXF1aXJlcyBTWVNURU0gYmVjYXVzZSBzb21lIG9mIHRoZSBwcml2aWxlZ2VzIGFyZSByZXN0cmljdGVkIHRvIFNZU1RFTS4KCQkJW1BhcmFtZXRlcigpXQoJCQlbU3dpdGNoXQoJCQkkRnVsbFByaXZzCgkJKQoKCQlpZiAoJEZ1bGxQcml2cykKCQl7CgkJCSRUb2tlblByaXZzID0gJFdpbjMyQ29uc3RhbnRzLlRPS0VOX0FMTF9BQ0NFU1MKCQl9CgkJZWxzZQoJCXsKCQkJJFRva2VuUHJpdnMgPSAkV2luMzJDb25zdGFudHMuVE9LRU5fQVNTSUdOX1BSSU1BUlkgLWJvciAkV2luMzJDb25zdGFudHMuVE9LRU5fRFVQTElDQVRFIC1ib3IgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX0lNUEVSU09OQVRFIC1ib3IgJFdpbjMyQ29uc3RhbnRzLlRPS0VOX1FVRVJZIAoJCX0KCgkJJFJldHVyblN0cnVjdCA9IE5ldy1PYmplY3QgUFNPYmplY3QKCgkJJGhQcm9jZXNzID0gJE9wZW5Qcm9jZXNzLkludm9rZSgkV2luMzJDb25zdGFudHMuUFJPQ0VTU19RVUVSWV9JTkZPUk1BVElPTiwgJHRydWUsIFtVSW50MzJdJFByb2Nlc3NJZCkKCQkkUmV0dXJuU3RydWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgaFByb2Nlc3MgLVZhbHVlICRoUHJvY2VzcwoJCWlmICgkaFByb2Nlc3MgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJI0lmIGEgcHJvY2VzcyBpcyBhIHByb3RlY3RlZCBwcm9jZXNzIGl0IGNhbm5vdCBiZSBlbnVtZXJhdGVkLiBUaGlzIGNhbGwgc2hvdWxkIG9ubHkgZmFpbCBmb3IgcHJvdGVjdGVkIHByb2Nlc3Nlcy4KCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJV3JpdGUtVmVyYm9zZSAiRmFpbGVkIHRvIG9wZW4gcHJvY2VzcyBoYW5kbGUgZm9yIFByb2Nlc3NJZDogJFByb2Nlc3NJZC4gUHJvY2Vzc05hbWUgJCgoR2V0LVByb2Nlc3MgLUlkICRQcm9jZXNzSWQpLk5hbWUpLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlIC4gVGhpcyBpcyBsaWtlbHkgYmVjYXVzZSB0aGlzIGlzIGEgcHJvdGVjdGVkIHByb2Nlc3MuIgoJCQlyZXR1cm4gJG51bGwKCQl9CgkJZWxzZQoJCXsKCQkJW0ludFB0cl0kaFByb2NUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCgkJCSRTdWNjZXNzID0gJE9wZW5Qcm9jZXNzVG9rZW4uSW52b2tlKCRoUHJvY2VzcywgJFRva2VuUHJpdnMsIFtSZWZdJGhQcm9jVG9rZW4pCgoJCQkjQ2xvc2UgdGhlIGhhbmRsZSB0byBoUHJvY2VzcyAodGhlIHByb2Nlc3MgaGFuZGxlKQoJCQlpZiAoLW5vdCAkQ2xvc2VIYW5kbGUuSW52b2tlKCRoUHJvY2VzcykpCgkJCXsKCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQlXcml0ZS1XYXJuaW5nICJGYWlsZWQgdG8gY2xvc2UgcHJvY2VzcyBoYW5kbGUsIHRoaXMgaXMgdW5leHBlY3RlZC4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgoJCQl9CgkJCSRoUHJvY2VzcyA9IFtJbnRQdHJdOjpaZXJvCgoJCQlpZiAoJFN1Y2Nlc3MgLWVxICRmYWxzZSAtb3IgJGhQcm9jVG9rZW4gLWVxIFtJbnRQdHJdOjpaZXJvKQoJCQl7CgkJCQkkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoJCQkJV3JpdGUtV2FybmluZyAiRmFpbGVkIHRvIGdldCBwcm9jZXNzZXMgcHJpbWFyeSB0b2tlbi4gUHJvY2Vzc0lkOiAkUHJvY2Vzc0lkLiBQcm9jZXNzTmFtZSAkKChHZXQtUHJvY2VzcyAtSWQgJFByb2Nlc3NJZCkuTmFtZSkuIEVycm9yOiAkRXJyb3JDb2RlIgoJCQkJcmV0dXJuICRudWxsCgkJCX0KCQkJZWxzZQoJCQl7CgkJCQkkUmV0dXJuU3RydWN0IHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgaFByb2NUb2tlbiAtVmFsdWUgJGhQcm9jVG9rZW4KCQkJfQoJCX0KCgkJcmV0dXJuICRSZXR1cm5TdHJ1Y3QKCX0KCgoJZnVuY3Rpb24gR2V0LVRocmVhZFRva2VuCgl7CgkJUGFyYW0oCgkJCVtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KCQkJW1VJbnQzMl0KCQkJJFRocmVhZElkCgkJKQoKCQkkVG9rZW5Qcml2cyA9ICRXaW4zMkNvbnN0YW50cy5UT0tFTl9BTExfQUNDRVNTCgoJCSRSZXRTdHJ1Y3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CgkJW0ludFB0cl0kaFRocmVhZFRva2VuID0gW0ludFB0cl06Olplcm8KCgkJJGhUaHJlYWQgPSAkT3BlblRocmVhZC5JbnZva2UoJFdpbjMyQ29uc3RhbnRzLlRIUkVBRF9BTExfQUNDRVNTLCAkZmFsc2UsICRUaHJlYWRJZCkKCQlpZiAoJGhUaHJlYWQgLWVxIFtJbnRQdHJdOjpaZXJvKQoJCXsKCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJaWYgKCRFcnJvckNvZGUgLW5lICRXaW4zMkNvbnN0YW50cy5FUlJPUl9JTlZBTElEX1BBUkFNRVRFUikgI1RoZSB0aHJlYWQgcHJvYmFibHkgbm8gbG9uZ2VyIGV4aXN0cwoJCQl7CgkJCQlXcml0ZS1XYXJuaW5nICJGYWlsZWQgdG8gb3BlbiB0aHJlYWQgaGFuZGxlIGZvciBUaHJlYWRJZDogJFRocmVhZElkLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlIgoJCQl9CgkJfQoJCWVsc2UKCQl7CgkJCSRTdWNjZXNzID0gJE9wZW5UaHJlYWRUb2tlbi5JbnZva2UoJGhUaHJlYWQsICRUb2tlblByaXZzLCAkZmFsc2UsIFtSZWZdJGhUaHJlYWRUb2tlbikKCQkJaWYgKC1ub3QgJFN1Y2Nlc3MpCgkJCXsKCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQlpZiAoKCRFcnJvckNvZGUgLW5lICRXaW4zMkNvbnN0YW50cy5FUlJPUl9OT19UT0tFTikgLWFuZCAgI1RoaXMgZXJyb3IgaXMgcmV0dXJuZWQgd2hlbiB0aGUgdGhyZWFkIGlzbid0IGltcGVyc29uYXRlZAoJCQkJICgkRXJyb3JDb2RlIC1uZSAkV2luMzJDb25zdGFudHMuRVJST1JfSU5WQUxJRF9QQVJBTUVURVIpKSAjUHJvYmFibHkgbWVhbnMgdGhlIHRocmVhZCB3YXMgY2xvc2VkCgkJCQl7CgkJCQkJV3JpdGUtV2FybmluZyAiRmFpbGVkIHRvIGNhbGwgT3BlblRocmVhZFRva2VuIGZvciBUaHJlYWRJZDogJFRocmVhZElkLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlIgoJCQkJfQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJV3JpdGUtVmVyYm9zZSAiU3VjY2Vzc2Z1bGx5IHF1ZXJpZWQgdGhyZWFkIHRva2VuIgoJCQl9CgoJCQkjQ2xvc2UgdGhlIGhhbmRsZSB0byBoVGhyZWFkICh0aGUgdGhyZWFkIGhhbmRsZSkKCQkJaWYgKC1ub3QgJENsb3NlSGFuZGxlLkludm9rZSgkaFRocmVhZCkpCgkJCXsKCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQlXcml0ZS1XYXJuaW5nICJGYWlsZWQgdG8gY2xvc2UgdGhyZWFkIGhhbmRsZSwgdGhpcyBpcyB1bmV4cGVjdGVkLiBFcnJvckNvZGU6ICRFcnJvckNvZGUiCgkJCX0KCQkJJGhUaHJlYWQgPSBbSW50UHRyXTo6WmVybwoJCX0KCgkJJFJldFN0cnVjdCB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIGhUaHJlYWRUb2tlbiAtVmFsdWUgJGhUaHJlYWRUb2tlbgoJCXJldHVybiAkUmV0U3RydWN0Cgl9CgoKCSNHZXRzIGltcG9ydGFudCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdG9rZW4gc3VjaCBhcyB0aGUgbG9nb24gdHlwZSBhc3NvY2lhdGVkIHdpdGggdGhlIGxvZ29uCglmdW5jdGlvbiBHZXQtVG9rZW5JbmZvcm1hdGlvbgoJewoJCVBhcmFtKAoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJCVtJbnRQdHJdCgkJCSRoVG9rZW4KCQkpCgoJCSRSZXR1cm5PYmogPSAkbnVsbAoKCQkkVG9rZW5TdGF0c1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFRPS0VOX1NUQVRJU1RJQ1MpCgkJW0ludFB0cl0kVG9rZW5TdGF0c1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5TdGF0c1NpemUpCgkJW1VJbnQzMl0kUmVhbFNpemUgPSAwCgkJJFN1Y2Nlc3MgPSAkR2V0VG9rZW5JbmZvcm1hdGlvbi5JbnZva2UoJGhUb2tlbiwgJFRPS0VOX0lORk9STUFUSU9OX0NMQVNTOjpUb2tlblN0YXRpc3RpY3MsICRUb2tlblN0YXRzUHRyLCAkVG9rZW5TdGF0c1NpemUsIFtSZWZdJFJlYWxTaXplKQoJCWlmICgtbm90ICRTdWNjZXNzKQoJCXsKCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJV3JpdGUtV2FybmluZyAiR2V0VG9rZW5JbmZvcm1hdGlvbiBmYWlsZWQuIEVycm9yIGNvZGU6ICRFcnJvckNvZGUiCgkJfQoJCWVsc2UKCQl7CgkJCSRUb2tlblN0YXRzID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFRva2VuU3RhdHNQdHIsIFtUeXBlXSRUT0tFTl9TVEFUSVNUSUNTKQoKCQkJI1F1ZXJ5IExTQSB0byBkZXRlcm1pbmUgd2hhdCB0aGUgbG9nb250eXBlIG9mIHRoZSBzZXNzaW9uIGlzIHRoYXQgdGhlIHRva2VuIGNvcnJvc3BvbmRzIHRvLCBhcyB3ZWxsIGFzIHRoZSB1c2VybmFtZS9kb21haW4gb2YgdGhlIGxvZ29uCgkJCSRMdWlkUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kTFVJRCkpCgkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlN0cnVjdHVyZVRvUHRyKCRUb2tlblN0YXRzLkF1dGhlbnRpY2F0aW9uSWQsICRMdWlkUHRyLCAkZmFsc2UpCgoJCQlbSW50UHRyXSRMb2dvblNlc3Npb25EYXRhUHRyID0gW0ludFB0cl06Olplcm8KCQkJJFJldHVyblZhbCA9ICRMc2FHZXRMb2dvblNlc3Npb25EYXRhLkludm9rZSgkTHVpZFB0ciwgW1JlZl0kTG9nb25TZXNzaW9uRGF0YVB0cikKCQkJaWYgKCRSZXR1cm5WYWwgLW5lIDAgLWFuZCAkTG9nb25TZXNzaW9uRGF0YVB0ciAtZXEgW0ludFB0cl06Olplcm8pCgkJCXsKCQkJCVdyaXRlLVdhcm5pbmcgIkNhbGwgdG8gTHNhR2V0TG9nb25TZXNzaW9uRGF0YSBmYWlsZWQuIEVycm9yIGNvZGU6ICRSZXR1cm5WYWwuIExvZ29uU2Vzc2lvbkRhdGFQdHIgPSAkTG9nb25TZXNzaW9uRGF0YVB0ciIKCQkJfQoJCQllbHNlCgkJCXsKCQkJCSRMb2dvblNlc3Npb25EYXRhID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJExvZ29uU2Vzc2lvbkRhdGFQdHIsIFtUeXBlXSRTRUNVUklUWV9MT0dPTl9TRVNTSU9OX0RBVEEpCgkJCQlpZiAoJExvZ29uU2Vzc2lvbkRhdGEuVXNlcm5hbWUuQnVmZmVyIC1uZSBbSW50UHRyXTo6WmVybyAtYW5kIAoJCQkJCSRMb2dvblNlc3Npb25EYXRhLkxvZ2luRG9tYWluLkJ1ZmZlciAtbmUgW0ludFB0cl06Olplcm8pCgkJCQl7CgkJCQkJI0dldCB0aGUgdXNlcm5hbWUgYW5kIGRvbWFpbm5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSB0b2tlbgoJCQkJCSRVc2VybmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCRMb2dvblNlc3Npb25EYXRhLlVzZXJuYW1lLkJ1ZmZlciwgJExvZ29uU2Vzc2lvbkRhdGEuVXNlcm5hbWUuTGVuZ3RoLzIpCgkJCQkJJERvbWFpbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCRMb2dvblNlc3Npb25EYXRhLkxvZ2luRG9tYWluLkJ1ZmZlciwgJExvZ29uU2Vzc2lvbkRhdGEuTG9naW5Eb21haW4uTGVuZ3RoLzIpCgoJCQkJCSNJZiBVc2VyTmFtZSBpcyBmb3IgdGhlIGNvbXB1dGVyIGFjY291bnQsIGZpZ3VyZSBvdXQgd2hhdCBhY2NvdW50IGl0IGFjdHVhbGx5IGlzIChTWVNURU0sIE5FVFdPUksgU0VSVklDRSkKCQkJCQkjT25seSBkbyB0aGlzIGZvciB0aGUgY29tcHV0ZXIgYWNjb3VudCBiZWNhdXNlIG90aGVyIGFjY291bnRzIHJldHVybiBjb3JyZWN0bHkuIEFsc28sIGRvaW5nIHRoaXMgZm9yIGEgZG9tYWluIGFjY291bnQgCgkJCQkJI3Jlc3VsdHMgaW4gcXVlcnlpbmcgdGhlIGRvbWFpbiBjb250cm9sbGVyIHdoaWNoIGlzIHVud2FudGVkLgoJCQkJCWlmICgkVXNlcm5hbWUgLWllcSAiJCgkZW52OkNPTVBVVEVSTkFNRSlgJCIpCgkJCQkJewoJCQkJCQlbVUludDMyXSRTaXplID0gMTAwCgkJCQkJCVtVSW50MzJdJE51bVVzZXJuYW1lQ2hhciA9ICRTaXplIC8gMgoJCQkJCQlbVUludDMyXSROdW1Eb21haW5DaGFyID0gJFNpemUgLyAyCgkJCQkJCVtVSW50MzJdJFNpZE5hbWVVc2UgPSAwCgkJCQkJCSRVc2VybmFtZUJ1ZmZlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkU2l6ZSkKCQkJCQkJJERvbWFpbkJ1ZmZlciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkU2l6ZSkKCQkJCQkJJFN1Y2Nlc3MgPSAkTG9va3VwQWNjb3VudFNpZFcuSW52b2tlKFtJbnRQdHJdOjpaZXJvLCAkTG9nb25TZXNzaW9uRGF0YS5TaWQsICRVc2VybmFtZUJ1ZmZlciwgW1JlZl0kTnVtVXNlcm5hbWVDaGFyLCAkRG9tYWluQnVmZmVyLCBbUmVmXSROdW1Eb21haW5DaGFyLCBbUmVmXSRTaWROYW1lVXNlKQoKCQkJCQkJaWYgKCRTdWNjZXNzKQoJCQkJCQl7CgkJCQkJCQkkVXNlcm5hbWUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cmluZ1VuaSgkVXNlcm5hbWVCdWZmZXIpCgkJCQkJCQkkRG9tYWluID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdVbmkoJERvbWFpbkJ1ZmZlcikKCQkJCQkJfQoJCQkJCQllbHNlCgkJCQkJCXsKCQkJCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQkJCQlXcml0ZS1XYXJuaW5nICJFcnJvciBjYWxsaW5nIExvb2t1cEFjY291bnRTaWRXLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlIgoJCQkJCQl9CgoJCQkJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkVXNlcm5hbWVCdWZmZXIpCgkJCQkJCSRVc2VybmFtZUJ1ZmZlciA9IFtJbnRQdHJdOjpaZXJvCgkJCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCREb21haW5CdWZmZXIpCgkJCQkJCSREb21haW5CdWZmZXIgPSBbSW50UHRyXTo6WmVybwoJCQkJCX0KCgkJCQkJJFJldHVybk9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKCQkJCQkkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRG9tYWluIC1WYWx1ZSAkRG9tYWluCgkJCQkJJFJldHVybk9iaiB8IEFkZC1NZW1iZXIgLVR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFVzZXJuYW1lIC1WYWx1ZSAkVXNlcm5hbWUgICAgCgkJCQkJJFJldHVybk9iaiB8IEFkZC1NZW1iZXIgLVR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIGhUb2tlbiAtVmFsdWUgJGhUb2tlbgoJCQkJCSRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBMb2dvblR5cGUgLVZhbHVlICRMb2dvblNlc3Npb25EYXRhLkxvZ29uVHlwZQoKCgkJCQkJI1F1ZXJ5IGFkZGl0aW9uYWwgaW5mbyBhYm91dCB0aGUgdG9rZW4gc3VjaCBhcyBpZiBpdCBpcyBlbGV2YXRlZAoJCQkJCSRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJc0VsZXZhdGVkIC1WYWx1ZSAkZmFsc2UKCgkJCQkJJFRva2VuRWxldmF0aW9uU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kVE9LRU5fRUxFVkFUSU9OKQoJCQkJCSRUb2tlbkVsZXZhdGlvblB0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5FbGV2YXRpb25TaXplKQoJCQkJCVtVSW50MzJdJFJlYWxTaXplID0gMAoJCQkJCSRTdWNjZXNzID0gJEdldFRva2VuSW5mb3JtYXRpb24uSW52b2tlKCRoVG9rZW4sICRUT0tFTl9JTkZPUk1BVElPTl9DTEFTUzo6VG9rZW5FbGV2YXRpb24sICRUb2tlbkVsZXZhdGlvblB0ciwgJFRva2VuRWxldmF0aW9uU2l6ZSwgW1JlZl0kUmVhbFNpemUpCgkJCQkJaWYgKC1ub3QgJFN1Y2Nlc3MpCgkJCQkJewoJCQkJCQkkRXJyb3JDb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoJCQkJCQlXcml0ZS1XYXJuaW5nICJHZXRUb2tlbkluZm9ybWF0aW9uIGZhaWxlZCB0byByZXRyaWV2ZSBUb2tlbkVsZXZhdGlvbiBzdGF0dXMuIEVycm9yQ29kZTogJEVycm9yQ29kZSIgCgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCSRUb2tlbkVsZXZhdGlvbiA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRUb2tlbmVsZXZhdGlvblB0ciwgW1R5cGVdJFRPS0VOX0VMRVZBVElPTikKCQkJCQkJaWYgKCRUb2tlbkVsZXZhdGlvbi5Ub2tlbklzRWxldmF0ZWQgLW5lIDApCgkJCQkJCXsKCQkJCQkJCSRSZXR1cm5PYmouSXNFbGV2YXRlZCA9ICR0cnVlCgkJCQkJCX0KCQkJCQl9CgkJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFRva2VuRWxldmF0aW9uUHRyKQoKCgkJCQkJI1F1ZXJ5IHRoZSB0b2tlbiB0eXBlIHRvIGRldGVybWluZSBpZiB0aGUgdG9rZW4gaXMgYSBwcmltYXJ5IG9yIGltcGVyc29uYXRpb24gdG9rZW4KCQkJCQkkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVG9rZW5UeXBlIC1WYWx1ZSAiVW5hYmxlVG9SZXRyaWV2ZSIKCgkJCQkJW1VJbnQzMl0kVG9rZW5UeXBlU2l6ZSA9IDQKCQkJCQlbSW50UHRyXSRUb2tlblR5cGVQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpBbGxvY0hHbG9iYWwoJFRva2VuVHlwZVNpemUpCgkJCQkJW1VJbnQzMl0kUmVhbFNpemUgPSAwCgkJCQkJJFN1Y2Nlc3MgPSAkR2V0VG9rZW5JbmZvcm1hdGlvbi5JbnZva2UoJGhUb2tlbiwgJFRPS0VOX0lORk9STUFUSU9OX0NMQVNTOjpUb2tlblR5cGUsICRUb2tlblR5cGVQdHIsICRUb2tlblR5cGVTaXplLCBbUmVmXSRSZWFsU2l6ZSkKCQkJCQlpZiAoLW5vdCAkU3VjY2VzcykKCQkJCQl7CgkJCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQkJCVdyaXRlLVdhcm5pbmcgIkdldFRva2VuSW5mb3JtYXRpb24gZmFpbGVkIHRvIHJldHJpZXZlIFRva2VuSW1wZXJzb25hdGlvbkxldmVsIHN0YXR1cy4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgoJCQkJCX0KCQkJCQllbHNlCgkJCQkJewoJCQkJCQlbVUludDMyXSRUb2tlblR5cGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVG9rZW5UeXBlUHRyLCBbVHlwZV1bVUludDMyXSkKCQkJCQkJc3dpdGNoKCRUb2tlblR5cGUpCgkJCQkJCXsKCQkJCQkJCTEgeyRSZXR1cm5PYmouVG9rZW5UeXBlID0gIlByaW1hcnkifQoJCQkJCQkJMiB7JFJldHVybk9iai5Ub2tlblR5cGUgPSAiSW1wZXJzb25hdGlvbiJ9CgkJCQkJCX0KCQkJCQl9CgkJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFRva2VuVHlwZVB0cikKCgoJCQkJCSNRdWVyeSB0aGUgaW1wZXJzb25hdGlvbiBsZXZlbCBpZiB0aGUgdG9rZW4gaXMgYW4gSW1wZXJzb25hdGlvbiB0b2tlbgoJCQkJCWlmICgkUmV0dXJuT2JqLlRva2VuVHlwZSAtaWVxICJJbXBlcnNvbmF0aW9uIikKCQkJCQl7CgkJCQkJCSRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBJbXBlcnNvbmF0aW9uTGV2ZWwgLVZhbHVlICJVbmFibGVUb1JldHJpZXZlIgoKCQkJCQkJW1VJbnQzMl0kSW1wZXJzb25hdGlvbkxldmVsU2l6ZSA9IDQKCQkJCQkJW0ludFB0cl0kSW1wZXJzb25hdGlvbkxldmVsUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRJbXBlcnNvbmF0aW9uTGV2ZWxTaXplKSAjc2l6ZW9mIHVpbnQzMgoJCQkJCQlbVUludDMyXSRSZWFsU2l6ZSA9IDAKCQkJCQkJJFN1Y2Nlc3MgPSAkR2V0VG9rZW5JbmZvcm1hdGlvbi5JbnZva2UoJGhUb2tlbiwgJFRPS0VOX0lORk9STUFUSU9OX0NMQVNTOjpUb2tlbkltcGVyc29uYXRpb25MZXZlbCwgJEltcGVyc29uYXRpb25MZXZlbFB0ciwgJEltcGVyc29uYXRpb25MZXZlbFNpemUsIFtSZWZdJFJlYWxTaXplKQoJCQkJCQlpZiAoLW5vdCAkU3VjY2VzcykKCQkJCQkJewoJCQkJCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJCQkJCVdyaXRlLVdhcm5pbmcgIkdldFRva2VuSW5mb3JtYXRpb24gZmFpbGVkIHRvIHJldHJpZXZlIFRva2VuSW1wZXJzb25hdGlvbkxldmVsIHN0YXR1cy4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgoJCQkJCQl9CgkJCQkJCWVsc2UKCQkJCQkJewoJCQkJCQkJW1VJbnQzMl0kSW1wZXJzb25hdGlvbkxldmVsID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEltcGVyc29uYXRpb25MZXZlbFB0ciwgW1R5cGVdW1VJbnQzMl0pCgkJCQkJCQlzd2l0Y2ggKCRJbXBlcnNvbmF0aW9uTGV2ZWwpCgkJCQkJCQl7CgkJCQkJCQkJMCB7ICRSZXR1cm5PYmouSW1wZXJzb25hdGlvbkxldmVsID0gIlNlY3VyaXR5QW5vbnltb3VzIiB9CgkJCQkJCQkJMSB7ICRSZXR1cm5PYmouSW1wZXJzb25hdGlvbkxldmVsID0gIlNlY3VyaXR5SWRlbnRpZmljYXRpb24iIH0KCQkJCQkJCQkyIHsgJFJldHVybk9iai5JbXBlcnNvbmF0aW9uTGV2ZWwgPSAiU2VjdXJpdHlJbXBlcnNvbmF0aW9uIiB9CgkJCQkJCQkJMyB7ICRSZXR1cm5PYmouSW1wZXJzb25hdGlvbkxldmVsID0gIlNlY3VyaXR5RGVsZWdhdGlvbiIgfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRJbXBlcnNvbmF0aW9uTGV2ZWxQdHIpCgkJCQkJfQoKCgkJCQkJI1F1ZXJ5IHRoZSB0b2tlbiBzZXNzaW9uaWQKCQkJCQkkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgU2Vzc2lvbklEIC1WYWx1ZSAiVW5rbm93biIKCgkJCQkJW1VJbnQzMl0kVG9rZW5TZXNzaW9uSWRTaXplID0gNAoJCQkJCVtJbnRQdHJdJFRva2VuU2Vzc2lvbklkUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRUb2tlblNlc3Npb25JZFNpemUpCgkJCQkJW1VJbnQzMl0kUmVhbFNpemUgPSAwCgkJCQkJJFN1Y2Nlc3MgPSAkR2V0VG9rZW5JbmZvcm1hdGlvbi5JbnZva2UoJGhUb2tlbiwgJFRPS0VOX0lORk9STUFUSU9OX0NMQVNTOjpUb2tlblNlc3Npb25JZCwgJFRva2VuU2Vzc2lvbklkUHRyLCAkVG9rZW5TZXNzaW9uSWRTaXplLCBbUmVmXSRSZWFsU2l6ZSkKCQkJCQlpZiAoLW5vdCAkU3VjY2VzcykKCQkJCQl7CgkJCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQkJCVdyaXRlLVdhcm5pbmcgIkdldFRva2VuSW5mb3JtYXRpb24gZmFpbGVkIHRvIHJldHJpZXZlIFRva2VuIFNlc3Npb25JZC4gRXJyb3JDb2RlOiAkRXJyb3JDb2RlIgoJCQkJCX0KCQkJCQllbHNlCgkJCQkJewoJCQkJCQlbVUludDMyXSRUb2tlblNlc3Npb25JZCA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RydWN0dXJlKCRUb2tlblNlc3Npb25JZFB0ciwgW1R5cGVdW1VJbnQzMl0pCgkJCQkJCSRSZXR1cm5PYmouU2Vzc2lvbklEID0gJFRva2VuU2Vzc2lvbklkCgkJCQkJfQoJCQkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlblNlc3Npb25JZFB0cikKCgoJCQkJCSNRdWVyeSB0aGUgdG9rZW4gcHJpdmlsZWdlcwoJCQkJCSRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1UeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQcml2aWxlZ2VzRW5hYmxlZCAtVmFsdWUgQCgpCgkJCQkJJFJldHVybk9iaiB8IEFkZC1NZW1iZXIgLVR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFByaXZpbGVnZXNBdmFpbGFibGUgLVZhbHVlIEAoKQoKCQkJCQlbVUludDMyXSRUb2tlblByaXZpbGVnZXNTaXplID0gMTAwMAoJCQkJCVtJbnRQdHJdJFRva2VuUHJpdmlsZWdlc1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkVG9rZW5Qcml2aWxlZ2VzU2l6ZSkKCQkJCQlbVUludDMyXSRSZWFsU2l6ZSA9IDAKCQkJCQkkU3VjY2VzcyA9ICRHZXRUb2tlbkluZm9ybWF0aW9uLkludm9rZSgkaFRva2VuLCAkVE9LRU5fSU5GT1JNQVRJT05fQ0xBU1M6OlRva2VuUHJpdmlsZWdlcywgJFRva2VuUHJpdmlsZWdlc1B0ciwgJFRva2VuUHJpdmlsZWdlc1NpemUsIFtSZWZdJFJlYWxTaXplKQoJCQkJCWlmICgtbm90ICRTdWNjZXNzKQoJCQkJCXsKCQkJCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJCQkJV3JpdGUtV2FybmluZyAiR2V0VG9rZW5JbmZvcm1hdGlvbiBmYWlsZWQgdG8gcmV0cmlldmUgVG9rZW4gU2Vzc2lvbklkLiBFcnJvckNvZGU6ICRFcnJvckNvZGUiCgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCSRUb2tlblByaXZpbGVnZXMgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpQdHJUb1N0cnVjdHVyZSgkVG9rZW5Qcml2aWxlZ2VzUHRyLCBbVHlwZV0kVE9LRU5fUFJJVklMRUdFUykKCQkJCQkJCgkJCQkJCSNMb29wIHRocm91Z2ggZWFjaCBwcml2aWxlZ2UKCQkJCQkJW0ludFB0cl0kUHJpdmlsZWdlc0Jhc2VQdHIgPSBbSW50UHRyXShBZGQtU2lnbmVkSW50QXNVbnNpZ25lZCAkVG9rZW5Qcml2aWxlZ2VzUHRyIChbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpPZmZzZXRPZihbVHlwZV0kVE9LRU5fUFJJVklMRUdFUywgIlByaXZpbGVnZXMiKSkpCgkJCQkJCSRMdWlkQW5kQXR0cmlidXRlU2l6ZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlNpemVPZihbVHlwZV0kTFVJRF9BTkRfQVRUUklCVVRFUykKCQkJCQkJZm9yICgkaSA9IDA7ICRpIC1sdCAkVG9rZW5Qcml2aWxlZ2VzLlByaXZpbGVnZUNvdW50OyAkaSsrKQoJCQkJCQl7CgkJCQkJCQkkTHVpZEFuZEF0dHJpYnV0ZVB0ciA9IFtJbnRQdHJdKEFkZC1TaWduZWRJbnRBc1Vuc2lnbmVkICRQcml2aWxlZ2VzQmFzZVB0ciAoJEx1aWRBbmRBdHRyaWJ1dGVTaXplICogJGkpKQoKCQkJCQkJCSRMdWlkQW5kQXR0cmlidXRlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJEx1aWRBbmRBdHRyaWJ1dGVQdHIsIFtUeXBlXSRMVUlEX0FORF9BVFRSSUJVVEVTKQoKCQkJCQkJCSNMb29rdXAgcHJpdmlsZWdlIG5hbWUKCQkJCQkJCVtVSW50MzJdJFByaXZpbGVnZU5hbWVTaXplID0gNjAKCQkJCQkJCSRQcml2aWxlZ2VOYW1lUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6QWxsb2NIR2xvYmFsKCRQcml2aWxlZ2VOYW1lU2l6ZSkKCQkJCQkJCSRQTHVpZCA9ICRMdWlkQW5kQXR0cmlidXRlUHRyICNUaGUgTHVpZCBzdHJ1Y3R1cmUgaXMgdGhlIGZpcnN0IG9iamVjdCBpbiB0aGUgTHVpZEFuZEF0dHJpYnV0ZXMgc3RydWN0dXJlLCBzbyBhIHB0ciB0byBMdWlkQW5kQXR0cmlidXRlcyBhbHNvIHBvaW50cyB0byBMdWlkCgoJCQkJCQkJJFN1Y2Nlc3MgPSAkTG9va3VwUHJpdmlsZWdlTmFtZVcuSW52b2tlKFtJbnRQdHJdOjpaZXJvLCAkUEx1aWQsICRQcml2aWxlZ2VOYW1lUHRyLCBbUmVmXSRQcml2aWxlZ2VOYW1lU2l6ZSkKCQkJCQkJCWlmICgtbm90ICRTdWNjZXNzKQoJCQkJCQkJewoJCQkJCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQkJCQkJV3JpdGUtV2FybmluZyAiQ2FsbCB0byBMb29rdXBQcml2aWxlZ2VOYW1lVyBmYWlsZWQuIEVycm9yIGNvZGU6ICRFcnJvckNvZGUuIFJlYWxTaXplOiAkUHJpdmlsZWdlTmFtZVNpemUiCgkJCQkJCQl9CgkJCQkJCQkkUHJpdmlsZWdlTmFtZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OlB0clRvU3RyaW5nVW5pKCRQcml2aWxlZ2VOYW1lUHRyKQoKCQkJCQkJCSNHZXQgdGhlIHByaXZpbGVnZSBhdHRyaWJ1dGVzCgkJCQkJCQkkUHJpdmlsZWdlU3RhdHVzID0gIiIKCQkJCQkJCSRFbmFibGVkID0gJGZhbHNlCgoJCQkJCQkJaWYgKCRMdWlkQW5kQXR0cmlidXRlLkF0dHJpYnV0ZXMgLWVxIDApCgkJCQkJCQl7CgkJCQkJCQkJJEVuYWJsZWQgPSAkZmFsc2UKCQkJCQkJCX0KCQkJCQkJCWlmICgoJEx1aWRBbmRBdHRyaWJ1dGUuQXR0cmlidXRlcyAtYmFuZCAkV2luMzJDb25zdGFudHMuU0VfUFJJVklMRUdFX0VOQUJMRURfQllfREVGQVVMVCkgLWVxICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfRU5BQkxFRF9CWV9ERUZBVUxUKSAjZW5hYmxlZCBieSBkZWZhdWx0CgkJCQkJCQl7CgkJCQkJCQkJJEVuYWJsZWQgPSAkdHJ1ZQoJCQkJCQkJfQoJCQkJCQkJaWYgKCgkTHVpZEFuZEF0dHJpYnV0ZS5BdHRyaWJ1dGVzIC1iYW5kICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfRU5BQkxFRCkgLWVxICRXaW4zMkNvbnN0YW50cy5TRV9QUklWSUxFR0VfRU5BQkxFRCkgI2VuYWJsZWQKCQkJCQkJCXsKCQkJCQkJCQkkRW5hYmxlZCA9ICR0cnVlCgkJCQkJCQl9CgkJCQkJCQlpZiAoKCRMdWlkQW5kQXR0cmlidXRlLkF0dHJpYnV0ZXMgLWJhbmQgJFdpbjMyQ29uc3RhbnRzLlNFX1BSSVZJTEVHRV9SRU1PVkVEKSAtZXEgJFdpbjMyQ29uc3RhbnRzLlNFX1BSSVZJTEVHRV9SRU1PVkVEKSAjU0VfUFJJVklMRUdFX1JFTU9WRUQuIFRoaXMgc2hvdWxkIG5ldmVyIGV4aXN0LiBXcml0ZSBhIHdhcm5pbmcgaWYgaXQgaXMgZm91bmQgc28gSSBjYW4gaW52ZXN0aWdhdGUgd2h5L2hvdyBpdCB3YXMgZm91bmQuCgkJCQkJCQl7CgkJCQkJCQkJV3JpdGUtV2FybmluZyAiVW5leHBlY3RlZCBiZWhhdmlvcjogRm91bmQgYSB0b2tlbiB3aXRoIFNFX1BSSVZJTEVHRV9SRU1PVkVELiBQbGVhc2UgcmVwb3J0IHRoaXMgYXMgYSBidWcuICIKCQkJCQkJCX0KCgkJCQkJCQlpZiAoJEVuYWJsZWQpCgkJCQkJCQl7CgkJCQkJCQkJJFJldHVybk9iai5Qcml2aWxlZ2VzRW5hYmxlZCArPSAsJFByaXZpbGVnZU5hbWUKCQkJCQkJCX0KCQkJCQkJCWVsc2UKCQkJCQkJCXsKCQkJCQkJCQkkUmV0dXJuT2JqLlByaXZpbGVnZXNBdmFpbGFibGUgKz0gLCRQcml2aWxlZ2VOYW1lCgkJCQkJCQl9CgoJCQkJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFByaXZpbGVnZU5hbWVQdHIpCgkJCQkJCX0KCQkJCQl9CgkJCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJFRva2VuUHJpdmlsZWdlc1B0cikKCgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJV3JpdGUtVmVyYm9zZSAiQ2FsbCB0byBMc2FHZXRMb2dvblNlc3Npb25EYXRhIHN1Y2NlZWRlZC4gVGhpcyBTSE9VTEQgYmUgU1lTVEVNIHNpbmNlIHRoZXJlIGlzIG5vIGRhdGEuICQoJExvZ29uU2Vzc2lvbkRhdGEuVXNlck5hbWUuTGVuZ3RoKSIKCQkJCX0KCgkJCQkjRnJlZSBMb2dvblNlc3Npb25EYXRhCgkJCQkkbnRzdGF0dXMgPSAkTHNhRnJlZVJldHVybkJ1ZmZlci5JbnZva2UoJExvZ29uU2Vzc2lvbkRhdGFQdHIpCgkJCQkkTG9nb25TZXNzaW9uRGF0YVB0ciA9IFtJbnRQdHJdOjpaZXJvCgkJCQlpZiAoJG50c3RhdHVzIC1uZSAwKQoJCQkJewoJCQkJCVdyaXRlLVdhcm5pbmcgIkNhbGwgdG8gTHNhRnJlZVJldHVybkJ1ZmZlciBmYWlsZWQuIEVycm9yIGNvZGU6ICRudHN0YXR1cyIKCQkJCX0KCQkJfQoKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6RnJlZUhHbG9iYWwoJEx1aWRQdHIpCgkJCSRMdWlkUHRyID0gW0ludFB0cl06Olplcm8KCQl9CgoJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRUb2tlblN0YXRzUHRyKQoJCSRUb2tlblN0YXRzUHRyID0gW0ludFB0cl06Olplcm8KCgkJcmV0dXJuICRSZXR1cm5PYmoKCX0KCgoJI1Rha2VzIGFuIGFycmF5IG9mIFRva2VuT2JqZWN0cyBidWlsdCBieSB0aGUgc2NyaXB0IGFuZCByZXR1cm5zIHRoZSB1bmlxdWUgb25lcwoJZnVuY3Rpb24gR2V0LVVuaXF1ZVRva2VucwoJewoJCVBhcmFtKAoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJCVtPYmplY3RbXV0KCQkJJEFsbFRva2VucwoJCSkKCgkJJFRva2VuQnlVc2VyID0gQHt9CgkJJFRva2VuQnlFbmFibGVkUHJpdiA9IEB7fQoJCSRUb2tlbkJ5QXZhaWxhYmxlUHJpdiA9IEB7fQoKCQkjRmlsdGVyIHRva2VucyBieSB1c2VyCgkJZm9yZWFjaCAoJFRva2VuIGluICRBbGxUb2tlbnMpCgkJewoJCQkkS2V5ID0gJFRva2VuLkRvbWFpbiArICJcIiArICRUb2tlbi5Vc2VybmFtZQoJCQlpZiAoLW5vdCAkVG9rZW5CeVVzZXIuQ29udGFpbnNLZXkoJEtleSkpCgkJCXsKCQkJCSNGaWx0ZXIgb3V0IG5ldHdvcmsgbG9nb25zIGFuZCBqdW5rIFdpbmRvd3MgYWNjb3VudHMuIFRoaXMgZmlsdGVyIGVsaW1pbmF0ZXMgYWNjb3VudHMgd2hpY2ggd29uJ3QgaGF2ZSBjcmVkcyBiZWNhdXNlCgkJCQkjICAgIHRoZXkgYXJlIG5ldHdvcmsgbG9nb25zICh0eXBlIDMpIG9yIGxvZ29ucyBmb3Igd2hpY2ggdGhlIGNyZWRzIGRvbid0IG1hdHRlciBsaWtlIExPQ09BTCBTRVJWSUNFLCBEV00sIGV0Yy4uCgkJCQlpZiAoJFRva2VuLkxvZ29uVHlwZSAtbmUgMyAtYW5kCgkJCQkJJFRva2VuLlVzZXJuYW1lIC1pbm90bWF0Y2ggIl5EV00tXGQrJCIgLWFuZAoJCQkJCSRUb2tlbi5Vc2VybmFtZSAtaW5vdG1hdGNoICJeTE9DQUxcc1NFUlZJQ0UkIikKCQkJCXsKCQkJCQkkVG9rZW5CeVVzZXIuQWRkKCRLZXksICRUb2tlbikKCQkJCX0KCQkJfQoJCQllbHNlCgkJCXsKCQkJCSNJZiBUb2tlbnMgaGF2ZSBlcXVhbCBlbGV2YXRpb24gbGV2ZWxzLCBjb21wYXJlIHRoZWlyIHByaXZpbGVnZXMuCgkJCQlpZigkVG9rZW4uSXNFbGV2YXRlZCAtZXEgJFRva2VuQnlVc2VyWyRLZXldLklzRWxldmF0ZWQpCgkJCQl7CgkJCQkJaWYgKCgkVG9rZW4uUHJpdmlsZWdlc0VuYWJsZWQuQ291bnQgKyAkVG9rZW4uUHJpdmlsZWdlc0F2YWlsYWJsZS5Db3VudCkgLWd0ICgkVG9rZW5CeVVzZXJbJEtleV0uUHJpdmlsZWdlc0VuYWJsZWQuQ291bnQgKyAkVG9rZW5CeVVzZXJbJEtleV0uUHJpdmlsZWdlc0F2YWlsYWJsZS5Db3VudCkpCgkJCQkJewoJCQkJCQkkVG9rZW5CeVVzZXJbJEtleV0gPSAkVG9rZW4KCQkJCQl9CgkJCQl9CgkJCQkjSWYgdGhlIG5ldyB0b2tlbiBpcyBlbGV2YXRlZCBhbmQgdGhlIGN1cnJlbnQgdG9rZW4gaXNuJ3QsIHVzZSB0aGUgbmV3IHRva2VuCgkJCQllbHNlaWYgKCgkVG9rZW4uSXNFbGV2YXRlZCAtZXEgJHRydWUpIC1hbmQgKCRUb2tlbkJ5VXNlclskS2V5XS5Jc0VsZXZhdGVkIC1lcSAkZmFsc2UpKQoJCQkJewoJCQkJCSRUb2tlbkJ5VXNlclskS2V5XSA9ICRUb2tlbgoJCQkJfQoJCQl9CgkJfQoKCQkjRmlsdGVyIHRva2VucyBieSBwcml2aWxlZ2UKCQlmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKCQl7CgkJCSRGdWxsbmFtZSA9ICIkKCRUb2tlbi5Eb21haW4pXCQoJFRva2VuLlVzZXJuYW1lKSIKCgkJCSNGaWx0ZXIgY3VycmVudGx5IGVuYWJsZWQgcHJpdmlsZWdlcwoJCQlmb3JlYWNoICgkUHJpdmlsZWdlIGluICRUb2tlbi5Qcml2aWxlZ2VzRW5hYmxlZCkKCQkJewoJCQkJaWYgKCRUb2tlbkJ5RW5hYmxlZFByaXYuQ29udGFpbnNLZXkoJFByaXZpbGVnZSkpCgkJCQl7CgkJCQkJaWYoJFRva2VuQnlFbmFibGVkUHJpdlskUHJpdmlsZWdlXSAtbm90Y29udGFpbnMgJEZ1bGxuYW1lKQoJCQkJCXsKCQkJCQkJJFRva2VuQnlFbmFibGVkUHJpdlskUHJpdmlsZWdlXSArPSAsJEZ1bGxuYW1lCgkJCQkJfQoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCSRUb2tlbkJ5RW5hYmxlZFByaXYuQWRkKCRQcml2aWxlZ2UsIEAoJEZ1bGxuYW1lKSkKCQkJCX0KCQkJfQoKCQkJI0ZpbHRlciBjdXJyZW50bHkgYXZhaWxhYmxlIChidXQgbm90IGVuYWJsZSkgcHJpdmlsZWdlcwoJCQlmb3JlYWNoICgkUHJpdmlsZWdlIGluICRUb2tlbi5Qcml2aWxlZ2VzQXZhaWxhYmxlKQoJCQl7CgkJCQlpZiAoJFRva2VuQnlBdmFpbGFibGVQcml2LkNvbnRhaW5zS2V5KCRQcml2aWxlZ2UpKQoJCQkJewoJCQkJCWlmKCRUb2tlbkJ5QXZhaWxhYmxlUHJpdlskUHJpdmlsZWdlXSAtbm90Y29udGFpbnMgJEZ1bGxuYW1lKQoJCQkJCXsKCQkJCQkJJFRva2VuQnlBdmFpbGFibGVQcml2WyRQcml2aWxlZ2VdICs9ICwkRnVsbG5hbWUKCQkJCQl9CgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJJFRva2VuQnlBdmFpbGFibGVQcml2LkFkZCgkUHJpdmlsZWdlLCBAKCRGdWxsbmFtZSkpCgkJCQl9CgkJCX0KCQl9CgoJCSRSZXR1cm5EaWN0ID0gQHsKCQkJVG9rZW5CeVVzZXIgPSAkVG9rZW5CeVVzZXIKCQkJVG9rZW5CeUVuYWJsZWRQcml2ID0gJFRva2VuQnlFbmFibGVkUHJpdgoJCQlUb2tlbkJ5QXZhaWxhYmxlUHJpdiA9ICRUb2tlbkJ5QXZhaWxhYmxlUHJpdgoJCX0KCgkJcmV0dXJuIChOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkUmV0dXJuRGljdCkKCX0KCgoJZnVuY3Rpb24gSW52b2tlLUltcGVyc29uYXRlVXNlcgoJewoJCVBhcmFtKAoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJCVtJbnRQdHJdCgkJCSRoVG9rZW4KCQkpCgoJCSNEdXBsaWNhdGUgdGhlIHRva2VuIHNvIGl0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhIG5ldyBwcm9jZXNzCgkJW0ludFB0cl0kTmV3SFRva2VuID0gW0ludFB0cl06Olplcm8KCQkkU3VjY2VzcyA9ICREdXBsaWNhdGVUb2tlbkV4Lkludm9rZSgkaFRva2VuLCAkV2luMzJDb25zdGFudHMuTUFYSU1VTV9BTExPV0VELCBbSW50UHRyXTo6WmVybywgMywgMSwgW1JlZl0kTmV3SFRva2VuKSAjdG9kbyBkb2VzIHRoaXMgbmVlZCB0byBiZSBmcmVlZAoJCWlmICgtbm90ICRTdWNjZXNzKQoJCXsKCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJV3JpdGUtV2FybmluZyAiRHVwbGljYXRlVG9rZW5FeCBmYWlsZWQuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKCQl9CgkJZWxzZQoJCXsKCQkJJFN1Y2Nlc3MgPSAkSW1wZXJzb25hdGVMb2dnZWRPblVzZXIuSW52b2tlKCROZXdIVG9rZW4pCgkJCWlmICgtbm90ICRTdWNjZXNzKQoJCQl7CgkJCQkkRXJyb3Jjb2RlID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoJCQkJV3JpdGUtV2FybmluZyAiRmFpbGVkIHRvIEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyLiBFcnJvciBjb2RlOiAkRXJyb3Jjb2RlIgoJCQl9CgkJfQoKCQkkU3VjY2VzcyA9ICRDbG9zZUhhbmRsZS5JbnZva2UoJE5ld0hUb2tlbikKCQkkTmV3SFRva2VuID0gW0ludFB0cl06Olplcm8KCQlpZiAoLW5vdCAkU3VjY2VzcykKCQl7CgkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCVdyaXRlLVdhcm5pbmcgIkNsb3NlSGFuZGxlIGZhaWxlZCB0byBjbG9zZSBOZXdIVG9rZW4uIEVycm9yQ29kZTogJEVycm9yQ29kZSIKCQl9CgoJCXJldHVybiAkU3VjY2VzcwoJfQoKCglmdW5jdGlvbiBDcmVhdGUtUHJvY2Vzc1dpdGhUb2tlbgoJewoJCVBhcmFtKAoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTAsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJCVtJbnRQdHJdCgkJCSRoVG9rZW4sCgoJCQlbUGFyYW1ldGVyKFBvc2l0aW9uPTEsIE1hbmRhdG9yeT0kdHJ1ZSldCgkJCVtTdHJpbmddCgkJCSRQcm9jZXNzTmFtZSwKCgkJCVtQYXJhbWV0ZXIoUG9zaXRpb249MildCgkJCVtTdHJpbmddCgkJCSRQcm9jZXNzQXJncywKCgkJCVtQYXJhbWV0ZXIoUG9zaXRpb249MyldCgkJCVtTd2l0Y2hdCgkJCSRQYXNzVGhydQoJCSkKCQlXcml0ZS1WZXJib3NlICJFbnRlcmluZyBDcmVhdGUtUHJvY2Vzc1dpdGhUb2tlbiIKCQkjRHVwbGljYXRlIHRoZSB0b2tlbiBzbyBpdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYSBuZXcgcHJvY2VzcwoJCVtJbnRQdHJdJE5ld0hUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCgkJJFN1Y2Nlc3MgPSAkRHVwbGljYXRlVG9rZW5FeC5JbnZva2UoJGhUb2tlbiwgJFdpbjMyQ29uc3RhbnRzLk1BWElNVU1fQUxMT1dFRCwgW0ludFB0cl06Olplcm8sIDMsIDEsIFtSZWZdJE5ld0hUb2tlbikKCQlpZiAoLW5vdCAkU3VjY2VzcykKCQl7CgkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCVdyaXRlLVdhcm5pbmcgIkR1cGxpY2F0ZVRva2VuRXggZmFpbGVkLiBFcnJvckNvZGU6ICRFcnJvckNvZGUiCgkJfQoJCWVsc2UKCQl7CgkJCSRTdGFydHVwSW5mb1NpemUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoW1R5cGVdJFNUQVJUVVBJTkZPKQoJCQlbSW50UHRyXSRTdGFydHVwSW5mb1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkU3RhcnR1cEluZm9TaXplKQoJCQkkbWVtc2V0Lkludm9rZSgkU3RhcnR1cEluZm9QdHIsIDAsICRTdGFydHVwSW5mb1NpemUpIHwgT3V0LU51bGwKCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6V3JpdGVJbnQzMigkU3RhcnR1cEluZm9QdHIsICRTdGFydHVwSW5mb1NpemUpICNUaGUgZmlyc3QgcGFyYW1ldGVyIChjYikgaXMgYSBEV09SRCB3aGljaCBpcyB0aGUgc2l6ZSBvZiB0aGUgc3RydWN0CgoJCQkkUHJvY2Vzc0luZm9TaXplID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U2l6ZU9mKFtUeXBlXSRQUk9DRVNTX0lORk9STUFUSU9OKQoJCQlbSW50UHRyXSRQcm9jZXNzSW5mb1B0ciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkFsbG9jSEdsb2JhbCgkUHJvY2Vzc0luZm9TaXplKQoKCQkJJFByb2Nlc3NOYW1lUHRyID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6U3RyaW5nVG9IR2xvYmFsVW5pKCIkUHJvY2Vzc05hbWUiKQoJCQkkUHJvY2Vzc0FyZ3NQdHIgPSBbSW50UHRyXTo6WmVybwoJCQlpZiAoLW5vdCBbU3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkUHJvY2Vzc0FyZ3MpKQoJCQl7CgkJCQkkUHJvY2Vzc0FyZ3NQdHIgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTdHJpbmdUb0hHbG9iYWxVbmkoImAiJFByb2Nlc3NOYW1lYCIgJFByb2Nlc3NBcmdzIikKCQkJfQoJCQkKCQkJJEZ1bmN0aW9uTmFtZSA9ICIiCgkJCWlmIChbU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3NdOjpHZXRDdXJyZW50UHJvY2VzcygpLlNlc3Npb25JZCAtZXEgMCkKCQkJewoJCQkJI0Nhbm5vdCB1c2UgQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlblcgd2hlbiBpbiBTZXNzaW9uMCBiZWNhdXNlIENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XIHRocm93cyBhbiBBQ0NFU1NfREVOSUVEIGVycm9yLiBJIGJlbGlldmUgaXQgaXMgYmVjYXVzZQoJCQkJI3RoaXMgQVBJIGF0dGVtcHRzIHRvIG1vZGlmeSB0aGUgZGVza3RvcCBBQ0wuIEkgd291bGQganVzdCB1c2UgdGhpcyBBUEkgYWxsIHRoZSB0aW1lLCBidXQgaXQgcmVxdWlyZXMgdGhhdCBJIGVuYWJsZSBTZUFzc2lnblByaW1hcnlUb2tlblByaXZpbGVnZQoJCQkJI3doaWNoIGlzIG5vdCBpZGVhbC4gCgkJCQlXcml0ZS1WZXJib3NlICJSdW5uaW5nIGluIFNlc3Npb24gMC4gRW5hYmxpbmcgU2VBc3NpZ25QcmltYXJ5VG9rZW5Qcml2aWxlZ2UgYW5kIGNhbGxpbmcgQ3JlYXRlUHJvY2Vzc0FzVXNlclcgdG8gY3JlYXRlIGEgcHJvY2VzcyB3aXRoIGFsdGVybmF0ZSB0b2tlbi4iCgkJCQlFbmFibGUtUHJpdmlsZWdlIC1Qcml2aWxlZ2UgU2VBc3NpZ25QcmltYXJ5VG9rZW5Qcml2aWxlZ2UKCQkJCSRTdWNjZXNzID0gJENyZWF0ZVByb2Nlc3NBc1VzZXJXLkludm9rZSgkTmV3SFRva2VuLCAkUHJvY2Vzc05hbWVQdHIsICRQcm9jZXNzQXJnc1B0ciwgW0ludFB0cl06Olplcm8sIFtJbnRQdHJdOjpaZXJvLCAkZmFsc2UsIDAsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybywgJFN0YXJ0dXBJbmZvUHRyLCAkUHJvY2Vzc0luZm9QdHIpCgkJCQkkRnVuY3Rpb25OYW1lID0gIkNyZWF0ZVByb2Nlc3NBc1VzZXJXIgoJCQl9CgkJCWVsc2UKCQkJewoJCQkJV3JpdGUtVmVyYm9zZSAiTm90IHJ1bm5pbmcgaW4gU2Vzc2lvbiAwLCBjYWxsaW5nIENyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XIHRvIGNyZWF0ZSBhIHByb2Nlc3Mgd2l0aCBhbHRlcm5hdGUgdG9rZW4uIgoJCQkJJFN1Y2Nlc3MgPSAkQ3JlYXRlUHJvY2Vzc1dpdGhUb2tlblcuSW52b2tlKCROZXdIVG9rZW4sIDB4MCwgJFByb2Nlc3NOYW1lUHRyLCAkUHJvY2Vzc0FyZ3NQdHIsIDAsIFtJbnRQdHJdOjpaZXJvLCBbSW50UHRyXTo6WmVybywgJFN0YXJ0dXBJbmZvUHRyLCAkUHJvY2Vzc0luZm9QdHIpCgkJCQkkRnVuY3Rpb25OYW1lID0gIkNyZWF0ZVByb2Nlc3NXaXRoVG9rZW5XIgoJCQl9CgkJCWlmICgkU3VjY2VzcykKCQkJewoJCQkJI0ZyZWUgdGhlIGhhbmRsZXMgcmV0dXJuZWQgaW4gdGhlIFByb2Nlc3NJbmZvIHN0cnVjdHVyZQoJCQkJJFByb2Nlc3NJbmZvID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUoJFByb2Nlc3NJbmZvUHRyLCBbVHlwZV0kUFJPQ0VTU19JTkZPUk1BVElPTikKCQkJCSRDbG9zZUhhbmRsZS5JbnZva2UoJFByb2Nlc3NJbmZvLmhQcm9jZXNzKSB8IE91dC1OdWxsCgkJCQkkQ2xvc2VIYW5kbGUuSW52b2tlKCRQcm9jZXNzSW5mby5oVGhyZWFkKSB8IE91dC1OdWxsCgoJCQkJI1Bhc3MgY3JlYXRlZCBTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2VzcyBvYmplY3QgdG8gcGlwZWxpbmUKCQkJCWlmICgkUGFzc1RocnUpIHsKCQkJCQkjUmV0cmlldmluZyBjcmVhdGVkIFN5c3RlbS5EaWFnbm9zdGljcy5Qcm9jZXNzIG9iamVjdAoJCQkJCSRyZXR1cm5Qcm9jZXNzID0gR2V0LVByb2Nlc3MgLUlkICRQcm9jZXNzSW5mby5kd1Byb2Nlc3NJZAoKCQkJCQkjQ2FjaGluZyBwcm9jZXNzIGhhbmRsZSBzbyB3ZSBkb24ndCBsb3NlIGl0IHdoZW4gdGhlIHByb2Nlc3MgZXhpdHMKCQkJCQkkbnVsbCA9ICRyZXR1cm5Qcm9jZXNzLkhhbmRsZQoKCQkJCQkjUGFzc2luZyBTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2VzcyBvYmplY3QgdG8gcGlwZWxpbmUKCQkJCQkkcmV0dXJuUHJvY2VzcwoJCQkJfQoJCQl9CgkJCWVsc2UKCQkJewoJCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJCVdyaXRlLVdhcm5pbmcgIiRGdW5jdGlvbk5hbWUgZmFpbGVkLiBFcnJvciBjb2RlOiAkRXJyb3JDb2RlIgoJCQl9CgoJCQkjRnJlZSBTdGFydHVwSW5mbyBtZW1vcnkgYW5kIFByb2Nlc3NJbmZvIG1lbW9yeQoJCQlbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpGcmVlSEdsb2JhbCgkU3RhcnR1cEluZm9QdHIpCgkJCSRTdGFydHVwSW5mb1B0ciA9IFtJbnRwdHJdOjpaZXJvCgkJCVtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZyZWVIR2xvYmFsKCRQcm9jZXNzSW5mb1B0cikKCQkJJFByb2Nlc3NJbmZvUHRyID0gW0ludFB0cl06Olplcm8KCQkJW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6WmVyb0ZyZWVHbG9iYWxBbGxvY1VuaWNvZGUoJFByb2Nlc3NOYW1lUHRyKQoJCQkkUHJvY2Vzc05hbWVQdHIgPSBbSW50UHRyXTo6WmVybwoKCQkJI0Nsb3NlIGhhbmRsZSBmb3IgdGhlIHRva2VuIGR1cGxpY2F0ZWQgd2l0aCBEdXBsaWNhdGVUb2tlbkV4CgkJCSRTdWNjZXNzID0gJENsb3NlSGFuZGxlLkludm9rZSgkTmV3SFRva2VuKQoJCQkkTmV3SFRva2VuID0gW0ludFB0cl06Olplcm8KCQkJaWYgKC1ub3QgJFN1Y2Nlc3MpCgkJCXsKCQkJCSRFcnJvckNvZGUgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgkJCQlXcml0ZS1XYXJuaW5nICJDbG9zZUhhbmRsZSBmYWlsZWQgdG8gY2xvc2UgTmV3SFRva2VuLiBFcnJvckNvZGU6ICRFcnJvckNvZGUiCgkJCX0KCQl9Cgl9CgoKCWZ1bmN0aW9uIEZyZWUtQWxsVG9rZW5zCgl7CgkJUGFyYW0oCgkJCVtQYXJhbWV0ZXIoUG9zaXRpb249MCwgTWFuZGF0b3J5PSR0cnVlKV0KCQkJW1BTT2JqZWN0W11dCgkJCSRUb2tlbkluZm9PYmpzCgkJKQoKCQlmb3JlYWNoICgkT2JqIGluICRUb2tlbkluZm9PYmpzKQoJCXsKCQkJJFN1Y2Nlc3MgPSAkQ2xvc2VIYW5kbGUuSW52b2tlKCRPYmouaFRva2VuKQoJCQlpZiAoLW5vdCAkU3VjY2VzcykKCQkJewoJCQkJJEVycm9yQ29kZSA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCQkJCVdyaXRlLVZlcmJvc2UgIkZhaWxlZCB0byBjbG9zZSB0b2tlbiBoYW5kbGUgaW4gRnJlZS1BbGxUb2tlbnMuIEVycm9yQ29kZTogJEVycm9yQ29kZSIKCQkJfQoJCQkkT2JqLmhUb2tlbiA9IFtJbnRQdHJdOjpaZXJvCgkJfQoJfQoKCgkjRW51bWVyYXRlIGFsbCB0b2tlbnMgb24gdGhlIHN5c3RlbS4gUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIHRva2VuIGFuZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdG9rZW4uCglmdW5jdGlvbiBFbnVtLUFsbFRva2VucwoJewoJCSRBbGxUb2tlbnMgPSBAKCkKCgkJI0ZpcnN0IEdldFN5c3RlbS4gVGhlIHNjcmlwdCBjYW5ub3QgZW51bWVyYXRlIGFsbCB0b2tlbnMgdW5sZXNzIGl0IGlzIHN5c3RlbSBmb3Igc29tZSByZWFzb24uIEx1Y2tpbHkgaXQgY2FuIGltcGVyc29uYXRlIGEgc3lzdGVtIHRva2VuLgoJCSNFdmVuIGlmIGFscmVhZHkgcnVubmluZyBhcyBzeXN0ZW0sIGxhdGVyIHBhcnRzIG9uIHRoZSBzY3JpcHQgZGVwZW5kIG9uIGhhdmluZyBhIFNZU1RFTSB0b2tlbiB3aXRoIG1vc3QgcHJpdmlsZWdlcywgc28gaW1wZXJzb25hdGUgdGhlIHdpbmluaXQgdG9rZW4uCgkJJHN5c3RlbVRva2VuSW5mbyA9IEdldC1QcmltYXJ5VG9rZW4gLVByb2Nlc3NJZCAoR2V0LVByb2Nlc3Mgd2luaW5pdCB8IHdoZXJlIHskXy5TZXNzaW9uSWQgLWVxIDB9KS5JZAoJCWlmICgkc3lzdGVtVG9rZW5JbmZvIC1lcSAkbnVsbCAtb3IgKC1ub3QgKEludm9rZS1JbXBlcnNvbmF0ZVVzZXIgLWhUb2tlbiAkc3lzdGVtVG9rZW5JbmZvLmhQcm9jVG9rZW4pKSkKCQl7CgkJCVdyaXRlLVdhcm5pbmcgIlVuYWJsZSB0byBpbXBlcnNvbmF0ZSBTWVNURU0sIHRoZSBzY3JpcHQgd2lsbCBub3QgYmUgYWJsZSB0byBlbnVtZXJhdGUgYWxsIHRva2VucyIKCQl9CgoJCWlmICgkc3lzdGVtVG9rZW5JbmZvIC1uZSAkbnVsbCAtYW5kICRzeXN0ZW1Ub2tlbkluZm8uaFByb2NUb2tlbiAtbmUgW0ludFB0cl06Olplcm8pCgkJewoJCQkkQ2xvc2VIYW5kbGUuSW52b2tlKCRzeXN0ZW1Ub2tlbkluZm8uaFByb2NUb2tlbikgfCBPdXQtTnVsbAoJCQkkc3lzdGVtVG9rZW5JbmZvID0gJG51bGwKCQl9CgoJCSRQcm9jZXNzSWRzID0gZ2V0LXByb2Nlc3MgfCB3aGVyZSB7JF8ubmFtZSAtaW5vdG1hdGNoICJeY3Nyc3MkIiAtYW5kICRfLm5hbWUgLWlub3RtYXRjaCAiXnN5c3RlbSQiIC1hbmQgJF8uaWQgLW5lIDB9CgoJCSNHZXQgYWxsIHRva2VucwoJCWZvcmVhY2ggKCRQcm9jZXNzIGluICRQcm9jZXNzSWRzKQoJCXsKCQkJJFByaW1hcnlUb2tlbkluZm8gPSAoR2V0LVByaW1hcnlUb2tlbiAtUHJvY2Vzc0lkICRQcm9jZXNzLklkIC1GdWxsUHJpdnMpCgoJCQkjSWYgYSBwcm9jZXNzIGlzIGEgcHJvdGVjdGVkIHByb2Nlc3MsIGl0J3MgcHJpbWFyeSB0b2tlbiBjYW5ub3QgYmUgb2J0YWluZWQuIERvbid0IHRyeSB0byBlbnVtZXJhdGUgaXQuCgkJCWlmICgkUHJpbWFyeVRva2VuSW5mbyAtbmUgJG51bGwpCgkJCXsKCQkJCVtJbnRQdHJdJGhUb2tlbiA9IFtJbnRQdHJdJFByaW1hcnlUb2tlbkluZm8uaFByb2NUb2tlbgoKCQkJCWlmICgkaFRva2VuIC1uZSBbSW50UHRyXTo6WmVybykKCQkJCXsKCQkJCQkjR2V0IHRoZSBMVUlEIGNvcnJvc3BvbmRpbmcgdG8gdGhlIGxvZ29uCgkJCQkJJFJldHVybk9iaiA9IEdldC1Ub2tlbkluZm9ybWF0aW9uIC1oVG9rZW4gJGhUb2tlbgoJCQkJCWlmICgkUmV0dXJuT2JqIC1uZSAkbnVsbCkKCQkJCQl7CgkJCQkJCSRSZXR1cm5PYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQcm9jZXNzSWQgLVZhbHVlICRQcm9jZXNzLklkCgoJCQkJCQkkQWxsVG9rZW5zICs9ICRSZXR1cm5PYmoKCQkJCQl9CgkJCQl9CgkJCQllbHNlCgkJCQl7CgkJCQkJV3JpdGUtV2FybmluZyAiQ291bGRuJ3QgcmV0cmlldmUgdG9rZW4gZm9yIFByb2Nlc3M6ICQoJFByb2Nlc3MuTmFtZSkuIFByb2Nlc3NJZDogJCgkUHJvY2Vzcy5JZCkiCgkJCQl9CgoJCQkJZm9yZWFjaCAoJFRocmVhZCBpbiAkUHJvY2Vzcy5UaHJlYWRzKQoJCQkJewoJCQkJCSRUaHJlYWRUb2tlbkluZm8gPSBHZXQtVGhyZWFkVG9rZW4gLVRocmVhZElkICRUaHJlYWQuSWQKCQkJCQlbSW50UHRyXSRoVG9rZW4gPSAoJFRocmVhZFRva2VuSW5mby5oVGhyZWFkVG9rZW4pCgoJCQkJCWlmICgkaFRva2VuIC1uZSBbSW50UHRyXTo6WmVybykKCQkJCQl7CgkJCQkJCSRSZXR1cm5PYmogPSBHZXQtVG9rZW5JbmZvcm1hdGlvbiAtaFRva2VuICRoVG9rZW4KCQkJCQkJaWYgKCRSZXR1cm5PYmogLW5lICRudWxsKQoJCQkJCQl7CgkJCQkJCQkkUmV0dXJuT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVGhyZWFkSWQgLVZhbHVlICRUaHJlYWQuSWQKCQkJCQkKCQkJCQkJCSRBbGxUb2tlbnMgKz0gJFJldHVybk9iagoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gJEFsbFRva2VucwoJfQoKCglmdW5jdGlvbiBJbnZva2UtUmV2ZXJ0VG9TZWxmCgl7CgkJUGFyYW0oCgkJCVtQYXJhbWV0ZXIoUG9zaXRpb249MCldCgkJCVtTd2l0Y2hdCgkJCSRTaG93T3V0cHV0CgkJKQoKCQkkU3VjY2VzcyA9ICRSZXZlcnRUb1NlbGYuSW52b2tlKCkKCgkJaWYgKCRTaG93T3V0cHV0KQoJCXsKCQkJaWYgKCRTdWNjZXNzKQoJCQl7CgkJCQlXcml0ZS1PdXRwdXQgIlJldmVydFRvU2VsZiB3YXMgc3VjY2Vzc2Z1bC4gUnVubmluZyBhczogJChbRW52aXJvbm1lbnRdOjpVc2VyRG9tYWluTmFtZSlcJChbRW52aXJvbm1lbnRdOjpVc2VyTmFtZSkiCgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlXcml0ZS1PdXRwdXQgIlJldmVydFRvU2VsZiBmYWlsZWQuIFJ1bm5pbmcgYXM6ICQoW0Vudmlyb25tZW50XTo6VXNlckRvbWFpbk5hbWUpXCQoW0Vudmlyb25tZW50XTo6VXNlck5hbWUpIgoJCQl9CgkJfQoJfQoKCgkjTWFpbiBmdW5jdGlvbgoJZnVuY3Rpb24gTWFpbgoJewoJCWlmICgtbm90IChbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NQcmluY2lwYWxdIFtTZWN1cml0eS5QcmluY2lwYWwuV2luZG93c0lkZW50aXR5XTo6R2V0Q3VycmVudCgpKS5Jc0luUm9sZShbU2VjdXJpdHkuUHJpbmNpcGFsLldpbmRvd3NCdWlsdEluUm9sZV0gIkFkbWluaXN0cmF0b3IiKSkKCQl7CgkJCVdyaXRlLUVycm9yICJTY3JpcHQgbXVzdCBiZSBydW4gYXMgYWRtaW5pc3RyYXRvciIgLUVycm9yQWN0aW9uIFN0b3AKCQl9CgoJCSNJZiBydW5uaW5nIGluIHNlc3Npb24gMCwgZm9yY2UgTm9VSQoJCWlmIChbU3lzdGVtLkRpYWdub3N0aWNzLlByb2Nlc3NdOjpHZXRDdXJyZW50UHJvY2VzcygpLlNlc3Npb25JZCAtZXEgMCkKCQl7CgkJCVdyaXRlLVZlcmJvc2UgIlJ1bm5pbmcgaW4gU2Vzc2lvbiAwLCBmb3JjaW5nIE5vVUkgKHByb2Nlc3NlcyBpbiBTZXNzaW9uIDAgY2Fubm90IGhhdmUgYSBVSSkiCgkJCSROb1VJID0gJHRydWUKCQl9CgoJCWlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJSZXZUb1NlbGYiKQoJCXsKCQkJSW52b2tlLVJldmVydFRvU2VsZiAtU2hvd091dHB1dAoJCX0KCQllbHNlaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1pZXEgIkNyZWF0ZVByb2Nlc3MiIC1vciAkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJJbXBlcnNvbmF0ZVVzZXIiKQoJCXsKCQkJJEFsbFRva2VucyA9IEVudW0tQWxsVG9rZW5zCgkJCQoJCQkjU2VsZWN0IHRoZSB0b2tlbiB0byB1c2UKCQkJW0ludFB0cl0kaFRva2VuID0gW0ludFB0cl06Olplcm8KCQkJJFVuaXF1ZVRva2VucyA9IChHZXQtVW5pcXVlVG9rZW5zIC1BbGxUb2tlbnMgJEFsbFRva2VucykuVG9rZW5CeVVzZXIKCQkJaWYgKCRVc2VybmFtZSAtbmUgJG51bGwgLWFuZCAkVXNlcm5hbWUgLW5lICcnKQoJCQl7CgkJCQlpZiAoJFVuaXF1ZVRva2Vucy5Db250YWluc0tleSgkVXNlcm5hbWUpKQoJCQkJewoJCQkJCSRoVG9rZW4gPSAkVW5pcXVlVG9rZW5zWyRVc2VybmFtZV0uaFRva2VuCgkJCQkJV3JpdGUtVmVyYm9zZSAiU2VsZWN0aW5nIHRva2VuIGJ5IHVzZXJuYW1lIgoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCVdyaXRlLUVycm9yICJBIHRva2VuIGJlbG9uZ2luZyB0byB0aGUgc3BlY2lmaWVkIHVzZXJuYW1lIHdhcyBub3QgZm91bmQuIFVzZXJuYW1lOiAkKCRVc2VybmFtZSkiIC1FcnJvckFjdGlvbiBTdG9wCgkJCQl9CgkJCX0KCQkJZWxzZWlmICggJFByb2Nlc3NJZCAtbmUgJG51bGwgLWFuZCAkUHJvY2Vzc0lkIC1uZSAwKQoJCQl7CgkJCQlmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKCQkJCXsKCQkJCQlpZiAoKCRUb2tlbiB8IEdldC1NZW1iZXIgUHJvY2Vzc0lkKSAtYW5kICRUb2tlbi5Qcm9jZXNzSWQgLWVxICRQcm9jZXNzSWQpCgkJCQkJewoJCQkJCQkkaFRva2VuID0gJFRva2VuLmhUb2tlbgoJCQkJCQlXcml0ZS1WZXJib3NlICJTZWxlY3RpbmcgdG9rZW4gYnkgUHJvY2Vzc0lEIgoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoJGhUb2tlbiAtZXEgW0ludFB0cl06Olplcm8pCgkJCQl7CgkJCQkJV3JpdGUtRXJyb3IgIkEgdG9rZW4gYmVsb25naW5nIHRvIFByb2Nlc3NJZCAkKCRQcm9jZXNzSWQpIGNvdWxkIG5vdCBiZSBmb3VuZC4gRWl0aGVyIHRoZSBwcm9jZXNzIGRvZXNuJ3QgZXhpc3Qgb3IgaXQgaXMgYSBwcm90ZWN0ZWQgcHJvY2VzcyBhbmQgY2Fubm90IGJlIG9wZW5lZC4iIC1FcnJvckFjdGlvbiBTdG9wCgkJCQl9CgkJCX0KCQkJZWxzZWlmICgkVGhyZWFkSWQgLW5lICRudWxsIC1hbmQgJFRocmVhZElkIC1uZSAwKQoJCQl7CgkJCQlmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKCQkJCXsKCQkJCQlpZiAoKCRUb2tlbiB8IEdldC1NZW1iZXIgVGhyZWFkSWQpIC1hbmQgJFRva2VuLlRocmVhZElkIC1lcSAkVGhyZWFkSWQpCgkJCQkJewoJCQkJCQkkaFRva2VuID0gJFRva2VuLmhUb2tlbgoJCQkJCQlXcml0ZS1WZXJib3NlICJTZWxlY3RpbmcgdG9rZW4gYnkgVGhyZWFkSWQiCgkJCQkJfQoJCQkJfQoKCQkJCWlmICgkaFRva2VuIC1lcSBbSW50UHRyXTo6WmVybykKCQkJCXsKCQkJCQlXcml0ZS1FcnJvciAiQSB0b2tlbiBiZWxvbmdpbmcgdG8gVGhyZWFkSWQgJCgkVGhyZWFkSWQpIGNvdWxkIG5vdCBiZSBmb3VuZC4gRWl0aGVyIHRoZSB0aHJlYWQgZG9lc24ndCBleGlzdCBvciB0aGUgdGhyZWFkIGlzIGluIGEgcHJvdGVjdGVkIHByb2Nlc3MgYW5kIGNhbm5vdCBiZSBvcGVuZWQuIiAtRXJyb3JBY3Rpb24gU3RvcAoJCQkJfQoJCQl9CgkJCWVsc2VpZiAoJFByb2Nlc3MgLW5lICRudWxsKQoJCQl7CgkJCQlmb3JlYWNoICgkVG9rZW4gaW4gJEFsbFRva2VucykKCQkJCXsKCQkJCQlpZiAoKCRUb2tlbiB8IEdldC1NZW1iZXIgUHJvY2Vzc0lkKSAtYW5kICRUb2tlbi5Qcm9jZXNzSWQgLWVxICRQcm9jZXNzLklkKQoJCQkJCXsKCQkJCQkJJGhUb2tlbiA9ICRUb2tlbi5oVG9rZW4KCQkJCQkJV3JpdGUtVmVyYm9zZSAiU2VsZWN0aW5nIHRva2VuIGJ5IFByb2Nlc3Mgb2JqZWN0IgoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoJGhUb2tlbiAtZXEgW0ludFB0cl06Olplcm8pCgkJCQl7CgkJCQkJV3JpdGUtRXJyb3IgIkEgdG9rZW4gYmVsb25naW5nIHRvIFByb2Nlc3MgJCgkUHJvY2Vzcy5OYW1lKSBQcm9jZXNzSWQgJCgkUHJvY2Vzcy5JZCkgY291bGQgbm90IGJlIGZvdW5kLiBFaXRoZXIgdGhlIHByb2Nlc3MgZG9lc24ndCBleGlzdCBvciBpdCBpcyBhIHByb3RlY3RlZCBwcm9jZXNzIGFuZCBjYW5ub3QgYmUgb3BlbmVkLiIgLUVycm9yQWN0aW9uIFN0b3AKCQkJCX0KCQkJfQoJCQllbHNlCgkJCXsKCQkJCVdyaXRlLUVycm9yICJNdXN0IHN1cHBseSBhIFVzZXJuYW1lLCBQcm9jZXNzSWQsIFRocmVhZElkLCBvciBQcm9jZXNzIG9iamVjdCIgIC1FcnJvckFjdGlvbiBTdG9wCgkJCX0KCgkJCSNVc2UgdGhlIHRva2VuIGZvciB0aGUgc2VsZWN0ZWQgYWN0aW9uCgkJCWlmICgkUHNDbWRsZXQuUGFyYW1ldGVyU2V0TmFtZSAtaWVxICJDcmVhdGVQcm9jZXNzIikKCQkJewoJCQkJaWYgKC1ub3QgJE5vVUkpCgkJCQl7CgkJCQkJU2V0LURlc2t0b3BBQ0xzCgkJCQl9CgoJCQkJQ3JlYXRlLVByb2Nlc3NXaXRoVG9rZW4gLWhUb2tlbiAkaFRva2VuIC1Qcm9jZXNzTmFtZSAkQ3JlYXRlUHJvY2VzcyAtUHJvY2Vzc0FyZ3MgJFByb2Nlc3NBcmdzIC1QYXNzVGhydTokUGFzc1RocnUKCgkJCQlJbnZva2UtUmV2ZXJ0VG9TZWxmCgkJCX0KCQkJZWxzZWlmICgkSW1wZXJzb25hdGVVc2VyKQoJCQl7CgkJCQlJbnZva2UtSW1wZXJzb25hdGVVc2VyIC1oVG9rZW4gJGhUb2tlbiB8IE91dC1OdWxsCgkJCQlXcml0ZS1PdXRwdXQgIlJ1bm5pbmcgQXM6ICQoW0Vudmlyb25tZW50XTo6VXNlckRvbWFpbk5hbWUpXCQoW0Vudmlyb25tZW50XTo6VXNlck5hbWUpIgoJCQl9CgoJCQlGcmVlLUFsbFRva2VucyAtVG9rZW5JbmZvT2JqcyAkQWxsVG9rZW5zCgkJfQoJCWVsc2VpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWllcSAiV2hvQW1JIikKCQl7CgkJCVdyaXRlLU91dHB1dCAiJChbRW52aXJvbm1lbnRdOjpVc2VyRG9tYWluTmFtZSlcJChbRW52aXJvbm1lbnRdOjpVc2VyTmFtZSkiCgkJfQoJCWVsc2UgI0VudW1lcmF0ZSB0b2tlbnMKCQl7CgkJCSRBbGxUb2tlbnMgPSBFbnVtLUFsbFRva2VucwoKCQkJaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1pZXEgIlNob3dBbGwiKQoJCQl7CgkJCQlXcml0ZS1PdXRwdXQgJEFsbFRva2VucwoJCQl9CgkJCWVsc2UKCQkJewoJCQkJV3JpdGUtT3V0cHV0IChHZXQtVW5pcXVlVG9rZW5zIC1BbGxUb2tlbnMgJEFsbFRva2VucykuVG9rZW5CeVVzZXIuVmFsdWVzCgkJCX0KCgkJCUludm9rZS1SZXZlcnRUb1NlbGYKCgkJCUZyZWUtQWxsVG9rZW5zIC1Ub2tlbkluZm9PYmpzICRBbGxUb2tlbnMKCQl9Cgl9CgoKCSNTdGFydCB0aGUgbWFpbiBmdW5jdGlvbgoJTWFpbgp9
